

// ==========================================
// PERMANENT DATA STORAGE
// Paste the JSON batches I generate inside these brackets!
// ==========================================
const SEED_DATA = [
  {
    "id": 1001,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "String Immutability & Loops",
    "content": "A junior dev writes this loop to build a CSV string from 10,000 items:\n\n```csharp\nstring csv = \"\";\nforeach(var item in items) {\n  csv += item + \",\";\n}\n```\n\nIs this acceptable code?",
    "explanation": "Strings are immutable in .NET. This loop creates 10,000 distinct string objects on the Heap, most of which are immediately discarded. This puts 'Gen 0' memory pressure on the Garbage Collector, forcing frequent collections. **Solution:** Use `StringBuilder`, which uses a mutable buffer to construct the string efficiently."
  },
  {
    "id": 1002,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Struct vs Class Choice",
    "content": "You are building a high-frequency trading app. You need a `TradeTick` type (price, quantity, timestamp). You expect millions of these per second.\n\nShould `TradeTick` be a `class`?",
    "explanation": "**(Use Struct).** Small, immutable data carriers should be `structs` in high-perf scenarios. Arrays of structs (`TradeTick[]`) are allocated as a single contiguous block of memory, whereas arrays of classes are an array of *references*, causing cache misses and GC overhead."
  },
  {
    "id": 1003,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Boxing Hidden Costs",
    "content": "Review this method signature:\n\n`public void LogData(object data) { ... }`\n\nAnd the call:\n`LogData(42);`\n`LogData(true);`\n\nIs this performant?",
    "explanation": "Passing value types (`int`, `bool`) to a method expecting `object` causes **Boxing**. The runtime allocates a heap object to wrap the value. Use Generics `LogData<T>(T data)` to avoid this."
  },
  {
    "id": 1004,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Generational GC",
    "content": "If an object survives a Garbage Collection sweep in Generation 0, where does it go?",
    "explanation": "It is promoted to **Generation 1**. The .NET GC uses a heuristic: \"objects that survive are likely to live longer\". If it survives a Gen 1 collection, it moves to Gen 2 (Long Lived). Gen 0 collections are extremely fast (sub-1ms) and frequent; Gen 2 collections are expensive and can pause the application."
  },
  {
    "id": 1005,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Large Object Heap (LOH)",
    "content": "You allocate a `byte[90000]`. Does this start in Generation 0?",
    "explanation": "No. Objects larger than 85,000 bytes (Large Object Threshold) go directly to the **Large Object Heap (LOH)**. The LOH is rarely compacted (unless requested), which means frequent large allocations can lead to **Memory Fragmentation** and `OutOfMemoryExceptions` even if plenty of free bytes exist."
  },
  {
    "id": 1006,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Finalizers (Destructors)",
    "content": "You are reviewing code that has a `~MyClass()` finalizer but doesn't wrap any unmanaged resources (like OS handles).\n\nIs this good practice?",
    "explanation": "No, this is bad practice. Finalizers (`~ClassName`) add significant overhead. They cause the object to survive an extra GC generation (Double Collection) because it must be added to the **Finalization Queue** to run the destructor. Only use them if you *directly* hold unmanaged memory (like raw C++ pointers/handles)."
  },
  {
    "id": 1007,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Using Statement & Null",
    "content": "Does the `using` statement handle null objects safely?\n\n```csharp\nStream s = null;\nusing(s) { ... }\n```",
    "explanation": "Yes. The `using` statement expands to a try/finally block that checks `if (s != null) s.Dispose();`. It is safe."
  },
  {
    "id": 1008,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Ref Locals (C# 7+)",
    "content": "You want to avoid copying a large struct out of an array.\n\n```csharp\nref BigStruct item = ref myArray[0];\nitem.Value = 100;\n```\n\nDoes this modify the array directly?",
    "explanation": "Yes. `ref` creates a pointer to the actual memory slot in the array. Modifying `item` modifies `myArray[0]` without copying the struct."
  },
  {
    "id": 1009,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Span<T> Slicing",
    "content": "You need to process a substring of a huge string without allocating new memory.\n\n```csharp\nReadOnlySpan<char> slice = myHugeString.AsSpan().Slice(10, 50);\n```\n\nDoes this create a new String object?",
    "explanation": "`Span<T>` provides a window into existing memory. No new heap allocation occurs. This is the secret behind high-performance .NET Core."
  },
  {
    "id": 1010,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Stackalloc",
    "content": "You need a small temporary buffer for a tight loop calculation.\n\n```csharp\nSpan<int> numbers = stackalloc int[100];\n```\n\nIs this safe from Garbage Collection?",
    "explanation": "`stackalloc` allocates memory on the **Stack**, not the Heap. It is popped off immediately when the method returns. Zero GC pressure."
  },
  {
    "id": 1011,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Closures & Captured Variables",
    "content": "What prints here?\n\n```csharp\nvar actions = new List<Action>();\nfor(int i=0; i<3; i++) actions.Add(() => Console.Write(i));\nforeach(var a in actions) a();\n```",
    "explanation": "**(Bug).** It prints `333`. The closure captures the *variable* `i`, not the value at that moment. By the time the actions run, `i` has incremented to 3. Fix: `int temp = i;` inside the loop."
  },
  {
    "id": 1012,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "WeakReference",
    "content": "You are building a cache for large images. You don't want the cache to prevent the GC from reclaiming memory if RAM is low.\n\nShould you use `List<Image>`?",
    "explanation": "Use `WeakReference` or `Gen2GcCallback`. A standard list holds a 'Strong Reference', forcing the GC to keep the objects alive. `WeakReference` allows the GC to collect the object if no one else is using it."
  },
  {
    "id": 1013,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Static Constructor Timing",
    "content": "When does a static constructor `static MyClass() { ... }` run?",
    "explanation": "It runs at most once, immediately before the first instance is created OR the first static member is referenced. The runtime guarantees this is thread-safe."
  },
  {
    "id": 1014,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Virtual in Constructor",
    "content": "Is it safe to call a `virtual` method inside a constructor?\n\n```csharp\npublic Base() { DoStuff(); } // DoStuff is virtual\n```",
    "explanation": "Dangerous. If a derived class overrides `DoStuff`, the override will run *before* the derived class's constructor has run. The derived class state might be uninitialized."
  },
  {
    "id": 1015,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Async Void",
    "content": "You see this event handler:\n\n```csharp\npublic async void OnClick(object s, EventArgs e) { ... }\n```\n\nIs `async void` acceptable here?",
    "explanation": "**Only** for Top-Level Event Handlers. `async void` methods have no `Task` object to report errors to, so any exception thrown will crash the entire process (AppDomain). ALWAYS use `async Task` for methods so exceptions can be caught and awaited."
  },
  {
    "id": 1016,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "IEnumerable vs IQueryable",
    "content": "You are querying a database. \n\n`IEnumerable<User> users = context.Users.Where(u => u.Id > 100);`\n\nIs this optimized?",
    "explanation": "Assigning EF Core sets to `IEnumerable` loads *all* users into memory first, then filters them in C# (Client Evaluation). Use `IQueryable` to ensure the `WHERE` clause is translated to SQL and executed on the DB."
  },
  {
    "id": 1017,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "String Interning",
    "content": "Does `string a = \"hello\";` and `string b = \"hello\";` point to the same memory address?",
    "explanation": "Yes. String literals are \"Interned\" by the CLR. They share the same memory address to save space. However, runtime-generated strings (`\"he\" + \"llo\"`) are not interned by default."
  },
  {
    "id": 1018,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Checked Context",
    "content": "What happens if an `int` overflows in a standard C# block?",
    "explanation": "By default, C# runs in `unchecked` context. It wraps around (integer overflow) silently. If you need it to throw an exception, you must wrap the code in a `checked { ... }` block or change compiler settings."
  },
  {
    "id": 1019,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Volatile Keyword",
    "content": "A developer adds `volatile` to a boolean flag used to stop a thread. Is this correct?",
    "explanation": "`volatile` ensures that the CPU does not cache the value in a register. Every read/write goes to main memory, ensuring other threads see the update immediately."
  },
  {
    "id": 1020,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Throw vs Throw ex",
    "content": "Difference between `throw;` and `throw ex;` in a catch block?",
    "explanation": "`throw ex;` resets the Stack Trace to the current line, losing the original error location. Always use `throw;` to preserve the original stack trace."
  },
  {
    "id": 1021,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Const vs Readonly",
    "content": "You changed a `public const int Version = 1;` in a library to `2`, recompiled the library, but didn't recompile the client app. What value does the client see?",
    "explanation": "**(Trap).** The client sees `1`. `const` values are baked into the call-site at *compile time*. Use `static readonly` if you want the value to be resolved at *runtime* (allowing DLL updates without client recompilation)."
  },
  {
    "id": 1022,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Record Types (C# 9+)",
    "content": "You are replacing a DTO class with a `record`. \n\n`public record UserDto(string Name, int Age);`\n\nHow does this affect equality checks?",
    "explanation": "Records use **Value Equality** by default. Two different record instances with the same data are considered equal (`a == b` is true). Classes use Reference Equality by default."
  },
  {
    "id": 1023,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "ValueTask",
    "content": "When should you return `ValueTask<T>` instead of `Task<T>`?",
    "explanation": "Use `ValueTask` when the result is often available synchronously (e.g., cached). It avoids allocating a `Task` object on the heap for the hot path. If the method always runs asynchronously, standard `Task` is better."
  },
  {
    "id": 1024,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Extension Method Null Check",
    "content": "Can you call an extension method on a null object?\n`string s = null; s.IsNullOrEmpty();`",
    "explanation": "Yes. Extension methods are just static method calls syntactic sugar: `StringExtensions.IsNullOrEmpty(s)`. You can (and should) check for null inside the extension method."
  },
  {
    "id": 1025,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Deferred Execution",
    "content": "You run a LINQ query: `var q = list.Select(x => HeavyCalc(x));`\n\nHas `HeavyCalc` run yet?",
    "explanation": "No. LINQ uses **Deferred Execution**. The query definition (`Where`, `Select`) just builds a query plan. The code inside `HeavyCalc` only executes when you *materialize* the query (e.g., `foreach`, `.ToList()`, or `.Count()`). Trap: If you iterate `q` twice, `HeavyCalc` runs twice!"
  },
  {
    "id": 1026,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Heap Allocation in Lambdas",
    "content": "Does a lambda always allocate memory on the heap?\n`Func<int, int> f = x => x + 1;`",
    "explanation": "**(Nuance).** If the lambda captures variables (closure), yes, it allocates a display class. If it's static (no captures), the compiler often caches the delegate, so it only allocates once per app lifetime."
  },
  {
    "id": 1027,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Array vs List Performance",
    "content": "In a critical loop, is iterating an `int[]` faster than `List<int>`?",
    "explanation": "Yes. Arrays are slightly faster. The CLR eliminates bounds checking more aggressively for arrays, and there is no indirection (List is a class wrapper around an array)."
  },
  {
    "id": 1028,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Monitor.Enter vs lock",
    "content": "Is there a difference between `lock(obj) { }` and `Monitor.Enter`?",
    "explanation": "`lock` is syntactic sugar for `Monitor.Enter` with a `try/finally` block that ensures `Monitor.Exit` is called even if an exception occurs. Always use `lock` unless you need advanced Monitor features (like `TryEnter`)."
  },
  {
    "id": 1029,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Event Memory Leak",
    "content": "You subscribe to a static event: `SystemEvents.TimeChanged += OnTimeChanged;` in a short-lived class. You never unsubscribe.\n\nIs this a problem?",
    "explanation": "**(Memory Leak).** Yes! This is a classic \"Managed Memory Leak\". The static class (`SystemEvents`) acts as a GC Root and holds a reference to your `OnTimeChanged` delegate, which in turn holds a reference to your class instance. Your class will **never** be garbage collected. Always unsubscribe (`-=`) when done."
  },
  {
    "id": 1030,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Reflection Performance",
    "content": "You are using `GetType().GetProperty(\"Prop\").SetValue(...)` inside a loop of 10,000 items.",
    "explanation": "Reflection is slow (metadata lookup). Cache the `PropertyInfo` outside the loop, or better yet, use compiled Expression Trees or `dynamic` (call site caching) for better performance."
  },
  {
    "id": 1031,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Interface Explicit Implementation",
    "content": "You implemented `void IDisposable.Dispose() { ... }` explicitly. Can you call `myObj.Dispose()`?",
    "explanation": "No. Explicit implementations are only visible when the object is cast to the Interface. You must do `((IDisposable)myObj).Dispose()`."
  },
  {
    "id": 1032,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Tuples vs ValueTuple",
    "content": "Return type: `Tuple<int, int>` vs `(int, int)`.",
    "explanation": "**(Use ValueTuple).** `Tuple` (old) is a Class (Heap allocation). `(int, int)` uses `ValueTuple` (modern), which is a Struct (Stack allocation). Always prefer the modern syntax."
  },
  {
    "id": 1033,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Dictionary Lookup Cost",
    "content": "What is the time complexity of `Dictionary.ContainsKey`?",
    "explanation": "O(1) (Constant Time) on average. It uses the `GetHashCode` of the key to calculate an index for a specific memory \"bucket\". In the worst-case scenario (Hash Collisions, where many keys hash to the same bucket), it degrades to O(n) (Linear Time) as it walks a linked list."
  },
  {
    "id": 1034,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "GetHashCode Implementation",
    "content": "You implemented `Equals()` but not `GetHashCode()` for a dictionary key class. Does it work?",
    "explanation": "Disaster. The Dictionary uses `GetHashCode` to find the bucket. If you don't override it, it uses the memory address (default). Two identical objects will generate different hashes and your lookups will fail."
  },
  {
    "id": 1035,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Covariance (out)",
    "content": "Can you assign `IEnumerable<string>` to `IEnumerable<object>`?",
    "explanation": "Yes. Generic Interfaces can be covariant (`out T`). Since a string *is an* object, you can safely treat a list of strings as a list of objects for reading."
  },
  {
    "id": 1036,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Contravariance (in)",
    "content": "Can you assign `Action<object>` to `Action<string>`?",
    "explanation": "Yes. This is Contravariance (`in T`). If a method can handle *any* object, it can certainly handle a string."
  },
  {
    "id": 1037,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Yield Return",
    "content": "What does `yield return` actually do under the hood?",
    "explanation": "It generates a **State Machine** class. The method doesn't run all at once. It maintains a state variable and resumes execution from where it left off every time `MoveNext()` is called."
  },
  {
    "id": 1038,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "ThreadStatic Initializer",
    "content": "`[ThreadStatic] static int counter = 1;` \nWhat is the value of `counter` on a new thread?",
    "explanation": "**(Trap).** It is `0`. The initializer (`= 1`) is just syntactic sugar for a specific thread (usually the one initializing the class). Variables marked `[ThreadStatic]` are stored in Thread Local Storage (TLS). They are initialized to their default value (0 for int) on all *other* threads. Use `ThreadLocal<T>` class for proper per-thread initialization."
  },
  {
    "id": 1039,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Dynamic Keyword",
    "content": "`dynamic d = GetUnknownObject(); d.DoWork();`\nIs this type-safe?",
    "explanation": "No. `dynamic` bypasses compile-time checking. If `DoWork` doesn't exist, it throws a RuntimeBinderException. Use only when necessary (e.g., COM interop, JSON without classes)."
  },
  {
    "id": 1040,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "MemoryBarrier",
    "content": "Why would you use `Thread.MemoryBarrier()`?",
    "explanation": "**(Deep Cut).** To prevent **Instruction Reordering**. Modern CPUs and Compilers reorder instructions for speed. Without a barrier, Thread B might see a 'published' flag (`isDone = true`) *before* it sees the data that was supposed to be ready (`data = result`). `MemoryBarrier` enforces a strict order: all writes before the barrier commit before any writes after it."
  },
  {
    "id": 1041,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Reference to Loop Var",
    "content": "Can you pass a loop variable by `ref`?\n`foreach(var i in list) Process(ref i);`",
    "explanation": "No. The iteration variable in a `foreach` is immutable/read-only in the scope of the loop. You cannot pass it by ref or modify it."
  },
  {
    "id": 1042,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Sealed Classes",
    "content": "Does `sealed` offer performance benefits?",
    "explanation": "Yes. If a class is sealed, the JIT compiler knows it cannot be overridden. It can de-virtualize method calls (change virtual calls to direct calls), which is faster."
  },
  {
    "id": 1043,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Exception Filters",
    "content": "`catch (Exception ex) when (ex.Message.Contains(\"404\"))`\n\nIs this better than catching and re-throwing?",
    "explanation": "Yes. Filters allow the stack to remain unwound. If the condition is false, the runtime searches for the next handler *without* unwinding the stack, preserving debugging info."
  },
  {
    "id": 1044,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Unsafe Code",
    "content": "When can you use pointers (`int* ptr`) in C#?",
    "explanation": "Only inside an `unsafe` block or method. You usually need to `fixed` the variable to prevent the GC from moving the object while you are pointing to it."
  },
  {
    "id": 1045,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Attributes Cost",
    "content": "Do Attributes `[MyAttr]` slow down code execution?",
    "explanation": "No. Attributes are metadata stored in the assembly manifest. They have zero runtime cost *unless* you actively use Reflection to look them up."
  },
  {
    "id": 1046,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Multicast Delegate",
    "content": "You have a delegate chain. One of the methods throws an exception. Do the rest run?",
    "explanation": "**(Trap).** No. If a delegate in the chain throws, the iteration stops, and subsequent methods are NOT called. You must manually iterate `GetInvocationList()` if you want to handle failures individually."
  },
  {
    "id": 1047,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Object.ReferenceEquals",
    "content": "Why use `Object.ReferenceEquals(a, b)` instead of `a == b`?",
    "explanation": "`a == b` can be overloaded (operator overloading). `ReferenceEquals` explicitly checks if they share the exact same memory address (Identity), ignoring any custom logic."
  },
  {
    "id": 1048,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "BitArray",
    "content": "You need to store 10,000 booleans. Should you use `bool[]`?",
    "explanation": "A `bool` takes up 1 byte (8 bits) in C#. `BitArray` uses 1 bit per boolean. For massive arrays, `BitArray` is 8x more memory efficient."
  },
  {
    "id": 1049,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "SIMD / Vector<T>",
    "content": "What is `Vector<T>` used for?",
    "explanation": "SIMD (Single Instruction, Multiple Data). It allows the CPU to perform math on multiple numbers (e.g., 4 floats) in a single CPU cycle. Essential for game physics or heavy math."
  },
  {
    "id": 1050,
    "category": "C# Internals",
    "difficulty": "Senior",
    "title": "Memory Leaks in C#",
    "content": "Since C# has a GC, are memory leaks impossible?",
    "explanation": "False. If you hold a reference to an object (e.g., in a static list, event handler, or cache), the GC cannot delete it. This is a \"Managed Memory Leak\"."
  }

  ,
  {
    "id": 2001,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Blocking on Async",
    "content": "You call an async method synchronously in a legacy ASP.NET MVC 5 (or WinForms) app:\n\n`var data = GetDataAsync().Result;`\n\nWhat happens?",
    "explanation": "**(Deadlock).** In environments with a SynchronizationContext (like legacy ASP.NET or UI apps), `.Result` blocks the main thread. The async method tries to resume on the *same* thread (which is blocked), causing a Deadlock. Use `ConfigureAwait(false)` or make the stack async."
  },
  {
    "id": 2002,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Task.Run on Server",
    "content": "In a high-traffic Web API, you use `Task.Run(() => HeavyCalc())` to offload work from the request thread. Is this a good scaling strategy?",
    "explanation": "**No.** `Task.Run` queues work on the ThreadPool. In a web server (ASP.NET), your request is *already* running on a ThreadPool thread. Using `Task.Run` just swaps one thread for another (Thread Hopping), adding scheduling overhead without adding parallelism. It hurts scalability by using two threads for one request (Double Scheduling)."
  },
  {
    "id": 2003,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Await inside Lock",
    "content": "Can you use `await` inside a `lock` statement?\n\n```csharp\nlock(_sync) {\n  await DoWork();\n}\n```",
    "explanation": "**(Compiler Error).** You cannot await inside a `lock`. The lock is thread-bound. If the await suspends, the method might resume on a *different* thread, which cannot release the lock held by the first thread. Use `SemaphoreSlim.WaitAsync()` instead."
  },
  {
    "id": 2004,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Eliding Await",
    "content": "Your method just calls another async method. Should you remove `async/await`?\n\n```csharp\n// Option A\npublic Task<Data> Get() { return _repo.GetAsync(); }\n// Option B\npublic async Task<Data> Get() { return await _repo.GetAsync(); }\n```",
    "explanation": "**(Option A).** This is \"Eliding Await\". By returning the Task directly, you save the overhead of creating a State Machine for this method. **Warning:** You lose the stack trace frame if an exception occurs in `GetAsync`."
  },
  {
    "id": 2005,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "ConfigureAwait(false)",
    "content": "Should you use `.ConfigureAwait(false)` in your core Application/Domain libraries?",
    "explanation": "Library code shouldn't care about the UI context or Request context. Using `false` prevents forcing the continuation back onto the original SynchronizationContext, improving performance and avoiding deadlocks."
  },
  {
    "id": 2006,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Parallel.ForEach vs Task.WhenAll",
    "content": "You need to make 50 HTTP requests. Should you use `Parallel.ForEach`?",
    "explanation": "`Parallel.ForEach` is for **CPU-bound** work (it blocks threads). HTTP requests are **I/O-bound**. Use `Task.WhenAll` with a list of async Tasks. This releases threads while waiting for the network."
  },
  {
    "id": 2007,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Exception Handling in WhenAll",
    "content": "You await `Task.WhenAll(t1, t2)`. Both tasks fail. What does `catch (Exception ex)` catch?",
    "explanation": "A standard `catch` block only catches the *first* exception. To see all failures, you must inspect the `Task.Exception` property (AggregateException) of the task returned by `WhenAll`."
  },
  {
    "id": 2008,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "CancellationToken Propagation",
    "content": "You accept a `CancellationToken` in your API but pass `CancellationToken.None` to the database call because \"we always want it to finish\".",
    "explanation": "This defeats the purpose of cancellation (e.g., if the user closes the browser). You are wasting resources processing a request the user no longer waits for. Always propagate the token."
  },
  {
    "id": 2009,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Task.Delay vs Thread.Sleep",
    "content": "To implement a retry backoff, you use `Thread.Sleep(1000)` inside an async method.",
    "explanation": "`Thread.Sleep` blocks the current thread for 1 second. That thread sits idle and cannot serve other requests. Use `await Task.Delay(1000)`, which releases the thread back to the pool immediately."
  },
  {
    "id": 2010,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Fire and Forget",
    "content": "You want to send an email without waiting. \n`_emailService.SendAsync(); // no await`\nIs this safe?",
    "explanation": "Dangerous. If the HTTP Request finishes, the server process might recycle or shut down, killing your background task mid-execution (data loss). There is no guarantee background threads survive. **Solution:** Use a durable background job processor like **Hangfire** or message queues (RabbitMQ/Azure Service Bus)."
  },
  {
    "id": 2011,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Interlocked.Increment",
    "content": "You are counting hits in a multi-threaded scenario.\n`counter++;` \nIs this thread-safe?",
    "explanation": "No, it is **not** thread-safe. `++` is actually three operations: Read, Add, Write. Two threads can read the same value (e.g., 10), add 1, and both write 11, losing a count. **Solution:** Use `Interlocked.Increment(ref counter)`, which performs an atomic CPU instruction."
  },
  {
    "id": 2012,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Async Lambda in ForEach",
    "content": "`items.ForEach(async i => await Process(i));`\nDoes this wait for completion?",
    "explanation": "No. `List.ForEach` accepts `Action<T>`. Your async lambda becomes `async void`. The loop fires them all and finishes immediately, likely disposing resources (like DB Contexts) before the tasks finish."
  },
  {
    "id": 2013,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "ThreadLocal<T>",
    "content": "You want a static variable that has a different value for every thread. Is `ThreadLocal<T>` the right choice?",
    "explanation": "Yes. `ThreadLocal<T>` creates a separate instance of the variable for each thread accessing it. Just remember to `Dispose` it if T implements IDisposable."
  },
  {
    "id": 2014,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "SemaphoreSlim",
    "content": "You need to limit a specific API to 5 concurrent calls. Should you use `lock`?",
    "explanation": "`lock` allows only 1 thread. Use `SemaphoreSlim(5)`. It allows you to `await WaitAsync()`, effectively throttling concurrency to N slots without blocking threads."
  },
  {
    "id": 2015,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Task.Yield",
    "content": "You have a synchronous loop that takes 500ms. You want to keep the UI responsive without running a new thread. \n`await Task.Yield();`",
    "explanation": "`Task.Yield()` forces the method to return immediately and schedule the rest of the method as a continuation. It gives the UI thread a chance to process events (like clicks) before resuming."
  },
  {
    "id": 2016,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Async Streams (IAsyncEnumerable)",
    "content": "You are returning 10,000 rows from a DB. Should you return `Task<List<T>>`?",
    "explanation": "That requires buffering all 10k rows in memory before returning. Use `IAsyncEnumerable<T>` (`yield return`) to stream data to the client as it arrives, lowering memory footprint and latency."
  },
  {
    "id": 2017,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Timer vs Task.Delay loop",
    "content": "Which is safer for a background heartbeat: `System.Timers.Timer` or a `while(true) { await Task.Delay() }` loop?",
    "explanation": "**(Loop).** The async loop is generally safer. If the work takes longer than the interval, `Timer` (which is reentrant) might trigger handler overlap (running two instances at once). The loop naturally prevents overlap."
  },
  {
    "id": 2018,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "ConcurrentDictionary GetOrAdd",
    "content": "Is the value factory in `GetOrAdd` guaranteed to run only once?\n`map.GetOrAdd(key, k => new HeavyObject())`",
    "explanation": "**(Trap).** No. `ConcurrentDictionary` locks merely to insert. It might run your factory multiple times on different threads, discard the extras, and return the winner. If `HeavyObject` is expensive, use `Lazy<T>` as the value."
  },
  {
    "id": 2019,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Task.Factory.StartNew",
    "content": "Should you use `Task.Factory.StartNew(...)` instead of `Task.Run(...)`?",
    "explanation": "`StartNew` is the old API. It does *not* unwrap nested tasks by default (returning `Task<Task<T>>`). `Task.Run` is a safer wrapper that handles unwrapping and default scheduling correctly."
  },
  {
    "id": 2020,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "SynchronizationContext.Current",
    "content": "In .NET Core / .NET 5+ Web API, is `SynchronizationContext.Current` null?",
    "explanation": "Yes. ASP.NET Core removed the SynchronizationContext to improve performance. This is why `.Result` doesn't deadlock in Core (though it's still bad practice) but does in Legacy Framework."
  },
  {
    "id": 2021,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Volatile Read/Write",
    "content": "Is `double` (64-bit) read/write atomic on a 32-bit OS?",
    "explanation": "**No.** On 32-bit CPUs, a 64-bit `double` or `long` is written in two 32-bit chunks. A concurrent thread might read the value after the first chunk is written but before the second (Tearing), seeing a completely garbage number. **Solution:** Use `Interlocked.Read()` or `lock`."
  },
  {
    "id": 2022,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "ThreadPool Injection",
    "content": "Can the ThreadPool dynamically add threads if all current threads are blocked?",
    "explanation": "Yes, but slowly. It adds about 1 thread per second (Hill Climbing algorithm). If you block 100 threads instantly, your app will hang for ~100 seconds while it scales up. This is why non-blocking async is vital."
  },
  {
    "id": 2023,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "ReaderWriterLockSlim",
    "content": "You have a cache that is read 99% of the time and written 1% of the time. Should you use `lock`?",
    "explanation": "`lock` blocks readers even if no one is writing. Use `ReaderWriterLockSlim`. It allows multiple concurrent readers, but blocks everyone when a writer enters. Ideal for high-read scenarios."
  },
  {
    "id": 2024,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Async Constructors",
    "content": "Can you have `public async Task MyClass() { ... }`?",
    "explanation": "Constructors cannot be async. A common pattern is a private constructor and a static async factory method: `public static async Task<MyClass> CreateAsync() { ... }`."
  },
  {
    "id": 2025,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "ManualResetEventSlim",
    "content": "You need to pause a thread until a signal is received. Use `Thread.Sleep` loop?",
    "explanation": "Spinning loops waste CPU. Use `ManualResetEventSlim`. It blocks efficiently at the OS kernel level and wakes up immediately when `.Set()` is called."
  },
  {
    "id": 2026,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "UnobservedTaskException",
    "content": "What happens in .NET Core if a Task faults (throws exception) and you never await it?",
    "explanation": "**(Behavior Change).** In .NET 4.0, it crashed the process. In .NET 4.5+ and Core, unobserved exceptions are swallowed (ignored) by the GC. However, you should subscribe to `TaskScheduler.UnobservedTaskException` to log them."
  },
  {
    "id": 2027,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "BlockingCollection",
    "content": "You are implementing a Producer-Consumer pattern. Should you use `List<T>` with locks?",
    "explanation": "Use `BlockingCollection<T>`. It is designed exactly for this. It handles thread safety, blocking consumers when empty, and blocking producers when full (bounded capacity)."
  },
  {
    "id": 2028,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "CompleatedTask",
    "content": "You need to return a completed task to satisfy an interface. `return Task.Run(() => {});`?",
    "explanation": "That schedules a real thread work item just to do nothing. Use `Task.CompletedTask` (cached singleton) or `Task.FromResult(0)` for zero overhead."
  },
  {
    "id": 2029,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Channels (System.Threading.Channels)",
    "content": "Is `BlockingCollection` the modern way to do Producer/Consumer?",
    "explanation": "**(Modernize).** `Channels` are the modern, high-performance, async-first alternative to BlockingCollection. They support `await ReadAsync` (non-blocking wait) whereas BlockingCollection blocks threads."
  },
  {
    "id": 2030,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Race Condition Definition",
    "content": "Does a Race Condition always crash the app?",
    "explanation": "**(Concept).** No. A race condition just means the output depends on the timing of threads. It often results in silent data corruption (e.g., two users buy the last ticket) rather than a crash, making it harder to debug."
  },
  {
    "id": 2031,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Thread.Abort",
    "content": "Is it safe to use `Thread.Abort()` to stop a stuck thread?",
    "explanation": "`Thread.Abort` is dangerous (throws exception at arbitrary point, corrupting state) and is **Not Supported** in .NET Core/.NET 5+. Use Cooperative Cancellation (`CancellationToken`)."
  },
  {
    "id": 2032,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "SpinLock",
    "content": "Should you replace all `lock` with `SpinLock` for speed?",
    "explanation": "`SpinLock` is a user-mode lock that spins the CPU. It is faster *only* for extremely short locks. If the lock is held for long, it spikes CPU usage to 100%. Standard `Monitor` (lock) is safer for general use."
  },
  {
    "id": 2033,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Async Dispose",
    "content": "Your class owns an open DB connection. Should you implement `IAsyncDisposable`?",
    "explanation": "Yes. `IAsyncDisposable` (C# 8) allows you to `await DisposeAsync()`. This is crucial for flushing streams or closing DB connections gracefully without blocking the thread."
  },
  {
    "id": 2034,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Captured Context",
    "content": "In a WPF app, does `await Task.Run(...)` return to the UI thread?",
    "explanation": "**(Nuance).** `Task.Run` executes on the ThreadPool. When you await it, the *continuation* captures the context. So yes, the code *after* the await resumes on the UI thread, but the code *inside* the Run does not."
  },
  {
    "id": 2035,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Barrier Class",
    "content": "You have 4 threads performing phases of work. They all need to finish Phase 1 before any start Phase 2. Use `Task.WaitAll`?",
    "explanation": "Use `System.Threading.Barrier`. It is designed for this \"Phased execution\". You initialize it with `new Barrier(4)`. Threads call `.SignalAndWait()`. They plug at that line until all 4 threads have arrived, then they all release simultaneously to the next phase."
  },
  {
    "id": 2036,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "CancellationToken.Register",
    "content": "You want to close a socket immediately when cancellation is requested. Polling `IsCancellationRequested` is too slow.",
    "explanation": "Use `token.Register(() => socket.Close())`. This callback fires immediately when the token is cancelled, interrupting the blocking operation instantly."
  },
  {
    "id": 2037,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "TaskCompletionSource",
    "content": "You are wrapping a legacy Event-based API (like SerialPort) into a Task. Use `Task.Run`?",
    "explanation": "Use `TaskCompletionSource<T>`. It gives you a 'manual' Task. You pass the Task to the caller, and manually call `.SetResult()` inside the legacy event handler. No threads wasted."
  },
  {
    "id": 2038,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Immutable Collections",
    "content": "Are `ImmutableList<T>` automatically thread-safe?",
    "explanation": "Yes. Since the collection is immutable, its state cannot change after creation. Multiple threads can read from it simultaneously without any need for locking. Any modification returns a *new* list, leaving the original list untouched for other readers."
  },
  {
    "id": 2039,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Atomicity of Guid",
    "content": "Is reading/writing a `Guid` atomic?",
    "explanation": "No. A `Guid` is a 128-bit value (16 bytes). Standard processors (x64) can only move 64 bits atomically in one cycle. A thread reading a Guid while another writes it might see a \"torn read\" (half old bytes, half new bytes). Use `lock` or a `SpinLock` to protect Guid access."
  },
  {
    "id": 2040,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Linked CancellationToken",
    "content": "You have a global timeout token and a user cancellation token. How do you respect both?",
    "explanation": "Use `CancellationTokenSource.CreateLinkedTokenSource(t1, t2)`. It creates a new token that cancels if *either* of the input tokens cancels."
  },
  {
    "id": 2041,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "WaitHandle",
    "content": "What is the base class for `ManualResetEvent`, `Mutex`, and `Semaphore`?",
    "explanation": "`WaitHandle`. They wrap native OS synchronization primitives. They are disposable and should be wrapped in `using` blocks."
  },
  {
    "id": 2042,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Reentrant Lock",
    "content": "Can a thread acquire the same `lock` twice? \n`lock(obj) { lock(obj) { ... } }`",
    "explanation": "Yes. `Monitor` (lock) is reentrant. If the *current* thread already owns the lock, it can enter again without blocking. It just increments a recursion count."
  },
  {
    "id": 2043,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Mutex vs Lock",
    "content": "When should you use a `Mutex` instead of `lock`?",
    "explanation": "Use `Mutex` for **Inter-Process** synchronization (e.g., ensuring only one instance of your App runs on the whole PC). `lock` is only valid within the *same* process."
  },
  {
    "id": 2044,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Timeout in Locks",
    "content": "Can `lock(obj)` timeout?",
    "explanation": "No. The standard `lock` statement waits indefinitely (infinite timeout), which can lead to application freeze (Deadlocks). **Solution:** Use `Monitor.TryEnter(obj, TimeSpan.FromSeconds(1))` to attempt to acquire the lock and fail gracefully if it is busy."
  },
  {
    "id": 2045,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Async in Constructors",
    "content": "Can you use `await` in a constructor?",
    "explanation": "No. Constructors must return the instance immediately. Use a static `CreateAsync` factory method pattern instead."
  },
  {
    "id": 2046,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "PeriodicTimer (NET 6)",
    "content": "You need an async loop that ticks every second. Use `Task.Delay`?",
    "explanation": "**(Modernize).** Use `PeriodicTimer`. `while (await timer.WaitForNextTickAsync())`. It handles time drifting better than a simple Delay loop and is designed specifically for async cron-like jobs."
  },
  {
    "id": 2047,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "WhenAny",
    "content": "How do you implement a timeout for a task that doesn't support cancellation?",
    "explanation": "Use `await Task.WhenAny(task, Task.Delay(timeout))`. If the Delay finishes first, you know it timed out (though the original task keeps running in the background)."
  },
  {
    "id": 2048,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "Memory Barrier Implicit",
    "content": "Does `lock` create a memory barrier?",
    "explanation": "Yes. Entering and exiting a lock implies a full memory barrier. This guarantees that variable writes inside the lock are visible to other threads after they acquire the lock."
  },
  {
    "id": 2049,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "False Sharing",
    "content": "Two threads update two different `int` fields in the same object. Is performance affected?",
    "explanation": "**(Hardware Performance).** Yes. If the fields are contiguous in memory and sit on the same **Cache Line** (usually 64 bytes), Core A invalidating the cache line for Field 1 causes Core B to flush its cache for Field 2 unnecessarily. **Solution:** Use `[StructLayout(LayoutKind.Explicit)]` or padding to separate the fields onto different cache lines."
  },
  {
    "id": 2050,
    "category": "Async & Threading",
    "difficulty": "Senior",
    "title": "IO Completion Ports (IOCP)",
    "content": "What is the underlying mechanism for `await File.ReadAllTextAsync`?",
    "explanation": "IOCP (on Windows) or epoll (Linux). A hardware interrupt signals the OS when data is ready. A thread is borrowed from the ThreadPool *only* to process the completion, not to wait for the data."
  }
  ,
  {
    "id": 3001,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Open vs Closed Generics",
    "content": "What is the difference between `typeof(List<>)` and `typeof(List<int>)`?",
    "explanation": "`List<>` is an **Open Generic Type** (unbound). You cannot instantiate it. `List<int>` is a **Closed Generic Type** (bound), which has a specific layout in memory and can be instantiated."
  },
  {
    "id": 3002,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Reflection Performance",
    "content": "You are using `PropertyInfo.GetValue()` inside a tight loop to read data from a generic object. Is this fast?",
    "explanation": "Reflection is significantly slower than direct access because of metadata lookup and security checks. Optimization: Create a delegate using `Delegate.CreateDelegate` or compile an **Expression Tree** to access the property at near-native speed."
  },
  {
    "id": 3003,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Covariance (out)",
    "content": "Why does `IEnumerable<out T>` allow `IEnumerable<string> -> IEnumerable<object>`, but `List<T>` does not?",
    "explanation": "`IEnumerable` is read-only (outputs data), so it is **Covariant** (`out`). You can safely treat strings as objects. `List<T>` allows writing (inputs data). If you treated `List<string>` as `List<object>`, you could try to Add an `int` to it, crashing the runtime. Thus, `List<T>` is Invariant."
  },
  {
    "id": 3004,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Expression Trees",
    "content": "Why does Entity Framework accept `Expression<Func<T, bool>>` instead of just `Func<T, bool>>` for `.Where()`?",
    "explanation": "A `Func` is compiled code (opaque black box). An `Expression` is a data structure representing the code (Abstract Syntax Tree). EF needs the **Tree** to analyze your logic (e.g., `x.Age > 18`) and translate it into SQL (`WHERE Age > 18`)."
  },
  {
    "id": 3005,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Private Reflection",
    "content": "Can you access a `private` field of a third-party library using Reflection?",
    "explanation": "**(With Caution).** Yes, using `BindingFlags.NonPublic | BindingFlags.Instance`. However, this is fragile. If the library author renames the private field in an update, your code crashes. Only use as a last resort."
  },
  {
    "id": 3006,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Generic Constraints",
    "content": "You want to enforce that generic type `T` is an Enum. \n`where T : Enum`?",
    "explanation": "This is a valid constraint introduced in C# 7.3. Before that, you had to use `where T : struct, IConvertible` and check runtime types. Now you can explicitly enforce `System.Enum`."
  },
  {
    "id": 3007,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Delegate vs Event",
    "content": "Why define an `event Action` instead of just a `public Action` field?",
    "explanation": "An `event` provides encapsulation. It only allows external classes to **Subscribe** (`+=`) or **Unsubscribe** (`-=`). A public delegate field allows anyone to set it to `null` (wiping all subscribers) or Invoke it directly (impersonating the publisher)."
  },
  {
    "id": 3008,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Dynamic and DLR",
    "content": "You use `dynamic` to work with a JSON object. Does the compiler verify property names exist?",
    "explanation": "No. `dynamic` uses the DLR (Dynamic Language Runtime) to resolve symbols at **Runtime**. If you typo a property name, it throws a RuntimeBinderException. You lose compile-time safety and IntelliSense."
  },
  {
    "id": 3009,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "New Constraint",
    "content": "What does `where T : new()` allow you to do?",
    "explanation": "It guarantees `T` has a public parameterless constructor. It allows you to call `T instance = new T();` inside your generic class."
  },
  {
    "id": 3010,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Extension Method Precedence",
    "content": "You define an extension method `.Count()` on `List<T>`. But `List<T>` already has a `.Count` property. Which one is used?",
    "explanation": "**(Concept).** Instance members always take precedence. The compiler looks for a matching instance method *first*. If found, it uses it, effectively \"hiding\" your extension method. The extension method is only reachable if you cast to an interface or call it via Static Syntax: `Enumerable.Count(list)`."
  },
  {
    "id": 3011,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Contravariance (in)",
    "content": "You have `Action<object> logObject`. Can you assign it to `Action<string> logString`?",
    "explanation": "Yes. `Action<T>` is Contravariant (`in T`). Since the logger can handle *any* object, it is safe to use it where a string-specific logger is expected. It can certainly handle the string."
  },
  {
    "id": 3012,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Curiously Recurring Template Pattern",
    "content": "You see `class Node<T> : BaseNode<Node<T>>`. What is this pattern used for?",
    "explanation": "This is the CRTP. It allows the base class `BaseNode` to know the exact type of the derived class, enabling fluent APIs or strong typing in base methods without casting."
  },
  {
    "id": 3013,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Weak Events",
    "content": "You subscribe a long-lived UI window to a static event. Window closes. Memory leak?",
    "explanation": "**(Memory Leak).** Yes. This is a common WPF/WinForms bug. The static event holds a strong reference to the Window. Closing the window removes it from the screen, but the static event keeps it in the Heap. **Solution:** Use `WeakEventManager` or explicitly unsubscribe (`-=`) in the `OnClosed` event."
  },
  {
    "id": 3014,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Implicit Operators",
    "content": "You want to assign `Currency c = 10.5m;` automatically. How?",
    "explanation": "Define `public static implicit operator Currency(decimal d)`. It allows seamless conversion. Use carefully; if the conversion is lossy (e.g., float to int), use `explicit` instead to force a cast."
  },
  {
    "id": 3015,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Assembly Loading",
    "content": "`Assembly.LoadFile` vs `Assembly.LoadFrom`.",
    "explanation": "**(Trap).** `LoadFile` loads the assembly into a separate context (no dependency resolution). `LoadFrom` loads it into the LoadFrom context (resolves dependencies). Mixing them causes \"Type X cannot be cast to Type X\" errors."
  },
  {
    "id": 3016,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "CallerMemberName",
    "content": "How to get the name of the calling property without using a string literal?",
    "explanation": "Use `[CallerMemberName] string name = null` in the method signature. The compiler injects the literal at compile time. Essential for `INotifyPropertyChanged`."
  },
  {
    "id": 3017,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Type Forwarding",
    "content": "You moved a class from Assembly A to Assembly B. How to avoid breaking existing clients?",
    "explanation": "Leave a dummy entry in Assembly A: `[assembly: TypeForwardedTo(typeof(MyClass))]`. The runtime will automatically look in Assembly B when clients ask A for the type."
  },
  {
    "id": 3018,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Checking for Nullable<T>",
    "content": "How do you check if a generic `T` is a Nullable type via Reflection?",
    "explanation": "`Nullable.GetUnderlyingType(typeof(T)) != null`. Simply checking `typeof(T).IsClass` is incorrect because Nullable is a struct."
  },
  {
    "id": 3019,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Default(T)",
    "content": "In a generic method, you need to return null if T is a class, or 0 if T is int.",
    "explanation": "`return default(T);` (or just `return default;` in newer C#). It handles both cases correctly based on the type provided at runtime."
  },
  {
    "id": 3020,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "ExpandoObject",
    "content": "You need an object where you can add properties at runtime.",
    "explanation": "Use `dynamic obj = new ExpandoObject(); obj.NewProp = 1;`. It behaves like a Dictionary but with property syntax. Useful for dynamic configurations or ViewBags."
  },
  {
    "id": 3021,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Generics and Static Fields",
    "content": "`class Gen<T> { static int count; }`\n`Gen<int>.count = 1;`\nWhat is `Gen<string>.count`?",
    "explanation": "**(Trap).** It is `0`. Static fields are tied to the **Specific Closed Type**, not the generic definition. `Gen<int>` and `Gen<string>` are compiled into two completely separate classes with their own static memory segments. They do NOT share static data."
  },
  {
    "id": 3022,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Func vs Action",
    "content": "Difference between `Func<int, string>` and `Action<int>`?",
    "explanation": "`Func` returns a value (the last generic arg is the return type). `Action` returns void. `Predicate<T>` is a specialized `Func<T, bool>`."
  },
  {
    "id": 3023,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Unmanaged Constraint",
    "content": "`where T : unmanaged` (C# 7.3+). What does it allow?",
    "explanation": "It limits T to types that are purely data (no references), like `int`, `bool`, `structs` of ints. It allows you to use pointers `T*` and stackalloc with generics."
  },
  {
    "id": 3024,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Reflection Emit",
    "content": "When should you use `System.Reflection.Emit`?",
    "explanation": "**(Advanced).** When you need to generate new IL code at runtime (e.g., building a high-performance ORM, AOP proxies, or a mocking framework like Moq). It is complex but extremely powerful."
  },
  {
    "id": 3025,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Operator Overloading",
    "content": "Can you overload `==` without overloading `!=`?",
    "explanation": "No. C# requires operators to be overloaded in pairs. If you define `==`, you must define `!=`. You should also override `Equals` and `GetHashCode` to maintain consistency."
  },
  {
    "id": 3026,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Custom Attributes",
    "content": "You created a `[MyAttr]` but it's not doing anything.",
    "explanation": "Attributes are passive metadata. They don't \"do\" anything by themselves. You must write code (reflection) to find the attribute on the class/method and execute logic based on its presence."
  },
  {
    "id": 3027,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Local Functions vs Lambdas",
    "content": "In a method, should you use a local function `void Helper() { }` or a lambda `Action h = () => { };`?",
    "explanation": "**(Local Function).** Local functions (C# 7) are better. They don't require allocating a delegate object, they can use generics, and they can be iterators (yield return). Lambdas always allocate heap memory."
  },
  {
    "id": 3028,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Is operator pattern matching",
    "content": "`if (obj is Person p)` vs `var p = obj as Person; if (p != null)`.",
    "explanation": "**(Use 'is').** The `is` pattern matching (C# 7+) is preferred. It is concise, scope-safe, and does the check and assignment in one atomic step."
  },
  {
    "id": 3029,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Partial Methods",
    "content": "Can a partial method have a return type `partial int GetId();`?",
    "explanation": "**(Old Rule).** Historically, partial methods had to return void and have no access modifiers. **However**, in C# 9, 'Extended Partial Methods' allow return types and access modifiers *if* an implementation is explicitly provided."
  },
  {
    "id": 3030,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Module Initializers",
    "content": "How to run code once when a DLL is loaded, before any class is touched?",
    "explanation": "Use `[ModuleInitializer]` (C# 9). It allows you to define a static void method that the runtime executes automatically when the assembly is loaded. Useful for registering dependencies or licenses."
  },
  {
    "id": 3031,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Switch Expressions",
    "content": "Is the new switch expression `x switch { ... }` just syntax sugar?",
    "explanation": "Mostly yes, but it forces exhaustiveness (it throws if no case matches) and it is an expression (returns a value), making it ideal for functional-style programming."
  },
  {
    "id": 3032,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Generic Attribute",
    "content": "Can you do `[MyAttr<int>]`?",
    "explanation": "Yes, starting with C# 11 (.NET 7). Before that, you had to pass types via `typeof`: `[MyAttr(typeof(int))]`. Now generic attributes are natively supported."
  },
  {
    "id": 3033,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Anonymous Types",
    "content": "`var x = new { Name = \"A\" };` Can you return this from a method?",
    "explanation": "You cannot return anonymous types (unless returning `object` or `dynamic`). Anonymous types are internal to the assembly. Use a `record` or `Tuple` if you need to pass data out of a method."
  },
  {
    "id": 3034,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "MemberInfo.GetCustomAttributes",
    "content": "Does `GetCustomAttributes(true)` search the inheritance chain?",
    "explanation": "Yes. Passing `true` checks the class/method and its parent classes/interfaces for the attribute. `false` only checks the immediate member."
  },
  {
    "id": 3035,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "nameof operator",
    "content": "Why use `nameof(MyProp)` instead of \"MyProp\"?",
    "explanation": "`nameof` is evaluated at compile-time. If you rename the property via refactoring tools, `nameof` updates automatically. String literals do not, causing runtime errors."
  },
  {
    "id": 3036,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Flags Attribute",
    "content": "You have an Enum for permissions. `[Flags]`",
    "explanation": "`[Flags]` allows bitwise operations (`|`, `&`). It also changes the `ToString()` output to show comma-separated names (\"Read, Write\") instead of just the integer value."
  },
  {
    "id": 3037,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "RuntimeHelpers.RunClassConstructor",
    "content": "Can you force a static constructor to run manually?",
    "explanation": "Yes, via `RuntimeHelpers.RunClassConstructor(typeHandle)`. Useful in reflection scenarios where you need to ensure static initialization has happened before accessing fields dynamically."
  },
  {
    "id": 3038,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "MethodOverloading vs Overriding",
    "content": "What is the core difference between Method Overloading and Method Overriding?",
    "explanation": "Overloading is **Static Polymorphism** (Compile Time)  the compiler picks the method based on the arguments' static types. Overriding is **Dynamic Polymorphism** (Runtime)  the CLR picks the implementation based on the actual object's type (Virtual Dispatch)."
  },
  {
    "id": 3039,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Generic Type Inference",
    "content": "Is there a difference between calling `M(10)` and `M<int>(10)`?",
    "explanation": "Functionally, No. In `M(10)`, the compiler **Infers** `T` is `int`. In `M<int>(10)`, you explicitly state it. Explicit typing is only required if the compiler cannot infer the type or to resolve ambiguity."
  },
  {
    "id": 3040,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "FormattableString",
    "content": "`FormattableString sql = $\"SELECT * FROM Users WHERE Id = {id}\"`. Is this safe?",
    "explanation": "Yes! If the target expects `FormattableString` (like EF Core 3+ `FromSqlInterpolated`), the compiler preserves the format string and arguments separately, allowing the library to parameterize the SQL and prevent injection. Do not assign this to `string` first!"
  },
  {
    "id": 3041,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Conditional Attribute",
    "content": "`[Conditional(\"DEBUG\")] public void Log()`. What happens in Release mode?",
    "explanation": "The compiler removes **all calls** to this method in the binary. The method itself remains in the DLL, but call sites are stripped. Efficient logging strategy."
  },
  {
    "id": 3042,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Coalescing Assignment",
    "content": "`list ??= new List<int>();`",
    "explanation": "C# 8 feature. Assigns the right side only if the left side is null. Thread-safe for local variables, but not atomic for fields."
  },
  {
    "id": 3043,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Index and Range",
    "content": "`var last = list[^1];`",
    "explanation": "C# 8 syntax. `^1` is the \"hat\" operator, meaning \"1 from the end\". `list[1..4]` is a Range. Translates to `list[list.Count - 1]`."
  },
  {
    "id": 3044,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Default Interface Methods",
    "content": "You add a method implementation inside an `interface`. Is this allowed?",
    "explanation": "C# 8+. Interfaces can have default implementations. Useful for evolving APIs (adding a method without breaking existing implementers). However, they are not inherited like base class methods (must cast to Interface to call)."
  },
  {
    "id": 3045,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Static Classes",
    "content": "Can a static class implement an interface?",
    "explanation": "**(Concept).** No. Interfaces define contract for *instances*. Static classes cannot be instantiated, so they cannot implement interfaces."
  },
  {
    "id": 3046,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Volatile vs Interlocked",
    "content": "Can `volatile` replace `Interlocked.Increment`?",
    "explanation": "No. `volatile` only guarantees **Memory Visibility** (preventing caching/reordering). It does NOT imply **Atomicity**. The instruction `increment` is still multiple steps (Read-Modify-Write), so `volatile` acts as a turnstile but doesn't prevent two threads from entering simultaneously. You MUST use `Interlocked.Increment`."
  },
  {
    "id": 3047,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Dynamic Binding",
    "content": "Does `dynamic` work with Extension Methods?",
    "explanation": "**(Trap).** No. Extension methods are resolved at compile time by finding the static class in `using` scope. The DLR doesn't know about your `using` directives at runtime, so it cannot find extension methods on dynamic objects."
  },
  {
    "id": 3048,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "CallerArgumentExpression",
    "content": "How to get the code string of an argument passed to your method? (e.g. for `Assert.True(x > 5)`)",
    "explanation": "Use `[CallerArgumentExpression(\"condition\")] string expr = null`. If the user calls `Assert(x > 5)`, `expr` will contain the string `\"x > 5\"`. Great for testing libraries."
  },
  {
    "id": 3049,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Unsafe Pointers with Generics",
    "content": "Can you take a pointer to a generic type `T*`?",
    "explanation": "Only if constrained `where T : unmanaged`. This ensures T is a blittable type (fixed size, value type), allowing pointer arithmetic."
  },
  {
    "id": 3050,
    "category": "Advanced C#",
    "difficulty": "Senior",
    "title": "Activator.CreateInstance vs new T()",
    "content": "Which is faster for generic instantiation?",
    "explanation": "`new T()` (with `where T : new()`) is generally faster in modern .NET because the JIT can optimize it. `Activator` uses pure reflection."
  }
  ,
  {
    "id": 4001,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Deferred Execution Trap",
    "content": "Review this code:\n```csharp\nvar query = numbers.Where(n => n > 5);\nnumbers.Add(10);\nint count = query.Count();\n```\nDoes `count` include the newly added 10?",
    "explanation": "**(Yes).** LINQ queries (returning `IEnumerable`) use **Deferred Execution**. The query is not executed when defined. It runs *only* when `Count()` is called. Since `numbers` was modified before execution, the 10 is included."
  },
  {
    "id": 4002,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Multiple Enumeration",
    "content": "You receive an `IEnumerable<T>` param.\n```csharp\nif (items.Count() > 0) {\n  foreach(var item in items) { ... }\n}\n```\nIs this performant?",
    "explanation": "**(Performance).** No. `Count()` iterates the sequence entirely. The `foreach` loop iterates it AGAIN. If `items` is an EF Core query, this executes **two database queries**. **Solution:** Check `items.Any()` (optimized EXISTS query) or materialize the list first with `.ToList()`."
  },
  {
    "id": 4003,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Side Effects in Select",
    "content": "Is it okay to modify external state inside a LINQ projection?\n`items.Select(x => { _globalCounter++; return x.Id; }).ToList();`",
    "explanation": "Functional programming principles (which LINQ follows) forbid **Side Effects**. If the query is evaluated twice (or partially), `_globalCounter` becomes unpredictable. Keep projections pure."
  },
  {
    "id": 4004,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Any() vs Count()",
    "content": "Why is `list.Count() > 0` considered a bad practice for checking emptiness?",
    "explanation": "**Performance Trap.** `Count()` often iterates the *entire* sequence (O(N)) just to return a total. `Any()` checks if the iterator has *at least one* element and stops immediately (O(1)). On EF Core, `Count()` creates a `SELECT COUNT(*)` query, while `Any()` creates a `SELECT EXISTS/TOP 1` query."
  },
  {
    "id": 4005,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Single vs First",
    "content": "When should you use `SingleOrDefault()` instead of `FirstOrDefault()`?",
    "explanation": "**(Logic).** Use `Single` when the business logic dictates there *must* be exactly 0 or 1 match (e.g., getting a User by unique ID). It throws an exception if multiple exist, helping you catch data corruption bugs early."
  },
  {
    "id": 4006,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Expression Trees",
    "content": "Why can't you use C# method bodies `{ ... }` inside an `Expression<Func<T, bool>>` for Entity Framework?",
    "explanation": "Expression Trees represent code as data (AST). They cannot represent statement blocks, loops, or complex logic blocks. They only support single expressions. EF needs to translate this tree to SQL, and it can't translate arbitrary C# code blocks."
  },
  {
    "id": 4007,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "SelectMany",
    "content": "You have `List<Order>`, where each Order has `List<Item>`. How do you get a flat list of all Items?",
    "explanation": "Use `orders.SelectMany(o => o.Items)`. This is the \"Flatten\" operation (Monadic Bind). Using `Select` would give you `List<List<Item>>`."
  },
  {
    "id": 4008,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "ToDictionary Duplicates",
    "content": "`list.ToDictionary(x => x.Id)` throws an exception if IDs are not unique.",
    "explanation": "**(Trap).** Yes. `ToDictionary` requires unique keys. If duplicates might exist, use `GroupBy` first, or `ToLookup`, which allows multiple values per key."
  },
  {
    "id": 4009,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Cast vs OfType",
    "content": "Difference between `list.Cast<T>()` and `list.OfType<T>()`?",
    "explanation": "`Cast<T>` tries to cast *every* item and throws if one fails. `OfType<T>` filters the list, returning *only* the items that are successfully of type T (ignoring the rest)."
  },
  {
    "id": 4010,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "PLINQ (Parallel LINQ)",
    "content": "`list.AsParallel().Select(...)`. Is the order of results guaranteed?",
    "explanation": "No. Parallelism by definition processes items out of order. If order matters, use `.AsParallel().AsOrdered()`, but this comes with a performance penalty."
  },
  {
    "id": 4011,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Closure in LINQ",
    "content": "What happens here?\n```csharp\nvar funcs = new List<Func<int>>();\nfor(int i=0; i<3; i++) funcs.Add(() => i);\n```",
    "explanation": "**(Classic).** The variable `i` is captured by reference. When the funcs run later, `i` is 3. They all return 3. Fix: `int temp = i;` inside the loop."
  },
  {
    "id": 4012,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Zip Operator",
    "content": "What does `names.Zip(ages)` do?",
    "explanation": "It merges two sequences by index. Result: `{ {Name[0], Age[0]}, {Name[1], Age[1]} }`. It stops when the shorter sequence ends."
  },
  {
    "id": 4013,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Join vs GroupJoin",
    "content": "Which one mimics a SQL `LEFT OUTER JOIN`?",
    "explanation": "**(GroupJoin).** `Join` is an Inner Join. `GroupJoin` (used with `SelectMany` and `DefaultIfEmpty`) allows you to simulate Left Outer Joins."
  },
  {
    "id": 4014,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Materializing Infinite Streams",
    "content": "You have an infinite `IEnumerable` (e.g., random number generator). Can you call `.OrderBy()` on it?",
    "explanation": "No. `OrderBy` must scan the *entire* sequence to know which element is first. On an infinite stream, it hangs forever (infinite loop)."
  },
  {
    "id": 4015,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Let Keyword",
    "content": "What is the `let` keyword in Query Syntax useful for?",
    "explanation": "It stores a sub-expression result to avoid re-calculating it. `from u in users let full = u.F + u.L where full.Length > 10 ...`. It improves readability and sometimes performance."
  },
  {
    "id": 4016,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Skip/Take Pagination",
    "content": "Is `.Skip(10000).Take(10)` efficient on a List?",
    "explanation": "**(Performance Trap).** On an in-memory `List`, it is fine. But for a Database (EF Core), huge OFFSETS are slow. The DB must fetch 10,010 rows, sort them, throw away the first 10,000, and return 10. **Solution:** Use **Keyset Pagination** (Seeking) e.g., `Where(x => x.Id > lastId).Take(10)`."
  },
  {
    "id": 4017,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "IQueryable Provider",
    "content": "Does `IQueryable` always execute on the database?",
    "explanation": "No. `IQueryable` *can* execute locally. If you use `AsQueryable()` on a List, it uses the `EnumerableQuery<T>` provider, which compiles expression trees into delegates and runs them in memory. Always verify if your underlying provider is a DB or memory."
  },
  {
    "id": 4018,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Aggregate Function",
    "content": "How would you implement `Sum` using `Aggregate`?",
    "explanation": "`list.Aggregate(0, (acc, item) => acc + item)`. `Aggregate` is the 'Reduce' function in MapReduce/Functional terms."
  },
  {
    "id": 4019,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Except vs Where",
    "content": "You want items in List A that are NOT in List B. Use `Where` or `Except`?",
    "explanation": "**(Except).** `Except` uses a Set (HashSet) internally, making it O(N). Using `Where(a => !b.Contains(a))` on a List is O(N*M). `Except` is vastly faster for large collections."
  },
  {
    "id": 4020,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Pure Functions",
    "content": "Why is it important that LINQ Selectors are pure?",
    "explanation": "Because execution order and frequency are not guaranteed. The runtime might optimize, parallelize, or re-run the query. Impure functions (side effects) lead to Heisenbugs."
  },
  {
    "id": 4021,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "SequenceEqual",
    "content": "How to check if two lists have the exact same elements in the same order?",
    "explanation": "`list1.SequenceEqual(list2)`. Do not use `list1 == list2` (reference equality) or `list1.Equals(list2)`."
  },
  {
    "id": 4022,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Lookup vs Dictionary",
    "content": "What is `ToLookup`?",
    "explanation": "It's like a Dictionary, but safe for duplicate keys. It maps `Key -> IEnumerable<Value>`. If multiple items share a key, they are grouped under that key. Equivalent to `GroupBy` but materialized immediately."
  },
  {
    "id": 4023,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Immutable Collections LINQ",
    "content": "When you call `.Add()` on `ImmutableList`, does it modify the list?",
    "explanation": "No. Immutable collections return a *new* collection with the added item. You must assign the result: `list = list.Add(item);`."
  },
  {
    "id": 4024,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Func vs Expression in Repository",
    "content": "Your generic repository method `Find(Func<T, bool> predicate)` uses `IEnumerable`. Is this good for DBs?",
    "explanation": "**Disaster (Client Evaluation).** `Func<T, bool>` is compiled IL code, which SQL Server cannot understand. EF Core will fetch the **Entire Table** into application memory and then filter it using the Func. **Solution:** Always use `Expression<Func<T, bool>>` so EF can translate the lambda logic into a SQL `WHERE` clause."
  },
  {
    "id": 4025,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "DefaultIfEmpty",
    "content": "`int sum = list.DefaultIfEmpty(0).Sum();` vs `list.Sum();` on empty list.",
    "explanation": "`list.Sum()` throws on an empty list for some types (like Min/Max definitely do, Sum is safer for ints but Min/Max requires non-empty). `DefaultIfEmpty` ensures there's at least one value."
  },
  {
    "id": 4026,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Range Operator (LINQ)",
    "content": "`Enumerable.Range(1, 10)` generates a list in memory immediately?",
    "explanation": "**(Concept).** No, it generates an iterator (deferred execution). It yields numbers one by one. It uses practically zero memory regardless of the count."
  },
  {
    "id": 4027,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Concat vs Union",
    "content": "What is the key difference between `Concat()` and `Union()`?",
    "explanation": "`Concat` blindly appends the second list (allows duplicates). `Union` appends distinct elements (removes duplicates), which requires a HashSet overhead."
  },
  {
    "id": 4028,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Optimizing Count()",
    "content": "Does `Count()` on a list iterate the list?",
    "explanation": "**(Optimization).** LINQ checks if the collection implements `ICollection<T>`. If so, it uses the `.Count` property (O(1)). It only iterates (O(N)) if the source is a raw `IEnumerable`."
  },
  {
    "id": 4029,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "AsEnumerable in EF Core",
    "content": "Why call `.AsEnumerable()` in the middle of a LINQ chain?",
    "explanation": "To switch from Database evaluation (SQL) to Client evaluation (Memory). Useful when you need to run a C# method that cannot be translated to SQL."
  },
  {
    "id": 4030,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "All() Operator",
    "content": "What does `emptyList.All(x => x > 5)` return?",
    "explanation": "**(Logic).** `True`. This is \"Vacuous Truth\". There are no elements that violate the condition, so the condition is considered satisfied."
  },
  {
    "id": 4031,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Cross Join",
    "content": "How to do a Cross Join (Cartesian Product) in LINQ?",
    "explanation": "`SelectMany`. `listA.SelectMany(a => listB, (a, b) => new { a, b })`. It pairs every A with every B."
  },
  {
    "id": 4032,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Custom LINQ Extension",
    "content": "How can you extend LINQ with custom methods?",
    "explanation": "Yes. Just write an extension method for `IEnumerable<T>`. `public static IEnumerable<T> MyFilter<T>(this IEnumerable<T> source) ...` using `yield return`."
  },
  {
    "id": 4033,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Reverse Operator",
    "content": "Is `.Reverse()` deferred?",
    "explanation": "**Deferred, but Buffered.** To yield even the first item, `Reverse` must iterate and buffer the *entire* sequence to find the end. It effectively consumes O(N) memory and delays execution until the source is fully consumed."
  },
  {
    "id": 4034,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "EqualityComparer",
    "content": "How to use `Distinct` on a list of `Person` objects based on ID?",
    "explanation": "Implement `IEqualityComparer<Person>` or use `DistinctBy(p => p.Id)` (available in newer .NET versions)."
  },
  {
    "id": 4035,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Chunking",
    "content": "How to split a list into batches of 10?",
    "explanation": "Use `.Chunk(10)` (.NET 6+). Returns `IEnumerable<T[]>`. Before .NET 6, you had to perform complex GroupBy math."
  },
  {
    "id": 4036,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "ElementAt",
    "content": "Is `ElementAt(5)` always O(N)?",
    "explanation": "LINQ optimization checks for `IList<T>`. If implemented, it uses the indexer `[5]` (O(1)). Otherwise, it iterates (O(N))."
  },
  {
    "id": 4037,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "String is IEnumerable",
    "content": "Can you use LINQ on a string?",
    "explanation": "Yes. String implements `IEnumerable<char>`. You can do `\"hello\".Count(c => c == 'l')`."
  },
  {
    "id": 4038,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Null Coalescing in LINQ",
    "content": "`list.Where(x => x.Name ?? \"Empty\" == \"Empty\")`. Does this work in EF Core?",
    "explanation": "Yes. EF Core translates `??` to SQL `COALESCE`."
  },
  {
    "id": 4039,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Iterating a Dictionary",
    "content": "What is the type of `item` in `foreach(var item in myDictionary)`?",
    "explanation": "`KeyValuePair<TKey, TValue>`. It is a struct."
  },
  {
    "id": 4040,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Covariance in LINQ",
    "content": "`IEnumerable<string>` can be assigned to `IEnumerable<object>`. Why?",
    "explanation": "Because `IEnumerable<T>` is defined as `IEnumerable<out T>`. The `out` keyword enables Covariance (you can only get T out, not put T in)."
  },
  {
    "id": 4041,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Contains Method",
    "content": "`list.Contains(item)` on a List vs HashSet.",
    "explanation": "O(N) for List (linear search). O(1) for HashSet (hash lookup). Always prefer HashSet for large lookup collections."
  },
  {
    "id": 4042,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Expression.Compile",
    "content": "What does `expression.Compile()` do?",
    "explanation": "It converts the Data Tree (AST) into executable IL code (a Delegate). This is an expensive operation. Cache the delegate if you plan to reuse it."
  },
  {
    "id": 4043,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Last vs LastOrDefault",
    "content": "Is `Last()` efficient on a database?",
    "explanation": "Often no. SQL databases usually prefer `TOP 1` (Take 1). To get the last item efficiently, you should usually `OrderByDescending(...).First()`."
  },
  {
    "id": 4044,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Prepend / Append",
    "content": "`list.Append(item)` modifies the list?",
    "explanation": "No. Like all LINQ methods, it returns a *new* IEnumerable that yields the list items followed by the new item. The original list is untouched."
  },
  {
    "id": 4045,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Grouping Performance",
    "content": "Does `GroupBy` execute immediately or is it deferred?",
    "explanation": "`GroupBy` is deferred, but when iterated, it must consume the *entire* source to categorize elements. It acts as a \"Stop the world\" operation in the pipeline."
  },
  {
    "id": 4046,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "MinBy / MaxBy",
    "content": "How to get the `Person` with the highest `Age`?",
    "explanation": "Use `.MaxBy(p => p.Age)` (.NET 6+). Before this, you had to sort (slow) or use Aggregate. `MaxBy` is O(N)."
  },
  {
    "id": 4047,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "Deep Copy with LINQ",
    "content": "Does `.ToList()` create a deep copy of objects?",
    "explanation": "No. It creates a **Shallow Copy** of the collection. The new list contains references to the *same* objects in memory. Modifying a property of an object in the new list changes it for the old list too. You need to manually clone objects for a deep copy."
  },
  {
    "id": 4048,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "C# Query Syntax vs Method Syntax",
    "content": "Is `from x in list ...` compiled differently than `list.Select(...)`?",
    "explanation": "No. Query Syntax is purely syntactic sugar. The compiler translates it exactly into Method Syntax calls (`Where`, `Select`, `SelectMany`) before compiling to IL."
  },
  {
    "id": 4049,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "ForEach Extension",
    "content": "Why doesn't `IEnumerable` have a `.ForEach()` extension method?",
    "explanation": "**(Philosophy).** LINQ is for *querying* (functional, side-effect free). `ForEach` implies side effects (modifying things). Use a standard `foreach` loop for actions."
  },
  {
    "id": 4050,
    "category": "LINQ",
    "difficulty": "Senior",
    "title": "TryGetNonEnumeratedCount",
    "content": "What is `TryGetNonEnumeratedCount`?",
    "explanation": "C# 10+. It attempts to get the count *without* forcing an iteration (e.g., if it's a List or Array). Returns false if it would require counting elements one by one."
  }
  ,
  {
    "id": 5001,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Captive Dependency",
    "content": "You inject a `Scoped` service into a `Singleton` service constructor. What happens?",
    "explanation": "**(Critical Memory Leak).** This is a **Captive Dependency**. The Singleton is created once and holds the *first* instance of the Scoped service forever. The Scoped service is never disposed and is shared by all users, causing thread-safety issues and stale data. **Fix:** Inject `IServiceScopeFactory` and create a scope manually."
  },
  {
    "id": 5002,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Middleware Order",
    "content": "You placed `app.UseAuthorization()` *before* `app.UseAuthentication()`. Is this secure?",
    "explanation": "No. Middleware order matters. Authentication determines *who* you are. Authorization determines *what you can do*. You must know who the user is (AuthN) before checking their permissions (AuthZ). Swap them."
  },
  {
    "id": 5003,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "IOptionsSnapshot",
    "content": "You want to read configuration settings that update while the app is running without restarting. Use `IOptions<T>`?",
    "explanation": "`IOptions<T>` is a Singleton (read once at startup). Use `IOptionsSnapshot<T>` (Scoped, recomputed per request) or `IOptionsMonitor<T>` (Singleton with change notifications) for hot-reloading settings."
  },
  {
    "id": 5004,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "BackgroundService vs IHostedService",
    "content": "Difference between inheriting `BackgroundService` and implementing `IHostedService`?",
    "explanation": "`BackgroundService` is a helper abstract class that implements `IHostedService` and provides a `ExecuteAsync(CancellationToken)` method. It handles the boilerplate of starting and stopping the task gracefully. Prefer `BackgroundService`."
  },
  {
    "id": 5005,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Scoped in Middleware",
    "content": "Can you inject a Scoped service (like DbContext) into a Middleware's constructor?",
    "explanation": "Middleware is instantiated as a Singleton (once per app lifetime). Injecting a Scoped service into the constructor causes a Captive Dependency. Instead, inject it into the `InvokeAsync(HttpContext context, MyScopedService svc)` method."
  },
  {
    "id": 5006,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Minimal APIs vs Controllers",
    "content": "Are Minimal APIs just for prototypes?",
    "explanation": "**(Misconception).** Minimal APIs are high-performance and production-ready. They have lower memory overhead (no Controller instantiation) and perform slightly better. They are fully supported in .NET 6/7/8."
  },
  {
    "id": 5007,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "IDesignTimeDbContextFactory",
    "content": "Why implement `IDesignTimeDbContextFactory`?",
    "explanation": "It tells EF Core CLI tools how to create your DbContext during development (e.g., for Migrations) without running the actual application startup logic. Essential for CI/CD or specialized architectures."
  },
  {
    "id": 5008,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Health Checks",
    "content": "Should Health Checks return complex JSON data?",
    "explanation": "Yes, for 'Liveness' vs 'Readiness'. Use `AspNetCore.HealthChecks.UI`. A basic 200 OK is fine for a load balancer ping, but a detailed report (DB latency, Disk space) helps diagnosing 'Unhealthy' states."
  },
  {
    "id": 5009,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Kestrel vs IIS",
    "content": "Can Kestrel face the internet directly?",
    "explanation": "In the past, we put IIS/Nginx in front (Reverse Proxy). Modern Kestrel is hardened and capable of facing the internet directly, though a Reverse Proxy is still recommended for SSL termination, caching, and load balancing."
  },
  {
    "id": 5010,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Filter Pipeline Order",
    "content": "Which runs first: Action Filter or Authorization Filter?",
    "explanation": "Authorization Filters run first. It makes no sense to run Model Binding or Action logic if the user isn't allowed to be there."
  },
  {
    "id": 5011,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "FromBody vs FromForm",
    "content": "Can you mix `[FromBody]` and `[FromForm]` on the same object?",
    "explanation": "`[FromBody]` consumes the Request Stream (JSON/XML). The stream can only be read once. `[FromForm]` reads Key-Value pairs. You generally cannot mix them for the same request payload."
  },
  {
    "id": 5012,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Validation Filter",
    "content": "Do you need to check `ModelState.IsValid` manually in [ApiController]?",
    "explanation": "**(Redundant).** Classes marked with `[ApiController]` automatically return HTTP 400 if validation fails *before* the action is called. Manual checks are unnecessary code bloat."
  },
  {
    "id": 5013,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Global Exception Handling",
    "content": "Should you wrap every Controller action in try-catch?",
    "explanation": "Use Middleware for cross-cutting concerns. `app.UseExceptionHandler()` or a custom Middleware catches all exceptions, logs them, and returns a standardized JSON error response (RFC 7807 Problem Details)."
  },
  {
    "id": 5014,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Configuration Environment Variables",
    "content": "Does `appsettings.json` override Environment Variables?",
    "explanation": "Default builder order: JSON files -> User Secrets -> Environment Variables -> CLI Args. Environment Variables (used by Docker/Kubernetes) override `appsettings.json`."
  },
  {
    "id": 5015,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Native AOT (Ahead of Time)",
    "content": "What is the main trade-off of enabling Native AOT in .NET 8?",
    "explanation": "You get faster startup and smaller binaries, BUT you lose heavily dynamic features (Reflection emitting, dynamic loading). Many libraries relying on runtime code generation (classic JSON serializers, old EF) might break."
  },
  {
    "id": 5016,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "IHttpClientFactory",
    "content": "Why use `IHttpClientFactory` instead of `new HttpClient()`?",
    "explanation": "`HttpClient` creates a connection handler. If you dispose it, the socket remains in `TIME_WAIT`. Creating many exhausts ports (Socket Exhaustion). The Factory manages a pool of Handlers to reuse connections properly."
  },
  {
    "id": 5017,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "System.Text.Json",
    "content": "Is `Newtonsoft.Json` still the default?",
    "explanation": "Since .NET Core 3.0, `System.Text.Json` is the default. It is high-performance, strictly spec-compliant, and uses `Span<T>`/`UTF8` directly. Newtonsoft is slower but more feature-rich for loose JSON."
  },
  {
    "id": 5018,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Output Caching",
    "content": "Where should Output Caching middleware be placed?",
    "explanation": "It must be placed *before* the endpoint mapping but usually *after* CORS/Auth. It needs to intercept the request to serve the cached response before the Controller logic runs."
  },
  {
    "id": 5019,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "IServiceProvider Scope",
    "content": "How do you resolve a Scoped service inside a BackgroundService (Singleton)?",
    "explanation": "Inject `IServiceScopeFactory`. Create a scope manually: `using (var scope = factory.CreateScope()) { var svc = scope.ServiceProvider.GetRequiredService<T>(); ... }`."
  },
  {
    "id": 5020,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "UseStaticFiles",
    "content": "Does `UseStaticFiles` require Authorization?",
    "explanation": "**(Trap).** By default, `UseStaticFiles` serves files anonymously. If placed before `UseAuthorization`, files are public. To secure them, serve them via a Controller or configure Static Files options to check context."
  },
  {
    "id": 5021,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "User Secrets",
    "content": "Are User Secrets encrypted?",
    "explanation": "**(Security).** No. They are just a JSON file stored in your user profile folder (`%APPDATA%`). They prevent checking secrets into Git, but they are not secure storage. Use Azure KeyVault for production."
  },
  {
    "id": 5022,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Endpoint Routing",
    "content": "What is the specific role of `UseRouting` vs `UseEndpoints`?",
    "explanation": "**(Internal).** `UseRouting` matches the request to an endpoint (selects it). `UseEndpoints` actually executes the delegate. Middleware placed *between* them can see which endpoint was selected (via metadata) before it runs."
  },
  {
    "id": 5023,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Response Compression",
    "content": "Should you enable Response Compression (Gzip/Brotli) for HTTPS?",
    "explanation": "**(With Caution).** It saves bandwidth, but beware of the BREACH attack (security vulnerability with compressed secrets). Generally safe for public APIs returning non-sensitive data."
  },
  {
    "id": 5024,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Rate Limiting",
    "content": "Does .NET 7+ have built-in Rate Limiting?",
    "explanation": "Yes. `Microsoft.AspNetCore.RateLimiting` middleware provides Token Bucket, Fixed Window, and Concurrency limiting without needing third-party libs."
  },
  {
    "id": 5025,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Feature Flags",
    "content": "How strictly typed are Feature Flags in standard .NET?",
    "explanation": "The standard `Microsoft.FeatureManagement` uses string keys (`\"BetaFeature\"`). It's best to wrap these in a `static class` or `enum` to avoid magic strings scattered across the app."
  },
  {
    "id": 5026,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Request Body Size Limit",
    "content": "How to increase the upload limit for a single endpoint?",
    "explanation": "Use the `[RequestSizeLimit(bytes)]` attribute on the Controller action. Also check Kestrel/IIS server limits globally."
  },
  {
    "id": 5027,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Protobuf / gRPC",
    "content": "Is gRPC faster than REST + JSON?",
    "explanation": "Yes. gRPC uses Protobuf (binary serialization) which is smaller and faster to parse than JSON (text). It also uses HTTP/2 multiplexing. Ideal for internal microservice comms."
  },
  {
    "id": 5028,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "HttpContext Access",
    "content": "Should you pass `HttpContext` to your Service layer?",
    "explanation": "No. It couples your business logic to the Web layer. If you need the Current User ID, create an `ICurrentUserService` abstraction that reads from `IHttpContextAccessor` internally."
  },
  {
    "id": 5029,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "ProblemDetails",
    "content": "What is `ProblemDetails`?",
    "explanation": "A standard JSON format (RFC 7807) for returning errors. .NET Core uses it by default. It includes fields like `type`, `title`, `status`, `detail`, `instance`."
  },
  {
    "id": 5030,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Async Streams Controller",
    "content": "Can a Controller action return `IAsyncEnumerable<T>`?",
    "explanation": "Yes. .NET Core will stream the JSON array to the client item-by-item as they are yielded, keeping memory usage low."
  },
  {
    "id": 5031,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Multiple Interfaces, One Class",
    "content": "`services.AddScoped<IA, Svc>(); services.AddScoped<IB, Svc>();`\nDoes this create one or two instances?",
    "explanation": "**(Trap).** It creates **two** instances. One for IA and one for IB. If `Svc` holds state, they won't share it. Fix: `services.AddScoped<Svc>(); services.AddScoped<IA>(p => p.GetRequiredService<Svc>()); ...`"
  },
  {
    "id": 5032,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "TryAddScoped",
    "content": "What does `TryAddScoped` do?",
    "explanation": "It registers the service *only if* it hasn't been registered already. Essential for library authors to avoid overwriting user configurations."
  },
  {
    "id": 5033,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Open Generics Injection",
    "content": "Can you register `IRepository<>` to `Repository<>`?",
    "explanation": "Yes. `services.AddScoped(typeof(IRepository<>), typeof(Repository<>));`. The container will dynamically construct `Repository<User>` when `IRepository<User>` is requested."
  },
  {
    "id": 5034,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Scrutor",
    "content": "What is Scrutor used for?",
    "explanation": "A popular library for Assembly Scanning. \"Register all classes ending in 'Service' as their interfaces\". It reduces `Program.cs` boilerplate."
  },
  {
    "id": 5035,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "ForwardedHeaders",
    "content": "Your app thinks it's running on HTTP, but it's behind an HTTPS load balancer. Redirect loops occur.",
    "explanation": "Use `ForwardedHeadersMiddleware`. It reads the `X-Forwarded-Proto` header from the load balancer and updates the `HttpContext.Request.Scheme` so the app knows it's actually secure."
  },
  {
    "id": 5036,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Logging Performance",
    "content": "`logger.LogInformation(\"Processing \" + item.Id);`",
    "explanation": "String concatenation happens *before* checking the log level. If logging is disabled, you still pay the allocation cost. Use structured logging: `logger.LogInformation(\"Processing {Id}\", item.Id);`."
  },
  {
    "id": 5037,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Compile-time Logging",
    "content": "What is `LoggerMessage.Define` or source-generated logging?",
    "explanation": "High-performance logging. It pre-compiles the log format string and avoids boxing value types. Essential for high-throughput hot paths."
  },
  {
    "id": 5038,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Data Protection API (DPAPI)",
    "content": "You deployed to a web farm. Users get logged out immediately.",
    "explanation": "The auth cookies are encrypted with a machine-specific key. In a farm, Server A can't decrypt Server B's cookie. You must configure Data Protection to store keys in a shared location (Redis/Blob/SQL)."
  },
  {
    "id": 5039,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "CORS Preflight",
    "content": "What HTTP method is a CORS Preflight request?",
    "explanation": "`OPTIONS`. The browser sends it to check permissions (`Access-Control-Allow-Origin`) before sending the actual PUT/DELETE/POST with headers."
  },
  {
    "id": 5040,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Polly Integration",
    "content": "Where is the best place to configure Polly retries?",
    "explanation": "In `Program.cs` via `AddHttpClient`. `services.AddHttpClient(...).AddTransientHttpErrorPolicy(...)`. This applies resilience globally to that client usage."
  },
  {
    "id": 5041,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Environment Tag Helper",
    "content": "In Razor/Blazor, how to show script tags only in Development?",
    "explanation": "Use `<environment include=\"Development\"> ... </environment>`. It checks `ASPNETCORE_ENVIRONMENT`."
  },
  {
    "id": 5042,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Keyed Services",
    "content": ".NET 8 feature: Can you register multiple implementations of `ICache` and pick one by name?",
    "explanation": "Yes! `services.AddKeyedSingleton<ICache, RedisCache>(\"redis\");`. Inject via `[FromKeyedServices(\"redis\")] ICache cache`."
  },
  {
    "id": 5043,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "HybridCache",
    "content": ".NET 9 Preview / Common Pattern: What is Hybrid Cache?",
    "explanation": "Combines L1 (In-Memory) and L2 (Distributed/Redis). It checks memory first (fastest), then Redis, then DB. Prevents serialization costs for frequently accessed data."
  },
  {
    "id": 5044,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "TestServer",
    "content": "How to perform Integration Tests without hosting a real HTTP port?",
    "explanation": "Use `Microsoft.AspNetCore.TestHost`. It creates an in-memory server pipeline. `HttpClient` calls go directly to the controller pipeline in memory. Fast and isolated."
  },
  {
    "id": 5045,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "RequestDelegate",
    "content": "What is the signature of a middleware delegate?",
    "explanation": "`RequestDelegate` is `Func<HttpContext, Task>`. Middleware is basically a chain of these functions calling `next(context)`."
  },
  {
    "id": 5046,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "SignalR Backplane",
    "content": "Why do you need a Redis Backplane for SignalR in a Web Farm?",
    "explanation": "WebSocket connections are sticky to one server. If Server A wants to send a message to \"All Users\", it needs the Backplane to broadcast that message to Server B and Server C so their connected users get it too."
  },
  {
    "id": 5047,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Directory.Build.props",
    "content": "How to enforce a specific C# version or Nuget package version across 50 projects?",
    "explanation": "Use a `Directory.Build.props` file in the solution root. MSBuild automatically imports it into every project in the folder structure."
  },
  {
    "id": 5048,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Nullable Reference Types",
    "content": "`<Nullable>enable</Nullable>`. Is this just a compiler warning?",
    "explanation": "Yes, it is static analysis. It does not change runtime behavior (it doesn't throw NullReferenceException automatically). It forces you to handle nulls explicitly during coding."
  },
  {
    "id": 5049,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Minimal API Filters",
    "content": "Can you use Filters (like Validation) in Minimal APIs?",
    "explanation": "Yes, starting in .NET 7, you can use `.AddEndpointFilter<MyFilter>()`. Before that, you had to wrap the delegate manually."
  },
  {
    "id": 5050,
    "category": ".NET Core",
    "difficulty": "Senior",
    "title": "Map vs MapWhen",
    "content": "How does `Map` differ from `MapWhen` in middleware branching?",
    "explanation": "`Map` branches based on the URL path. `MapWhen` branches based on *any* predicate (headers, query strings, etc.). Both create a separate pipeline branch."
  }
  ,
  {
    "id": 6001,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "N+1 Problem Detection",
    "content": "You see this code:\n`var users = db.Users.ToList();`\n`foreach(var u in users) { Print(u.Address.City); }`\nWhat happens?",
    "explanation": "**(N+1 Problem).** The first line executes 1 SQL query. The loop executes N more queries (one per user) because `Address` is being Lazy Loaded. For 1000 users, that's 1001 DB calls. **Fix:** Use Eager Loading: `db.Users.Include(u => u.Address).ToList()`."
  },
  {
    "id": 6002,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "AsNoTracking",
    "content": "When fetching data for a read-only API endpoint, should you use `.AsNoTracking()`?",
    "explanation": "Yes. By default, EF tracks changes to entities (Snapshot tracking), which consumes memory and CPU. `AsNoTracking` bypasses the Change Tracker, making reads significantly faster."
  },
  {
    "id": 6003,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Cartesian Explosion",
    "content": "`db.Orders.Include(o => o.Items).Include(o => o.History).ToList()`.\nItems and History are large collections.",
    "explanation": "**(Cartesian Explosion).** Single query joins multiply rows. If you have 100 Orders, each with 10 Items and 10 History logs, SQL returns 10,000 rows (100 * 10 * 10) of duplicate data. **Fix:** Use `.AsSplitQuery()` to load them in 3 separate, clean SQL statements."
  },
  {
    "id": 6004,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "ExecuteUpdate (EF Core 7+)",
    "content": "You need to update the status of 5,000 orders. Loop and SaveChanges?",
    "explanation": "Loading 5,000 entities just to change one field is wasteful. Use `db.Orders.Where(...).ExecuteUpdate(s => s.SetProperty(x => x.Status, \"Shipped\"))`. This generates a single SQL UPDATE statement without fetching data."
  },
  {
    "id": 6005,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "SaveChanges vs SaveChangesAsync",
    "content": "Can you mix `await db.SaveChangesAsync()` and synchronous `db.SaveChanges()`?",
    "explanation": "Avoid synchronous I/O in web apps. `SaveChanges` blocks the thread while waiting for the DB write. `SaveChangesAsync` releases the thread to handle other requests."
  },
  {
    "id": 6006,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Global Query Filters",
    "content": "How to implement Soft Delete automatically?",
    "explanation": "Use Global Query Filters: `modelBuilder.Entity<User>().HasQueryFilter(u => !u.IsDeleted)`. EF automatically appends `WHERE IsDeleted = 0` to every query. **Warning:** Remember to use `.IgnoreQueryFilters()` if you specifically need to see deleted users (e.g., for an admin restore screen)."
  },
  {
    "id": 6007,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Shadow Properties",
    "content": "You need to track `LastUpdated` on every table but don't want to pollute your C# Domain classes.",
    "explanation": "Use Shadow Properties. Define them in `OnModelCreating`. They exist in the DB and EF Change Tracker, but not in your C# class. You can access them via `Entry(entity).Property(\"LastUpdated\")`."
  },
  {
    "id": 6008,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Explicit Loading",
    "content": "When would you use `Entry(user).Collection(u => u.Posts).Load()`?",
    "explanation": "When you already have the User entity loaded, and you conditionally need to load their posts later. This is better than Lazy Loading because it is explicit and async-capable."
  },
  {
    "id": 6009,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Compiled Models",
    "content": "Your app startup is slow because of a huge DbContext with 500 tables.",
    "explanation": "Use `dotnet ef dbcontext optimize`. It generates a compiled version of the model metadata. EF Core skips the expensive runtime model building phase."
  },
  {
    "id": 6010,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Concurrency Tokens",
    "content": "How to prevent \"Lost Updates\" (User A overwrites User B's work)?",
    "explanation": "Add a `[Timestamp]` byte[] property (RowVersion). EF generates `WHERE Id = 1 AND RowVersion = [OldBytes]`. If the row changed, it throws `DbUpdateConcurrencyException`. Catch it and ask the user to reload."
  },
  {
    "id": 6011,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Find vs FirstOrDefault",
    "content": "Why use `db.Users.Find(id)` instead of `.FirstOrDefault(u => u.Id == id)`?",
    "explanation": "`Find` checks the **Local Context Cache** (ChangeTracker) first. If the entity is already loaded in memory, it returns it instantly (O(1)) without hitting the database. `FirstOrDefault` always runs a SQL query."
  },
  {
    "id": 6012,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "EF.Functions.Like",
    "content": "Why use `EF.Functions.Like(x.Name, \"a%\")` instead of `x.Name.StartsWith(\"a\")`?",
    "explanation": "`StartsWith` is case-sensitive or insensitive depending on DB collation. `Like` translates directly to SQL `LIKE`, giving you precise control over wildcards and behavior."
  },
  {
    "id": 6013,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Keyless Entity Types",
    "content": "Can you map a SQL View or a raw SQL query result to a class?",
    "explanation": "Yes, use `.HasNoKey()`. Useful for reporting dashboards where the result doesn't correspond to a table and doesn't need tracking/updating."
  },
  {
    "id": 6014,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Idempotent Migrations",
    "content": "How to safely apply migrations in production?",
    "explanation": "Generate an Idempotent Script: `dotnet ef migrations script --idempotent`. It wraps every change in `IF NOT EXISTS` blocks. You can run the script safely on a DB regardless of its current version."
  },
  {
    "id": 6015,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Transactions",
    "content": "Do you need `BeginTransaction()` for a single `SaveChanges()`?",
    "explanation": "No. `SaveChanges` is atomic by default. It wraps all changes in a transaction automatically. Use explicit transactions only when coordinating multiple SaveChanges or external DB calls."
  },
  {
    "id": 6016,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Data Seeding",
    "content": "Should you seed initial data in `OnModelCreating`?",
    "explanation": "Yes, for static lookup data (e.g., Countries, Roles). It becomes part of the Migration. For large transactional seed data, use a separate script or startup logic."
  },
  {
    "id": 6017,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Owned Types",
    "content": "How to map a `Address` value object (Street, City) inside the `User` table?",
    "explanation": "Use `OwnsOne`. `modelBuilder.Entity<User>().OwnsOne(u => u.Address)`. EF flattens the columns into the Users table (`Address_Street`, `Address_City`)."
  },
  {
    "id": 6018,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "TPH vs TPT",
    "content": "Default inheritance mapping strategy?",
    "explanation": "TPH (Table Per Hierarchy). One table for all subclasses with a `Discriminator` column. It is generally the fastest. TPT (Table Per Type) joins tables, which can be slow."
  },
  {
    "id": 6019,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Client Evaluation",
    "content": "What happens if you use `db.Users.Where(u => HelperMethod(u.Name))` in EF Core?",
    "explanation": "**(Critical Performance Issue).** EF Core cannot translate `HelperMethod` into SQL. In old versions (2.x), this triggered \"Client Evaluation\" (downloading the table). Modern EF Core (3.0+) throws a Runtime Exception to prevent this hidden performance bomb. **Solution:** Rewrap the logic into an Expression Tree or do the data processing in memory *after* fetching the raw data."
  },
  {
    "id": 6020,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "FromSqlInterpolated",
    "content": "`db.Users.FromSql($\"SELECT * FROM Users WHERE Id = {id}\")`.",
    "explanation": "Safe. It creates a `DbParameter` for `{id}`, preventing SQL Injection. Do NOT use `FromSqlRaw` with string concatenation."
  },
  {
    "id": 6021,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Value Converters",
    "content": "How to store a `List<string> Tags` property in a single SQL column?",
    "explanation": "Use a Value Converter to serialize to JSON string on write, and deserialize on read. `.HasConversion(v => JsonSerializer.Serialize(v), v => JsonSerializer.Deserialize(v))`."
  },
  {
    "id": 6022,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "DbContext Lifetime",
    "content": "Can you use DbContext as a Singleton?",
    "explanation": "**(Fatal Error).** No. DbContext is **Not Thread-Safe**. It is Stateful (Change Tracker). Using it as a Singleton means all concurrent requests share the same connection and tracking state, leading to race conditions, data corruption, and crashes. Always use `Scoped` lifetime."
  },
  {
    "id": 6023,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Pooling DbContext",
    "content": "High-throughput API. Garbage Collector is stressed by DbContext creation.",
    "explanation": "Use `AddDbContextPool`. It keeps a pool of context instances open and resets them for reuse, reducing allocation overhead."
  },
  {
    "id": 6024,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "TagWith",
    "content": "How to debug which C# code generated a slow SQL query?",
    "explanation": "Use `.TagWith(\"GetTopUsers\")`. EF adds a SQL comment `-- GetTopUsers` to the generated query, making it easy to spot in SQL Profiler/logs."
  },
  {
    "id": 6025,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Interceptor",
    "content": "How to modify SQL globally before it executes (e.g., adding hints)?",
    "explanation": "Register a `DbCommandInterceptor`. You can hook into `ReaderExecuting` and modify the `command.CommandText` dynamically."
  },
  {
    "id": 6026,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Lazy Loading Proxies",
    "content": "Should you install `Microsoft.EntityFrameworkCore.Proxies`?",
    "explanation": "**(Anti-Pattern).** Lazy Loading Proxies hide database calls behind property accessors (e.g., `user.Address` triggers a query). This makes it trivial to accidentally cause **N+1 problems**. Senior architectures prefer Explicit Loading or Eager Loading (`Include`) to make data access predictable and visible."
  },
  {
    "id": 6027,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Temporary Values",
    "content": "You added an entity, but its Id is negative (e.g., -2147482647).",
    "explanation": "This is normal. When using generated keys, EF assigns a temporary ID. The real ID is obtained from the DB only after `SaveChanges` is called."
  },
  {
    "id": 6028,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Navigation Fixup",
    "content": "You fetch a Blog, then separately fetch its Posts. Does `blog.Posts` get populated?",
    "explanation": "Yes. The Change Tracker performs \"Navigation Fixup\". If related entities are loaded into the same context, EF automatically links the navigation properties."
  },
  {
    "id": 6029,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "HasData vs EnsureCreated",
    "content": "Can you use `HasData` (Seeding) if you use `EnsureCreated`?",
    "explanation": "Yes, but `EnsureCreated` bypasses Migrations. It builds the schema directly. Good for integration tests, bad for production schema evolution."
  },
  {
    "id": 6030,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "HiLo Sequence",
    "content": "Why use HiLo strategy for IDs?",
    "explanation": "It allows the client (EF) to generate batches of IDs (e.g., 100 at a time) without round-tripping to the DB for every insert. Great for bulk inserts."
  },
  {
    "id": 6031,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Filtered Include",
    "content": "`db.Blogs.Include(b => b.Posts.Where(p => p.Likes > 5))`.",
    "explanation": "Supported in modern EF Core. It filters the *child* collection. The blog object will have a `Posts` list containing ONLY the popular posts."
  },
  {
    "id": 6032,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "ContextFactory",
    "content": "You are using Blazor Server. How to use DbContext?",
    "explanation": "Do not inject DbContext directly (scope issues). Inject `IDbContextFactory<T>`. Create a short-lived context `using var db = factory.CreateDbContext()` for each operation."
  },
  {
    "id": 6033,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Many-to-Many",
    "content": "Do you need an explicit Join Entity (PostTag) class?",
    "explanation": "In EF Core 5+, no. It supports skip navigations `post.Tags`. However, if the join table has extra payload (e.g., `TaggedDate`), you MUST create the explicit join entity."
  },
  {
    "id": 6034,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "ExecuteDelete",
    "content": "`context.RemoveRange(users); SaveChanges();` vs `users.ExecuteDelete()`.",
    "explanation": "**(Optimization).** `ExecuteDelete` is strictly faster. `RemoveRange` fetches data into memory, tracks it, and issues N DELETE statements. `ExecuteDelete` issues a single SQL command `DELETE FROM Users WHERE ...` without moving any data to the app."
  },
  {
    "id": 6035,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Json Columns",
    "content": "Can you query *inside* a JSON column?",
    "explanation": "Yes (EF Core 7+). `db.Users.Where(u => u.Settings.Theme == \"Dark\")`. EF translates this to JSON operators (`JSON_VALUE` in SQL Server, `->>` in Postgres)."
  },
  {
    "id": 6036,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Reverse Engineering (Scaffolding)",
    "content": "DB First approach. How to update models when DB changes?",
    "explanation": "Run `dotnet ef dbcontext scaffold ... --force`. It regenerates the POCOs. Warning: Any manual changes to those files will be overwritten. Use `partial` classes to add custom logic."
  },
  {
    "id": 6037,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Nullable Reference Types in EF",
    "content": "`public string? MiddleName { get; set; }`",
    "explanation": "EF Core respects nullability. This property will be mapped as `NULL` in DB. Non-nullable `string` will be `NOT NULL`."
  },
  {
    "id": 6038,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Temporal Tables",
    "content": "How to query historical data (Time Travel)?",
    "explanation": "If configured (`IsTemporal()`), use `db.Users.TemporalAsOf(date)`. EF generates standard SQL `FOR SYSTEM_TIME AS OF` syntax."
  },
  {
    "id": 6039,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Multiple Providers",
    "content": "Can one DbContext support both SQL Server and SQLite?",
    "explanation": "Yes. Use `if (options.IsSqlite())` inside `OnModelCreating` to configure provider-specific types/functions."
  },
  {
    "id": 6040,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "ToQueryString",
    "content": "Quickest way to see generated SQL without a logger?",
    "explanation": "`var sql = query.ToQueryString();`. Useful in debugging (Watch Window)."
  },
  {
    "id": 6041,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Ignore Query Filters",
    "content": "Admin needs to see 'Deleted' users.",
    "explanation": "Use `.IgnoreQueryFilters()`. It bypasses the global filter (e.g., Soft Delete logic) for that specific query."
  },
  {
    "id": 6042,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Complex Types (EF8)",
    "content": "Value Objects with `ComplexProperty` vs `OwnsOne`.",
    "explanation": "`ComplexProperty` (EF8) is struct-like. It cannot have an ID. `OwnsOne` is technically an entity with a hidden ID sharing the table. Complex Types are the true Value Object implementation we waited for."
  },
  {
    "id": 6043,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Streaming Results",
    "content": "Does `AsAsyncEnumerable` stream data?",
    "explanation": "Yes. It keeps the DataReader open and yields rows one by one. `ToListAsync` buffers everything into memory first."
  },
  {
    "id": 6044,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Detached Entities",
    "content": "You receive a modified User object from a web client. How to update?",
    "explanation": "`db.Update(user)`. This marks *all* properties as modified. For partial updates, attach it `db.Attach(user)` and manually set `Entry(user).Property(x => x.Name).IsModified = true`."
  },
  {
    "id": 6045,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Command Timeout",
    "content": "Report query takes 2 minutes. Default is 30s. Fix?",
    "explanation": "`db.Database.SetCommandTimeout(120)`. Or configure it in the connection string builder."
  },
  {
    "id": 6046,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Generic Repository Pattern",
    "content": "Is wrapping DbSet in a Generic Repository good?",
    "explanation": "`DbSet` *is* a Repository. `DbContext` *is* a Unit of Work. Wrapping them generically (`Get<T>`, `Add<T>`) usually removes EF features (Includes, Projections) without adding value. Use Repositories only for specific aggregates."
  },
  {
    "id": 6047,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "InMemory Provider",
    "content": "Should you use InMemory provider for tests?",
    "explanation": "Use **TestContainers** or SQLite In-Memory. The EF InMemory provider behaves differently than relational DBs (no constraints, case sensitivity differences). It gives false positives."
  },
  {
    "id": 6048,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "HasConversion vs ValueComparer",
    "content": "You map a List to JSON. EF thinks it changed every time.",
    "explanation": "Reference types (List) need a `ValueComparer`. Otherwise, EF compares references, sees they are different instances (even if content is same), and triggers an update. Define a comparer checking deep equality."
  },
  {
    "id": 6049,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "HierarchyId",
    "content": "How to store tree structures efficiently in SQL Server?",
    "explanation": "Use `HierarchyId` support. It allows efficient queries like \"Get all descendants of node X\" without recursive CTEs."
  },
  {
    "id": 6050,
    "category": "EF Core",
    "difficulty": "Senior",
    "title": "Performance Counters",
    "content": "How to monitor active DB connections?",
    "explanation": "`EventCounters`. EF Core emits metrics like `active-db-contexts`, `total-queries`, `execution-strategy-failures`. View via `dotnet-counters` tool."
  }
  ,
  {
    "id": 7001,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Clustered vs Non-Clustered",
    "content": "Can you have two Clustered Indexes on a single table?",
    "explanation": "**(Concept).** No. The Clustered Index *dictates* the physical order of data on the disk. A table can only be sorted physically in one way. The Leaf Nodes of the Clustered Index B-Tree **are** the actual data pages. You can have multiple *Non-Clustered* indexes."
  },
  {
    "id": 7002,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Index Seek vs Scan",
    "content": "You see an 'Index Scan' in the execution plan. Is this bad?",
    "explanation": "**(Usually).** A 'Scan' reads every row in the index (O(N)). A 'Seek' jumps directly to the specific keys (O(log N)). Scans are fine for small tables, but disastrous for large tables. Aim for Seeks."
  },
  {
    "id": 7003,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "SARGable Queries",
    "content": "`SELECT * FROM Users WHERE YEAR(CreatedDate) = 2023`.",
    "explanation": "**(Non-SARGable).** This is a performance killer. Wrapping a column in a function (`YEAR(CreatedDate)`) hides the column value from the index, forcing a **Index Scan** (checking every row). **Fix:** Use SARGable ranges: `WHERE CreatedDate >= '2023-01-01' AND CreatedDate < '2024-01-01'`."
  },
  {
    "id": 7004,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "NOLOCK Hint",
    "content": "A report is slow, so you add `WITH (NOLOCK)`. Is this safe?",
    "explanation": "**(Dangerous).** `NOLOCK` reads **Uncommitted Data** (Dirty Reads). You might read a row that is being updated and later rolled back. Worse, in a B-Tree split scenario, you might read the same row twice or miss it entirely. **Solution:** Use **Read Committed Snapshot Isolation (RCSI)** for non-blocking reads without dirty data."
  },
  {
    "id": 7005,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Covering Index",
    "content": "What is a Covering Index?",
    "explanation": "An index that contains *all* the columns requested by the query (via `INCLUDE` clause). The engine can satisfy the query purely from the index B-Tree without looking up the actual table row (Key Lookup), massively improving speed."
  },
  {
    "id": 7006,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Deadlock vs Blocking",
    "content": "Is a Deadlock the same as a long Block?",
    "explanation": "**(Concept).** Blocking is waiting (User A holds lock, User B waits). Deadlock is a cycle (User A waits for B, B waits for A). The SQL engine *kills* one of the processes (the victim) to resolve a deadlock. Blocking resolves itself when the lock is released."
  },
  {
    "id": 7007,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Leading Wildcard",
    "content": "`LIKE '%term'`.",
    "explanation": "Starts with a wildcard. The index cannot be traversed (it's sorted alphabetically, but you don't know the first letter). Forces a full scan. `LIKE 'term%'` (trailing wildcard) *can* use the index."
  },
  {
    "id": 7008,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Page Splits",
    "content": "Why is using a `GUID` as a Clustered Key bad for performance?",
    "explanation": "**(Fragmentation).** GUIDs are random. New rows are inserted into random pages of the B-Tree. If a page is full, SQL Server must perform a **Page Split** (move half the data to a new page), which is IO-heavy and leaves pages 50% empty (Fragmentation). **Solution:** Use `SequentialGuid` or `BigInt` (Identity)."
  },
  {
    "id": 7009,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Parameter Sniffing",
    "content": "A stored procedure runs fast in SSMS but slow in the App. Why?",
    "explanation": "**(Diagnosis).** Parameter Sniffing. SQL Server compiles a plan based on the parameters of the *first* execution. If the first run used a value with high selectivity (Index Seek) and the second uses a value with low selectivity (requiring Scan), the reused plan is catastrophic. **Fix:** `OPTION (RECOMPILE)` or use local variables to mask the parameter."
  },
  {
    "id": 7010,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Window Functions",
    "content": "How to get the top 3 salaries *per department*?",
    "explanation": "Use `ROW_NUMBER() OVER (PARTITION BY DeptId ORDER BY Salary DESC)`. Then filter `WHERE RowNum <= 3`. Much faster than correlated subqueries."
  },
  {
    "id": 7011,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Table Variable vs Temp Table",
    "content": "`@Table` vs `#Table` for 100,000 rows.",
    "explanation": "Use `#Table` (Temp Table). `@Table` (Variable) does not have statistics. The Query Optimizer assumes it has 1 row, leading to terrible execution plans for large datasets. Temp tables support indexes and stats."
  },
  {
    "id": 7012,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Composite Index Order",
    "content": "Index on `(LastName, FirstName)`. Query: `WHERE FirstName = 'John'`.",
    "explanation": "The index is sorted by Last Name first. It's like a phone book. You can't efficiently find all 'Johns' without scanning the whole book. The query must filter by `LastName` (the leading column) to use the Seek."
  },
  {
    "id": 7013,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Fill Factor",
    "content": "Should you set Fill Factor to 100% on a read-heavy table?",
    "explanation": "Yes. 100% packs pages full, reducing the total number of pages and I/O. For write-heavy tables, lower it (e.g., 80%) to leave free space on pages and prevent page splits."
  },
  {
    "id": 7014,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Varchar(MAX) Performance",
    "content": "Should you use `Varchar(MAX)` for every string column \"just in case\"?",
    "explanation": "`(MAX)` columns cannot be indexed key columns (only included). They can also be stored off-row (LOB pages), causing extra I/O lookups. Use specific sizes `Varchar(100)` when possible."
  },
  {
    "id": 7015,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "CTE Performance",
    "content": "Is a CTE (`WITH x AS...`) faster than a Subquery?",
    "explanation": "**(Misconception).** No. A non-recursive CTE is just syntax sugar for a subquery/derived table. The optimizer treats them exactly the same. They do *not* persist data like a temp table."
  },
  {
    "id": 7016,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Implicit Conversion",
    "content": "`SELECT * FROM Users WHERE PhoneNumber = 12345` (Col is Varchar).",
    "explanation": "This causes **Implicit Conversion**. SQL converts the entire column to `int` to match the parameter. This breaks index usage (Scan) and adds CPU overhead. Always pass parameters with the correct type (String for Varchar)."
  },
  {
    "id": 7017,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Isolation Level: Serializable",
    "content": "Why not use `Serializable` isolation everywhere for safety?",
    "explanation": "It is the strictest level. It places Range Locks, preventing other users from inserting rows that would affect your query. It drastically reduces concurrency and causes frequent blocking/deadlocks."
  },
  {
    "id": 7018,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Update with Join",
    "content": "Is proprietary `UPDATE t1 FROM Table1 t1 JOIN Table2...` standard SQL?",
    "explanation": "No, that's T-SQL specific. ANSI SQL uses subqueries: `UPDATE Table1 SET Col = (SELECT ... )`. Be aware when porting to Postgres/Oracle."
  },
  {
    "id": 7019,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Truncate vs Delete",
    "content": "Difference between `TRUNCATE TABLE` and `DELETE FROM`?",
    "explanation": "`DELETE` is a logged operation (row by row), slow, and fires triggers. `TRUNCATE` deallocates the data pages (DDL operation), is instant, resets Identity, but cannot be used if Foreign Keys reference the table."
  },
  {
    "id": 7020,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Primary Key vs Unique Constraint",
    "content": "Can you have a NULL value in a Unique Constraint?",
    "explanation": "In SQL Server, yes, but *only one* NULL is allowed. In Postgres, multiple NULLs are allowed. Primary Keys never allow NULLs."
  },
  {
    "id": 7021,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Foreign Key Index",
    "content": "Does creating a Foreign Key automatically create an index on it?",
    "explanation": "**(Trap).** No! You must manually create an index on the FK column. Without it, deleting a parent row requires scanning the *entire* child table to check for orphans, causing massive blocking."
  },
  {
    "id": 7022,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Scalar Functions in Select",
    "content": "`SELECT dbo.GetStatus(Id) FROM Orders`.",
    "explanation": "Scalar UDFs are performance killers. They force row-by-row execution (RBAR - Row By Agonizing Row), preventing parallel plans. Convert logic to an Inline Table Valued Function (TVF) or a Computed Column."
  },
  {
    "id": 7023,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Key Lookup / RID Lookup",
    "content": "What is a Key Lookup in a plan?",
    "explanation": "**(Optimization Opportunity).** It means the Non-Clustered index found the row, but didn't have all the requested columns. It had to jump to the Clustered Index to get the rest. Fix: Add the missing columns to the `INCLUDE` list of the index."
  },
  {
    "id": 7024,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Filtered Index",
    "content": "Index only the rows `WHERE IsActive = 1`.",
    "explanation": "Smart move. If you only query active users, a filtered index is smaller, faster to update, and faster to read than a full index."
  },
  {
    "id": 7025,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Merge Statement",
    "content": "Should you use the `MERGE` statement for Upserts?",
    "explanation": "**(Risk).** The `MERGE` statement in SQL Server has known concurrency bugs (race conditions) that can result in errors or wrong data under high load. Using separate `UPDATE` + `INSERT` (with explicit transactions/locks) is often safer."
  },
  {
    "id": 7026,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Reorganize vs Rebuild",
    "content": "Index fragmentation is 15%. Rebuild or Reorganize?",
    "explanation": "**(Reorganize).** Reorganize is an online operation (doesn't lock the table) and cleans up leaf pages. Rebuild drops and recreates the index (heavy lock). Rule of thumb: <5% ignore, 5-30% Reorg, >30% Rebuild."
  },
  {
    "id": 7027,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Soft Delete Impact",
    "content": "Does `IsDeleted = 1` affect Unique Indexes?",
    "explanation": "Yes. If you soft-delete a user 'bob', and try to register a new 'bob', the Unique Index on Username will fail. You need a Filtered Unique Index: `WHERE IsDeleted = 0`."
  },
  {
    "id": 7028,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "UNION ALL",
    "content": "Why prefer `UNION ALL` over `UNION`?",
    "explanation": "`UNION` performs a distinct sort (removes duplicates), which is expensive. `UNION ALL` just concatenates results. If you know rows are unique, always use `ALL`."
  },
  {
    "id": 7029,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Cross Apply vs Outer Apply",
    "content": "What is the difference between `CROSS APPLY` and `OUTER APPLY`?",
    "explanation": "`CROSS APPLY` is like an Inner Join (filters out rows with no match). `OUTER APPLY` is like a Left Join (keeps rows, returns NULLs). They are used to join a table to a function/expression."
  },
  {
    "id": 7030,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Check Constraint",
    "content": "Can you enforce logic `EndDate > StartDate` in SQL?",
    "explanation": "Yes. Add a `CHECK` constraint. It ensures data integrity at the database level, preventing bugs in the app layer from corrupting data."
  },
  {
    "id": 7031,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Database Normalization",
    "content": "Should you always target 3rd Normal Form (3NF)?",
    "explanation": "3NF is great for write consistency (OLTP). However, for heavy read workloads, **Denormalization** (duplicating data) avoids expensive joins. A Senior Dev knows when to break the rules for performance."
  },
  {
    "id": 7032,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Statistics",
    "content": "What happens if Statistics are outdated?",
    "explanation": "The Query Optimizer relies on Stats to estimate row counts. Outdated stats lead to bad plans (e.g., using a Nested Loop for 1 million rows instead of Hash Match). Enable `Auto Update Statistics`."
  },
  {
    "id": 7033,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Columnstore Index",
    "content": "When to use Columnstore Indexes?",
    "explanation": "For Analytics/Data Warehousing (OLAP). They store data by column, not row, allowing massive compression (10x) and fast aggregation (Sum/Avg) on millions of rows. Bad for frequent updates."
  },
  {
    "id": 7034,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Optimistic vs Pessimistic Locking",
    "content": "What is the key difference between Optimistic and Pessimistic Locking?",
    "explanation": "Pessimistic locks the row when you read it (prevents others). Optimistic reads freely, but checks version/timestamp on save to see if anyone else changed it. Web apps usually use Optimistic."
  },
  {
    "id": 7035,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Recursive CTE",
    "content": "What is a common use case for a Recursive CTE?",
    "explanation": "Hierarchical data. \"Find my manager, and my manager's manager...\" until the top. Defined with an anchor member `UNION ALL` recursive member."
  },
  {
    "id": 7036,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Select Count(*)",
    "content": "Does `COUNT(*)` behave differently from `COUNT(ColumnName)`?",
    "explanation": "`COUNT(*)` counts rows (including those with NULLs). `COUNT(Col)` counts only rows where `Col` is NOT NULL (requiring a check). `COUNT(1)` is technically identical to `COUNT(*)` in modern optimizers, but `COUNT(*)` is the ANSI standard."
  },
  {
    "id": 7037,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Identity Gap",
    "content": "Why are there gaps in my Identity column (1, 2, 1005, 1006)?",
    "explanation": "Server restart or transaction rollback. SQL caches Identity values for performance. If the server crashes, cached values are lost. Never assume IDs are contiguous."
  },
  {
    "id": 7038,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Heap Table",
    "content": "What is a Heap?",
    "explanation": "A table without a Clustered Index. Data is stored in no particular order. Fast for inserts (just throw it anywhere), but slow for retrieval and updates (forwarding pointers)."
  },
  {
    "id": 7039,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "SQL Injection",
    "content": "Is Stored Procedure immune to SQL Injection?",
    "explanation": "Not if you use Dynamic SQL inside it: `EXEC('SELECT * FROM ' + @Table)`. This is still vulnerable. Always use `sp_executesql` with parameters for dynamic queries."
  },
  {
    "id": 7040,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Query Store",
    "content": "What is SQL Query Store?",
    "explanation": "A flight recorder for your DB. It captures query history, plans, and runtime stats. You can force the engine to use a specific \"good\" plan from the past if a regression occurs."
  },
  {
    "id": 7041,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "JSON in SQL",
    "content": "`OPENJSON`.",
    "explanation": "Parses JSON text into a relational table format (rows/columns). Useful for passing lists of objects to a Stored Procedure as a single JSON parameter."
  },
  {
    "id": 7042,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Lateral Join",
    "content": "What is a Lateral Join (or `CROSS APPLY`) used for?",
    "explanation": "In SQL Server, it's `CROSS APPLY`. In Postgres, `LATERAL`. It allows a subquery in the FROM clause to reference columns from preceding tables in the same FROM clause."
  },
  {
    "id": 7043,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Cursor Performance",
    "content": "Should you use Cursors?",
    "explanation": "Cursors process RBAR (Row By Agonizing Row). They are extremely slow and lock-heavy. Always try to write Set-Based logic (UPDATE... WHERE). Use Cursors only for admin tasks (backups, sending emails)."
  },
  {
    "id": 7044,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Computed Column",
    "content": "Can you index a calculated value like `Total = Price * Qty`?",
    "explanation": "Yes. Create a Computed Column `Total AS (Price * Qty) PERSISTED`. Then you can put an index on `Total`."
  },
  {
    "id": 7045,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Data Types Size",
    "content": "`DateTime` vs `DateTime2`.",
    "explanation": "`DateTime` is 8 bytes. `DateTime2` is 6-8 bytes and has higher precision (100ns). `DateTime` is legacy; prefer `DateTime2`."
  },
  {
    "id": 7046,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Batch Deletes",
    "content": "Deleting 1 million rows. `DELETE FROM Logs WHERE Date < '2023'`.",
    "explanation": "**(Log Growth).** Deleting 1 million rows in one transaction generates massive Transaction Log records. If the log fills up, the DB halts. Also, it holds a lock on the table. **Solution:** Batching. Delete 1000 rows at a time in a loop `DELETE TOP (1000)` to allow the log to truncate/backup in between."
  },
  {
    "id": 7047,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Cardinality Estimation",
    "content": "What is Cardinality Estimation in SQL?",
    "explanation": "The logic the optimizer uses to guess how many rows a query will return. If it guesses 1 row (Seek) but gets 1 million (Scan needed), performance tanks."
  },
  {
    "id": 7048,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Index Intersection",
    "content": "Can SQL use two indexes for one query?",
    "explanation": "Yes. It can find IDs from Index A, IDs from Index B, and perform a Hash Join/Merge to find the intersection. Usually slower than a single Covering Index, but possible."
  },
  {
    "id": 7049,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "UPDLOCK",
    "content": "How to reserve a row for processing (Queue table)?",
    "explanation": "`SELECT TOP 1 * FROM Queue WITH (UPDLOCK, READPAST)`. `UPDLOCK` locks it for edit. `READPAST` tells other readers to skip locked rows (concurrency) rather than waiting."
  },
  {
    "id": 7050,
    "category": "SQL Performance",
    "difficulty": "Senior",
    "title": "Partitioning",
    "content": "When to Table Partition?",
    "explanation": "When the table is huge (100GB+) and you need to manage lifecycle (Switching partitions). E.g., \"Keep 12 months, instant delete old month\". It does NOT magically make queries faster unless you filter by the partition key."
  }
  ,
  {
    "id": 8001,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Triggers for Auditing",
    "content": "Should you use Triggers to log changes to an Audit table?",
    "explanation": "Triggers are hidden logic. They extend the transaction duration, locking the table longer. If the audit insert fails, the main insert fails. Use application-level auditing (Middleware/Interceptors) or Change Data Capture (CDC) for async auditing."
  },
  {
    "id": 8002,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Indexed Views",
    "content": "You have a complex aggregation query that is slow. Can a View help?",
    "explanation": "**(Materialized View).** A standard View is just a saved query (virtual). An **Indexed View** has a physical Clustered Index created on it. The results are calculated and stored on disk, updating automatically when underlying tables change. Great for expensive aggregations (SUM/COUNT), bad for write-heavy tables."
  },
  {
    "id": 8003,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Row Level Security (RLS)",
    "content": "How to ensure Tenant A never sees Tenant B's data, even if the developer forgets the `WHERE TenantId` clause?",
    "explanation": "Use SQL **Row Level Security**. You define a Security Policy function in the DB that automatically appends `WHERE TenantId = CONTEXT_INFO()` to every query. It acts as a safety net at the engine level."
  },
  {
    "id": 8004,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Always Encrypted",
    "content": "Can the DBA see the credit card numbers in the DB?",
    "explanation": "**(Security).** If using **Always Encrypted**, no. The client driver encrypts data *before* sending it. The DB engine only sees ciphertext. It cannot decrypt it even if it wants to. The encryption keys live on the App Server or KeyVault."
  },
  {
    "id": 8005,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Change Data Capture (CDC)",
    "content": "How to stream DB changes to Kafka without modifying the app?",
    "explanation": "Enable **CDC** (Change Data Capture) on the table. SQL Server reads the Transaction Log and records inserts/updates/deletes into side tables. A connector (Debezium) polls these tables and pushes events to Kafka."
  },
  {
    "id": 8006,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Linked Servers",
    "content": "Is it performant to join a local table with a remote Linked Server table?",
    "explanation": "**(Performance Trap).** The local engine often pulls the **Entire Remote Table** across the network to filter it locally. **Solution:** Use `OPENQUERY` or `EXEC(...) AT LinkedServer` to force the query to execute on the remote server and return only the results."
  },
  {
    "id": 8007,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Full-Text Search",
    "content": "Why is `LIKE '%term%'` bad for searching large text fields?",
    "explanation": "Slow and limited. Use **Full-Text Search** (`CONTAINS(Col, 'term')`). It supports linguistic stemming (run vs ran), ranking, and is indexed for speed."
  },
  {
    "id": 8008,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Schema-bound Views",
    "content": "Why use `WITH SCHEMABINDING` on a View?",
    "explanation": "It prevents the underlying tables from being altered (e.g., dropping a column) in a way that would break the view. It is also required if you want to create an Index on the view."
  },
  {
    "id": 8009,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "TDE (Transparent Data Encryption)",
    "content": "Does TDE protect against SQL Injection?",
    "explanation": "**(Misconception).** No. TDE encrypts the *files on disk* (data at rest). If a hacker gets SQL access, they query the data and the engine decrypts it for them. TDE only protects against someone stealing the hard drive."
  },
  {
    "id": 8010,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "CLR Integration",
    "content": "Should you write complex RegEx logic in a Stored Procedure?",
    "explanation": "**(Carefully).** T-SQL has poor string manipulation. Enabling **SQL CLR** allows you to deploy C# code (DLL) into the database to run Regex or complex math efficiently. Ensure the assembly is 'SAFE' permission set."
  },
  {
    "id": 8011,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Log Shipping vs Replication",
    "content": "You need a read-only reporting replica with 1-minute lag. Use Log Shipping?",
    "explanation": "Log Shipping automatically restores transaction log backups to the secondary server. It can be configured to be readable (Standby mode) between restores. Simple and robust for reporting."
  },
  {
    "id": 8012,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Point-in-Time Restore",
    "content": "A developer dropped a table at 10:00 AM. Can you restore to 09:59 AM?",
    "explanation": "Yes, if the DB is in **Full Recovery Model** and you have the Transaction Log chain intact. You can restore the logs up to a specific timestamp."
  },
  {
    "id": 8013,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Dynamic SQL & sp_executesql",
    "content": "You need to sort by a column chosen by the user. `ORDER BY @ColName` doesn't work.",
    "explanation": "Use Dynamic SQL. Build the string: `SET @sql = 'SELECT ... ORDER BY ' + QUOTENAME(@ColName)`. Execute with `sp_executesql`. `QUOTENAME` prevents injection."
  },
  {
    "id": 8014,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Sequence Object",
    "content": "Identity vs Sequence.",
    "explanation": "`Identity` is tied to one table. `Sequence` is a global object that can be shared across multiple tables (e.g., to generate unique Invoice Numbers across different Order types)."
  },
  {
    "id": 8015,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Graph Capabilities",
    "content": "Does SQL Server support Graph queries?",
    "explanation": "Yes (since 2017). You can define `NODE` tables and `EDGE` tables and query them using `MATCH(Person-(FriendOf)->Person)`. Useful for social networks or fraud detection relationships within SQL."
  },
  {
    "id": 8016,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Stored Procedure Recompilation",
    "content": "Why use `WITH RECOMPILE`?",
    "explanation": "If the parameters vary wildly (e.g., date range of 1 day vs 1 year), the cached plan might be bad. `WITH RECOMPILE` forces a fresh plan generation every run. CPU heavy, but safer query performance."
  },
  {
    "id": 8017,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Service Broker",
    "content": "Can you have a Message Queue inside SQL Server?",
    "explanation": "Yes, **Service Broker**. It provides native queuing and async messaging. Useful for decoupling DB triggers from heavy processing (Trigger sends message -> Service processes it)."
  },
  {
    "id": 8018,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Cascading Deletes",
    "content": "Should you enable `ON DELETE CASCADE` on Foreign Keys?",
    "explanation": "**(Dangerous).** Deleting a root record can cascade to millions of rows in child/grandchild tables. This holds a **Exclusive Lock** on all involved tables for the duration, blocking the entire application and bloating the Transaction Log. Prefer explicit, smaller batch deletions."
  },
  {
    "id": 8019,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Simple vs Full Recovery Model",
    "content": "Why would a Dev server log file grow to 500GB?",
    "explanation": "The DB is likely in **Full Recovery Model** but nobody is backing up the Transaction Logs. The logs grow forever. In Dev, switch to **Simple Recovery Model** (logs auto-truncate)."
  },
  {
    "id": 8020,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Deferred Name Resolution",
    "content": "Can you create a stored procedure that references a table that doesn't exist yet?",
    "explanation": "Yes. SQL Server checks for object existence at *runtime* (Deferred Resolution), not create time. Useful for deployment scripts where tables are created later."
  },
  {
    "id": 8021,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Synonyms",
    "content": "How to abstract `ServerA.DbB.Schema.Table` so code doesn't break if server changes?",
    "explanation": "Create a **Synonym**: `CREATE SYNONYM MyTable FOR ServerA...Table`. The code just queries `MyTable`. You can point the synonym elsewhere later without changing code."
  },
  {
    "id": 8022,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "FileStream / FileTable",
    "content": "Should you store large files (e.g., 2GB videos) in `VARBINARY(MAX)` columns?",
    "explanation": "Bloats the DB and buffer pool. Use **FileStream**. It stores the binary data on the NTFS file system (OS speed) while keeping transactional integrity and backup consistency with the DB."
  },
  {
    "id": 8023,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Table-Valued Parameters (TVP)",
    "content": "How to pass a list of 1,000 IDs to a Stored Procedure efficiently?",
    "explanation": "Create a User Defined Table Type. Pass it as a **Table-Valued Parameter** (Read-only). Faster than parsing a CSV string or inserting into temp tables."
  },
  {
    "id": 8024,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Snapshot Isolation",
    "content": "How to prevent readers from blocking writers without dirty reads?",
    "explanation": "Enable **Read Committed Snapshot Isolation (RCSI)**. Writers create a version of the row in `tempdb`. Readers read the *version* that existed when their query started. No locking."
  },
  {
    "id": 8025,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "DDL Triggers",
    "content": "How to prevent anyone from dropping a table?",
    "explanation": "Create a **DDL Trigger** (`FOR DROP_TABLE`). You can check who is doing it and call `ROLLBACK` to cancel the action."
  },
  {
    "id": 8026,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Data Masking",
    "content": "How to show `XXX-XX-1234` for SSN to support staff but full SSN to admins?",
    "explanation": "Dynamic **Data Masking**. `ADD MASKED WITH (FUNCTION = 'partial(3, \"XX-XXX\", 4)')`. It changes the output based on the user's permission (`UNMASK` permission)."
  },
  {
    "id": 8027,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Buffer Pool Extension",
    "content": "Server has low RAM but fast SSD. Can you extend the cache?",
    "explanation": "Enable **Buffer Pool Extension**. It uses a file on the SSD to act as an L2 cache for data pages, expanding memory capacity beyond physical RAM."
  },
  {
    "id": 8028,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Partition Switching",
    "content": "Fastest way to archive 10 million rows?",
    "explanation": "**Partition Switching**. If the table is partitioned, you can \"switch\" a partition out to an empty staging table. It is a metadata operation (milliseconds) regardless of data size."
  },
  {
    "id": 8029,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Cross-Database Transactions",
    "content": "Updating DB1 and DB2 in one transaction.",
    "explanation": "Works natively on the same server. If on different servers, it requires **MSDTC** (Distributed Transaction Coordinator) and Two-Phase Commit (2PC). Note: Cloud PaaS (Azure SQL) usually does NOT support MSDTC."
  },
  {
    "id": 8030,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "PIVOT / UNPIVOT",
    "content": "Turning rows into columns (Reporting).",
    "explanation": "Use the `PIVOT` operator. It rotates a table-valued expression. Useful for reports like \"Sales per Month\" where months become column headers."
  },
  {
    "id": 8031,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Shrinking Database",
    "content": "Disk is full. Should you run `DBCC SHRINKDATABASE`?",
    "explanation": "**(Destructive).** Shrinking moves pages from the end of the file to the front, destroying index contiguity (**Fragmentation ~99%**). It causes massive CPU/IO load. **Never** schedule regular shrinks. Only use it after permanently archiving huge data, and follow it immediately with an Index Rebuild."
  },
  {
    "id": 8032,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Schema Ownership",
    "content": "Should everything be in `dbo` schema?",
    "explanation": "Use schemas for namespace organization and security boundaries. e.g., `Sales.Orders`, `HR.Employees`. You can grant permissions on the entire `HR` schema to the HR_Role."
  },
  {
    "id": 8033,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "XML Data Type",
    "content": "Querying XML blobs in SQL.",
    "explanation": "SQL supports XQuery (`.value()`, `.nodes()`). You can also index XML columns. However, prefer JSON in modern apps as it is lighter and faster."
  },
  {
    "id": 8034,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Grouping Sets / Cube / Rollup",
    "content": "You need Subtotals and Grand Totals in one query.",
    "explanation": "Use `GROUP BY ROLLUP(Category, Year)`. It generates the grouped rows plus extra rows for the subtotals (Year null) and grand total (Both null)."
  },
  {
    "id": 8035,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Spatial Indexes",
    "content": "Finding all stores within 5km radius.",
    "explanation": "Use `GEOGRAPHY` data type and Spatial Indexes. Query with `STDistance()` or `STIntersects()`. Much faster than calculating Pythagorean theorem on lat/long float columns."
  },
  {
    "id": 8036,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Wait Statistics",
    "content": "How to diagnose a slow server?",
    "explanation": "Check **Wait Stats** (`sys.dm_os_wait_stats`). It tells you *why* queries are waiting (e.g., `PAGEIOLATCH` = Disk, `LCK_M_` = Locking, `SOS_SCHEDULER_YIELD` = CPU pressure)."
  },
  {
    "id": 8037,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Query Hints (Force Order)",
    "content": "Should you force the join order?",
    "explanation": "`OPTION (FORCE ORDER)` overrides the optimizer's intelligence. Data distribution changes over time. A forced hint might be good today but terrible next month. Only use as a last resort."
  },
  {
    "id": 8038,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "View with Check Option",
    "content": "What is `WITH CHECK OPTION`?",
    "explanation": "It prevents inserts/updates through the view that would make the row disappear from the view. E.g., if View shows `Where City='NY'`, you cannot insert `City='LA'` through the view."
  },
  {
    "id": 8039,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Stretch Database",
    "content": "Migrating cold data to Azure automatically.",
    "explanation": "SQL Server feature that silently migrates old rows from a local table to Azure SQL Database. The app still queries one table, and the engine federates the query."
  },
  {
    "id": 8040,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Memory-Optimized Tables (In-Memory OLTP)",
    "content": "What is `MEMORY_OPTIMIZED = ON`?",
    "explanation": "Lock-free tables stored in RAM. They use optimistic concurrency (no locking) and compiled stored procedures. Ideal for high-throughput ingestion (gaming, IoT)."
  },
  {
    "id": 8041,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Context Info / Session Context",
    "content": "Passing UserID to triggers/RLS.",
    "explanation": "Use `SESSION_CONTEXT`. `sp_set_session_context 'UserId', 123`. It persists for the connection duration. Safer and typed compared to the old `CONTEXT_INFO` binary blob."
  },
  {
    "id": 8042,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "PolyBase",
    "content": "Querying Hadoop/CSV files from SQL.",
    "explanation": "**PolyBase** allows T-SQL to query external data (Hadoop, Azure Blob Storage, Oracle) as if they were local tables (Data Virtualization)."
  },
  {
    "id": 8043,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Backup Compression",
    "content": "Should you compress backups?",
    "explanation": "Yes. It consumes more CPU but significantly reduces Disk I/O and storage space. Since Disk I/O is usually the bottleneck, backups actually finish *faster*."
  },
  {
    "id": 8044,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Login vs User",
    "content": "What is the difference between a Login and a User in SQL Server?",
    "explanation": "**Login** is for Authentication (Server level, entering the front door). **User** is for Authorization (Database level, accessing specific rooms). A Login maps to a User in each DB."
  },
  {
    "id": 8045,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Implicit Transactions",
    "content": "Does SQL Server use Implicit Transactions by default?",
    "explanation": "No. SQL Server defaults to **AutoCommit**. Each statement is a transaction. Enabling `IMPLICIT_TRANSACTIONS` (common in some ORMs) forces a transaction to remain open until explicitly committed. This creates long-held locks and is a common source of blocking in poorly configured apps."
  },
  {
    "id": 8046,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Try-Catch in SQL",
    "content": "Can you handle errors in T-SQL?",
    "explanation": "Yes. `BEGIN TRY ... END TRY BEGIN CATCH ... END CATCH`. You can read `ERROR_NUMBER()` and `ERROR_MESSAGE()`. Essential for robust stored procs."
  },
  {
    "id": 8047,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Instant File Initialization",
    "content": "Why is creating a 50GB DB slow?",
    "explanation": "By default, Windows zeroes out the disk space (security). Enabling **Instant File Initialization** (IFI) skips zeroing. Creation becomes instant. Grant 'Perform Volume Maintenance Tasks' to the SQL Service Account."
  },
  {
    "id": 8048,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "DacPac",
    "content": "How to deploy DB schema changes via DevOps?",
    "explanation": "Build a **DacPac** (Data Tier Application). It's a compiled model of the schema. The deployment tool compares the DacPac to the target DB and generates the diff script automatically."
  },
  {
    "id": 8049,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Resource Governor",
    "content": "Report queries are slowing down the website.",
    "explanation": "Use **Resource Governor**. Create a 'Reporting' workload group and cap its Max CPU to 20%. The engine will throttle report queries so they don't starve the 'Transactional' workload."
  },
  {
    "id": 8050,
    "category": "Advanced Data",
    "difficulty": "Senior",
    "title": "Metadata functions",
    "content": "How to check if a table exists safely?",
    "explanation": "`OBJECT_ID('dbo.MyTable') IS NOT NULL`. Cleaner than querying `sys.objects` directly."
  }
  ,
  {
    "id": 9001,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Cache Penetration",
    "content": "Malicious users request non-existent keys (IDs -1, -2...) rapidly. Your app checks Cache (Miss) -> Checks DB (Miss). The DB gets hammered.",
    "explanation": "**(Mitigation).** Implement a **Bloom Filter** or cache the 'null' result with a short expiry (Null Object Pattern). This stops the requests from hitting the database repeatedly."
  },
  {
    "id": 9002,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Cache Avalanche",
    "content": "All your cache keys expire at the exact same time (e.g., midnight). The DB is instantly overwhelmed.",
    "explanation": "Add **Jitter** (Randomness) to the expiration time. Instead of `TTL = 60 mins`, use `TTL = 60 + Random(0-5) mins`. This spreads out the re-caching load."
  },
  {
    "id": 9003,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Thundering Herd Problem",
    "content": "A popular cache key expires. 1000 concurrent requests miss the cache and all 1000 hit the DB to calculate the value.",
    "explanation": "Use **Locking** (Mutex) or 'Probabilistic Early Expiration'. Only allow *one* thread to recompute the value while the others wait or receive the slightly stale value."
  },
  {
    "id": 9004,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Persistence",
    "content": "You need Redis to survive a restart but can tolerate losing the last 1 second of data.",
    "explanation": "Use **AOF (Append Only File)** with `fsync everysec`. It logs every write command. RDB (Snapshots) are faster to restore but might lose minutes of data if the server crashes between snapshots."
  },
  {
    "id": 9005,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "CosmosDB Partition Key",
    "content": "You choose `Date` as the Partition Key for a logging app.",
    "explanation": "**(Hot Partition).** Bad choice. All writes for 'today' will hit a single physical partition, creating a bottleneck (Hot Partition), while other partitions sit idle. Use a high-cardinality key like `DeviceId` or `UserId` to spread the load."
  },
  {
    "id": 9006,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Embedding vs Referencing",
    "content": "In NoSQL (Mongo), should you embed `Comments` inside the `Post` document?",
    "explanation": "**(Conditional).** If comments are few (e.g., <100) and always displayed with the post, Embed them. It avoids a lookup. If comments are unbounded (millions), Reference them (store `PostId` in Comment collection) to avoid hitting the 16MB document size limit."
  },
  {
    "id": 9007,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Single Threaded",
    "content": "Since Redis is single-threaded, should you use `KEYS *` command?",
    "explanation": "**(Critical).** `KEYS` is O(N) and blocks the *entire* server until it finishes. On a large dataset, this freezes your production app. Use `SCAN` (cursor-based iteration) instead."
  },
  {
    "id": 9008,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Eventual Consistency",
    "content": "User updates profile, refreshes page immediately, sees old data.",
    "explanation": "This is **Eventual Consistency**. Replicas take time to sync. To fix this for the specific user, use 'Session Consistency' (CosmosDB) or 'Read Your Writes' pattern, ensuring the user reads from the replica that processed their write."
  },
  {
    "id": 9009,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Distributed Lock (Redlock)",
    "content": "How to ensure a Cron Job runs on only one server in a cluster?",
    "explanation": "Use a Distributed Lock (e.g., Redis `SET resource_name my_random_value NX PX 30000`). If it returns OK, you have the lock. Ensure you release it (Lua script) only if the value matches to prevent releasing someone else's lock."
  },
  {
    "id": 9010,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Write-Through vs Write-Back",
    "content": "What is the difference between Write-Through and Write-Back caching?",
    "explanation": "**Write-Through**: Write to Cache AND DB synchronously. Safe, consistent. **Write-Back**: Write to Cache, return immediately, update DB async. Faster, but risks data loss if cache crashes before DB sync."
  },
  {
    "id": 9011,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Cache Aside Pattern",
    "content": "How does the Cache-Aside pattern work?",
    "explanation": "1. App asks Cache. 2. If Miss, App asks DB. 3. App updates Cache. This is robust as the App manages the logic, not the Cache provider."
  },
  {
    "id": 9012,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Sets vs Lists",
    "content": "You need to store unique User IDs who visited a page.",
    "explanation": "Use a **Set** (`SADD`). It handles uniqueness automatically (O(1)). A List (`RPUSH`) would require checking for existence first (O(N)), which is slow."
  },
  {
    "id": 9013,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Sorted Sets (ZSET)",
    "content": "How to implement a real-time Leaderboard?",
    "explanation": "Use Redis **Sorted Sets** (`ZADD user score`). You can retrieve 'Top 10' efficiently using `ZREVRANGE` (O(log(N))). Traditional DB sorting is too slow for real-time rank updates."
  },
  {
    "id": 9014,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "CosmosDB RU/s",
    "content": "What happens if you exceed your provisioned RU/s?",
    "explanation": "You get **HTTP 429 (Too Many Requests)**. The client SDKs automatically retry after a delay specified in the header (`x-ms-retry-after-ms`). You must handle this or scale up RUs."
  },
  {
    "id": 9015,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Polyglot Persistence",
    "content": "Should you store Relationships in Mongo?",
    "explanation": "**(Architecture).** Mongo is not optimized for joins (`$lookup` is slow and resource-heavy). If your domain is highly relational, SQL is the better tool. Using Mongo for flexible documents (Catalog) and SQL for structured relations (Orders) is **Polyglot Persistence**."
  },
  {
    "id": 9016,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Eviction Policy: LRU",
    "content": "Redis memory is full. What does `allkeys-lru` do?",
    "explanation": "It removes the **Least Recently Used** keys to make space. This is generally the best default for caching. `volatile-lru` only evicts keys with an Expiry set."
  },
  {
    "id": 9017,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Pipelining",
    "content": "You need to send 100 commands to Redis.",
    "explanation": "Use **Pipelining**. It sends all 100 commands in a single batch over the network socket and reads 100 replies at once. Reduces Round Trip Time (RTT) latency significantly."
  },
  {
    "id": 9018,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Cosmos Change Feed",
    "content": "What is the Change Feed used for?",
    "explanation": "It's an ordered log of records as they are modified. Use it to trigger Azure Functions (Microservices) to update a search index, clear a cache, or archive data (Event Driven Architecture)."
  },
  {
    "id": 9019,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Cluster vs Sentinel",
    "content": "What is the difference between Redis Cluster and Redis Sentinel?",
    "explanation": "**Sentinel** provides High Availability (HA) for a single primary (Automatic Failover). **Cluster** provides Sharding (Horizontal Scaling) across multiple nodes + HA."
  },
  {
    "id": 9020,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "HyperLogLog",
    "content": "How to count unique visitors (Cardinality) for a massive site with minimal memory?",
    "explanation": "Use Redis **HyperLogLog** (`PFADD`). It estimates unique counts with <1% error using only ~12KB of memory, regardless of whether you have 100 or 100 million unique items."
  },
  {
    "id": 9021,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "ETag / Conditional Get",
    "content": "Client requests data they already have cached.",
    "explanation": "Server returns `304 Not Modified` (empty body) if the ETag header matches. Saves bandwidth. App logic: Compute hash of model -> Compare with header -> Return 304 or 200."
  },
  {
    "id": 9022,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Document Versioning",
    "content": "In NoSQL, how to handle schema changes (e.g., renaming a field)?",
    "explanation": "Application-side handling. When reading a document, check if `newField` exists; if not, map `oldField` to it. Or write a migration script to update all documents (slow). This is \"Schema-on-Read\"."
  },
  {
    "id": 9023,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Pub/Sub",
    "content": "Is Redis Pub/Sub a reliable Message Queue?",
    "explanation": "No. It is \"Fire and Forget\". If a subscriber is offline, it **misses** the message forever. Use **Redis Streams** or RabbitMQ/Kafka for reliable messaging with persistence/acknowledgments."
  },
  {
    "id": 9024,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Synthetic Partition Key",
    "content": "CosmosDB partition key for a multi-tenant app where one tenant is huge.",
    "explanation": "Use a **Synthetic Key**. Combine `TenantId` + `Date` (or `UserId`). This breaks the huge tenant's data into smaller buckets (sub-partitions) to avoid the 20GB partition limit."
  },
  {
    "id": 9025,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Geo-Spatial Queries",
    "content": "Finding users nearby.",
    "explanation": "Redis (`GEOADD`, `GEORADIUS`) and Mongo/Cosmos (`$near`) handle this natively using Geohashes. Extremely fast."
  },
  {
    "id": 9026,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Session State Storage",
    "content": "Storing Session in In-Memory RAM vs Redis.",
    "explanation": "**(Redis).** In-Memory works only for one server (Sticky Sessions required). Redis allows **Distributed Sessions**. Any server in the farm can handle the user's request, enabling easier scaling."
  },
  {
    "id": 9027,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "TTL (Time To Live)",
    "content": "Does Redis delete expired keys immediately?",
    "explanation": "No. It uses a mix of passive (delete when accessed) and active (random sampling background job) deletion. A key might stay in memory slightly past its TTL."
  },
  {
    "id": 9028,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Wide Column Store",
    "content": "Cassandra / ScyllaDB use case?",
    "explanation": "Massive Write Throughput (IoT sensors, logs). They excel at writing data quickly across many nodes. Trade-off: Very limited query capabilities (must query by Primary Key)."
  },
  {
    "id": 9029,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Strong Consistency in Distributed Systems",
    "content": "Does Strong Consistency hurt performance?",
    "explanation": "Yes. CAP Theorem (Consistency vs Availability). To guarantee Strong Consistency, the DB must lock or sync majority nodes before confirming a write, increasing Latency."
  },
  {
    "id": 9030,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Lua Scripts in Redis",
    "content": "Why use Lua scripts?",
    "explanation": "**Atomicity**. A Lua script runs as a single transaction. No other command can run in between the steps of the script. Essential for implementing custom locks or counters (`Get`, `Check`, `Set`)."
  },
  {
    "id": 9031,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Vary By Query",
    "content": "Caching API responses based on URL parameters.",
    "explanation": "In Response Caching, ensure you `VaryByQueryKeys`. Otherwise, `?page=1` and `?page=2` might return the same cached result."
  },
  {
    "id": 9032,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Race Condition in Cache",
    "content": "Thread A reads null. Thread B reads null. Both fetch DB. Both write cache.",
    "explanation": "This is the 'Dogpile' effect. Use a **Semaphore** or `GetOrAdd` pattern inside the application to ensure only one thread performs the fetch."
  },
  {
    "id": 9033,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Mongo Aggregation Pipeline",
    "content": "Is MapReduce still used in Mongo?",
    "explanation": "**(Deprecated).** MapReduce is slow (uses interpreted JavaScript engine). Modern Mongo uses the **Aggregation Pipeline** (written in C++), which is significantly faster and more readable (`$match` -> `$group` -> `$project`)."
  },
  {
    "id": 9034,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "ObjectId Structure",
    "content": "Are Mongo ObjectIds random?",
    "explanation": "No. They contain a Timestamp (4 bytes), Machine ID, Process ID, and Counter. They are naturally sortable by time. This is useful for pagination."
  },
  {
    "id": 9035,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Hashes",
    "content": "Storing User object as JSON String vs Redis Hash.",
    "explanation": "**(Hash).** Using `HSET` allows you to read/update individual fields (`HGET user age`) without fetching/serializing the entire object. More bandwidth efficient for partial updates."
  },
  {
    "id": 9036,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Index Selectivity",
    "content": "Indexing a 'Gender' field (M/F) in NoSQL.",
    "explanation": "Low cardinality. The index doesn't filter much (returns 50% of docs). Usually better to leave unindexed or use a compound index (`Gender` + `CreatedDate`)."
  },
  {
    "id": 9037,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Transactions (MULTI/EXEC)",
    "content": "Do they support Rollback?",
    "explanation": "**(No Rollback).** Redis transactions ensure **Serialized Execution** (no other client interferes). However, if one command fails (e.g., semantic error), the previous commands are **NOT rolled back** and the subsequent ones **still execute**. Redis prioritizes speed over ACID atomicity."
  },
  {
    "id": 9038,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Soft Delete in Redis",
    "content": "Does Redis support `IsDeleted`?",
    "explanation": "Redis is a Key-Value store, not a relational DB. You typically `DEL` the key. If you need 'trash bin' functionality, move the data to a different key or use a Set of deleted IDs."
  },
  {
    "id": 9039,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Time Series Data",
    "content": "Storing metrics. Redis Lists?",
    "explanation": "**(Inefficient).** Searching a List by time range is O(N). Use **RedisTimeSeries** (module) or **Sorted Sets** (ZSET) where the Score is the Timestamp. `ZRANGEBYSCORE` allows O(log N) retrieval of time ranges."
  },
  {
    "id": 9040,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "CosmosDB Indexing Policy",
    "content": "Default indexing?",
    "explanation": "By default, Cosmos indexes *every* property of *every* document. This is great for dev, but expensive for writes (RU/s). In production, exclude paths you never query to save money/performance."
  },
  {
    "id": 9041,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Distributed Cache in .NET",
    "content": "`IDistributedCache` interface.",
    "explanation": "Provides a standard abstraction (`GetAsync`, `SetAsync`) over Redis, SQL, or NCache. Allows you to swap providers without changing app code."
  },
  {
    "id": 9042,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Redis Streams",
    "content": "When should you use Redis Streams?",
    "explanation": "It is an append-only log, similar to Kafka. Allows **Consumer Groups**, meaning multiple consumers can read from the stream, and Redis tracks who read what (Offset)."
  },
  {
    "id": 9043,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Bounded vs Unbounded Cache",
    "content": "Using `MemoryCache` without limits.",
    "explanation": "Dangerous. Can lead to OutOfMemoryException. Always set `SizeLimit` or `CompactOnMemoryPressure`."
  },
  {
    "id": 9044,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Donut Caching",
    "content": "What is Donut Caching?",
    "explanation": "Caching a whole page *except* for one hole (the donut hole), e.g., the User's Name. The layout is cached once, the user name is injected dynamically."
  },
  {
    "id": 9045,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Consistent Hashing",
    "content": "Adding a node to a Redis Cluster. Do all keys move?",
    "explanation": "**(No).** Redis uses **Hash Slots** (16384). When adding a node, you just move a subset of slots to it. Consistent Hashing minimizes data movement when scaling."
  },
  {
    "id": 9046,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Sidecar Pattern (Dapr)",
    "content": "How does the Sidecar Pattern (e.g., Dapr) simplify State Management?",
    "explanation": "The app talks to a local Sidecar (HTTP/gRPC). The Sidecar talks to Redis/Cosmos. Abstraction level +1. You can swap Redis for DynamoDB just by changing a YAML file."
  },
  {
    "id": 9047,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "CQRS and NoSQL",
    "content": "Why are CQRS and NoSQL often paired together?",
    "explanation": "SQL for Write (complex rules, consistency). NoSQL for Read (denormalized, fast). A background process syncs SQL -> NoSQL."
  },
  {
    "id": 9048,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Idempotency Keys",
    "content": "How do Idempotency Keys help handle retries in NoSQL?",
    "explanation": "Store a unique `RequestId` in the document. If the client retries the same operation, check if `RequestId` already exists. If yes, return previous result."
  },
  {
    "id": 9049,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Bitmap Data Type",
    "content": "Hash Maps vs Bitmaps for tracking 'Daily Active Users'?",
    "explanation": "Use Redis **Bitmaps**. Each bit is a user ID (1 or 0). Extremely compact. 1 million users take ~128KB."
  },
  {
    "id": 9050,
    "category": "NoSQL & Caching",
    "difficulty": "Senior",
    "title": "Cache Warming",
    "content": "Why is Cache Warming important after a server restart?",
    "explanation": "Before accepting traffic, run a script to populate the cache with the top 20% most accessed data. Prevents the initial 'sluggish' performance."
  }
  ,
  {
    "id": 10001,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Value Object Equality",
    "content": "You have two `Money` objects. Both have `Amount = 10` and `Currency = \"USD\"`. Are they equal?",
    "explanation": "Yes. Value Objects are defined by their attributes, not an identity. If their values are the same, they are interchangeable. You must override `.Equals()` and `GetHashCode()` to ensure `a == b` returns true."
  },
  {
    "id": 10002,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Anemic Domain Model",
    "content": "What is an Anemic Domain Model?",
    "explanation": "**(Anti-Pattern).** This is an **Anemic Domain Model**. It treats objects as data bags and scatters logic across 'Management' or 'Service' classes. This violates Encapsulation and often leads to duplicated validation logic and inconsistent state."
  },
  {
    "id": 10003,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Aggregate References",
    "content": "Should `Order` Aggregate hold a reference to the `Customer` object?",
    "explanation": "**(Best Practice).** No. Aggregates should reference other Aggregates **by ID only** (`CustomerId`), not by object reference. This enforces **Transactional Boundaries** (loading an Order doesn't accidentally load the Customer) and enables easier splitting into Microservices later."
  },
  {
    "id": 10004,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Domain Services",
    "content": "Where do you put logic that involves multiple Aggregates (e.g., TransferMoney from Acc A to Acc B)?",
    "explanation": "Use a **Domain Service**. It is a stateless service inside the Domain Layer. It orchestrates the interaction between two entities when the logic doesn't belong strictly to either one."
  },
  {
    "id": 10005,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Repository Returns IQueryable",
    "content": "`public IQueryable<User> GetUsers() { ... }`",
    "explanation": "Leaky Abstraction. It exposes the database implementation (EF Core) to the upper layers. The Application layer can append `.Select(...)` or `.Where(...)` logic that belongs in the Domain. Repositories should return fully formed Aggregate Roots or collections."
  },
  {
    "id": 10006,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Bounded Context",
    "content": "Can you have a `User` entity in the Sales Context and another `User` entity in the Support Context?",
    "explanation": "Yes! In Sales, a User might have `CreditLimit`. In Support, a User has `TicketHistory`. Trying to make one massive \"canonical\" User model that fits everyone leads to complexity. Keep models specific to their Context."
  },
  {
    "id": 10007,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Dependency Rule",
    "content": "In Clean Architecture, can the Domain Layer depend on the Infrastructure Layer?",
    "explanation": "**(Critical).** No. The Domain is the core. It must have **Zero Dependencies** on outer layers (DB, Web, UI). Infrastructure depends on Domain. Use Interfaces (Ports) in Domain and implement them (Adapters) in Infrastructure."
  },
  {
    "id": 10008,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Anti-Corruption Layer (ACL)",
    "content": "Your modern microservice needs to talk to a legacy SOAP Mainframe system.",
    "explanation": "**(Legacy Integration).** Implement an **Anti-Corruption Layer (ACL)**. It acts as a translator/facade that converts the Mainframe's messy/archaic model into your system's clean Domain Model. It ensures your core logic remains pure and isn't polluted by external schemas."
  },
  {
    "id": 10009,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Aggregate Transaction Boundary",
    "content": "Should a single transaction update 5 different Aggregates?",
    "explanation": "**(Rule of Thumb).** No. **One Transaction = One Aggregate**. If you need to update multiple aggregates, you should likely use **Domain Events** to trigger updates in others (Eventual Consistency). If atomic consistency is strictly required across both, they might belong in the *same* Aggregate."
  },
  {
    "id": 10010,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Ubiquitous Language",
    "content": "Developers call it \"User\", Business calls it \"Patron\".",
    "explanation": "Code and Business must share the **Ubiquitous Language**. Rename the class to `Patron`. If the language in the code diverges from reality, bugs happen because requirements are lost in translation."
  },
  {
    "id": 10011,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Value Object Immutability",
    "content": "Can you change the `Street` property of an `Address` Value Object?",
    "explanation": "Value Objects must be **Immutable**. If the address changes, replace the entire `Address` object with a new one. Do not mutate state. `address = new Address(\"New St\");`."
  },
  {
    "id": 10012,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Primitive Obsession",
    "content": "What is Primitive Obsession and how do you fix it?",
    "explanation": "Use a Value Object `EmailAddress`. It encapsulates validation logic (format check) in one place. You can't instantiate an invalid `EmailAddress`. A `string` can be anything."
  },
  {
    "id": 10013,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Specification Pattern",
    "content": "When should you use the Specification Pattern?",
    "explanation": "Encapsulate it in a **Specification** class (`UserIsEligibleSpec`). You can use it for validation (`spec.IsSatisfiedBy(user)`) and for database fetching (`repo.Find(spec)`)."
  },
  {
    "id": 10014,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Application Services",
    "content": "Should Application Services contain business rules?",
    "explanation": "**(Orchestration Only).** No. Application Services (Use Cases) should only **orchestrate**: Load Entity -> Call Entity Method -> Save Repo -> Send Email. The actual \"Business Rules\" (e.g., *Is this user eligible?*) must live inside the Domain Entities or Domain Services."
  },
  {
    "id": 10015,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Integration Events",
    "content": "What is the difference between Domain Events and Integration Events?",
    "explanation": "Domain Events are in-process (memory), used to update other aggregates in the same Bounded Context. Integration Events are public (RabbitMQ/Kafka), used to notify *other* Microservices."
  },
  {
    "id": 10016,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Entity Framework & DDD",
    "content": "How to map Private Setters in EF Core?",
    "explanation": "EF Core can map to private fields/properties. This allows you to enforce encapsulation (preventing `user.Status = Active` from outside) while still allowing EF to hydrate the object from DB."
  },
  {
    "id": 10017,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Shared Kernel",
    "content": "Two teams share a library containing the `User` class to avoid duplication.",
    "explanation": "**(Risk).** **Shared Kernel** creates a tight coupling. If Team A changes `User`, Team B breaks. Only share extremely stable, generic concepts (like `Money`, `DateRange`). Prefer duplication over coupling."
  },
  {
    "id": 10018,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "CQRS (Command Query Responsibility Segregation)",
    "content": "Using the same model for Writes and Reads.",
    "explanation": "**(Simple Apps).** For simple CRUD, this is fine. For complex apps, CQRS splits them. **Write Model**: Normalized, rich behavior. **Read Model**: Denormalized DTOs, fast SQL views. Optimizes performance."
  },
  {
    "id": 10019,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Event Storming",
    "content": "What is the goal of Event Storming?",
    "explanation": "A workshop technique to discover the Domain. You stick orange notes (Domain Events) on a wall timeline to understand the business process flows, aggregates, and boundaries."
  },
  {
    "id": 10020,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Ports and Adapters (Hexagonal)",
    "content": "Why call it 'Ports and Adapters'?",
    "explanation": "The app has **Ports** (Interfaces) defining what it needs. **Adapters** (Implementations) plug into these ports. You can swap the 'DbAdapter' or 'UiAdapter' without touching the core app logic."
  },
  {
    "id": 10021,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Domain Invariants",
    "content": "Where to check \"Order total must be positive\"?",
    "explanation": "Inside the `Order` entity, ideally in the constructor or the method that adds items. The object should **never** exist in an invalid state."
  },
  {
    "id": 10022,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Subdomains",
    "content": "What is the difference between Core, Generic, and Supporting Subdomains?",
    "explanation": "**Core**: Your USP (Invest here). **Generic**: Solved problems like Identity/Payments (Buy SaaS). **Supporting**: Necessary but not competitive (Outsource/Low code)."
  },
  {
    "id": 10023,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "DTO vs Entity",
    "content": "Why should you avoid returning Domain Entities directly from an API?",
    "explanation": "Always return DTOs (Data Transfer Objects). Returning Entities leaks domain logic, exposes internal DB structure (serialization issues), and creates security risks (Over-posting)."
  },
  {
    "id": 10024,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Vertical Slice Architecture",
    "content": "How does Vertical Slice Architecture differ from Layered Architecture?",
    "explanation": "**(Modern).** Vertical Slices keep all code for one feature (UI, API, Domain, DB) together. It minimizes jumping between projects and prevents the \"God Service\" problem."
  },
  {
    "id": 10025,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Factory Pattern in DDD",
    "content": "When should you use a Factory Pattern for Aggregate creation?",
    "explanation": "If creation is complex (requires invariants check, generating sub-entities), use a **Factory**. It encapsulates the creation logic, leaving the Entity constructor simple or internal."
  },
  {
    "id": 10026,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Conformist Pattern",
    "content": "You are downstream and the upstream team refuses to change their model for you.",
    "explanation": "Adopt the **Conformist** pattern. You blindly accept their model as-is to save mapping effort, acknowledging you are coupled to them."
  },
  {
    "id": 10027,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Open Host Service",
    "content": "You are the upstream system providing data to 50 downstream systems.",
    "explanation": "Expose a standardized, public protocol (API/Event Schema) as an **Open Host Service**. Do not customize your API for each consumer."
  },
  {
    "id": 10028,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Policy Pattern (Strategy)",
    "content": "You have 10 different ways to calculate discounts.",
    "explanation": "Use the **Strategy Pattern** (Policy). `ICalculateDiscount`. Inject the correct policy at runtime. Keeps the Order entity clean of massive `if/else` blocks."
  },
  {
    "id": 10029,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Unit of Work",
    "content": "Why use Unit of Work with Repositories?",
    "explanation": "Repositories add/remove items. UoW (often DbContext) commits them all in **one transaction**. It ensures atomicity. \"All or nothing\"."
  },
  {
    "id": 10030,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Double Dispatch",
    "content": "How does Double Dispatch solve interaction problems in DDD?",
    "explanation": "Double Dispatch (`monster.ReceiveHit(weapon)`) allows the Domain object to react based on the specific type of the argument without `if (type is X)` checks."
  },
  {
    "id": 10031,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Event Sourcing",
    "content": "How does Event Sourcing differ from traditional state storage?",
    "explanation": "**(Event Sourcing).** Storing the *series of events* (AccountCreated, MoneyDeposited) allows you to replay history, debug past states, and derive new read models. It is complex but powerful."
  },
  {
    "id": 10032,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Snapshots",
    "content": "How do Snapshots improve Event Sourcing performance?",
    "explanation": "Use **Snapshots**. Save the aggregate state every 100 events. To load, load the last snapshot + 100 subsequent events. O(1) load time."
  },
  {
    "id": 10033,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Idempotent Consumer",
    "content": "Why must Domain Event consumers be Idempotent?",
    "explanation": "The receiver must be **Idempotent**. It should track `EventId` and ignore duplicates. Messaging systems guarantee \"At Least Once\" delivery, not \"Exactly Once\"."
  },
  {
    "id": 10034,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "MediatR Library",
    "content": "Is MediatR required for CQRS?",
    "explanation": "**(Concept).** No. MediatR is an in-process bus that decouples Sender from Handler. It's a useful tool for implementing CQRS pipelines, but CQRS is a pattern, not a library."
  },
  {
    "id": 10035,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Infrastructure Leakage",
    "content": "Using `[Table(\"Users\")]` attributes on Domain Entities.",
    "explanation": "Avoid mixing Database concerns (Infrastructure) with Domain logic. Use Fluent API configuration (`IEntityTypeConfiguration`) in the Infra layer to keep the Domain clean."
  },
  {
    "id": 10036,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Smart UI (Anti-pattern)",
    "content": "What is the Smart UI Anti-pattern?",
    "explanation": "This is **Smart UI**. Logic is tightly coupled to the UI framework, untestable, and unsharable. Move logic to Application/Domain layers."
  },
  {
    "id": 10037,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Cross-Cutting Concerns",
    "content": "Where should Cross-Cutting Concerns (Logging, Validation) be handled in DDD?",
    "explanation": "Use Decorators or Middleware (Pipeline behaviors in MediatR) to handle these. Do not pollute the Business Handlers with logging code."
  },
  {
    "id": 10038,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Feature Envy",
    "content": "What is Feature Envy?",
    "explanation": "**(Code Smell).** This is **Feature Envy**. The method resides in `Order` but is obsessed with `Customer` data. It is a sign of poor cohesion. Refactor by moving this method *into* the `Customer` class."
  },
  {
    "id": 10039,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Tell, Don't Ask",
    "content": "What does the 'Tell, Don't Ask' principle mean?",
    "explanation": "You are asking for state and then acting. Better: `user.Deactivate()`. The method itself should check `if (!IsActive) return;`. Tell the object what to do."
  },
  {
    "id": 10040,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Law of Demeter",
    "content": "`order.Customer.Address.City`.",
    "explanation": "\"Don't talk to strangers\". You are coupled to the internal structure of Customer and Address. If structure changes, code breaks. Better: `order.GetCustomerCity()` (Delegate)."
  },
  {
    "id": 10041,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Rich vs Poor Domain",
    "content": "When is CRUD (Anemic) acceptable?",
    "explanation": "For simple Admin apps or Reference Data management where no complex rules exist. DDD is overkill for CRUD. Use the right tool for the complexity."
  },
  {
    "id": 10042,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Identity Generation",
    "content": "Who generates IDs? DB or App?",
    "explanation": "**(UUID).** In DDD, generating IDs in the App (GUID/UUID) is preferred. It allows the Entity to be fully valid *before* it touches the database. DB-generated IDs (Identity) require a round-trip to know the ID."
  },
  {
    "id": 10043,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Aggregate Size",
    "content": "Why are large Aggregates with many child items considered a design flaw?",
    "explanation": "**(Design Flaw).** A giant Aggregate is a **Concurrency Trap**. Loading it requires reading 1000 items. Modifying it requires locking 1000 items. This causes database blocking. **Fix:** Break it down. Perhaps `ChildItems` should be their own Aggregates, referenced by ID."
  },
  {
    "id": 10044,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Use Cases",
    "content": "Clean Architecture 'Interactors'.",
    "explanation": "These are the Application Services. They represent a specific user intent (`RegisterUser`, `PlaceOrder`). They orchestrate the domain objects to fulfill the intent."
  },
  {
    "id": 10045,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Self-Encapsulation",
    "content": "Should methods inside the class use `this.Property` or `this._field`?",
    "explanation": "**(Property).** Prefer `this.Property` (Self-Encapsulation). It ensures that any logic in the setter/getter (validation, notification) is executed even when the class modifies itself."
  },
  {
    "id": 10046,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Testing Pyramid",
    "content": "Where should most tests be in DDD?",
    "explanation": "**Unit Tests** on Domain Entities. They are fast, check business rules, and require no mocking. Application Services need fewer Integration tests."
  },
  {
    "id": 10047,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Published Language",
    "content": "Communication between Bounded Contexts.",
    "explanation": "Use a stable, documented schema (JSON/XML/Protobuf) shared between contexts. This is the **Published Language**. It decouples the internal domain models of the two systems."
  },
  {
    "id": 10048,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Side Effects in Functions",
    "content": "Should a `Get()` method change state?",
    "explanation": "CQS (Command Query Separation) Principle. Methods should either Return Data (Query) OR Change State (Command), never both. `Get()` implies safe reading."
  },
  {
    "id": 10049,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Big Ball of Mud",
    "content": "What is a 'Big Ball of Mud' architecture?",
    "explanation": "**(Concept).** A system with no recognizable architecture. Spaghetti code. DDD is the cure."
  },
  {
    "id": 10050,
    "category": "Architecture & DDD",
    "difficulty": "Senior",
    "title": "Strangler Fig Pattern",
    "content": "Migrating a Monolith to DDD/Microservices.",
    "explanation": "Don't rewrite from scratch. Intercept calls at the edge. Route specific capabilities to new Microservices one by one. Eventually, the monolith \"dies\"."
  }
  ,
  {
    "id": 11001,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Singleton vs Static Class",
    "content": "When should you use a Singleton Pattern instead of a Static Class?",
    "explanation": "Use Singleton when you need to implement an **Interface** (dependency injection), pass it as a parameter, or handle serialization. Static classes cannot implement interfaces. Use Static only for pure helper functions (`Math.Abs`)."
  },
  {
    "id": 11002,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Strategy Pattern",
    "content": "You have a `PaymentProcessor` with a huge `switch` statement for CreditCard, PayPal, Bitcoin. How to refactor?",
    "explanation": "Use the **Strategy Pattern**. Create an interface `IPaymentStrategy`. Create classes `CreditCardStrategy`, `PayPalStrategy`. Inject the correct one at runtime. This adheres to the Open/Closed Principle."
  },
  {
    "id": 11003,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Factory Method",
    "content": "How does the Factory Pattern improve upon the `new` keyword?",
    "explanation": "`new` couples code to a concrete class. A **Factory** decouples the creation logic. It allows you to return different subclasses (e.g., `SqlDatabase` vs `OracleDatabase`) based on configuration without changing the client code."
  },
  {
    "id": 11004,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Decorator Pattern",
    "content": "How to add logging to a Service without modifying its code?",
    "explanation": "Use the **Decorator Pattern**. Create `LoggingServiceDecorator : IService`. It wraps the real service. In `DoWork()`, it logs, then calls `innerService.DoWork()`. ASP.NET Middleware is a chain of decorators."
  },
  {
    "id": 11005,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Observer Pattern",
    "content": "Does C# have built-in support for the Observer Pattern?",
    "explanation": "Yes. `event` and `delegate` are the native implementation. Also `IObservable<T>` and `IObserver<T>` (Reactive Extensions / Rx.NET) provide a robust, composable Observer pattern for data streams."
  },
  {
    "id": 11006,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Adapter Pattern",
    "content": "How does the Adapter Pattern help with incompatible interfaces?",
    "explanation": "Create an **Adapter**. `class VendorAdapter : ILogger`. Inside, it maps your `Log()` calls to the vendor's specific methods. This allows incompatible interfaces to work together."
  },
  {
    "id": 11007,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Facade Pattern",
    "content": "When should you use the Facade Pattern?",
    "explanation": "Create a **Facade**. A single class with simple methods (`StartSystem()`) that coordinates the complexity of the 20 classes behind the scenes. It provides a simple interface to a complex system."
  },
  {
    "id": 11008,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Chain of Responsibility",
    "content": "What is a real-world example of the Chain of Responsibility in .NET Core?",
    "explanation": "**Middleware Pipeline**. Each middleware component chooses to either process the request and return, or pass it to the `next` component in the chain. Exception handling is typically at the start of the chain."
  },
  {
    "id": 11009,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Command Pattern",
    "content": "You need to implement Undo/Redo functionality.",
    "explanation": "Use the **Command Pattern**. Encapsulate every action as an object (`CopyCommand`) with `Execute()` and `Undo()` methods. Store executed commands in a stack to enable 'Undo'."
  },
  {
    "id": 11010,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Template Method",
    "content": "You have an algorithm with fixed steps, but some steps vary.",
    "explanation": "Define a base class with a `Run()` method calling `Step1()`, `Step2()`, `Step3()`. Make `Step2` `abstract` or `virtual`. Subclasses override `Step2` to provide custom logic while preserving the overall structure."
  },
  {
    "id": 11011,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Builder Pattern",
    "content": "When is the Builder Pattern preferred over a Constructor?",
    "explanation": "Use the **Builder Pattern**. `new CarBuilder().SetEngineV8().AddSunroof().Build()`. It is more readable than a constructor with 15 null arguments. Used heavily in .NET Configuration (`HostBuilder`)."
  },
  {
    "id": 11012,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Proxy Pattern",
    "content": "You want to lazy-load a heavy image or secure an object access.",
    "explanation": "Use a **Proxy**. It implements the same interface as the real object. It intercepts the call, checks permissions or loads the data, then forwards the call to the real object. EF Core Lazy Loading uses Dynamic Proxies."
  },
  {
    "id": 11013,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Iterator Pattern",
    "content": "How does `foreach` work in C#?",
    "explanation": "It relies on the **Iterator Pattern**. Any class implementing `IEnumerable` (providing `GetEnumerator`) can be iterated. `yield return` in C# automatically generates an Iterator state machine."
  },
  {
    "id": 11014,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Composite Pattern",
    "content": "Representing a File System (Folders contain Files AND Folders).",
    "explanation": "Use **Composite**. Treat individual objects (Files) and compositions of objects (Folders) uniformly. They both implement `IFileSystemItem`. A Folder iterates its children calling `Print()`."
  },
  {
    "id": 11015,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "State Pattern",
    "content": "Handling Order Status (New -> Paid -> Shipped). `if (status == ...)` everywhere.",
    "explanation": "Use **State Pattern**. Create classes `NewState`, `PaidState`. The Context holds the current State object. Calls like `Cancel()` are delegated to the State object. `PaidState.Cancel()` might refund, while `ShippedState.Cancel()` throws error."
  },
  {
    "id": 11016,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Prototype Pattern",
    "content": "Cloning complex objects.",
    "explanation": "Use **Prototype**. Implement `ICloneable` (or better, a custom `Clone` method). It creates a copy of existing object state rather than building from scratch. Careful with Shallow vs Deep copy."
  },
  {
    "id": 11017,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Mediator Pattern",
    "content": "Chat room users talking to each other directly (Many-to-Many coupling).",
    "explanation": "**(Decoupling).** Use **Mediator**. Instead of objects calling each other efficiently (N*N connections), they send messages to a central Mediator. The Mediator routes the message to the correct handler. Reduces dependencies to a Star Topology."
  },
  {
    "id": 11018,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Memento Pattern",
    "content": "Saving a game state to restore later.",
    "explanation": "**Memento** captures an object's internal state without exposing its private structure. The `Caretaker` stores the Memento and can pass it back to the `Originator` to restore state."
  },
  {
    "id": 11019,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Flyweight Pattern",
    "content": "A word processor rendering 1 million characters. Each char object has Font, Size, Color.",
    "explanation": "Use **Flyweight**. Share the common state (Font, Size) in a single 'Style' object. The Character object only stores its unique state (Position, Letter). Drastically reduces memory usage."
  },
  {
    "id": 11020,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Visitor Pattern",
    "content": "Adding new operations to a stable class hierarchy without changing it.",
    "explanation": "Use **Visitor**. Add `Accept(IVisitor)` to the classes. Create `ExportXmlVisitor`, `ExportJsonVisitor`. The logic lives in the Visitor, not the data class. Useful for compilers (AST traversal)."
  },
  {
    "id": 11021,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Abstract Factory",
    "content": "Factory Method vs Abstract Factory.",
    "explanation": "Factory Method creates **one** product. Abstract Factory creates **families** of related products (e.g., `CreateButton`, `CreateWindow` for Windows vs Mac vs Linux themes)."
  },
  {
    "id": 11022,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Bridge Pattern",
    "content": "Decoupling abstraction from implementation so they vary independently.",
    "explanation": "You have `RemoteControl` (Basic, Advanced) and `Device` (TV, Radio). Instead of `AdvancedTvRemote`, use a Bridge: `Remote` holds a reference to `IDevice`. You can mix and match any Remote with any Device."
  },
  {
    "id": 11023,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Interpreter Pattern",
    "content": "Parsing a math expression `5 + 10 * 2`.",
    "explanation": "Use **Interpreter**. Define a grammar where `Number`, `Plus`, `Multiply` are classes implementing `Interpret()`. They form a tree structure to evaluate the result. Regex engines use this."
  },
  {
    "id": 11024,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Null Object Pattern",
    "content": "Checking `if (user != null)` everywhere.",
    "explanation": "Use **Null Object**. `class NullUser : IUser`. It does nothing (safe defaults). Return this instead of `null`. Removes null checks from client code."
  },
  {
    "id": 11025,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Service Locator (Anti-Pattern)",
    "content": "`var svc = ServiceLocator.Current.GetInstance<IService>();`",
    "explanation": "**(Anti-Pattern).** It hides dependencies, making the class's needs invisible to the caller. It creates a global state dependency, making unit testing difficult (requires mocking the static locator). **Use Constructor Injection** instead."
  },
  {
    "id": 11026,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Specification Pattern",
    "content": "Combining business rules `IsPremium AND IsActive`.",
    "explanation": "Create small Spec classes `IsPremiumSpec`, `IsActiveSpec`. Chain them: `spec1.And(spec2)`. Keeps rules reusable and testable."
  },
  {
    "id": 11027,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Event Aggregator",
    "content": "What is the difference between Mediator and Event Aggregator?",
    "explanation": "Mediator is usually strict (1-to-1 or request/response). Event Aggregator is \"Fire and Forget\" broadcast to anyone listening. UI components often use Event Aggregator to stay in sync."
  },
  {
    "id": 11028,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Unit of Work",
    "content": "Is `DbContext` a Unit of Work?",
    "explanation": "Yes. It tracks changes to multiple entities and persists them all in a single transaction (`SaveChanges`). It implements the Repository and Unit of Work patterns natively."
  },
  {
    "id": 11029,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Lazy Loading Pattern",
    "content": "Loading heavy data only when accessed.",
    "explanation": "Use `Lazy<T>`. It guarantees thread-safe, one-time initialization. `Value` property triggers the factory only on first access."
  },
  {
    "id": 11030,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Retry Pattern",
    "content": "Handling transient failures.",
    "explanation": "Wrap the call in a Retry loop (or use Polly). Wait and retry if a transient error (Network, Timeout) occurs. Essential for cloud apps."
  },
  {
    "id": 11031,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Circuit Breaker",
    "content": "Preventing cascade failures when a service is down.",
    "explanation": "After N failures, the Circuit Breaker \"Trips\" (Open). It fails fast immediately without calling the remote service, allowing it time to recover. After a timeout, it allows a test call (Half-Open)."
  },
  {
    "id": 11032,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Sidecar Pattern",
    "content": "How does the Sidecar Pattern helpful in offloading cross-cutting concerns?",
    "explanation": "Deploy a helper process (container) alongside the main app. The app talks to the Sidecar (localhost), and the Sidecar handles the complexity (Service Mesh)."
  },
  {
    "id": 11033,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Ambassador Pattern",
    "content": "What is the Ambassador Pattern used for?",
    "explanation": "Like a Sidecar, but specifically acts as a proxy for *outbound* calls. It handles retries, monitoring, and security for the main container."
  },
  {
    "id": 11034,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Gateway Offloading",
    "content": "What is Gateway Offloading?",
    "explanation": "Simplifies the microservices. They speak HTTP internally; the Gateway handles HTTPS, Auth, and Rate Limiting at the edge."
  },
  {
    "id": 11035,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Strangler Fig Pattern",
    "content": "How does the Strangler Fig Pattern facilitate legacy system migration?",
    "explanation": "Gradually replace pieces of the legacy system with new microservices. Put a proxy in front to route traffic to the new services for finished features, and legacy for the rest."
  },
  {
    "id": 11036,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "BFF (Backend for Frontend)",
    "content": "Should you use a single API Gateway for Mobile, Web, and Desktop clients?",
    "explanation": "**(Optimized).** No. Mobile devices need small payloads (battery/bandwidth). Web apps need rich data. Create a specific **BFF (Backend for Frontend)** for each client type. The Mobile BFF calls microservices and aggregates only the essential data for the phone."
  },
  {
    "id": 11037,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Throttling Pattern",
    "content": "How does the Throttling Pattern protect legacy services?",
    "explanation": "Implement a Throttler (Rate Limiter). Reject requests if the rate exceeds X req/sec. Prevents the legacy system from crashing under load."
  },
  {
    "id": 11038,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Bulkhead Pattern",
    "content": "How does the Bulkhead Pattern prevent cascading failures?",
    "explanation": "Use **Bulkhead**. Isolate resources (thread pools) into pools. If the 'Image Processing' pool is exhausted, the 'User Login' pool still works. Like ship compartments."
  },
  {
    "id": 11039,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Saga Pattern",
    "content": "How does the Saga Pattern handle distributed transactions?",
    "explanation": "Use **Saga**. A sequence of local transactions. If one fails, execute **Compensating Transactions** (Undo) for the steps that already succeeded."
  },
  {
    "id": 11040,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Compensating Transaction",
    "content": "Can you just `Rollback` a Saga?",
    "explanation": "No. The previous steps committed to their DBs already. You must execute a logical undo (e.g., 'Credit Account' compensates 'Debit Account')."
  },
  {
    "id": 11041,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Double Checked Locking",
    "content": "Why is Double-Checked Locking needed for Singleton implementation?",
    "explanation": "Check for null, `lock`, then check for null *again*. Essential for thread safety. Alternatively, use `Lazy<T>` which handles this internally."
  },
  {
    "id": 11042,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Simple Factory vs Factory Method",
    "content": "What is the difference between Simple Factory and Factory Method patterns?",
    "explanation": "Simple Factory is just a wrapper (no inheritance). Factory Method uses inheritance to allow subclasses to alter the type of object created."
  },
  {
    "id": 11043,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Rule Engine Pattern",
    "content": "When should you use the Rule Engine Pattern?",
    "explanation": "Define `IRule` with `Matches()` and `Execute()`. Iterate through a list of rules. If match, execute. Clean, extensible way to handle complex business logic."
  },
  {
    "id": 11044,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "MVC vs MVVM",
    "content": "Is MVC considered a Design Pattern or an Architectural Pattern?",
    "explanation": "It is an Architectural Pattern (Compound Pattern). **MVVM** (Model-View-ViewModel) is preferred for rich clients (WPF/Blazor) due to Two-Way Data Binding. MVC is standard for Web APIs/Razor."
  },
  {
    "id": 11045,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Active Record Pattern",
    "content": "Why is the Active Record Pattern often considered a violation of SRP?",
    "explanation": "**(Violation of SRP).** Entities should be POCOs (Plain Old CLR Objects) focused on business logic, not database access. Use the **Repository Pattern** (`repo.Save(user)`) to manage persistence. Active Record tightly couples your domain to the DB technology."
  },
  {
    "id": 11046,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Options Pattern",
    "content": "How does the Options Pattern improve configuration management in .NET Core?",
    "explanation": "Use `IOptions<T>`. It binds the config section to a strongly typed class. Supports validation and reloading."
  },
  {
    "id": 11047,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Dispose Pattern",
    "content": "When to implement `IDisposable`?",
    "explanation": "When you own **Unmanaged Resources** (Handles, Streams) OR you own **Managed Resources** that implement IDisposable. Use the `Dispose(bool disposing)` pattern."
  },
  {
    "id": 11048,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Monostate Pattern",
    "content": "What is the difference between Singleton and Monostate patterns?",
    "explanation": "Singleton enforces one instance. Monostate allows many instances, but they share the same static state. `class X { static int data; }`. Usually Singleton is clearer."
  },
  {
    "id": 11049,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Multiton Pattern",
    "content": "What is the Multiton Pattern?",
    "explanation": "A registry of Singletons. `GetInstance(key)`. Useful for handling multiple cached instances, like one Connection Pool per Database Shard."
  },
  {
    "id": 11050,
    "category": "Design Patterns",
    "difficulty": "Senior",
    "title": "Dependency Injection",
    "content": "Is DI a GoF pattern?",
    "explanation": "**(Concept).** No. DI is a specific implementation of the **Inversion of Control (IoC)** principle. The GoF patterns focused on algorithm structure and object relationships. DI focuses on wiring and decoupling dependencies."
  },
  {
    "id": 12001,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Database per Service",
    "content": "Why is 'Database per Service' a strict rule in Microservices?",
    "explanation": "**(Strict Rule).** Never share databases. If Service B changes its schema, Service A breaks. This creates tight coupling. Service A must ask Service B for data via API (HTTP/gRPC) or subscribe to its Events."
  },
  {
    "id": 12002,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Two-Phase Commit (2PC)",
    "content": "Why is Two-Phase Commit (2PC) considered an anti-pattern in Microservices?",
    "explanation": "**(Anti-Pattern in Microservices).** 2PC (XA Transactions) is a blocking protocol. It locks resources across all participating services until the slowest one commits. It reduces availability and scalability. Use **Sagas** (Eventual Consistency) instead."
  },
  {
    "id": 12003,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Orchestration vs Choreography",
    "content": "What is the difference between Orchestration and Choreography?",
    "explanation": "**(Orchestration).** This is Orchestration. Good for complex workflows where you need a central view of state. **Choreography** (Event-based: PaymentPublished -> ShippingSubscribed) is more decoupled but harder to debug."
  },
  {
    "id": 12004,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "CAP Theorem",
    "content": "Can you have Consistency, Availability, and Partition Tolerance all at once?",
    "explanation": "**(Theory).** No. In a distributed system, Partitions (network failures) *will* happen. You must choose between **CP** (Consistency: error out if sync fails) or **AP** (Availability: return potentially stale data)."
  },
  {
    "id": 12005,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Transactional Outbox Pattern",
    "content": "How to save to DB and publish an Event atomically?",
    "explanation": "Save the event payload to an 'Outbox' table in the *same* database transaction as your business data. A background poller (or CDC) then reads the Outbox and pushes to the Message Bus. Guarantees 'At Least Once' delivery."
  },
  {
    "id": 12006,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Circuit Breaker",
    "content": "How does the Circuit Breaker pattern prevent system hang during downstream failures?",
    "explanation": "Use a **Circuit Breaker**. After N failures, it 'Opens' and fails immediately for a set time without calling Service B. It protects Service A from thread exhaustion and gives Service B time to recover."
  },
  {
    "id": 12007,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Bulkhead Pattern",
    "content": "How does the Bulkhead Pattern isolate different workloads?",
    "explanation": "Use **Bulkheads**. Isolate resources (Thread Pools, Connection Pools) for different workloads. If the Image pool is exhausted, the Login pool remains unaffected."
  },
  {
    "id": 12008,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "BFF (Backend for Frontend)",
    "content": "Why should you prefer BFF over a single API Gateway for multiple client types?",
    "explanation": "Mobile needs small payloads; Web needs huge ones. Use **BFF**. Create a specific API Gateway for each client type. It aggregates the backend calls specifically for that UI's needs."
  },
  {
    "id": 12009,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Distributed Tracing",
    "content": "How to debug a request that passed through 5 services?",
    "explanation": "Use **OpenTelemetry** / Jaeger. Pass a `TraceId` and `SpanId` header (W3C Trace Context) in every HTTP/gRPC call. The logging system aggregates all logs with that ID."
  },
  {
    "id": 12010,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Idempotency",
    "content": "How does Idempotency check handle network drops and retries?",
    "explanation": "The server must be **Idempotent**. It checks the `Idempotency-Key` header. If that key was already processed, it returns the stored response instead of charging the card again."
  },
  {
    "id": 12011,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Smart Endpoints, Dumb Pipes",
    "content": "What does the principle 'Smart Endpoints, Dumb Pipes' mean?",
    "explanation": "**(Anti-Pattern).** Stick to \"Smart Endpoints, Dumb Pipes\". The Message Bus (Pipe) should only transport data. If you put logic in the bus (ESB style), you create a new monolith in the middle. Services (Endpoints) should own the logic."
  },
  {
    "id": 12012,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Consumer Driven Contracts",
    "content": "How to prevent Provider changes from breaking Consumers?",
    "explanation": "Use **CDC (e.g., Pact)**. Consumers define their expectations (Contract). The Provider runs these contracts as part of their CI test suite. If a change breaks a contract, the build fails."
  },
  {
    "id": 12013,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Service Discovery",
    "content": "Why should you use Service Discovery instead of hardcoded IPs?",
    "explanation": "IPs change in dynamic environments (Kubernetes). Use **Service Discovery** (Consul, K8s DNS). Service A asks \"Where is Service B?\" and gets the current IP."
  },
  {
    "id": 12014,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Sidecar Pattern",
    "content": "What problem does the Sidecar Pattern solve in Microservices?",
    "explanation": "Use a **Sidecar** (e.g., Envoy, Dapr). A proxy container runs next to the app container. It handles networking, mTLS, and observability transparency."
  },
  {
    "id": 12015,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Strangler Fig Pattern",
    "content": "Why is the Strangler Fig Pattern preferred over rewriting a monolith?",
    "explanation": "**(Big Bang Risk).** Rewriting from scratch usually fails (years of no features). Use the **Strangler Fig Pattern**. Place a facade (proxy) in front of the monolith. Gradually build new microservices for specific routes and redirect traffic to them, strangling the monolith over time."
  },
  {
    "id": 12016,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Blue/Green Deployment",
    "content": "How does Blue/Green Deployment achieve zero downtime?",
    "explanation": "You have two environments (Blue=Live, Green=New). Deploy to Green. Test it. Switch the Load Balancer to Green. If bugs appear, switch back to Blue instantly. Zero downtime."
  },
  {
    "id": 12017,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Canary Release",
    "content": "What is the benefit of a Canary Release?",
    "explanation": "Route a small % of traffic to the new version. Monitor metrics. If stable, gradually increase to 100%. Reduces blast radius of bugs."
  },
  {
    "id": 12018,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Shared Libraries",
    "content": "Why is sharing a DTO library between microservices considered an anti-pattern?",
    "explanation": "This creates **Coupling**. If you change a DTO in the library, you must redeploy ALL services. Prefer duplicating DTOs or using Schema definitions (Protobuf/Avro) to allow independent evolution."
  },
  {
    "id": 12019,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Compensating Transaction",
    "content": "Step 3 of Saga fails. What now?",
    "explanation": "You cannot 'Rollback' committed transactions. You must run **Compensating Transactions** for Step 2 and Step 1 (e.g., 'Refund Payment' to undo 'Charge Payment')."
  },
  {
    "id": 12020,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Rate Limiting",
    "content": "How can you implement Rate Limiting for tenants?",
    "explanation": "Use **Token Bucket** or **Fixed Window** algorithms. Return HTTP 429 if the limit is exceeded. Apply limits at the API Gateway."
  },
  {
    "id": 12021,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Retry Storm",
    "content": "What is a Retry Storm and how do you prevent it?",
    "explanation": "This is a Retry Storm. Clients ddos the struggling service. Fix: Use **Exponential Backoff** (wait longer each time) and **Jitter** (randomize wait time) to desynchronize retries."
  },
  {
    "id": 12022,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Log Aggregation",
    "content": "SSHing into servers to read logs.",
    "explanation": "Impossible in clusters. Use a centralized stack (ELK: Elastic-Logstash-Kibana, or Loki/Seq). Services push logs to the collector. You search one dashboard."
  },
  {
    "id": 12023,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Event Sourcing",
    "content": "Storing state as a series of events.",
    "explanation": "The 'Current State' is a left-fold of all past events. Enables perfect auditing, time-travel debugging, and rebuilding read models. Complexity is high."
  },
  {
    "id": 12024,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Health Check endpoint",
    "content": "Deep vs Shallow health checks.",
    "explanation": "**Liveness** (Am I running?) should be Shallow (return 200). **Readiness** (Can I accept traffic?) should be Deep (Check DB connection). Orchestrators (K8s) use these to restart or route traffic."
  },
  {
    "id": 12025,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Thundering Herd (Messaging)",
    "content": "100 consumers fighting for one message.",
    "explanation": "Use **Consumer Groups** (Kafka) or Competing Consumers pattern properly. Ensure the load is balanced, not duplicated."
  },
  {
    "id": 12026,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Service Mesh",
    "content": "What does Istio/Linkerd provide?",
    "explanation": "Infrastructure layer for service-to-service communication. Provides mTLS (Security), Traffic Splitting (Canary), and Observability without code changes."
  },
  {
    "id": 12027,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Dead Letter Queue (DLQ)",
    "content": "When should you use a Dead Letter Queue (DLQ)?",
    "explanation": "This is a **Poison Message**. Move it to a **DLQ** after N retries. Alert the team to investigate manually so the consumer can move on to other messages."
  },
  {
    "id": 12028,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Semantic Versioning",
    "content": "How does Semantic Versioning handle breaking API changes?",
    "explanation": "Increment MAJOR version (v1 -> v2). Run both versions in parallel if possible until clients migrate. Never break v1 consumers unexpectedly."
  },
  {
    "id": 12029,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Leader Election",
    "content": "Why is Leader Election necessary for distributed schedulers?",
    "explanation": "Use **Leader Election** (e.g., via Etcd, Consul, or Redis Lock). Only the Leader performs the job. Followers stay idle or standby."
  },
  {
    "id": 12030,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "gRPC vs REST",
    "content": "Why is gRPC often preferred over REST for internal microservice communication?",
    "explanation": "**(gRPC).** gRPC (Protobuf) is binary, smaller, strongly typed, and supports streaming. It is much more efficient than REST (JSON text) for internal chatter."
  },
  {
    "id": 12031,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Backpressure",
    "content": "What is Backpressure in a distributed system?",
    "explanation": "The system must handle **Backpressure**. The consumer signals the producer to slow down (TCP window) or the queue fills up and rejects new messages. Failing to handle this crashes the consumer."
  },
  {
    "id": 12032,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Ambassador Pattern",
    "content": "How does the Ambassador Pattern differ from Sidecar?",
    "explanation": "Like a Sidecar, but specifically for **outbound** connectivity. It handles retry logic, security, and monitoring for calls to external services."
  },
  {
    "id": 12033,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Chaos Engineering",
    "content": "What is the purpose of Chaos Engineering?",
    "explanation": "**(Netflix Simian Army).** Testing resilience by intentionally causing failures. If the system auto-recovers, you find the weakness before a real outage does."
  },
  {
    "id": 12034,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Snowflake IDs",
    "content": "How do Snowflake IDs ensure uniqueness in distributed systems?",
    "explanation": "Twitter Snowflake format (Timestamp + MachineId + Sequence). Generates k-sortable, unique 64-bit integers without coordination (unlike DB Identity) and smaller than GUID."
  },
  {
    "id": 12035,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Anti-Corruption Layer",
    "content": "When should you use an Anti-Corruption Layer (ACL)?",
    "explanation": "Do not let legacy models leak into your domain. Build an **ACL**. It translates the legacy model into your clean model at the boundary."
  },
  {
    "id": 12036,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Sync vs Async Communication",
    "content": "Why is synchronous communication often discouraged in Microservices?",
    "explanation": "**(Temporal Coupling).** If Service B is down or slow, Service A waiting for it effectively goes down too. Prefer **Asynchronous Communication** (Messaging/Queues) where A sends a command and continues, decoupling their availability."
  },
  {
    "id": 12037,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Sticky Sessions",
    "content": "Why are Sticky Sessions considered a scaling bottleneck?",
    "explanation": "**(Scaling Bottleneck).** Sticky Sessions force the Load Balancer to remember mappings, making it stateful. If a server dies, user sessions are lost. Use **Stateless Services** and store session data in a Distributed Cache (Redis)."
  },
  {
    "id": 12038,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "GraphQL Gateway",
    "content": "How does a GraphQL Gateway simplify microservice aggregation?",
    "explanation": "GraphQL is excellent for **BFF**. It allows the client to fetch exactly what it needs in one request. The Gateway handles the complexity of fetching from 10 underlying services."
  },
  {
    "id": 12039,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Consistent Hashing",
    "content": "Distributing keys across Cache Nodes.",
    "explanation": "When a node is added/removed, only `1/N` keys need to move. Standard hashing (`Key % N`) would require moving nearly ALL keys."
  },
  {
    "id": 12040,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Cyclic Dependencies",
    "content": "Why are Cyclic Dependencies dangerous in Microservices?",
    "explanation": "**(Architecture Smell).** This is a **Circular Dependency** (Distributed Deadlock). It makes the system tight-coupled and impossible to update independently. **Fix:** Merge A and B, or extract a third service C that both call, or use Events to invert the flow."
  },
  {
    "id": 12041,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Zero Trust Security",
    "content": "What is Zero Trust Security in a Microservices environment?",
    "explanation": "**(Security Risk).** Never trust the internal network (Perimeter Security is obsolete). Implement **Zero Trust**. Authenticate (Who) and Authorize (What) every single Service-to-Service call (e.g., using mTLS and JWTs)."
  },
  {
    "id": 12042,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Schema Registry",
    "content": "Why is a Schema Registry important for Event Driven Architecture?",
    "explanation": "Use a Registry (Confluent/Azure Schema Registry). Producers publish schemas. Consumers download them. Prevents breaking changes by enforcing compatibility rules (Forward/Backward)."
  },
  {
    "id": 12043,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Data Sovereignty",
    "content": "What is Data Sovereignty and how does it affect architecture?",
    "explanation": "**(Legal).** GDPR compliance. You may need to shard data by geography and ensure specific tenant data never leaves a physical region."
  },
  {
    "id": 12044,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Graceful Shutdown",
    "content": "Why is Graceful Shutdown important for containers?",
    "explanation": "Requests in flight fail. DB connections remain open. Handle `SIGTERM`. Stop accepting new traffic, finish current requests, dispose connections, then exit."
  },
  {
    "id": 12045,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Single Point of Failure (SPOF)",
    "content": "How do you identify and mitigate a Single Point of Failure (SPOF)?",
    "explanation": "If it dies, the system dies. Use Clusters/Replicas for all infrastructure components (DB, Cache, Broker)."
  },
  {
    "id": 12046,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Task Queues",
    "content": "Why should video uploads be processed via Task Queues?",
    "explanation": "Upload to Storage -> Put message in Queue -> Return 'Processing' to user. Worker processes queue. This decouples the heavy work from the user interaction."
  },
  {
    "id": 12047,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Feature Toggles",
    "content": "How do Feature Toggles decouple Deployment from Release?",
    "explanation": "Deploy the code (hidden behind a flag). Enable the feature for users later via config update. Allows testing in production and instant rollback without redeployment."
  },
  {
    "id": 12048,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Gossip Protocol",
    "content": "How cluster nodes check each other's health.",
    "explanation": "Nodes randomly talk to neighbors to spread information (\"Node A is down\"). It propagates state efficiently through the cluster without a central bottleneck."
  },
  {
    "id": 12049,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Caching at the Edge",
    "content": "What are the benefits of Caching at the Edge?",
    "explanation": "Cache static assets and even API responses geographically closer to the user. Reduces latency and load on your origin servers."
  },
  {
    "id": 12050,
    "category": "Microservices",
    "difficulty": "Senior",
    "title": "Fallacies of Distributed Computing",
    "content": "What are the Fallacies of Distributed Computing?",
    "explanation": "**(Reality Check).** These are the **8 Fallacies of Distributed Computing**. You must assume the network *will* fail, bandwidth *is* limited, and latency *is* non-zero. Design for resilience (Retries, Timeouts, Circuit Breakers) from day one."
  },
  {
    "id": 13001,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Topic vs Queue",
    "content": "When should you use a Topic instead of a Queue?",
    "explanation": "Use a **Queue** for Point-to-Point (1 sender, 1 receiver). Use a **Topic** for Pub/Sub (1 sender, Many receivers). If you want the 'OrderCreated' event to trigger 'EmailService' AND 'InventoryService', you need a Topic."
  },
  {
    "id": 13002,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Consumer Groups",
    "content": "You have 3 instances of the 'InvoiceService' listening to a Kafka Topic. Do they all get the message?",
    "explanation": "**(Concept).** If they are in the *same* **Consumer Group**, only ONE instance processes the message (Load Balancing). If they are in *different* groups, ALL groups get a copy (Broadcast)."
  },
  {
    "id": 13003,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "At-Least-Once Delivery",
    "content": "Does RabbitMQ/Kafka guarantee that a message is delivered exactly once?",
    "explanation": "No. The standard guarantee is **At-Least-Once**. Network failures or crashes during ACK can cause duplicates. Your consumers MUST be **Idempotent** to handle receiving the same message twice."
  },
  {
    "id": 13004,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Poison Message",
    "content": "What is a Poison Message loop?",
    "explanation": "This is a **Poison Message** loop. Configure a **Dead Letter Queue (DLQ)** policy. After N failed attempts, move the message to a DLQ so the consumer can skip it and process valid messages."
  },
  {
    "id": 13005,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Ordering Guarantee",
    "content": "Does Kafka guarantee total ordering of all messages?",
    "explanation": "**(Partition Ordering).** No. Kafka guarantees ordering **only within a Partition**. If you need global ordering, you need a single partition (sacrifices concurrency). For typical use, ensure related messages (e.g., all events for `OrderId: 123`) share the same **Partition Key**."
  },
  {
    "id": 13006,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Outbox Pattern",
    "content": "Why is saving to DB and publishing an event without a transaction risky?",
    "explanation": "'Dual Write' problem. If DB save succeeds but Publish fails, data is inconsistent. Use the **Transactional Outbox** pattern: Write the event to a table in the *same* DB transaction. A background process publishes it later."
  },
  {
    "id": 13007,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Event Carried State Transfer",
    "content": "What is Event-Carried State Transfer?",
    "explanation": "This is **Event Carried State Transfer**. The consumer gets all needed data in the event payload, avoiding a callback API request to the Producer (which creates temporal coupling). Trade-off: Event size."
  },
  {
    "id": 13008,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Compelling Event",
    "content": "Why is `SendEmail` a bad name for a Domain Event?",
    "explanation": "That is a **Command**, not an Event. Events describe facts that *happened* (`UserRegistered`). Commands describe intent (`SendEmail`). Events should be named in the past tense."
  },
  {
    "id": 13009,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Idempotency Implementation",
    "content": "How to handle duplicate events?",
    "explanation": "Store `ProcessedMessageIds` in a table. Before processing, check existence. Alternatively, design operations to be naturally idempotent (e.g., `SetStatus('Paid')` is safe to run twice; `AddBalance(10)` is not)."
  },
  {
    "id": 13010,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Schema Registry",
    "content": "How does a Schema Registry prevent breaking changes in events?",
    "explanation": "Use a **Schema Registry** (e.g., Confluent/Azure). It enforces backward/forward compatibility rules. Producers cannot publish messages that violate the contract agreed upon with consumers."
  },
  {
    "id": 13011,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Ephemeral Queues",
    "content": "When to use temporary/auto-delete queues?",
    "explanation": "Useful for **Reply/Response** patterns over messaging. Service A sends a request and listens on a temporary queue for the reply. Once the reply is received, the queue is destroyed."
  },
  {
    "id": 13012,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Offset Management",
    "content": "When should you commit the offset in Kafka?",
    "explanation": "Commit **after** successful processing. If you commit before processing (Auto-Commit) and the process crashes, the message is lost (At-Most-Once). Committing after ensures At-Least-Once."
  },
  {
    "id": 13013,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Correlation ID",
    "content": "How does a Correlation ID help in Distributed Tracing?",
    "explanation": "Every message must carry a `CorrelationId` (TraceId). The Consumer copies it from the input message to any output messages it publishes. Logging tools use this to stitch the timeline together."
  },
  {
    "id": 13014,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Backpressure",
    "content": "How do you handle Backpressure in messaging queues?",
    "explanation": "Implement **Backpressure**. Limit the 'Prefetch Count' on the consumer. Monitor queue depth. If full, either scale up consumers (Competing Consumers) or throttle the producer."
  },
  {
    "id": 13015,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "RabbitMQ vs Kafka",
    "content": "When to choose RabbitMQ over Kafka?",
    "explanation": "Use **RabbitMQ** for complex routing (Exchanges/Bindings), priority queues, and when you need per-message acknowledgments (Smart Broker). Use **Kafka** for massive throughput stream processing and replayability (Dumb Broker, Smart Client)."
  },
  {
    "id": 13016,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Event Versioning",
    "content": "How to introduce a breaking change to an event?",
    "explanation": "Two strategies: 1. **Upcasting** (Adapter converts V1 to V2 on read). 2. **Dual Publish** (Publish both V1 and V2 topics for a transition period). Never break the V1 schema in place."
  },
  {
    "id": 13017,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Time-To-Live (TTL)",
    "content": "Why should you set a TTL on messages?",
    "explanation": "Set a TTL. If a stock price update is 1 hour old, it's useless. Let it expire to DLQ or vanish to prevent processing stale data."
  },
  {
    "id": 13018,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Competing Consumers",
    "content": "How does the Competing Consumers pattern help with scaling?",
    "explanation": "Add more consumer instances to the same queue/group. The broker distributes messages among them (Round Robin). This is the primary way to scale horizontal processing in EDA."
  },
  {
    "id": 13019,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "MassTransit / NServiceBus",
    "content": "Why use these libraries over raw RabbitMQ client?",
    "explanation": "They provide enterprise patterns out of the box: Retries, Circuit Breakers, Outbox, Sagas, and abstraction over the transport. They prevent you from reinventing the wheel for reliability."
  },
  {
    "id": 13020,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Fan-Out",
    "content": "How do you implement a Fan-Out pattern in messaging?",
    "explanation": "Use a **Fan-out Exchange** (RabbitMQ) or simply have multiple consumer groups (Kafka). This decouples the producer from knowing who is listening."
  },
  {
    "id": 13021,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Notification Pattern",
    "content": "What is the Notification Pattern in EDA?",
    "explanation": "This is the 'Thin Event' or Notification pattern. The consumer must call the API to get details. Reduces payload size but increases API load and temporal coupling. Good for security/privacy."
  },
  {
    "id": 13022,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Reply Queue",
    "content": "How to do Request-Response over messaging?",
    "explanation": "Producer sends message with `ReplyTo: QueueA` and `CorrelationId: 123`. Consumer processes and sends result to `QueueA` with `CorrelationId: 123`. Producer correlates the reply."
  },
  {
    "id": 13023,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Claim Check Pattern",
    "content": "How does the Claim Check Pattern handle large message payloads?",
    "explanation": "Upload image to Blob Storage. Put the **URL** (Claim Check) in the message. Consumer reads the URL and downloads the payload. Keeps the broker lightweight."
  },
  {
    "id": 13024,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Partition Key Selection",
    "content": "What is the trade-off between using `Random` and `UserId` as a Partition Key?",
    "explanation": "`UserId` ensures all events for that user go to the *same* partition (and thus same consumer), guaranteeing order. `Random` distributes load evenly but loses ordering guarantees for the user entity."
  },
  {
    "id": 13025,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Azure Event Grid vs Event Hubs",
    "content": "What is the key difference between Azure Event Grid and Event Hubs?",
    "explanation": "**Event Grid**: Discrete events (reactive), push model, one-event-at-a-time (e.g., 'Blob Created'). **Event Hubs**: Streaming data (telemetry), pull model, massive throughput (e.g., App Logs, IoT)."
  },
  {
    "id": 13026,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Consumer Lag",
    "content": "What does it mean if Consumer Lag is increasing?",
    "explanation": "The Producer is faster than the Consumer. You are accumulating backlog. You need to scale up consumers or optimize processing time before the buffer overflows or latency becomes unacceptable."
  },
  {
    "id": 13027,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Transactional Messaging (Kafka)",
    "content": "Does Kafka support Exactly-Once semantics?",
    "explanation": "Kafka supports transactions (`consume-process-produce`). It ensures that reading a message and publishing the result happens atomically. It does *not* cover side effects like DB writes or external API calls."
  },
  {
    "id": 13028,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Priority Queues",
    "content": "How do you implement Priority Queues in systems like Kafka that don't support them natively?",
    "explanation": "RabbitMQ supports Priority Queues naturally. In Kafka/ServiceBus, you typically implement this by having separate queues (`HighPriority`, `LowPriority`) and having consumers poll the High queue more frequently."
  },
  {
    "id": 13029,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Deduplication Window",
    "content": "How long should you remember message IDs for idempotency?",
    "explanation": "It depends on the business (e.g., 24 hours). You can use Redis with TTL. If a message arrives after the window, it might be processed again (Trade-off)."
  },
  {
    "id": 13030,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Event Sourcing Replay",
    "content": "How to fix a bug in a Read Model (Projection)?",
    "explanation": "Drop the SQL Read Model. Fix the projection code. **Replay** all past events from the Event Store through the new code. The Read Model is rebuilt correctly from history."
  },
  {
    "id": 13031,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Azure Service Bus Sessions",
    "content": "How do Azure Service Bus Sessions enable ordered processing without partitions?",
    "explanation": "Use **Sessions**. A consumer locks a 'SessionId' (e.g., OrderId). It processes all messages for that session in order. Other consumers handle other sessions. Enables ordered scale-out."
  },
  {
    "id": 13032,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "AckMode.PeakLock",
    "content": "What is the difference between `PeekLock` and `ReceiveAndDelete` in Azure Service Bus?",
    "explanation": "**PeekLock**. The message is locked (hidden from others) but not deleted. If processing succeeds, call `Complete()`. If it crashes, the lock expires and the message reappears (Reliability). `ReceiveAndDelete` is unsafe."
  },
  {
    "id": 13033,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Batch Processing",
    "content": "Why is Batch Processing critical for high-throughput messaging?",
    "explanation": "Network overhead is huge. Use **Batch Publishing**. Send messages in chunks. Similarly, consumers should prefetch and process batches to increase throughput."
  },
  {
    "id": 13034,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Single Message Transforms (SMT)",
    "content": "What are Single Message Transforms (SMT) in Kafka Connect?",
    "explanation": "Allows lightweight modification of messages (e.g., masking PII, renaming fields) as they flow through the connector pipeline without writing a full stream processing app."
  },
  {
    "id": 13035,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Nack vs Reject",
    "content": "What is the difference between `Nack` and `Reject` in RabbitMQ?",
    "explanation": "`Nack` (Negative Acknowledgement) tells the broker \"I failed\". You can flag it to `requeue` (try again) or discard (DLQ). `Reject` is the same but strictly for a single message."
  },
  {
    "id": 13036,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Filter Expressions (Topic)",
    "content": "How do Topic Subscription Filters optimize message consumption?",
    "explanation": "Subscribers can define SQL-like filters (`Color = 'Red'`). The Broker filters messages *before* sending them to the subscription. Saves bandwidth and processing power for the consumer."
  },
  {
    "id": 13037,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Snapshotting in Event Sourcing",
    "content": "How does Snapshotting solve performance issues in Event Sourcing?",
    "explanation": "Too slow. Create a **Snapshot** every 100 events. Load the Snapshot (Balance=500), then replay only the events *after* that snapshot. O(1) performance."
  },
  {
    "id": 13038,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Log Compaction",
    "content": "What is Log Compaction in Kafka and when is it used?",
    "explanation": "Instead of deleting old logs by time, Kafka keeps only the *latest* message for each Key. Perfect for caching current state (e.g., 'Product Price') without storing full history."
  },
  {
    "id": 13039,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Routing Key",
    "content": "How does a Routing Key working in a RabbitMQ Direct Exchange?",
    "explanation": "Producer sends with Routing Key `error.log`. Queue binds with `error.log`. Precise routing. Topic Exchange uses wildcards `*.log`."
  },
  {
    "id": 13040,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Message Durability",
    "content": "Why is Message Durability important if a broker restarts?",
    "explanation": "If broker restarts, messages are lost. Use **Durable Queues** and **Persistent Messages**. The broker writes them to disk before confirming receipt."
  },
  {
    "id": 13041,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "CloudEvents Standard",
    "content": "What is the purpose of the CloudEvents standard?",
    "explanation": "Industry standard spec for event metadata (`type`, `source`, `id`, `time`). Ensures interoperability across cloud providers (AWS Lambda, Azure Functions, Google Cloud)."
  },
  {
    "id": 13042,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Wire Tap Pattern",
    "content": "How does the Wire Tap Pattern help with debugging messaging systems?",
    "explanation": "Add a 'Wire Tap' consumer queue that receives a copy of all messages. You can inspect/log them without interfering with the main flow."
  },
  {
    "id": 13043,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Process Manager",
    "content": "What is the role of a Process Manager in EDA?",
    "explanation": "A Process Manager listens to events and issues commands. It maintains state (e.g., \"Waiting for Payment\"). If `PaymentFailed` arrives, it issues `CancelOrder`."
  },
  {
    "id": 13044,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Avro Serialization",
    "content": "Why is Avro often preferred over JSON for Kafka?",
    "explanation": "**(Avro).** Avro is binary and requires a schema. It is much smaller (no field names in payload) and faster. Strongly coupled with Schema Registry."
  },
  {
    "id": 13045,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Prefetch Count",
    "content": "When should you set the Prefetch Count to 1?",
    "explanation": "Good for heavy, long-running tasks. Ensures a consumer only takes one message at a time. For fast tasks, set higher (e.g., 50) to optimize network utilization."
  },
  {
    "id": 13046,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Side Effects in Replay",
    "content": "How do you handle side effects during Event Replay?",
    "explanation": "When replaying for read-models, you must **disable side effects**. The system should project data, not re-issue commands to the outside world."
  },
  {
    "id": 13047,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Retry with Delay (Exponential Backoff)",
    "content": "How do you implement Exponential Backoff retries in RabbitMQ?",
    "explanation": "RabbitMQ doesn't support delay natively easily. Use a plugin or the **Wait Exchange** pattern (TTL on a dead queue that routes back to main queue)."
  },
  {
    "id": 13048,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Event Storming",
    "content": "What is the goal of an Event Storming workshop?",
    "explanation": "A workshop to map out the timeline of Domain Events. Helps identify aggregates, boundaries, and the data flow before writing code."
  },
  {
    "id": 13049,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "CDC Debezium",
    "content": "What is Change Data Capture (CDC) and how does Debezium enable it?",
    "explanation": "An open-source platform for Change Data Capture. It reads database transaction logs (Postgres WAL, MySQL binlog) and turns row changes into event streams."
  },
  {
    "id": 13050,
    "category": "Event Driven Architecture",
    "difficulty": "Senior",
    "title": "Messaging Bridge",
    "content": "What is a Messaging Bridge?",
    "explanation": "Useful for hybrid cloud. A bridge consumes from one broker and forwards to another, often transforming the protocol (AMQP -> HTTPS)."
  }
  ,
  {
    "id": 14001,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "PUT vs PATCH",
    "content": "What is the semantic difference between PUT and PATCH?",
    "explanation": "`PUT` is a **Replacement** semantic. It expects the *entire* resource. Sending a partial object implies nulling out all missing fields (Name, Age). Use `PATCH` for partial updates."
  },
  {
    "id": 14002,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Idempotency Key",
    "content": "Is `POST` idempotent?",
    "explanation": "**(Not by default).** No. Calling `POST /orders` twice creates two orders. To make it idempotent, the client must send a unique `Idempotency-Key` or `Request-Id`. The server tracks these keys and returns the original response for duplicates without re-executing logic."
  },
  {
    "id": 14003,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Richardson Maturity Model",
    "content": "What is Level 3 REST?",
    "explanation": "**HATEOAS** (Hypermedia As The Engine Of Application State). The API returns links (`_links`) telling the client what actions are possible next (e.g., `cancel`, `pay`), decoupling the client from knowing hardcoded URLs."
  },
  {
    "id": 14004,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "gRPC vs REST Performance",
    "content": "Why is gRPC faster?",
    "explanation": "1. **Protobuf**: Binary serialization is smaller/faster to parse than JSON text. 2. **HTTP/2**: Multiplexing (multiple requests over one TCP connection) and Header Compression (HPACK). REST *can* use HTTP/2, but gRPC enforces it."
  },
  {
    "id": 14005,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "GraphQL Overfetching",
    "content": "How does GraphQL solve the Overfetching problem?",
    "explanation": "**(Mobile Performance).** This is **Overfetching**. It wastes bandwidth and battery, especially on mobile networks. GraphQL solves this by allowing the client to specify the **Selection Set**: `{ user { name } }`, fetching only what is needed."
  },
  {
    "id": 14006,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "GraphQL N+1 Problem",
    "content": "What is the GraphQL N+1 Problem and how do you fix it?",
    "explanation": "**(Performance Trap).** The 'Books' resolver runs once for *each* 'Author', executing 101 SQL queries. **Solution:** Use **DataLoader**. It batches the requests, collecting all Author IDs and fetching all Books in a single SQL query (`WHERE AuthorId IN (...)`) during the execution phase."
  },
  {
    "id": 14007,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Version Header vs URL",
    "content": "What are the pros and cons of Version Header vs URL Versioning?",
    "explanation": "Both work, but **Header Versioning** is more \"RESTful\" (the resource identity URL doesn't change, only the representation). **URL Versioning** is more pragmatic and easier to explore/cache by browsers/CDNs."
  },
  {
    "id": 14008,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "401 vs 403",
    "content": "What is the difference between HTTP 401 and 403?",
    "explanation": "**401 Unauthorized**: \"I don't know who you are\" (Login required). **403 Forbidden**: \"I know who you are, but you aren't allowed to do this\" (Permission denied)."
  },
  {
    "id": 14009,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Content Negotiation",
    "content": "How does Content Negotiation work in HTTP?",
    "explanation": "The server should check the `Accept` header. If it supports XML, return XML. If not, return `406 Not Acceptable` (or default to JSON if strictness isn't required)."
  },
  {
    "id": 14010,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "gRPC Streaming",
    "content": "How does gRPC Streaming improve checking large file transfers?",
    "explanation": "Use **Server Streaming**. The client sends one request, and the server sends a stream of chunks. Much better than buffering 1GB in memory."
  },
  {
    "id": 14011,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "GraphQL Status Codes",
    "content": "Why does GraphQL often return 200 OK for errors?",
    "explanation": "**(Observability Nuance).** GraphQL often returns **200 OK** even if individual fields failed (Partial Success). The JSON body contains a `data` object and an `errors` array. This breaks standard HTTP monitoring. You must inspect the response body to detect failures."
  },
  {
    "id": 14012,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Safe Methods",
    "content": "Why must HTTP GET be a Safe Method?",
    "explanation": "**(Violation).** No. `GET`, `HEAD`, and `OPTIONS` are defined as **Safe Methods**. They must be Read-Only and have no side effects. Crawlers, CDNs, and browsers assume they can call these speculatively without breaking anything."
  },
  {
    "id": 14013,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "202 Accepted",
    "content": "When should you return HTTP 202 Accepted?",
    "explanation": "For **Async Processing**. \"I received your request (e.g., Generate Report), but it's not done yet.\" Usually returns a `Location` header pointing to a status endpoint (`/jobs/123`)."
  },
  {
    "id": 14014,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Protobuf Schema Evolution",
    "content": "Is it safe to rename a field in a Protobuf schema?",
    "explanation": "Safe *if* field ID number stays the same. The wire format uses IDs, not names. Renaming `string name = 1;` to `string fullName = 1;` does not break binary compatibility."
  },
  {
    "id": 14015,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "BFF (Backend for Frontend)",
    "content": "Is GraphQL a good choice for a Backend for Frontend (BFF)?",
    "explanation": "GraphQL is an excellent BFF. It aggregates data from multiple microservices and lets the UI (Mobile/Web) dictate exactly what shape of data it needs, solving the orchestration problem."
  },
  {
    "id": 14016,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "OData",
    "content": "Why is exposing OData/IQueryable directly to the internet considered risky?",
    "explanation": "**(Security Risk).** Exposing `IQueryable` (OData) allows clients to write arbitrary SQL-like queries (`$expand`, `$filter`). Malicious users can trigger massive joins or table scans (DoS). **Mitigation:** Use strict Validation, Query Depth limits, or prefer GraphQL/REST with defined DTOs."
  },
  {
    "id": 14017,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Webhooks",
    "content": "How to secure incoming Webhooks from Stripe/GitHub?",
    "explanation": "Validate the **HMAC Signature**. The provider signs the payload with a shared secret. Your server hashes the body + secret and compares it to the `X-Signature` header. Ensures payload wasn't tampered with."
  },
  {
    "id": 14018,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "gRPC-Web",
    "content": "Can browsers call gRPC directly?",
    "explanation": "Browsers don't fully expose HTTP/2 framing required for standard gRPC. You need a **gRPC-Web Proxy** (Envoy) to translate HTTP/1.1 or standard HTTP/2 into gRPC calls."
  },
  {
    "id": 14019,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "OpenAPI (Swagger)",
    "content": "What is the difference between Code-First and Design-First API development?",
    "explanation": "**Design-First** (writing YAML first) is better for parallel development. Frontend and Backend agree on the contract before writing code. **Code-First** (generating Swagger from C#) is easier but can lead to accidental breaking changes."
  },
  {
    "id": 14020,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "ETag Concurrency",
    "content": "How to prevent 'Lost Updates' in REST?",
    "explanation": "Return an `ETag` header (hash of resource). Client sends `If-Match: [hash]` on PUT. If the hash on server changed (someone else updated it), return `412 Precondition Failed`."
  },
  {
    "id": 14021,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "JSON Merge Patch",
    "content": "How does JSON Merge Patch work?",
    "explanation": "RFC 7396 (`application/merge-patch+json`). Keys present in JSON are updated. Keys set to `null` are deleted. Simple, but can't distinguish between \"Update to null\" and \"Delete\"."
  },
  {
    "id": 14022,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "gRPC Deadlines",
    "content": "How do gRPC Deadlines propagate across microservices?",
    "explanation": "Pass the **Deadline** (Timeout) downstream. If Service A gives Service B 5 seconds, and B takes 2 seconds, B should call C with only 3 seconds remaining. Prevents wasted processing if the parent already timed out."
  },
  {
    "id": 14023,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Schema Stitching vs Federation",
    "content": "What is the difference between GraphQL Schema Stitching and Federation?",
    "explanation": "**Federation** (Apollo) is the modern standard. Subgraphs (Microservices) define their own schema parts. The Gateway composes them. Stitching (Old) required manual glue code in the gateway."
  },
  {
    "id": 14024,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Rest Maturity: POST vs PUT for Creation",
    "content": "When is it valid to use PUT for creation?",
    "explanation": "Valid if the *Client* decides the ID (123). `PUT` creates or updates at that specific URI. `POST /users` is used when the *Server* generates the ID."
  },
  {
    "id": 14025,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Hypermedia",
    "content": "Why is HATEOAS rarely used in internal APIs?",
    "explanation": "**(Pragmatism).** Theoretically beautiful, practically unused in internal APIs. It adds significant complexity for parsing links. Most clients (Mobile/SPA) hardcode routes at build time. Use HATEOAS only for truly dynamic public discovery APIs."
  },
  {
    "id": 14026,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Rate Limiting Headers",
    "content": "How should an API communicate Rate Limiting to the client?",
    "explanation": "Return `429 Too Many Requests`. Include `Retry-After: 60` (seconds) and `X-RateLimit-Remaining` headers so the client knows when to back off."
  },
  {
    "id": 14027,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Filtering in REST",
    "content": "How to handle complex filters? `GET /users?age=gt:20&sort=-created`.",
    "explanation": "Standard query params. For very complex filters (nested logic), query params break down. Consider `POST /users/search` with a JSON body containing the filter rules (pragmatic REST)."
  },
  {
    "id": 14028,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Protobuf Optional Fields",
    "content": "How to distinguish between '0' and 'not set' in Proto3?",
    "explanation": "In default Proto3, primitives have no null. 0 is default. Use `optional int32` (added in later Proto3 versions) or wrapper types `Int32Value` to distinguish explicit assignment."
  },
  {
    "id": 14029,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "GraphQL Union Types",
    "content": "When should you use GraphQL Union Types?",
    "explanation": "Use **Union** types. `union SearchResult = User | Post`. The query uses inline fragments `... on User { name } ... on Post { title }` to handle each type."
  },
  {
    "id": 14030,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Cache-Control Header",
    "content": "What is the difference between 'public' and 'private' in Cache-Control?",
    "explanation": "`public`: CDNs and Shared Proxies can cache this (e.g., Logo). `private`: Only the browser can cache this (e.g., User Profile). Mixing them leaks personal data to CDNs."
  },
  {
    "id": 14031,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Bulk Operations",
    "content": "Why are Bulk Endpoints preferred over looping POST requests?",
    "explanation": "**(Performance Trap).** 100 HTTP requests = 100 SSL handshakes + 100 DB roundtrips. **Solution:** Create a **Bulk Endpoint** (`POST /users/batch`) that accepts `List<UserDto>`. Wraps everything in a single Transaction and limits network overhead."
  },
  {
    "id": 14032,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Error Payloads",
    "content": "Why should you use RFC 7807 (Problem Details) for API errors?",
    "explanation": "Use **RFC 7807 (Problem Details)**. Standard JSON: `{ \"type\": \"https://.../validation-error\", \"title\": \"Invalid email\", \"status\": 400 }`. Allows machine-readable error handling."
  },
  {
    "id": 14033,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Pagination Links",
    "content": "What is the benefit of returning a response envelope for paginated APIs?",
    "explanation": "Return **Envelope**. `{ \"data\": [...], \"meta\": { \"page\": 1, \"total\": 500 }, \"links\": { \"next\": \"/users?page=2\" } }`. Makes client navigation easier."
  },
  {
    "id": 14034,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "gRPC Interceptors",
    "content": "How are gRPC Interceptors used?",
    "explanation": "Use **Interceptors**. They work like Middleware in ASP.NET. You can intercept unary and streaming calls to check metadata (headers) or log requests."
  },
  {
    "id": 14035,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "GraphQL Mutation Design",
    "content": "Why should you use Input Types for GraphQL Mutations?",
    "explanation": "Use **Input Types**. `updateUser(input: UpdateUserInput)`. Allows easier evolution of arguments without breaking the schema signature."
  },
  {
    "id": 14036,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Versioning Strategy: Evolution",
    "content": "What is the GraphQL philosophy on API versioning?",
    "explanation": "The GraphQL philosophy. Add new fields, deprecate old fields (`@deprecated`), but never remove them. Clients effectively query a specific 'version' by selecting specific fields."
  },
  {
    "id": 14037,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Server-Sent Events (SSE) vs WebSockets",
    "content": "When should you use Server-Sent Events (SSE) vs WebSockets?",
    "explanation": "Use **SSE**. simpler than WebSockets. It uses standard HTTP, handles reconnection automatically, and works well with firewalls. WebSockets are better for bi-directional (Chat/Games)."
  },
  {
    "id": 14038,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "API Gateway pattern",
    "content": "Why is putting business logic in the API Gateway an anti-pattern?",
    "explanation": "**(Anti-Pattern).** No. The Gateway is for **Cross-Cutting Concerns** (Auth, SSL, Rate Limiting, Routing). Putting business logic here creates a \"Distributed Monolith\" where the Gateway becomes a bottleneck and deployment dependency."
  },
  {
    "id": 14039,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "JSON-RPC",
    "content": "When might JSON-RPC be a better choice than REST?",
    "explanation": "REST is resource-oriented. Sometimes you just want to run a function (`CalculateTax`). **JSON-RPC** (method/params) is simpler and more direct for actions that don't fit CRUD resources."
  },
  {
    "id": 14040,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "HTTP 307 vs 301",
    "content": "What is the difference between HTTP 301 and 307 redirects?",
    "explanation": "`301` might change the method to GET (browser behavior). `307 Temporary Redirect` guarantees the method and body remain the same (POST stays POST)."
  },
  {
    "id": 14041,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Domain Primitives in API",
    "content": "Why should you avoid exposing internal Integer IDs in public APIs?",
    "explanation": "**(Conditional).** Exposing Integer IDs allows enumeration attacks (`/users/1`, `/users/2`). Prefer **UUIDs** or Hashids (obfuscated integers) for public-facing APIs."
  },
  {
    "id": 14042,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Request Coalescing",
    "content": "How does Request Coalescing reduce backend load?",
    "explanation": "The gateway or caching layer should coalesce them. Send 1 request to the backend, wait for response, and serve it to all 100 clients."
  },
  {
    "id": 14043,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Proto JSON Mapping",
    "content": "Is it possible to convert gRPC Protobuf messages to JSON?",
    "explanation": "Yes. `Google.Protobuf.JsonFormatter` can convert Proto messages to JSON for debugging or for HTTP/1.1 transcoding (gRPC-Gateway)."
  },
  {
    "id": 14044,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Asynchronous Request-Reply",
    "content": "How do you handle long-running operations in a REST API?",
    "explanation": "Return `202 Accepted`. Client polls a status endpoint. Better yet, Client provides a **Webhook** URL, and Server calls the client back when done."
  },
  {
    "id": 14045,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Semantic Status Codes",
    "content": "Why should you avoid returning 200 OK for business rule failures?",
    "explanation": "Use `422 Unprocessable Entity` (WebDAV standard, commonly used in REST). It means \"JSON is valid, but the data makes no sense\" (e.g., password too short)."
  },
  {
    "id": 14046,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Response Envelope",
    "content": "What are the arguments for wrapping API responses in an envelope?",
    "explanation": "Good practice. It allows you to add top-level metadata (`meta`, `errors`, `cursor`) later without breaking clients who expect an array at the root."
  },
  {
    "id": 14047,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "OPTIONS Preflight",
    "content": "How do you cache OPTIONS Preflight requests to reduce latency?",
    "explanation": "Yes. Set `Access-Control-Max-Age` header. It tells the browser \"Don't check CORS permissions again for 24 hours\". Reduces latency significantly."
  },
  {
    "id": 14048,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "GraphQL Complexity Analysis",
    "content": "How does Complexity Analysis prevent DoS attacks in GraphQL?",
    "explanation": "Assign 'points' to fields. (e.g., User=1, Posts=5). Reject queries that cost > 100 points. Prevents deep nested queries (`user { posts { comments { author { ... } } } }`)."
  },
  {
    "id": 14049,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "HEAD Method",
    "content": "What is the HTTP HEAD method used for?",
    "explanation": "\"Get me headers only\". Useful to check if a resource exists (404 check) or check `Content-Length`/`Last-Modified` before deciding to download a large file."
  },
  {
    "id": 14050,
    "category": "API Architecture",
    "difficulty": "Senior",
    "title": "Baggage Header",
    "content": "What is the purpose of the Baggage Header in OpenTelemetry?",
    "explanation": "Part of OpenTelemetry/W3C. It allows you to propagate custom key-value pairs (e.g., `TenantId`, `UserLevel`) across all microservices in the headers automatically."
  }
  ,
  {
    "id": 15001,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Cold Starts",
    "content": "What is a Cold Start in Azure Functions and how do you mitigate it?",
    "explanation": "**(Serverless Latency).** On the Consumption Plan, Azure de-allocates idle instances. The first new request triggers a \"Cold Start\" (booting the VM + loading CLR), taking 5-10s. **Fix:** Use **Premium Plan** (pre-warmed instances) or dedicated App Service Plan."
  },
  {
    "id": 15002,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Durable Functions (Orchestrator)",
    "content": "Can you make an HTTP call inside the Orchestrator function?",
    "explanation": "**(Strict Rule).** No. Orchestrators must be **Deterministic**. They replay execution to rebuild state. HTTP calls return different data at different times/failures, breaking the replay. Wrap HTTP calls in **Activity Functions**."
  },
  {
    "id": 15003,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Managed Identity",
    "content": "Why should you use Managed Identity instead of storing connection strings?",
    "explanation": "**(Security Risk).** Never store secrets in config. Use **Managed Identity**. Grant your App identity access to SQL/KeyVault via Azure AD RBAC. The app authenticates automatically without managing passwords."
  },
  {
    "id": 15004,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Deployment Slots",
    "content": "How to zero-downtime deploy on App Service?",
    "explanation": "Deploy to a **Staging Slot**. Warm it up (smoke tests). Then **Swap Slots**. The Virtual IP address swaps instantly. If Staging fails, Production is untouched."
  },
  {
    "id": 15005,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Private Endpoints",
    "content": "What is `Private Link` and how does it secure PaaS services?",
    "explanation": "**(Security).** Use **Private Link (Private Endpoint)**. It gives your PaaS service (SQL, Storage) a private IP inside your VNET. Traffic stays on the Microsoft backbone and never touches the public internet."
  },
  {
    "id": 15006,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "App Service Plan Scaling",
    "content": "What is the difference between Scaling Up and Scaling Out?",
    "explanation": "**Scale Up**: Buy a bigger machine (P1v2 -> P2v2). **Scale Out**: Add more instances of the same machine (1 -> 5 instances). Auto-Scale rules usually trigger Scale Out based on CPU %."
  },
  {
    "id": 15007,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure SQL DTU vs vCore",
    "content": "Which model to choose?",
    "explanation": "**DTU** (Database Transaction Unit) is a bundled measure (CPU+RAM+IO), good for simple/predictable workloads. **vCore** offers independent scaling and is required for **Hybrid Benefit** (using on-prem SQL licenses) and Serverless tier."
  },
  {
    "id": 15008,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Blob Storage Tiers",
    "content": "When should you use Azure Blob Storage Archive Tier?",
    "explanation": "Use **Archive Tier**. It is extremely cheap for storage but expensive/slow (hours) to rehydrate for reading. **Hot** is for active use. **Cool** is for infrequent access (30 days)."
  },
  {
    "id": 15009,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Key Vault References",
    "content": "How do Key Vault References simplify secret management in App Service?",
    "explanation": "Syntax `@Microsoft.KeyVault(SecretUri=...)`. The App Service reads the value directly from KeyVault at startup. The app code just sees the secret in `IConfiguration` like a normal string."
  },
  {
    "id": 15010,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure AD B2C",
    "content": "Why should you use Azure AD B2C instead of building a custom login system?",
    "explanation": "Don't roll your own crypto. Use **Azure AD B2C**. It handles Social Logins, MFA, Password Reset, and scales to millions of users. Your app just validates the JWT."
  },
  {
    "id": 15011,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Logic Apps vs Functions",
    "content": "When should you prefer Logic Apps over Azure Functions?",
    "explanation": "Use **Logic Apps**. It has 1000+ connectors out of the box. Low code. Great for integration glue. Functions are better for heavy computation or custom code logic."
  },
  {
    "id": 15012,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "API Management (APIM)",
    "content": "Why put APIM in front of Function Apps?",
    "explanation": "It provides a unified Gateway. Features: Rate Limiting, Caching, Mocking, Developer Portal, and protocol transformation (XML to JSON) without changing the backend code."
  },
  {
    "id": 15013,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "CosmosDB Consistency Levels",
    "content": "What is the difference between Session and Strong Consistency in CosmosDB?",
    "explanation": "**Session** (Default): You read your own writes. Good performance. **Strong**: Guaranteed global consistency instantly, but high latency (speed of light constraint) and lower availability. Most apps use Session."
  },
  {
    "id": 15014,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure Relay / Hybrid Connections",
    "content": "How can an Azure App Service access on-premise SQL without opening firewall ports?",
    "explanation": "Use **Hybrid Connections**. The On-Prem server makes an outbound connection to Azure. The Cloud App talks to the Relay endpoint. It tunnels traffic securely through the firewall."
  },
  {
    "id": 15015,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Application Insights",
    "content": "How to trace a request from Frontend -> API -> SQL?",
    "explanation": "App Insights automatically correlates telemetry using `Request-Id`. The **Application Map** visualizes the flow and highlights bottlenecks/failures."
  },
  {
    "id": 15016,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Elastic Pools (SQL)",
    "content": "When should you use Azure SQL Elastic Pools?",
    "explanation": "Use an **Elastic Pool**. They share a pool of resources (eDTUs). It smooths out the spikes (busy tenants use idle tenants' resources) and is much cheaper than provisioning 50 separate servers."
  },
  {
    "id": 15017,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Fan-Out / Fan-In",
    "content": "How does the Fan-Out/Fan-In pattern work in Durable Functions?",
    "explanation": "Orchestrator loops and calls `context.CallActivityAsync` 10k times, collecting Tasks. Then `await Task.WhenAll()`. The platform scales out workers to process activities in parallel."
  },
  {
    "id": 15018,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Availability Zones",
    "content": "How do Availability Zones increase application resilience?",
    "explanation": "Deploy to **Zone Redundant** tiers (3 Zones). Your data/app is replicated across 3 physically separated buildings within the same region. If one burns down, the others take over."
  },
  {
    "id": 15019,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Front Door vs Application Gateway",
    "content": "What is the key difference between Azure Front Door and Application Gateway?",
    "explanation": "**Front Door** is Global (Anycast). It routes users to the nearest Region. **App Gateway** is Regional. It balances traffic between VMs/Pods *inside* a specific region (and handles WAF)."
  },
  {
    "id": 15020,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Consumption Plan Limits",
    "content": "How do you handle long-running tasks that exceed the Consumption Plan time limit?",
    "explanation": "Consumption plan has a hard timeout (default 5 min, max 10 min). For long tasks, use Durable Functions or **Dedicated/Premium Plan**."
  },
  {
    "id": 15021,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Service Bus Dead Lettering",
    "content": "When does Azure Service Bus move a message to the Dead Letter Queue?",
    "explanation": "If a message fails processing 10 times, the broker moves it to the `$DeadLetterQueue`. Prevents poison messages from looping forever."
  },
  {
    "id": 15022,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Blob Lease",
    "content": "How can you implement Distributed Locking using Blob Storage?",
    "explanation": "You can acquire a **Lease** on a Blob. Only the lease holder can write to it. Useful for leader election or ensuring only one process modifies a file."
  },
  {
    "id": 15023,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Traffic Manager",
    "content": "How does Azure Traffic Manager differ from Front Door?",
    "explanation": "It returns the IP of the closest datacenter based on the user's DNS query. It doesn't proxy traffic (unlike Front Door), so it's faster/cheaper but has DNS caching delays."
  },
  {
    "id": 15024,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Web Jobs",
    "content": "Are Azure WebJobs still relevant with Azure Functions available?",
    "explanation": "Not dead. They run inside the same process as the App Service. Functions are built *on top* of the WebJobs SDK. Useful if you want background tasks sharing the exact same VM/Memory as your website."
  },
  {
    "id": 15025,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure SignalR Service",
    "content": "Why is Azure SignalR Service preferred over self-hosting SignalR on App Service?",
    "explanation": "Local SignalR has connection limits and scaling issues (sticky sessions). **Azure SignalR Service** manages the WebSocket connections for you. Your app just sends REST calls to the Service to broadcast messages."
  },
  {
    "id": 15026,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "App Configuration",
    "content": "What is the benefit of using Azure App Configuration?",
    "explanation": "Use **Azure App Configuration**. Manage feature flags and settings for all microservices in one place. Supports dynamic reloading without restarting the apps."
  },
  {
    "id": 15027,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Container Instances (ACI) vs AKS",
    "content": "When should you choose ACI over AKS?",
    "explanation": "Use **ACI**. It's Serverless Containers. Fast startup, pay per second. AKS is orchestration overkill for a single isolated container."
  },
  {
    "id": 15028,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Storage Queue vs Service Bus Queue",
    "content": "When to use Storage Queues?",
    "explanation": "Simple, cheap, massive scale (millions of msgs). No FIFO guarantee, no Pub/Sub. Use it for simple work distribution. Use Service Bus for enterprise features (Ordering, Topics, Transactions)."
  },
  {
    "id": 15029,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure Firewall",
    "content": "How does Azure Firewall secure outbound traffic from AKS?",
    "explanation": "Route traffic through Azure Firewall. It enforces FQDN rules (e.g., allow `*.google.com`, deny everything else) for compliance."
  },
  {
    "id": 15030,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Event Grid Schema",
    "content": "How does Event Grid ensure reliable delivery to Webhooks?",
    "explanation": "Event Grid pushes HTTP POSTs. It implements a retry policy (exponential backoff) up to 24 hours if your webhook returns 500 or times out."
  },
  {
    "id": 15031,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Scale Controller",
    "content": "How do Functions scale?",
    "explanation": "The **Scale Controller** monitors event rate (Queue length). It adds more workers (servers) proactively. It does not look at CPU usage (in Consumption plan), only event lag."
  },
  {
    "id": 15032,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "SAS Token (Shared Access Signature)",
    "content": "How do SAS Tokens enable secure direct client uploads to Blob Storage?",
    "explanation": "Generate a SAS Token with `Write` permission, valid for 10 minutes. Send it to the client. Client uploads directly to Azure. Saves your server bandwidth."
  },
  {
    "id": 15033,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure Policy",
    "content": "How can you enforce governance using Azure Policy?",
    "explanation": "Apply **Azure Policy**. \"Allowed SKU = Standard_*\". If a dev tries to create a Premium GPU VM, the ARM deployment is rejected at the API level."
  },
  {
    "id": 15034,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Host Keys",
    "content": "What are Host Keys in Azure Functions used for?",
    "explanation": "Functions have `default` or `master` keys. Clients must include `?code=KEY` in the URL. For better security, enable App Service Auth (EasyAuth) or APIM."
  },
  {
    "id": 15035,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Geo-Replication (SQL)",
    "content": "How can access to a Readable Secondary improve Azure SQL performance?",
    "explanation": "Configure Active Geo-Replication. You can point your Reporting App to the Secondary Read-Only replica to offload the Primary."
  },
  {
    "id": 15036,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure Cache for Redis",
    "content": "What are the benefits of Clustering in Azure Cache for Redis?",
    "explanation": "Premium tier offers Clustering (sharding data across nodes) and Persistence (Data backup). Standard tier is a single replicated node (HA only)."
  },
  {
    "id": 15037,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Budget Alerts",
    "content": "Do Budget Alerts automatically stop Azure resources?",
    "explanation": "**(Monitoring vs Action).** Alerts only Notify. To actually **Stop** resources, you must link the Alert to an **Action Group** that triggers a Webhook (Azure Function/Logic App) to call the Azure Management API and shut down the VM."
  },
  {
    "id": 15038,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "User-Assigned vs System-Assigned Identity",
    "content": "What is the difference between User-Assigned and System-Assigned Managed Identity?",
    "explanation": "**System**: Tied to the lifecycle of the resource (Delete VM -> Delete Identity). **User**: Independent resource. Can be assigned to multiple VMs (e.g., 'WebServersIdentity'). Better for management."
  },
  {
    "id": 15039,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "KUDU Console",
    "content": "What is the KUDU Console used for in Azure App Service?",
    "explanation": "Accessed via `scm.azurewebsites.net`. Provides CMD/PowerShell access, Process Explorer, and file download for the running App Service."
  },
  {
    "id": 15040,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Spot Instances",
    "content": "Why are Spot Instances risky for production APIs?",
    "explanation": "**(Availability Risk).** Spot instances are up to 90% cheaper but can be **Evicted** (shut down) by Azure with 30 seconds notice if they need capacity. Use them only for stateless, resilient batch jobs, never for SLAs or APIs."
  },
  {
    "id": 15041,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "VNET Integration",
    "content": "How does VNET Integration allow App Service to access private resources?",
    "explanation": "Enable **Regional VNET Integration**. It injects the App Service outbound traffic into your VNET, allowing it to reach private IPs of VMs or Private Endpoints."
  },
  {
    "id": 15042,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Function Bindings",
    "content": "Why are Declarative Bindings preferred in Azure Functions?",
    "explanation": "Bindings (declarative) are cleaner. `[Blob(\"in/{name}\")] string myBlob`. The runtime handles the connection/stream opening. Less boilerplate than `new BlobClient(...)`."
  },
  {
    "id": 15043,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Throttling 429",
    "content": "How should your code handle HTTP 429 errors from Azure services?",
    "explanation": "Almost all Azure services (Cosmos, Storage, Graph) return 429 when overloaded. Your code MUST implement **Exponential Backoff** retry logic specifically for 429."
  },
  {
    "id": 15044,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "ARM Templates vs Bicep",
    "content": "Why is Bicep preferred over ARM Templates?",
    "explanation": "**Bicep** is the modern DSL. It compiles to ARM JSON but is much cleaner, less verbose, and manages dependencies automatically. Prefer Bicep."
  },
  {
    "id": 15045,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure Arc",
    "content": "What is the purpose of Azure Arc?",
    "explanation": "Extends Azure management (Policy, Defender, Monitor) to machines running outside Azure (AWS, On-Prem). Makes them look like Azure resources."
  },
  {
    "id": 15046,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Immutable Blob Storage",
    "content": "What is Immutable Blob Storage used for?",
    "explanation": "Enable **Immutable Policy**. Blobs cannot be deleted or modified for X days. Essential for legal holds and protection against Ransomware."
  },
  {
    "id": 15047,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "EasyAuth",
    "content": "How does EasyAuth simplify App Service authentication?",
    "explanation": "Middleware provided by the platform (IIS module). It handles OAuth flow (redirect to Google/AD, handle callback) *before* the request hits your .NET code. Headers `X-MS-CLIENT-PRINCIPAL` are injected."
  },
  {
    "id": 15048,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Azure Advisor",
    "content": "What recommendations does Azure Advisor provide?",
    "explanation": "Free tool. Analyzes your subscription. Recommends: \"Buy Reserved Instances to save money\", \"Enable MFA\", \"Fix security vulnerabilities\", \"Resize underutilized VMs\"."
  },
  {
    "id": 15049,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Change Analysis",
    "content": "How does Change Analysis help debug Azure resource issues?",
    "explanation": "**Change Analysis** tool shows exactly what properties changed in the resource configuration (e.g., someone changed the Connection String or firewall rule) and who did it."
  },
  {
    "id": 15050,
    "category": "Azure Cloud",
    "difficulty": "Senior",
    "title": "Ephemeral OS Disk",
    "content": "What is an Ephemeral OS Disk and when should you use it?",
    "explanation": "Create VM with OS disk on the local host cache (not remote Storage). Faster reimage/boot, lower latency, and free (no storage cost). Ideal for AKS nodes and Scale Sets."
  }
  ,
  {
    "id": 16001,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Layer Caching Order",
    "content": "Is the following Dockerfile snippet efficient: `COPY . .` followed by `RUN dotnet restore`?",
    "explanation": "**(Cache Miss).** `COPY . .` copies *everything*. If you change one comment in `Program.cs`, the cache invalidates, forcing `dotnet restore` to run again. **Fix:** Copy `*.csproj` first, run `restore` (cached layer), THEN `COPY . .` and `build`."
  },
  {
    "id": 16002,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Multi-Stage Builds",
    "content": "Why use Multi-Stage builds for .NET?",
    "explanation": "Stage 1 (SDK image) compiles the code and contains heavy build tools. Stage 2 (Runtime image) copies only the compiled DLLs. Result: A tiny production image (e.g., 80MB) vs a bloated SDK image (800MB)."
  },
  {
    "id": 16003,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "PID 1 (Init Process)",
    "content": "Why is handling signals (SIGTERM) hard in Docker?",
    "explanation": "The entrypoint process runs as PID 1. Linux kernels treat PID 1 specially; it doesn't have default signal handlers. If your app doesn't explicitly handle SIGTERM, it won't shut down gracefully. Use `tini` or handle `AppDomain.CurrentDomain.ProcessExit`."
  },
  {
    "id": 16004,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Distroless Images",
    "content": "What is the benefit of using `chiseled` images like `runtime-deps:chiseled`?",
    "explanation": "'Distroless' or 'Chiseled' images contain *only* the app and runtime dependencies. No Shell, no Package Manager (apt/apk). Massive security win (attackers can't run scripts) and smaller size."
  },
  {
    "id": 16005,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Bind Mounts vs Volumes",
    "content": "Is it recommended to persist production database data using bind mounts (`-v /host/path:/data`)?",
    "explanation": "**(Production Risk).** Prefer **Named Volumes**. Bind mounts depend on the host's specific filesystem path and permissions (UID/GID mismatches are common between host/container). Volumes are managed by Docker, portable, and easier to back up."
  },
  {
    "id": 16006,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Docker Socket Mounting",
    "content": "What are the security implications of mounting the Docker socket (`/var/run/docker.sock`) inside a container?",
    "explanation": "**(Security Critical).** This gives the container **Root** access to the host. It can kill other containers, delete host files, or spawn privileged containers. Only do this if absolutely necessary (e.g., CI/CD agents) and audit heavily."
  },
  {
    "id": 16007,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "User Instruction",
    "content": "Why is running a container as the default `USER root` considered a security risk?",
    "explanation": "Always switch to a non-root user (`USER app`) at the end of the Dockerfile. If a hacker breaks out of the app, they won't have root privileges on the container file system."
  },
  {
    "id": 16008,
    "category": "Docker",
    "difficulty": "Senior",
    "title": ".dockerignore",
    "content": "Why is `.dockerignore` important?",
    "explanation": "It prevents local trash (`bin/`, `obj/`, `.git`, secrets) from being copied into the build context. Speeds up the build (less data sent to daemon) and prevents security leaks."
  },
  {
    "id": 16009,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Alpine Linux",
    "content": "What are the trade-offs of using `alpine` based images for .NET applications?",
    "explanation": "**(Conditional).** Alpine uses `musl` libc instead of `glibc`. It's smaller, BUT some native libraries (gRPC, globalization) might break or perform differently. Test thoroughly. Standard `debian-slim` is often safer for .NET."
  },
  {
    "id": 16010,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Environment Variables",
    "content": "Why is baking secrets into Dockerfile `ENV` instructions insecure?",
    "explanation": "`ENV` values persist in the image history. Anyone with the image can run `docker history` and see the secret. Inject secrets at runtime or use Docker Secrets."
  },
  {
    "id": 16011,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "ENTRYPOINT vs CMD",
    "content": "What is the difference between `ENTRYPOINT` and `CMD` instructions?",
    "explanation": "`ENTRYPOINT` is the executable to run. `CMD` provides default arguments. `docker run my-image arg1` overrides `CMD` but appends to `ENTRYPOINT`. Best practice: `ENTRYPOINT [\"dotnet\", \"App.dll\"]`."
  },
  {
    "id": 16012,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Docker Compose",
    "content": "Is Docker Compose suitable for production orchestration?",
    "explanation": "**(Orchestration Limit).** Compose is excellent for Dev/Test. For Production, it lacks **Zero-Downtime Rolling Updates**, Self-Healing (rescheduling on dead nodes), and advanced networking/secret management found in Kubernetes."
  },
  {
    "id": 16013,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Healthcheck Instruction",
    "content": "How does the Dockerfile `HEALTHCHECK` instruction compare to Kubernetes Liveness/Readiness probes?",
    "explanation": "**(Nuance).** Dockerfile `HEALTHCHECK` allows the container to report its own status (`docker ps` shows 'healthy'). However, Kubernetes ignores this instruction and uses its own Liveness/Readiness probes."
  },
  {
    "id": 16014,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Dangling Images",
    "content": "What are `<none>` images?",
    "explanation": "Layers from old builds that are no longer referenced by a tag. They waste disk space. Clean them up with `docker system prune`."
  },
  {
    "id": 16015,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Network: Host Mode",
    "content": "What is the effect of running a container with `--network host`?",
    "explanation": "**(Performance).** Removes network isolation. Container shares the host's IP and port range. Lowest latency (no NAT), but security risk and port conflicts (can't run two apps on port 80)."
  },
  {
    "id": 16016,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Copy vs Add",
    "content": "What is the difference between the `COPY` and `ADD` instructions in a Dockerfile?",
    "explanation": "`COPY` is explicit (local files only). `ADD` does magic (extracts tars, downloads remote URLs). Prefer `COPY` to avoid unexpected behavior."
  },
  {
    "id": 16017,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Memory Limits",
    "content": "Why might a container crash with OOM (Out Of Memory) even when the host VM has plenty of free RAM?",
    "explanation": "Docker limits (cgroups) are strict. If you set `--memory 512m`, the kernel kills the process if it exceeds it, regardless of host RAM. .NET needs to know this limit to adjust GC (Server GC vs Workstation GC)."
  },
  {
    "id": 16018,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Layers are Additive",
    "content": "If a file is created in Layer A and deleted in Layer B, does the final image size decrease?",
    "explanation": "No. The file still exists in Layer A (hidden). The image size includes all layers. To reduce size, create and delete the file in the *same* `RUN` command."
  },
  {
    "id": 16019,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Sidecar Container",
    "content": "What is the Sidecar Container pattern?",
    "explanation": "A secondary container in the same Pod (sharing network/disk) that helps the main app (e.g., Log shipper, Proxy, Config watcher)."
  },
  {
    "id": 16020,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Privileged Mode",
    "content": "What does the `--privileged` flag do to a container's security context?",
    "explanation": "Disables almost all security isolation. Container can access devices, kernel, etc. Avoid unless running Docker-in-Docker."
  },
  {
    "id": 16021,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Restart Policy",
    "content": "What is the difference between the restart policies `always` and `unless-stopped`?",
    "explanation": "`always` restarts even if you manually stopped it (on daemon restart). `unless-stopped` respects your manual stop command. Generally preferred for ops."
  },
  {
    "id": 16022,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Arg vs Env",
    "content": "What is the purpose of the `ARG` instruction in a Dockerfile and how does it differ from `ENV`?",
    "explanation": "`ARG` is available *only* during the build process. `ENV` persists in the runtime container. Use `ARG` for versions (`ARG DOTNET_VERSION=8.0`)."
  },
  {
    "id": 16023,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Read-Only Root Filesystem",
    "content": "What is the security benefit of running a container with a read-only root filesystem (`--read-only`)?",
    "explanation": "Security hardening. Prevents attackers from writing executable files or modifying config. You must mount tmpfs volumes for temp directories that the app actually needs."
  },
  {
    "id": 16024,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Expose Instruction",
    "content": "Does the `EXPOSE` instruction in a Dockerfile actually publish the port to the host?",
    "explanation": "**(Misconception).** No. It is just documentation. You must strictly use `-p 8080:80` at runtime to map the port."
  },
  {
    "id": 16025,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Layer limit",
    "content": "Is there a limit to Docker layers?",
    "explanation": "Practically no (127 in old storage drivers, limitless in modern overlay2). However, too many layers slow down pull/push operations."
  },
  {
    "id": 16026,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Squashing Layers",
    "content": "What is the purpose of squashing Docker image layers?",
    "explanation": "Merges all layers into one. Removes intermediate history. Reduces size (if files were added/deleted across layers) but prevents layer sharing/caching between images."
  },
  {
    "id": 16027,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Docker Context",
    "content": "How do you deploy containers to a remote Docker engine using `docker context`?",
    "explanation": "`docker context use my-remote-server`. Your local CLI commands execute on the remote daemon via SSH. No need to expose the insecure TCP port."
  },
  {
    "id": 16028,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Image Signing (Content Trust)",
    "content": "How can you ensure the authenticity of Docker images using Content Trust?",
    "explanation": "Enable `DOCKER_CONTENT_TRUST`. It forces Docker to verify digital signatures. Ensures you are running the *exact* image built by your CI, not a tampered one."
  },
  {
    "id": 16029,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "MAC Address",
    "content": "Does a container have a MAC address?",
    "explanation": "Yes. Each container gets a virtual interface (eth0) with a unique MAC and IP on the bridge network."
  },
  {
    "id": 16030,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Bridge Network",
    "content": "What is the default networking mode for Docker containers and how does it work?",
    "explanation": "Containers sit on a private software bridge (e.g., 172.17.x.x). They can talk to each other via IP. To talk via Name (DNS), you must create a User-Defined Bridge."
  },
  {
    "id": 16031,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Zombie Processes",
    "content": "What causes processes to be marked as `<defunct>` (zombies) inside a Docker container?",
    "explanation": "PID 1 didn't reap its child processes. Eventually exhausts the process table. Use `--init` flag in Docker run or `tini` in Dockerfile."
  },
  {
    "id": 16032,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Overlay2",
    "content": "What is Overlay2 and why is it the standard storage driver for Docker?",
    "explanation": "The standard storage driver. It uses filesystem hard-links to share layers efficiently between containers."
  },
  {
    "id": 16033,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Manifest List (Multi-arch)",
    "content": "How do you build Docker images for multiple architectures (e.g., ARM64 and AMD64) simultaneously?",
    "explanation": "Use `docker buildx`. It creates a **Manifest List** pointing to different image blobs. `docker pull` automatically fetches the blob matching the host architecture."
  },
  {
    "id": 16034,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Localhost in Container",
    "content": "Why does calling `localhost` from inside a container fail to reach services on the host machine?",
    "explanation": "`localhost` inside container means the container itself. To reach the host, use `host.docker.internal` (Mac/Windows) or the Gateway IP (Linux)."
  },
  {
    "id": 16035,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Layer ID vs Diff ID",
    "content": "What is the difference between a Layer ID and a Diff ID in Docker?",
    "explanation": "**(Deep Dive).** Diff ID is the hash of the uncompressed tarball (content). Layer ID is the hash of compressed data on registry. Docker maps them."
  },
  {
    "id": 16036,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Build Context Size",
    "content": "Why might a Docker build take a long time to just start, and how can `.dockerignore` help?",
    "explanation": "The CLI sends the *entire* current directory to the daemon before building. If you run build from root with no ignore file, you are sending gigabytes. Use `.dockerignore`."
  },
  {
    "id": 16037,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Registry Mirror",
    "content": "How can you avoid Docker Hub rate limits in a corporate environment?",
    "explanation": "Configure a pull-through cache or mirror in your corporate network. It caches Hub images locally."
  },
  {
    "id": 16038,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Label Instruction",
    "content": "What are the benefits of using `LABEL` instructions in Dockerfiles?",
    "explanation": "Metadata. Store git commit hash, build date, maintainer email. Essential for tracking which version of code is running in the black box."
  },
  {
    "id": 16039,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Volume Drivers",
    "content": "How can you use Volume Drivers to store container data on cloud storage like Azure Storage or AWS EBS?",
    "explanation": "Use Volume Plugins. The container sees a local folder, but the driver maps it to a Cloud Drive. Allows data to follow the container if it moves nodes."
  },
  {
    "id": 16040,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "CPU Shares",
    "content": "What is the difference between CPU hard limits (`--cpus`) and soft limits (`--cpu-shares`) in Docker?",
    "explanation": "`--cpus` is a hard limit (throttles). `--cpu-shares` is a relative weight (soft). Use soft limits to allow bursting when the host is idle."
  },
  {
    "id": 16041,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Seccomp Profiles",
    "content": "How can Seccomp profiles improve container security?",
    "explanation": "Kernel level security. You can whitelist which System Calls (e.g., `chown`, `kill`) the container is allowed to make. Blocks zero-day kernel exploits."
  },
  {
    "id": 16042,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Ephemeral Ports",
    "content": "What causes ephemeral port exhaustion in Docker and how can it be mitigated?",
    "explanation": "Each outgoing connection uses a source port. If you open 60k connections quickly, you hit exhaustion. Reuse connections (Connection Pooling) inside the container."
  },
  {
    "id": 16043,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "BuildKit",
    "content": "What are the advantages of using Docker BuildKit?",
    "explanation": "Enable `DOCKER_BUILDKIT=1`. Parallel layer building, better caching, secret mounting (`--mount=type=secret`), and faster builds."
  },
  {
    "id": 16044,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Graceful Shutdown timeout",
    "content": "What is the default grace period for container shutdown, and how can it be customized?",
    "explanation": "10 seconds. Docker sends SIGTERM, waits 10s, then SIGKILL. If your app takes longer to drain requests, increase via `--stop-timeout`."
  },
  {
    "id": 16045,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Workdir",
    "content": "Why is it important to set `WORKDIR` in a Dockerfile instead of using absolute paths?",
    "explanation": "Avoids using absolute paths everywhere. If the directory doesn't exist, Docker creates it."
  },
  {
    "id": 16046,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Docker in Docker (DinD)",
    "content": "Why is running Docker-in-Docker (DinD) generally discouraged for CI pipelines?",
    "explanation": "DinD is slow and requires privileged mode. Prefer **Docker Socket Binding** (mounting host socket) so the CI container commands the host daemon to build siblings."
  },
  {
    "id": 16047,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Image Flattening",
    "content": "What is the effect of using `docker export` and `docker import` on an image?",
    "explanation": "`docker export` container -> tar. `docker import` tar -> image. This flattens the filesystem into one layer, removing all metadata/history."
  },
  {
    "id": 16048,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "OOM Killer Priority",
    "content": "What is the purpose of the `--oom-score-adj` flag regarding container termination priority?",
    "explanation": "If host runs out of RAM, kernel kills processes. You can adjust this score to make your DB container less likely to be killed than your web worker."
  },
  {
    "id": 16049,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "Shebang in Entrypoint",
    "content": "What is the difference between using `#!/bin/sh` and `#!/bin/bash` in a Docker entrypoint script?",
    "explanation": "Alpine only has `sh` (ash). If you use `bash` syntax in a script on Alpine, it crashes. Stick to POSIX sh or install bash explicitly."
  },
  {
    "id": 16050,
    "category": "Docker",
    "difficulty": "Senior",
    "title": "OnBuild Instruction",
    "content": "What is the purpose of the `ONBUILD` instruction in a Dockerfile?",
    "explanation": "`ONBUILD COPY . .`. This instruction doesn't run now. It runs when *another* image uses this one as `FROM`. Good for standardized company base images."
  }
  ,
  {
    "id": 17001,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Requests vs Limits",
    "content": "Pod Config: `requests: 512Mi`, `limits: 1Gi`. What happens if the Node is full?",
    "explanation": "The Scheduler uses **Requests** to decide where to place the pod. **Limits** are the hard ceiling; if the pod exceeds 1Gi during runtime, the OOM Killer terminates it. Setting Requests accurately ensures your pod is guaranteed that memory."
  },
  {
    "id": 17002,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ClusterIP vs LoadBalancer",
    "content": "Which Kubernetes Service type should you use for internal communication between Microservices?",
    "explanation": "**(ClusterIP).** Use **ClusterIP**. It gives a stable internal IP reachable only within the cluster. **LoadBalancer** is for exposing services to the public internet (getting a real static IP from the cloud provider), which is insecure for internal traffic."
  },
  {
    "id": 17003,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Liveness vs Readiness Probe",
    "content": "What happens if a Liveness probe fails during application startup, and how can you prevent it?",
    "explanation": "Kubernetes restarts the pod endlessly (CrashLoopBackOff). Use a **Startup Probe** for the initial warm-up, or delay the Liveness probe. Liveness = \"Restart me if I'm dead\". Readiness = \"Don't send traffic until I'm ready\"."
  },
  {
    "id": 17004,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ConfigMap Updates",
    "content": "You updated a ConfigMap. Does the Pod see the change immediately?",
    "explanation": "**(Nuance).** If mounted as a **Volume**, yes (eventually, ~1 min sync). If used as **Environment Variables**, NO. You must restart (rollout) the Pods to pick up new Env Vars. Prefer Volumes for dynamic config."
  },
  {
    "id": 17005,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Headless Service",
    "content": "What is `clusterIP: None` used for?",
    "explanation": "This is a **Headless Service**. Instead of a single Virtual IP (VIP) load balancing to pods, DNS returns the list of **all** Pod IPs. Essential for stateful apps (DBs, Kafka) where the client needs to connect to a specific node."
  },
  {
    "id": 17006,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Deployment vs StatefulSet",
    "content": "Why is a `StatefulSet` preferred over a `Deployment` for deploying a Redis Cluster?",
    "explanation": "Deployments treat pods as interchangeable cattle (random names like `app-x7z9`). Redis needs stable identities (`redis-0`, `redis-1`) and ordered startup. Use **StatefulSet**."
  },
  {
    "id": 17007,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Pod Disruption Budget (PDB)",
    "content": "How can you prevent downtime during a cluster upgrade when you have multiple replicas?",
    "explanation": "The node drain might kill all 3 replicas at once if not careful. Define a **PDB** (`minAvailable: 2`). This blocks the K8s admin/auto-scaler from removing too many pods simultaneously."
  },
  {
    "id": 17008,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Ingress Controller",
    "content": "Is it efficient to use a separate LoadBalancer for every exposed service?",
    "explanation": "Expensive and wasteful. Use an **Ingress Controller** (Nginx/Traefik). It uses ONE LoadBalancer (Public IP) and routes traffic based on Host (`api.site.com`) or Path (`/service-a`) to the correct ClusterIP services."
  },
  {
    "id": 17009,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Sidecar Pattern",
    "content": "What is the Sidecar pattern in Kubernetes and when should you use it?",
    "explanation": "Containers in a Pod share `localhost` and Volumes. Use a **Sidecar** to proxy traffic (Service Mesh), ship logs (Splunk forwarder), or refresh secrets, without changing the main app code."
  },
  {
    "id": 17010,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Secrets Encoding",
    "content": "Are K8s Secrets encrypted by default?",
    "explanation": "**(Security Trap).** No. They are only **Base64 encoded**, not encrypted. Anyone with `kubectl get secrets` (RBAC) can decode them. **Fix:** Enable **Encryption at Rest** in etcd configuration and restrict RBAC access tightly."
  },
  {
    "id": 17011,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "DaemonSet",
    "content": "Which Kubernetes workload resource should you use to run a Log Collector on every node?",
    "explanation": "Use **DaemonSet**. It ensures exactly one copy of the Pod runs on every Node (even new ones added later). Perfect for Logs, Monitoring agents, or CNI plugins."
  },
  {
    "id": 17012,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "HPA (Horizontal Pod Autoscaler)",
    "content": "How does the Horizontal Pod Autoscaler (HPA) scale pods based on CPU usage?",
    "explanation": "HPA monitors metrics-server. If average CPU > 70%, it increases `replicas`. Requires `resources.requests` to be defined to work properly."
  },
  {
    "id": 17013,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Job vs CronJob",
    "content": "Should you run database migrations as part of a Deployment?",
    "explanation": "Use a **Job**. It runs a pod to completion (Success) and then stops. A CronJob schedules Jobs periodically. Don't run migrations in your main Deployment (it might run multiple times or hang)."
  },
  {
    "id": 17014,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Taint and Toleration",
    "content": "How do you ensure high-priority apps are scheduled on specific nodes (e.g., with SSDs)?",
    "explanation": "**Taint** the SSD nodes (`dedicated=high-perf:NoSchedule`). Only pods with the matching **Toleration** can be scheduled there. Keeps generic apps off your expensive hardware."
  },
  {
    "id": 17015,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "PVC (Persistent Volume Claim)",
    "content": "Why is data lost when a Pod restarts and how can you persist it?",
    "explanation": "Pod filesystems are ephemeral. To persist data, request a **PVC**. The cluster binds it to a physical PV (Azure Disk/EBS). The data survives even if the Pod is deleted."
  },
  {
    "id": 17016,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Service Mesh (Istio/Linkerd)",
    "content": "How does a Service Mesh implement mTLS between pods?",
    "explanation": "Install a Service Mesh. It automatically injects sidecars that encrypt traffic (mTLS) between services. Your app speaks HTTP; the sidecar handles the encryption transparently."
  },
  {
    "id": 17017,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Init Containers",
    "content": "How can you ensure the application waits for the database to be ready before starting?",
    "explanation": "Use an **Init Container**. It runs *before* the main app container. It can run a script loop `while ! nc -z db 5432; do sleep 1; done`. If it fails, the Pod restarts. Main app starts only after success."
  },
  {
    "id": 17018,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Rolling Update Strategy",
    "content": "What does `maxUnavailable: 0` mean in a Rolling Update strategy?",
    "explanation": "Zero downtime. K8s will spin up a new version Pod and wait for it to be Ready *before* killing an old one. Ensures capacity never drops below 100%."
  },
  {
    "id": 17019,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "NodePort",
    "content": "What is a NodePort service and how does it expose an application?",
    "explanation": "**NodePort** exposes the service on a static port on *every* Node's IP. Usually used for local dev or if an external Load Balancer points to the nodes directly. Not recommended for direct production public access."
  },
  {
    "id": 17020,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Helm Charts",
    "content": "What problem does Helm solve when managing Kubernetes manifests?",
    "explanation": "Use **Helm**. It is a package manager (templating engine). You define a `values.yaml` and it generates the Deployment/Service/Ingress YAMLs. Makes versioning and rolling back releases easy."
  },
  {
    "id": 17021,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Pod Affinity",
    "content": "How can you ensure an App Pod and a Cache Pod are scheduled on the same node?",
    "explanation": "Use **Pod Affinity**. Rule: \"Schedule this Redis Pod on the same node as the App Pod\". Reduces network latency."
  },
  {
    "id": 17022,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Anti-Affinity",
    "content": "Why is running all replicas of an app on the same node risky?",
    "explanation": "**(Risk).** If that node dies, you lose 100% capacity. Use **Pod Anti-Affinity** (`topologyKey: kubernetes.io/hostname`). \"Don't schedule this App Pod on a node that already has this App Pod\". Forces spread."
  },
  {
    "id": 17023,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Namespace Isolation",
    "content": "Why should Dev and Prod environments be separated into different namespaces?",
    "explanation": "Use **Namespaces** (`dev`, `prod`). It allows resource quotas (limit dev CPU), access control (RBAC), and simpler object management. DNS becomes `service.prod` vs `service.dev`."
  },
  {
    "id": 17024,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ExternalName Service",
    "content": "How can you map an external database URL to an internal Kubernetes DNS name?",
    "explanation": "Create a Service type **ExternalName**. It returns a CNAME record. Your pods connect to `my-db-service` and K8s resolves it to the external URL. Decouples code from external endpoints."
  },
  {
    "id": 17025,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "PreStop Hook",
    "content": "How can you prevent dropped connections during a rolling update?",
    "explanation": "K8s sends SIGTERM, but iptables might take seconds to update. Add a **PreStop Hook**: `sleep 5`. This keeps the pod alive slightly longer to drain in-flight requests while the LoadBalancer removes it from rotation."
  },
  {
    "id": 17026,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Container vs Pod",
    "content": "Can you scale individual containers within a single Pod independently?",
    "explanation": "Impossible. The **Pod** is the unit of scale. If you have 2 containers in a Pod (App + Sidecar), they scale together. If you need them to scale independently, split them into separate Pods."
  },
  {
    "id": 17027,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Operator Pattern",
    "content": "When should you use an Operator instead of a StatefulSet?",
    "explanation": "Use an **Operator**. It's a custom controller that extends K8s API. It knows how to upgrade/backup/repair the specific application logic better than a generic StatefulSet."
  },
  {
    "id": 17028,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ImagePullPolicy",
    "content": "Why is using the `:latest` image tag discouraged in production?",
    "explanation": "K8s defaults `ImagePullPolicy` to `Always` for latest, but `IfNotPresent` for others. `:latest` is unpredictable. Always use specific version tags or SHA hashes for immutable deployments."
  },
  {
    "id": 17029,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Network Policies",
    "content": "Can any Pod talk to any Pod by default?",
    "explanation": "**(Trap).** Yes, it's a flat network. This is a security risk. Use **Network Policies** (firewall rules) to explicitly whitelist traffic (e.g., \"Only Frontend pods can talk to Backend pods\")."
  },
  {
    "id": 17030,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Kubectl cp",
    "content": "Why is copying files directly into production containers (`kubectl cp`) considered an anti-pattern?",
    "explanation": "**(Anti-Pattern).** This causes **Configuration Drift**. The running container's state diverges from the immutable image artifact. If the pod restarts, your fix is lost. **Fix:** Patch code -> Build Image -> Update Tag -> Rollout."
  },
  {
    "id": 17031,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ReadWriteOnce (RWO)",
    "content": "Can a `ReadWriteOnce` PVC be attached to multiple Pods simultaneously?",
    "explanation": "RWO volumes (like AWS EBS / Azure Disk) can only attach to **one Node** at a time. If you need shared storage (multiple pods writing), use `ReadWriteMany` (RWX) backed by NFS/Azure Files."
  },
  {
    "id": 17032,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Label Selectors",
    "content": "How does a Service find its Pods?",
    "explanation": "Labels. Service has `selector: app=api`. It routes traffic to *any* pod in the namespace that has the label `app=api`, regardless of who created it."
  },
  {
    "id": 17033,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "QoS Classes",
    "content": "What are the differences between Guaranteed, Burstable, and BestEffort QoS classes?",
    "explanation": "**Guaranteed**: Requests == Limits. Safest. **Burstable**: Requests < Limits. **BestEffort**: No requests/limits. BestEffort pods are the first to be killed when the node runs out of RAM."
  },
  {
    "id": 17034,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "HostPath Volume",
    "content": "Why is mounting host paths (like `/var/log`) into pods considered a security risk?",
    "explanation": "**(Security).** Avoid `HostPath`. It ties the pod to a specific node and exposes host filesystem. Use EmptyDir for temp logs or PVCs for persistence."
  },
  {
    "id": 17035,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Kustomize",
    "content": "What is the main difference between Helm and Kustomize?",
    "explanation": "Helm is templating (`{{ .Values.image }}`). Kustomize is overlaying (patching base YAMLs). Kustomize is built into `kubectl`. It's cleaner for simple variance between environments without managing charts."
  },
  {
    "id": 17036,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "CRD (Custom Resource Definition)",
    "content": "What is a Custom Resource Definition (CRD) and how does it extend Kubernetes?",
    "explanation": "You can define your own objects (`kind: Database`). CRDs allow you to store custom config in etcd and write Controllers to act on them."
  },
  {
    "id": 17037,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Canary Deployment (Ingress)",
    "content": "How can you implement a Canary Deployment using Ingress?",
    "explanation": "Nginx Ingress supports annotations for canary. Send 5% of traffic to `service-v2` based on header or cookie. Allows testing in prod."
  },
  {
    "id": 17038,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Graceful Termination",
    "content": "How should a .NET application handle the SIGTERM signal in Kubernetes?",
    "explanation": "Ensure your `IHost` handles stopping. It should stop accepting new HTTP requests but finish processing current ones. The K8s default wait is 30s."
  },
  {
    "id": 17039,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Vertical Pod Autoscaler (VPA)",
    "content": "Should you use VPA and HPA together?",
    "explanation": "**(Conflict).** Generally, **No**. HPA scales replicas based on CPU usage. VPA changes the configured CPU Requests of the Pod. If VPA changes requests, it alters the HPA's calculation denominator, causing thrashing (rapid scale up/down)."
  },
  {
    "id": 17040,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Endpoints Object",
    "content": "What is the relationship between a Service and an Endpoints object?",
    "explanation": "**(Deep Dive).** The **Service** selector creates an **Endpoints** object containing the list of IPs. If you want to point a Service to an external IP manually, you can create an Endpoints object without a selector."
  },
  {
    "id": 17041,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Pod Security Standards",
    "content": "How can you prevent pods from running as root using Pod Security Standards?",
    "explanation": "Enforce **PSS** (Restricted profile). It blocks pods running as root, using host networking, or privileged escalation. Essential for multi-tenant clusters."
  },
  {
    "id": 17042,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "OOMKilled",
    "content": "What does Exit Code 137 indicate in Kubernetes?",
    "explanation": "137 = 128 + 9 (SIGKILL). It means the container used more RAM than its **Limit**. Increase the limit or fix the memory leak."
  },
  {
    "id": 17043,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Downward API",
    "content": "How can a Pod access its own metadata, such as its Pod Name?",
    "explanation": "Use **Downward API**. Map `metadata.name` to an Environment Variable `MY_POD_NAME`. The app can read it at runtime."
  },
  {
    "id": 17044,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Static Pods",
    "content": "What are Static Pods and how are they managed?",
    "explanation": "Config files in `/etc/kubernetes/manifests`. The Kubelet automatically runs them. Used for control plane components like `etcd` and `kube-apiserver`."
  },
  {
    "id": 17045,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Recreate Strategy",
    "content": "When should you use the `Recreate` deployment strategy?",
    "explanation": "`strategy: Recreate`. Kills ALL old pods first, then starts new ones. Downtime exists. Mandatory if the app cannot handle concurrent versions writing to the same DB."
  },
  {
    "id": 17046,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ConfigMap Immutable",
    "content": "How can you prevent accidental updates to a ConfigMap?",
    "explanation": "Set `immutable: true`. The API rejects updates to the ConfigMap. To change config, you must create a new ConfigMap (v2) and update the Deployment to point to it. Safe rolling updates."
  },
  {
    "id": 17047,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Ephemeral Containers",
    "content": "How can you debug a running Pod that uses a distroless image?",
    "explanation": "`kubectl debug`. It injects a temporary container (with shell/curl) into the running Pod. Allows you to inspect a crashed or locked-down production pod."
  },
  {
    "id": 17048,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "ReplicaSet",
    "content": "Should you create ReplicaSets manually?",
    "explanation": "No. **Deployments** manage ReplicaSets. Deployments handle the rolling update logic (creating a new RS, scaling it up, scaling old RS down). Use Deployments."
  },
  {
    "id": 17049,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "StorageClass",
    "content": "What is the role of a StorageClass in dynamic volume provisioning?",
    "explanation": "Instead of manually creating a disk (PV), you request a PVC with `storageClassName: fast`. The provisioner automatically talks to Azure/AWS, creates the disk, and binds it."
  },
  {
    "id": 17050,
    "category": "Kubernetes",
    "difficulty": "Senior",
    "title": "Etcd",
    "content": "What is Etcd and why is it critical to Kubernetes?",
    "explanation": "The brain of K8s. Distributed key-value store. It holds the entire state of the cluster. If etcd is lost, the cluster is lost. Back it up."
  }
  ,
  {
    "id": 18001,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Retry Storm",
    "content": "What is a Retry Storm and how can it be prevented?",
    "explanation": "**(Anti-Pattern).** This causes a **Retry Storm**. If Service B is struggling, Service A's retries will DDoS it, preventing recovery. **Fix:** Use **Exponential Backoff** (wait 1s, 2s, 4s) and **Jitter** (random delay) to desynchronize calls."
  },
  {
    "id": 18002,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Circuit Breaker States",
    "content": "What does the 'Open' state mean?",
    "explanation": "**Open** means the circuit is BROKEN (like a fuse). Calls fail immediately without hitting the downstream service. **Closed** means traffic flows normally. **Half-Open** allows a test request to see if the service recovered."
  },
  {
    "id": 18003,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Bulkhead Isolation",
    "content": "Why use Bulkheads?",
    "explanation": "To prevent **Cascading Failures**. If one feature (e.g., Image Upload) consumes all threads/connections, the rest of the app (Login) shouldn't die. Isolate resources into separate pools."
  },
  {
    "id": 18004,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Polly Policy Wrapping",
    "content": "In Polly, should you wrap the Circuit Breaker with Retry, or vice versa?",
    "explanation": "**(Retry(Breaker)).** Usually, you want **Retry wrapping Circuit Breaker**. The Retry policy calls the Breaker. If the Breaker is open, it throws immediately. If closed, it calls the service. Retrying *inside* a generic breaker counts multiple retries as a single execution, which might skew stats."
  },
  {
    "id": 18005,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Timeout Strategy",
    "content": "How should you determine the appropriate timeout value for a service call?",
    "explanation": "Fail fast. If it usually takes 2s, set timeout to 3s or 4s. Waiting 10s holds up threads and memory on the caller, slowing down the entire system during outages."
  },
  {
    "id": 18006,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Fallback Pattern",
    "content": "What should you do if a non-critical downstream service (like recommendations) fails?",
    "explanation": "Use a **Fallback**. Return a static list of \"Popular Items\" or an empty list. Degrade functionality gracefully rather than breaking the user experience."
  },
  {
    "id": 18007,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Idempotency in Retries",
    "content": "Is it safe to retry a non-idempotent operation like `POST /payment`?",
    "explanation": "**(Risk).** Retries can lead to double-charging or duplicate data. **Rule:** Only retry **Idempotent** operations (e.g., GET, PUT). For non-idempotent operations (POST), use an **Idempotency Key** so the server can deduplicate requests."
  },
  {
    "id": 18008,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Jitter",
    "content": "Why add randomness to retry intervals?",
    "explanation": "To prevent **Synchronization**. If 1000 clients fail at once, and all retry exactly 1s later, they will hit the server simultaneously again (Thundering Herd). Jitter desynchronizes them."
  },
  {
    "id": 18009,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Hedging (Speculative Execution)",
    "content": "What is Hedging (or Speculative Execution) in resilience patterns?",
    "explanation": "Good for reducing **Tail Latency** (the slowest 1% of requests). If Replica A is slow, Replica B might be fast. Trade-off: Doubles the load on the backend."
  },
  {
    "id": 18010,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Load Shedding",
    "content": "What is Load Shedding and when should a server use it?",
    "explanation": "**Load Shedding**. Intentionally reject new requests (HTTP 503) immediately. This allows the server to finish existing work and recover. Queuing more work would crash it completely."
  },
  {
    "id": 18011,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Static vs Dynamic Timeouts",
    "content": "Why are static hardcoded timeouts often suboptimal?",
    "explanation": "Use **Adaptive Timeouts** if possible. If the network is generally slow today, increase timeout slightly. If fast, decrease it. Google's SRE approach."
  },
  {
    "id": 18012,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Polly Context",
    "content": "How can you pass context data into a Polly policy execution?",
    "explanation": "Use `Context`. You can pass the `Logger` or `UserID` into the execution context so the `onRetry` delegate can log *who* is failing and *why*."
  },
  {
    "id": 18013,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Rate Limiting (Client Side)",
    "content": "Why limit outgoing requests?",
    "explanation": "To be a \"Good Citizen\". If you spam a 3rd party API, you might get banned. Implement a client-side Rate Limiter to respect their quotas."
  },
  {
    "id": 18014,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Active vs Passive Health Checks",
    "content": "What is the difference between Active and Passive health checks?",
    "explanation": "Use both. **Active** (Synthetic) probes ensure the service is theoretically up. **Passive** (Outlier Detection) notices if a specific node is returning errors to real users and ejects it."
  },
  {
    "id": 18015,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Simian Army (Chaos Monkey)",
    "content": "What is the purpose of Chaos Engineering (e.g., Chaos Monkey)?",
    "explanation": "**Chaos Engineering**. It forces you to design for failure. If you know a server *will* disappear, you build stateless, redundant systems by default."
  },
  {
    "id": 18016,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Cache-Aside as Resilience",
    "content": "How can the Cache-Aside pattern improve resilience during a database outage?",
    "explanation": "Yes. If the DB fails, you can serve stale data from the Cache (if available) or extend the TTL of existing items (`Stale-While-Revalidate`)."
  },
  {
    "id": 18017,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Transient vs Permanent Errors",
    "content": "Should you retry a request that returns a 404 Not Found error?",
    "explanation": "Only retry **Transient** errors (503 Service Unavailable, 408 Timeout, Network Exceptions). 404 (Not Found) or 401 (Unauthorized) will unlikely succeed on retry."
  },
  {
    "id": 18018,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Blast Radius",
    "content": "How does sharing a single database between multiple microservices affect the 'Blast Radius'?",
    "explanation": "Large Blast Radius. If that DB dies, 10 services die. Separate DBs reduce the impact of a single failure."
  },
  {
    "id": 18019,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Graceful Degradation",
    "content": "What is an example of Graceful Degradation?",
    "explanation": "Automatically downgrade users to SD (Standard Definition) instead of showing an error. The core value (watching video) is preserved."
  },
  {
    "id": 18020,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Queue-Based Load Leveling",
    "content": "How does Queue-Based Load Leveling handle burst traffic?",
    "explanation": "Put a Queue between the Client and the Service. If traffic spikes, the Queue fills up, but the Service processes at its constant healthy rate. The spike is smoothed out."
  },
  {
    "id": 18021,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Compensating Transactions",
    "content": "What are Compensating Transactions in the Saga pattern?",
    "explanation": "In distributed systems, you can't rollback committed DB transactions. You must run a new transaction that logically reverses the action (e.g., \"Refund\" compensates \"Charge\")."
  },
  {
    "id": 18022,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Unbounded Queue",
    "content": "Why is using an in-memory `List<T>` as a job queue dangerous?",
    "explanation": "If consumers slow down, the list grows until **OutOfMemoryException**. Use a **Bounded Queue** (e.g., `Channel.CreateBounded`). When full, reject new items (Backpressure)."
  },
  {
    "id": 18023,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Token Bucket Algorithm",
    "content": "Which Rate Limiting algorithm allows for handling traffic bursts?",
    "explanation": "Token Bucket allows a user to accumulate tokens during idle time, allowing a short burst of requests later. Leaky Bucket enforces a constant rate."
  },
  {
    "id": 18024,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Leaked Connections",
    "content": "What are the consequences of not disposing `HttpClient` or its responses?",
    "explanation": "**(Socket Exhaustion).** `HttpClient` is `IDisposable`, but disposing it closes the handle while leaving the socket in `TIME_WAIT` for minutes. Rapid creation/disposal exhausts ephemeral ports. **Fix:** Use **IHttpClientFactory** to manage connection lifetimes."
  },
  {
    "id": 18025,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Feature Flags (Kill Switch)",
    "content": "How can Feature Flags help mitigate issues caused by new features?",
    "explanation": "Use a Feature Flag. Toggle it `Off` at runtime to disable the code path instantly without redeploying. Essential for resilience during rollouts."
  },
  {
    "id": 18026,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Cell-Based Architecture",
    "content": "What is Cell-Based Architecture?",
    "explanation": "A Cell contains all the services/DBs needed for a subset of users. If a Cell fails, only 10% of users are affected. Infinite scalability."
  },
  {
    "id": 18027,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "SLA vs SLO vs SLI",
    "content": "What is the difference between SLA, SLO, and SLI?",
    "explanation": "**SLI**: The metric (Latency is 100ms). **SLO**: The goal (Latency < 200ms 99% of time). **SLA**: The contract (If we miss SLO, we pay you money)."
  },
  {
    "id": 18028,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "MTTR vs MTBF",
    "content": "Why is Mean Time To Recovery (MTTR) often considered more important than Mean Time Between Failures (MTBF)?",
    "explanation": "**(MTTR).** **Mean Time To Recovery**. Things *will* break (MTBF is irrelevant). The key is how fast you can detect and fix it (Automated rollback, self-healing)."
  },
  {
    "id": 18029,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Zombie Apocalypse Strategy",
    "content": "What is a Disaster Recovery (DR) strategy for a complete datacenter failure?",
    "explanation": "**Disaster Recovery (DR)**. Failover to a secondary Region (Geo-Redundancy). Requires asynchronous data replication (RPO - Recovery Point Objective) and a switchover plan (RTO - Recovery Time Objective)."
  },
  {
    "id": 18030,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Shuffle Sharding",
    "content": "What is Shuffle Sharding and how does it isolate tenant noise?",
    "explanation": "Instead of assigning Tenant A to Node 1, assign them to a unique *combination* of nodes (1 and 2). If Node 1 fails, only tenants on the (1,2) combination are affected. AWS Route53 uses this."
  },
  {
    "id": 18031,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Single Point of Failure (SPOF)",
    "content": "Why is a single Redis instance considered a Single Point of Failure (SPOF)?",
    "explanation": "If it dies, you die. Use **Clustering** or **Sentinel** for automatic failover. Identify SPOFs in architecture diagrams."
  },
  {
    "id": 18032,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Anti-Fragile",
    "content": "What is the difference between a system being 'Robust' and 'Anti-Fragile'?",
    "explanation": "Robust resists breaking. **Anti-Fragile** (Taleb) gets *stronger* under stress (e.g., Auto-scaling groups that add more capacity when load increases)."
  },
  {
    "id": 18033,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Dead Letter Queue (DLQ)",
    "content": "What is the purpose of a Dead Letter Queue (DLQ)?",
    "explanation": "Move it to DLQ. Alert a human. Do not block the queue processing valid messages. Essential for event-driven resilience."
  },
  {
    "id": 18034,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Priority Queue",
    "content": "How can a Priority Queue help a system under heavy load?",
    "explanation": "If the system is struggling, drop 'Free Tier' requests to ensure 'Premium' users (who pay) get service."
  },
  {
    "id": 18035,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Dependency Injection Scope",
    "content": "Why is registering `HttpClient` as Transient in Dependency Injection a performance trap?",
    "explanation": "**(Performance Trap).** Creates a new `HttpClient` (and connection pool) for every request. Leads to **Socket Exhaustion** under load. **Fix:** Use `IHttpClientFactory` (which pools handlers) or register as a **Typed Client** (handled by the factory)."
  },
  {
    "id": 18036,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Game Days",
    "content": "What are 'Game Days' in the context of SRE?",
    "explanation": "Scheduled drills where you simulate a failure (e.g., \"Database is corrupt\") and the team practices the incident response process."
  },
  {
    "id": 18037,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Watchdog Timer",
    "content": "How does a Watchdog Timer help in detecting frozen processes?",
    "explanation": "A separate process (or hardware) that expects a 'heartbeat' signal. If the main app hangs and stops beating, the Watchdog kills/restarts it."
  },
  {
    "id": 18038,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Leader Election",
    "content": "What is the Split Brain problem in distributed systems and how does Leader Election solve it?",
    "explanation": "If network partitions, two nodes might think they are Leader. Use a **Quorum** based consensus (Raft/Paxos) to ensure only one leader exists."
  },
  {
    "id": 18039,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Snapshotting",
    "content": "How does Snapshotting contribute to faster recovery in Event Sourcing systems?",
    "explanation": "Periodically save state to disk. If the app crashes, reload the Snapshot instead of replaying the entire history (Event Sourcing)."
  },
  {
    "id": 18040,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Throttling vs Rate Limiting",
    "content": "What is the difference between Throttling and Rate Limiting?",
    "explanation": "**Rate Limiting**: \"You can make 100 req/min\" (Business rule). **Throttling**: \"I am overloaded, slow down\" (Protection mechanism)."
  },
  {
    "id": 18041,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "N+1 Retries",
    "content": "Why is it dangerous for every service in a call chain (A->B->C) to implement N+1 retries?",
    "explanation": "3^3 = 27 calls. Cascading retries amplify load. Only retry at the edge (A) or disable retries in internal layers if the parent handles it."
  },
  {
    "id": 18042,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Semantic Monitoring",
    "content": "What is the difference between Semantic Monitoring and typical Infrastructure Monitoring?",
    "explanation": "Synthetic Transactions. Run a fake user flow every minute. If it fails, alert. CPU metrics don't tell you if the app is actually working for users."
  },
  {
    "id": 18043,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "In-Memory Cache Fallback",
    "content": "How does In-Memory Cache Fallback (L1/L2) work when the distributed cache (L2) fails?",
    "explanation": "**L1/L2 Caching**. If Distributed Cache (L2) fails, fall back to In-Memory (L1). Be careful of stale data and memory usage."
  },
  {
    "id": 18044,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Static Content Failover",
    "content": "How can a Static Content Failover strategy improve user experience during a backend outage?",
    "explanation": "If the backend is dead, configure the Load Balancer/CDN to serve a friendly HTML page from Storage. Better than a browser connection error."
  },
  {
    "id": 18045,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Data Partitioning",
    "content": "How does Data Partitioning (Sharding) limit the blast radius of a failure?",
    "explanation": "If Shard A fails, only Users A-M are affected. Users N-Z (Shard B) are fine. Reduces impact."
  },
  {
    "id": 18046,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Canary Deployment",
    "content": "How does a Canary Deployment strategy contribute to system resilience?",
    "explanation": "Deploy to 1% of users. If error rate spikes, auto-rollback. Prevents a bad bug from taking down the whole system."
  },
  {
    "id": 18047,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Health Endpoint Security",
    "content": "Why is exposing detailed information (like version/stack trace) on a public `/health` endpoint a security risk?",
    "explanation": "Security risk. Health checks should return simple status. Sensitive info (version, dependencies) should require auth or be internal only."
  },
  {
    "id": 18048,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Correlation ID",
    "content": "How does a Correlation ID assist in debugging failures in a distributed system?",
    "explanation": "Pass a `Correlation-ID` header through every service. If a request fails in Service D, you can search logs for that ID and see the path A->B->C->D."
  },
  {
    "id": 18049,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Exception Shielding",
    "content": "Why is returning raw exceptions (like `NullReferenceException`) to the client a security risk?",
    "explanation": "Security risk and bad UX. Shield the internal details. Log the exception, return a generic \"Something went wrong\" (500) or a specific error code."
  },
  {
    "id": 18050,
    "category": "Resilience",
    "difficulty": "Senior",
    "title": "Immutable Infrastructure",
    "content": "Why is patching servers in production discouraged in favor of Immutable Infrastructure?",
    "explanation": "**Drift**. Servers become \"Snowflakes\". Replace them instead. Build new Image -> Deploy new Server -> Kill old Server. Ensures consistency and resilience."
  }
  ,
  {
    "id": 19001,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Vertical vs Horizontal Scaling",
    "content": "You need to scale a SQL Database. Why is Vertical Scaling (Scale Up) limited?",
    "explanation": "Vertical scaling (buying a bigger CPU/RAM) has a hardware ceiling and gets exponentially expensive. It also requires downtime to upgrade. Horizontal scaling (Sharding/Read Replicas) is theoretically infinite but adds application complexity."
  },
  {
    "id": 19002,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "L4 vs L7 Load Balancer",
    "content": "When to use Layer 4 (TCP) over Layer 7 (HTTP)?",
    "explanation": "Use **L4** for extreme performance or non-HTTP protocols (DB, sockets). It forwards packets based on IP/Port without inspecting content. **L7** is smarter (can route based on URL path, Headers, Cookies) but slower due to packet inspection/decryption."
  },
  {
    "id": 19003,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Consistent Hashing",
    "content": "How does Consistent Hashing prevent all keys from remapping when a node is added/removed?",
    "explanation": "Standard hashing `Key % N` breaks when `N` changes. Use **Consistent Hashing** (Ring). When a node is added, only `1/N` keys need to move. Essential for Cassandra, DynamoDB, and Memcached clusters."
  },
  {
    "id": 19004,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Sticky Sessions",
    "content": "Should you enable Sticky Sessions on the Load Balancer?",
    "explanation": "Avoid if possible. It causes uneven load balancing (one server gets stuck with heavy users). It complicates scaling (can't drain server easily). Make apps **Stateless** and store sessions in a distributed cache (Redis)."
  },
  {
    "id": 19005,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Database Sharding",
    "content": "What is the main downside of Sharding?",
    "explanation": "**Cross-Shard Joins**. If you need to join 'User' (Shard A) and 'Orders' (Shard B), you must do it in the Application (slow, complex). You also lose ACID transactions across shards."
  },
  {
    "id": 19006,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "CAP Theorem",
    "content": "Can a system be Consistent and Available during a Network Partition?",
    "explanation": "**(Trade-off).** No. CAP states that during a Network Partition (P), you must choose between **Consistency** (CP: Error out if sync fails) or **Availability** (AP: Return potentially stale data). You cannot have both perfect consistency and uptime when the network is broken."
  },
  {
    "id": 19007,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Cache Penetration",
    "content": "What is Cache Penetration and how can it be prevented?",
    "explanation": "Requests bypass Cache (Miss) and hit DB. Since they don't exist, they are never cached. Fix: Cache `null` values with short TTL, or use a **Bloom Filter** to reject invalid keys before hitting DB."
  },
  {
    "id": 19008,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Thundering Herd (Cache)",
    "content": "What is the 'Thundering Herd' problem in caching and how can Request Coalescing fix it?",
    "explanation": "If cache misses, 1M requests hit the DB. Fix: **Request Coalescing** (Single Flight). The first request goes to DB; the other 999,999 wait on the same Promise/Task for the result."
  },
  {
    "id": 19009,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Replication Lag",
    "content": "What causes Replication Lag and how can 'Read-Your-Writes' consistency resolve it?",
    "explanation": "This is **Eventual Consistency**. The Read Replica hasn't synced from Master yet. Fix: **Read-Your-Writes** consistency (pin user to Master for 1 min after write) or UI optimistic updates."
  },
  {
    "id": 19010,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Snowflake IDs",
    "content": "Why use Snowflake IDs over Auto-Increment Integers?",
    "explanation": "Auto-Inc requires a central coordinator (DB), which is a write bottleneck. **Snowflake IDs** (Twitter) are generated locally by app servers using Time + MachineID. They are k-sortable, unique, and highly scalable."
  },
  {
    "id": 19011,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Hot Partition",
    "content": "Why is sharding data by `Date` considered an anti-pattern (Hot Partition)?",
    "explanation": "Anti-pattern. All writes for \"Today\" go to one shard (Hot Spot). Other shards are idle. Shard by `UserId` or `DeviceId` to distribute writes evenly across the cluster."
  },
  {
    "id": 19012,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Database Normalization Scale",
    "content": "Is 3NF good for massive scale?",
    "explanation": "3NF requires Joins. Joins are expensive (CPU/IO) and hard to shard. At massive scale, **Denormalize** data (duplicate `UserName` into `Orders` table) to allow single-table lookups (O(1))."
  },
  {
    "id": 19013,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Backpressure",
    "content": "What happens if you don't implement Backpressure?",
    "explanation": "The system buffers requests until RAM fills up, then crashes (OOM). Backpressure signals the sender to \"Slow Down\" (TCP Window, HTTP 503, Queue Full) so the system stays alive."
  },
  {
    "id": 19014,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Rate Limiting Algorithms",
    "content": "How does the Token Bucket rate limiting algorithm differ from Fixed Window?",
    "explanation": "**Fixed Window** has edge cases (2x load at the minute boundary). **Token Bucket** or **Sliding Log** is smoother. Token Bucket allows small bursts, which is user-friendly."
  },
  {
    "id": 19015,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Gossip Protocol",
    "content": "How does Cassandra/Dynamo know a node is down?",
    "explanation": "**Gossip Protocol**. Nodes randomly talk to neighbors: \"I heard Node A is dead\". The news spreads exponentially (epidemic). No central master node is needed (Decentralized)."
  },
  {
    "id": 19016,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Bloom Filters",
    "content": "How can a Bloom Filter efficiently check if a username is taken without hitting the database?",
    "explanation": "Bloom Filter is a probabilistic data structure. It tells you \"Definitely No\" or \"Maybe Yes\". It's tiny in memory. If it says \"Maybe\", check DB. If \"No\", reject immediately."
  },
  {
    "id": 19017,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Quorum (R + W > N)",
    "content": "How do you configure Quorum (R + W > N) in Cassandra to achieve Strong Consistency?",
    "explanation": "If you have 3 replicas (N=3), set Read=2 and Write=2. Since 2+2 > 3, the Read and Write sets must overlap by at least one node, guaranteeing you read the latest data."
  },
  {
    "id": 19018,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "HyperLogLog",
    "content": "How does HyperLogLog count massive unique items with minimal memory?",
    "explanation": "Storing 100M IPs takes huge RAM. **HyperLogLog** estimates cardinality with 0.8% error using only 12KB of memory. Perfect for analytics where exact precision isn't critical."
  },
  {
    "id": 19019,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Geo-DNS (Anycast)",
    "content": "How does Geo-DNS (Anycast) reduce latency for global users?",
    "explanation": "Use Anycast or Geo-DNS. The DNS server returns the IP address of the load balancer geographically closest to the user. Reduces network latency (Speed of Light)."
  },
  {
    "id": 19020,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Connection Pooling",
    "content": "Why is opening a new SQL connection for every request inefficient, and how does Connection Pooling help?",
    "explanation": "TCP Handshake + SSL + Auth takes time (~100ms). Use **Connection Pooling**. Reuse open connections. Be careful of Pool Exhaustion (leaking connections)."
  },
  {
    "id": 19021,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Leader Election",
    "content": "What is the Split Brain scenario in a Leader Election process?",
    "explanation": "Network partition makes two nodes think they are Leader. Both accept writes. Data corruption. Use **Fencing Tokens** (incrementing ID) so the storage rejects writes from the old leader."
  },
  {
    "id": 19022,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "CDN Strategy",
    "content": "What is the difference between Push and Pull CDN strategies?",
    "explanation": "**Pull**: CDN fetches from origin on first request (Lazy). Good for traffic spikes. **Push**: You upload files to CDN manually. Good for large files (Game patches) ensuring 100% availability immediately."
  },
  {
    "id": 19023,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Write-Heavy Workload",
    "content": "How should you handle a high-volume write workload (e.g., metrics ingestion)?",
    "explanation": "Relational DBs lock on writes. Use **Append-Only** storage (LSM Trees like Cassandra/RocksDB) or Kafka. Buffer writes in memory/queue and flush in batches."
  },
  {
    "id": 19024,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "PACELC Theorem",
    "content": "What does the PACELC Theorem state regarding distributed systems?",
    "explanation": "Extension of CAP. \"If Partition (P), choose A or C. Else (E), choose Latency (L) or Consistency (C)\". Even without partitions, replicating data takes time. You trade latency for consistency."
  },
  {
    "id": 19025,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Jitter",
    "content": "Why is adding Jitter to scheduled jobs or retries important?",
    "explanation": "To prevent **Synchronization**. If 10,000 clients all wake up at exactly 12:00:00 to sync, they DDoS the server. Jitter spreads the load over a window (e.g., 12:00 - 12:05)."
  },
  {
    "id": 19026,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Vector Clocks",
    "content": "How do Vector Clocks resolve conflicts in a multi-master database?",
    "explanation": "Vector Clocks track *causality* (Node A v1, Node B v2). They detect if two writes happened concurrently (Conflict) or if one followed the other. Used in Dynamo-style databases."
  },
  {
    "id": 19027,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Materialized Views",
    "content": "How can Materialized Views improve performance for complex report queries?",
    "explanation": "Pre-compute the result into a **Materialized View** (physical table). Update it async (eventual consistency) or on schedule. Queries become O(1) reads."
  },
  {
    "id": 19028,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Bulkhead Pattern",
    "content": "How does the Bulkhead Pattern prevent thread pool exhaustion from taking down the entire system?",
    "explanation": "Separate thread pools for 'Admin API' and 'Public API'. If the Public API gets flooded, Admin endpoint stays responsive because it has reserved resources."
  },
  {
    "id": 19029,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Saga Pattern",
    "content": "Why is the Saga Pattern preferred over Two-Phase Commit (2PC) for distributed transactions?",
    "explanation": "Use Sagas (sequence of local transactions) instead of Two-Phase Commit (2PC). 2PC locks resources across services (bad for scale). Sagas rely on Compensating Actions to undo failures."
  },
  {
    "id": 19030,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "False Sharing",
    "content": "What is 'False Sharing' in multi-threaded CPU performance and how can it be mitigated?",
    "explanation": "**(Low Level).** If two threads write to variables that sit on the *same CPU Cache Line*, the cores fight to invalidate the cache. Add **Padding** to separate variables in memory."
  },
  {
    "id": 19031,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Shuffle Sharding",
    "content": "How does Shuffle Sharding limit the blast radius of noisy tenants?",
    "explanation": "Assign Tenant A to Nodes (1, 2). Tenant B to (2, 3). Tenant C to (1, 3). If Tenant A kills Node 1, Tenant B is partially degraded, but Tenant C is fine. Increases resilience."
  },
  {
    "id": 19032,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Hinted Handoff",
    "content": "What is 'Hinted Handoff' in Cassandra and how does it improve write availability?",
    "explanation": "If a replica node is down, the coordinator stores the write locally (a 'Hint'). When the node comes back, the coordinator replays the hint. Ensures writes succeed even if nodes are down."
  },
  {
    "id": 19033,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Async I/O (Epoll/IOCP)",
    "content": "How does Async I/O (Event Loop) compare to Thread-per-Request for high concurrency?",
    "explanation": "Thread-per-request hits a limit (~2k threads). **Async I/O** (Node.js, .NET, Nginx) uses non-blocking sockets and 1 thread to handle thousands of concurrent connections. Essential for high concurrency."
  },
  {
    "id": 19034,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Compression",
    "content": "When should you use Brotli compression versus Gzip?",
    "explanation": "**Brotli** compresses better (smaller size) but is slower to compress. Use Brotli for static assets (compress once). Use **Gzip** for dynamic API responses (fast compression)."
  },
  {
    "id": 19035,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Server-Sent Events (SSE)",
    "content": "When is it appropriate to use Server-Sent Events (SSE) instead of WebSockets?",
    "explanation": "SSE is simpler than WebSockets for One-Way (Server -> Client) data. It works over standard HTTP/2 and handles firewalls better. Use WebSockets only for bi-directional (Chat)."
  },
  {
    "id": 19036,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Inverted Index",
    "content": "How does an Inverted Index allow Elasticsearch to scale search queries?",
    "explanation": "Like a book index. Maps `Word -> List[DocumentIDs]`. Allows finding \"all docs containing 'apple'\" in O(1) instead of scanning every document (O(N))."
  },
  {
    "id": 19037,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Merkle Trees",
    "content": "How do Merkle Trees enable efficient data synchronization between replicas?",
    "explanation": "A hash tree. Compare root hashes. If match, data is identical. If diff, follow the branch. Allows finding *exactly* which row differs between two huge databases without sending all data."
  },
  {
    "id": 19038,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Cell-Based Architecture",
    "content": "How does Cell-Based Architecture allow companies like Uber or Slack to scale indefinitely?",
    "explanation": "Partition the entire stack (Gateway, App, DB) into self-contained \"Cells\". A Cell handles 100k users. To scale, add more Cells. Fault isolation is perfect."
  },
  {
    "id": 19039,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Database Read Replicas",
    "content": "How do Read Replicas help scale a database workload?",
    "explanation": "Route `SELECT` queries to Read Replicas. Keep Master for `INSERT/UPDATE`. requires app logic to handle connections, or a smart proxy (PgPool/ProxySQL)."
  },
  {
    "id": 19040,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Leaky Bucket",
    "content": "How does the Leaky Bucket algorithm ensure a stable outflow rate?",
    "explanation": "Request enter a bucket. They leak out (are processed) at a constant rate. Smooths out bursts. If bucket overflows, discard requests. Good for protecting slow backend services."
  },
  {
    "id": 19041,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Priority Queues",
    "content": "How can Priority Queues manage load for different user tiers (Free vs Paid)?",
    "explanation": "Workers poll the 'High Priority' queue first. Only if empty, poll 'Low Priority'. Ensures Paid users get SLAs even during spikes."
  },
  {
    "id": 19042,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Fan-Out (Write vs Read)",
    "content": "What is the difference between Fan-Out on Write (Push) and Fan-Out on Read (Pull) in feed design?",
    "explanation": "**Fan-Out on Write** (Push): When user posts, push ID to all followers' feeds (Fast read, slow write). **Fan-Out on Read** (Pull): Query all followees' tweets on load (Fast write, slow read). Twitter uses a hybrid."
  },
  {
    "id": 19043,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Distributed Locking (Redlock)",
    "content": "How does Distributed Locking (e.g., Redlock) ensure a job runs only once across a cluster?",
    "explanation": "Use Redis/Zookeeper lock with a TTL. The winner executes. The lock must be released safely (using a token to ensure you don't release someone else's lock if you froze)."
  },
  {
    "id": 19044,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Wide Column Stores",
    "content": "What is the wide-column data model used by databases like Cassandra?",
    "explanation": "Data is stored effectively as `Map<RowKey, Map<ColKey, Value>>`. Rows can have different columns. Optimized for writing huge amounts of time-series or log data."
  },
  {
    "id": 19045,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Geo-Partitioning",
    "content": "How can Geo-Partitioning help with GDPR compliance?",
    "explanation": "Pin user data to specific regions (Shard by Country). European users' data stays in EU DBs. Requires routing logic at the Edge/Gateway."
  },
  {
    "id": 19046,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Count-Min Sketch",
    "content": "What is a Count-Min Sketch and when is it used?",
    "explanation": "Probabilistic data structure (Frequency table). Uses hash functions to estimate counts of events. Tiny memory usage compared to a HashMap."
  },
  {
    "id": 19047,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "SPOF (Single Point of Failure)",
    "content": "What defines a Single Point of Failure (SPOF) in system architecture?",
    "explanation": "Any component that, if it fails, stops the entire system. Common SPOFs: The Master DB, The Load Balancer (if not HA), The Redis Cache."
  },
  {
    "id": 19048,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Graceful Degradation",
    "content": "How should a Product Page handle a failure in the Reviews service (Graceful Degradation)?",
    "explanation": "Don't crash the page. Render the product details but hide the 'Reviews' section. The user can still buy the product."
  },
  {
    "id": 19049,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Long Polling",
    "content": "How does Long Polling work compared to modern WebSockets?",
    "explanation": "Client opens request. Server holds it open until data arrives (or timeout). Client reconnects immediately. Better than Short Polling (spam), but worse than WebSockets."
  },
  {
    "id": 19050,
    "category": "Scalability",
    "difficulty": "Senior",
    "title": "Cache Stampede (Dogpile)",
    "content": "What causes a Cache Stampede (Dogpile) and how can it be prevented?",
    "explanation": "Use **Locking** or **Probabilistic Early Expiration** (X-Fetch). If ttl < random(), one thread recomputes in background while others return slightly stale data."
  }
  ,
  {
    "id": 20001,
    "category": "Security",
    "difficulty": "Senior",
    "title": "OAuth2 vs OIDC",
    "content": "What is the fundamental difference between OAuth2 and OpenID Connect (OIDC)?",
    "explanation": "OAuth2 is for **Authorization** (Access: \"Can I read your Google Photos?\"). OIDC is a layer on top for **Authentication** (Identity: \"Who are you?\"). OAuth2 provides an Access Token; OIDC adds an ID Token."
  },
  {
    "id": 20002,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Implicit Flow Deprecation",
    "content": "Should you use the OAuth2 Implicit Flow for SPAs (React/Angular)?",
    "explanation": "No. Implicit Flow returns tokens in the URL fragment (leaky). It is deprecated. Use **Authorization Code Flow with PKCE** (Proof Key for Code Exchange). It keeps tokens out of the browser history."
  },
  {
    "id": 20003,
    "category": "Security",
    "difficulty": "Senior",
    "title": "JWT Storage",
    "content": "Why is storing Access Tokens in `localStorage` vulnerable to XSS?",
    "explanation": "Vulnerable to **XSS**. If an attacker injects JS, they can read `localStorage` and steal the token. Store tokens in **HttpOnly, Secure Cookies**. The JS cannot read them, preventing exfiltration."
  },
  {
    "id": 20004,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Refresh Token Rotation",
    "content": "How does Refresh Token Rotation secure long-lived sessions?",
    "explanation": "Use **Refresh Token Rotation**. When a client uses a refresh token to get a new access token, the *old* refresh token is invalidated and a *new* one is issued. If a token is stolen and reused, the server detects the reuse and revokes the entire chain."
  },
  {
    "id": 20005,
    "category": "Security",
    "difficulty": "Senior",
    "title": "CSRF Protection",
    "content": "Does a pure API using `Authorization: Bearer` header need CSRF protection?",
    "explanation": "**(Nuance).** Generally **No**. CSRF exploits the browser automatically sending Cookies. If you strictly use headers (JS must explicitly attach the token), CSRF is impossible. If you store tokens in Cookies, you **MUST** implement CSRF protection (Anti-Forgery Tokens or SameSite=Strict)."
  },
  {
    "id": 20006,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Hashing vs Encryption",
    "content": "Why should passwords be hashed rather than encrypted?",
    "explanation": "Passwords should never be encrypted (reversible). They must be **Hashed** (one-way). Use a slow hashing algorithm like **BCrypt**, **Argon2**, or **PBKDF2** with a unique Salt per user to prevent Rainbow Table attacks."
  },
  {
    "id": 20007,
    "category": "Security",
    "difficulty": "Senior",
    "title": "IDOR (Insecure Direct Object Reference)",
    "content": "What is an IDOR (Insecure Direct Object Reference) vulnerability?",
    "explanation": "This is **IDOR**. You checked *Authentication* (User is logged in) but failed *Authorization* (User owns Order 124). Always validate ownership: `if (order.UserId != currentUserId) return Forbid();`."
  },
  {
    "id": 20008,
    "category": "Security",
    "difficulty": "Senior",
    "title": "SQL Injection in EF Core",
    "content": "Is EF Core immune to SQL Injection?",
    "explanation": "Mostly yes, but raw SQL functions (`FromSqlRaw`) are vulnerable if you use string interpolation: `FromSqlRaw($\"SELECT * FROM {input}\")`. Always use parameterized queries or `FromSqlInterpolated`."
  },
  {
    "id": 20009,
    "category": "Security",
    "difficulty": "Senior",
    "title": "CSP (Content Security Policy)",
    "content": "Why implement CSP headers?",
    "explanation": "It tells the browser which sources are allowed for scripts/styles. `script-src 'self'`. It is the strongest defense against **XSS**. If an attacker injects `<script src='evil.com'>`, the browser blocks it because 'evil.com' is not whitelisted."
  },
  {
    "id": 20010,
    "category": "Security",
    "difficulty": "Senior",
    "title": "HSTS (HTTP Strict Transport Security)",
    "content": "How does HSTS (HTTP Strict Transport Security) prevent SSL stripping attacks?",
    "explanation": "The `Strict-Transport-Security` header tells the browser: \"For the next year, NEVER connect to me via HTTP. Even if the user types http://, upgrade to HTTPS automatically before sending a byte.\""
  },
  {
    "id": 20011,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Symmetric vs Asymmetric Encryption",
    "content": "What is the difference between HS256 (Symmetric) and RS256 (Asymmetric) for signing JWTs?",
    "explanation": "**HS256** (Symmetric): One shared secret key. Fast, but if you share the key with microservice B to verify tokens, Service B can also *forge* tokens. **RS256** (Asymmetric): Private Key signs, Public Key verifies. You give Service B the Public Key. B can verify but cannot forge."
  },
  {
    "id": 20012,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Client Credentials Flow",
    "content": "When should you use the OAuth2 Client Credentials Flow?",
    "explanation": "Use **Client Credentials Flow**. The service sends `ClientId` + `ClientSecret` to the Identity Provider to get a token. There is no human user involved."
  },
  {
    "id": 20013,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Clickjacking",
    "content": "How to prevent your site from being loaded in an iframe on `evil.com`?",
    "explanation": "Set `X-Frame-Options: DENY` or `SAMEORIGIN`. Or use CSP `frame-ancestors`. This stops attackers from putting an invisible iframe of your site over a button on their site."
  },
  {
    "id": 20014,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Secret Management",
    "content": "Why is committing secrets like connection strings to Git dangerous?",
    "explanation": "Secrets in Git are compromised forever. Use **Environment Variables** (Docker), **User Secrets** (Local Dev), or **Azure KeyVault/AWS Secrets Manager** (Prod). Code should rely on `IConfiguration` abstraction."
  },
  {
    "id": 20015,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Mass Assignment (Over-Posting)",
    "content": "What is Mass Assignment (Over-Posting) and how can it be prevented?",
    "explanation": "If you bind the request directly to the Entity: `Update(User user)`, the attacker can overwrite protected fields. Use **DTOs** (`UpdateProfileDto`) that only contain the allowed fields."
  },
  {
    "id": 20016,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Replay Attacks",
    "content": "What is a Replay Attack and how can it be mitigated?",
    "explanation": "Use **HTTPS** (prevents interception). For sensitive actions, use a **Nonce** (number used once) or timestamp in the signature that the server validates to ensure the request is fresh and unique."
  },
  {
    "id": 20017,
    "category": "Security",
    "difficulty": "Senior",
    "title": "SSRF (Server Side Request Forgery)",
    "content": "What is SSRF (Server Side Request Forgery) and how does it happen?",
    "explanation": "The attacker tricks your server into attacking *itself* or internal networks. Validate the URL whitelist. Block requests to private IP ranges (127.0.0.1, 192.168.x.x, 169.254.x.x for cloud metadata)."
  },
  {
    "id": 20018,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Open Redirect",
    "content": "What is an Open Redirect vulnerability?",
    "explanation": "After login, your site redirects users to the attacker's phishing site. Always validate that `returnUrl` is a **Local URL** (`Url.IsLocalUrl()`) or belongs to a whitelist of trusted domains."
  },
  {
    "id": 20019,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Role-Based Access Control (RBAC)",
    "content": "Is RBAC enough for modern apps?",
    "explanation": "**(Nuance).** RBAC (`[Authorize(Roles='Admin')]`) is static. Modern apps often need **Resource-Based** (Can edit *this* document?) or **Policy-Based** authorization (`requirements.Add(new MinimumAgeRequirement(18))`)."
  },
  {
    "id": 20020,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Logging Sensitive Data",
    "content": "Why is logging the full request body on exception a security risk?",
    "explanation": "You might log passwords, credit cards, or PII (GDPR violation). Use **Redaction** or structural logging where sensitive fields are explicitly ignored. \"Logs are data breaches waiting to happen.\""
  },
  {
    "id": 20021,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Timing Attack",
    "content": "How can standard string comparison lead to Timing Attacks in password validation?",
    "explanation": "Standard string comparison returns `false` as soon as the first character mismatches. An attacker can measure the time (nanoseconds) to guess the password char by char. Use **Constant Time Comparison** (`CryptographicOperations.FixedTimeEquals`)."
  },
  {
    "id": 20022,
    "category": "Security",
    "difficulty": "Senior",
    "title": "JWT 'none' Algorithm",
    "content": "What is the JWT 'none' algorithm vulnerability?",
    "explanation": "Old vulnerability. Some libraries accepted unsigned tokens if the header said 'none'. Ensure your JWT validation logic strictly enforces the expected algorithm (e.g., RS256) and rejects 'none'."
  },
  {
    "id": 20023,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Rate Limiting as Security",
    "content": "Why Rate Limit login attempts?",
    "explanation": "Prevents **Brute Force** and **Credential Stuffing** attacks. If an IP fails 5 times, block it for 15 minutes."
  },
  {
    "id": 20024,
    "category": "Security",
    "difficulty": "Senior",
    "title": "XSS (Cross Site Scripting)",
    "content": "Why is using `@Html.Raw` with user input a major XSS risk?",
    "explanation": "Dangerous. If user puts `<script>...` in Bio, it executes in victims' browsers. Razor (`@Model.Bio`) encodes by default. Only use `Raw` if you have run the input through a strict **HTML Sanitizer** (e.g., HtmlSanitizer lib)."
  },
  {
    "id": 20025,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Certificate Pinning",
    "content": "What is Certificate Pinning and what attack does it prevent?",
    "explanation": "Prevents MitM attacks where a hacker installs a trusted root CA on the victim's phone. The app refuses to connect if the cert doesn't match the pinned hash. Risk: App breaks if you rotate certs without updating the app."
  },
  {
    "id": 20026,
    "category": "Security",
    "difficulty": "Senior",
    "title": "SameSite Cookie Attribute",
    "content": "How does setting the `SameSite=Strict` cookie attribute prevent CSRF attacks?",
    "explanation": "The browser will NOT send the cookie if the request comes from an external site (e.g., a link in an email). This kills most CSRF attacks natively."
  },
  {
    "id": 20027,
    "category": "Security",
    "difficulty": "Senior",
    "title": "JWT JTI Claim",
    "content": "What is the `jti` claim used for?",
    "explanation": "**JWT ID**. A unique identifier for the token. Used to prevent Replay Attacks (track processed JTIs) or to maintain a **Blacklist** of revoked tokens (store revoked JTIs in Redis)."
  },
  {
    "id": 20028,
    "category": "Security",
    "difficulty": "Senior",
    "title": "CORS (Cross Origin Resource Sharing)",
    "content": "Why is combining `Access-Control-Allow-Origin: *` with `Access-Control-Allow-Credentials: true` disallowed/dangerous?",
    "explanation": "Browsers block this combo. If `Allow-Credentials: true` (Cookies), you cannot use wildcard `*`. You must explicitly echo back the requesting Origin. Be careful not to echo *any* origin, essentially making it public."
  },
  {
    "id": 20029,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Claims Transformation",
    "content": "Where should you normalize external identity claims (e.g., from Google/AzureAD) in an ASP.NET Core app?",
    "explanation": "Use `IClaimsTransformation`. It runs on every request. You can map external claims (`http://schemas.xml.../email`) to your internal application claims (`email`) or look up extra permissions from the DB."
  },
  {
    "id": 20030,
    "category": "Security",
    "difficulty": "Senior",
    "title": "XXE (XML External Entity)",
    "content": "What is an XXE (XML External Entity) attack and how do you prevent it when parsing XML?",
    "explanation": "XML parsers often allow external entities by default. An attacker can send XML referencing `/etc/passwd` or an internal URL. Disable DTD processing (`DtdProcessing.Prohibit`) in XmlReader settings."
  },
  {
    "id": 20031,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Secure Random",
    "content": "Why is `System.Random` unsafe for security-critical operations like token generation?",
    "explanation": "`System.Random` is pseudo-random (predictable based on seed/time). Use `System.Security.Cryptography.RandomNumberGenerator` (RNG) for anything security-related."
  },
  {
    "id": 20032,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Audience Claim (aud)",
    "content": "Why check `aud` in JWT?",
    "explanation": "It ensures the token was meant for *you*. If User logs into 'App A', 'App A' shouldn't use that token to call 'App B' unless 'App B' is in the audience list. Prevents token substitution."
  },
  {
    "id": 20033,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Regular Expression DoS (ReDoS)",
    "content": "What is a ReDoS (Regular Expression Denial of Service) attack?",
    "explanation": "Poorly written Regex (nested quantifiers) can take exponential time to match certain strings. An attacker sends a crafted string, causing CPU spike (DoS). Set a **Timeout** on Regex matching."
  },
  {
    "id": 20034,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Supply Chain Attack",
    "content": "What is a Supply Chain Attack in the context of NuGet packages?",
    "explanation": "Malicious packages (typosquatting) happen. Pin package versions. Use vulnerability scanners (Dependabot/Snyk/NuGet Audit) in CI/CD to detect compromised dependencies."
  },
  {
    "id": 20035,
    "category": "Security",
    "difficulty": "Senior",
    "title": "API Keys",
    "content": "Why are API Keys generally unsuitable for User Authorization?",
    "explanation": "API Keys identify the **Project/Client**, not the User. They have no scope or expiration logic usually. Use OAuth2 tokens for users. Use API Keys only for simple machine-to-machine rate limiting."
  },
  {
    "id": 20036,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Directory Traversal",
    "content": "What is a Directory Traversal attack and how can it be prevented?",
    "explanation": "Attacker escapes the intended folder. Always sanitize filenames (`Path.GetFileName`) and check that the resulting full path starts with the allowed root directory."
  },
  {
    "id": 20037,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Data Protection API (DPAPI)",
    "content": "How .NET encrypts cookies at rest.",
    "explanation": "ASP.NET Core Data Protection stack. It manages the encryption keys (key ring). In a cluster, you must configure it to persist keys to a shared location (Redis/Blob) and encrypt them (KeyVault), otherwise logins break on restart."
  },
  {
    "id": 20038,
    "category": "Security",
    "difficulty": "Senior",
    "title": "IdentityServer / Duende",
    "content": "Why is building your own OAuth2 server generally discouraged?",
    "explanation": "Incredibly hard to get right. Use established OIDC Providers (Duende IdentityServer, Auth0, Azure AD B2C, Keycloak). Focus on your app logic, not the auth protocol."
  },
  {
    "id": 20039,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Zero Trust",
    "content": "How does Zero Trust architecture differ from traditional perimeter-based security?",
    "explanation": "**Zero Trust** architecture assumes the network is compromised. Every request (even service-to-service) must be Authenticated, Authorized, and Encrypted (mTLS)."
  },
  {
    "id": 20040,
    "category": "Security",
    "difficulty": "Senior",
    "title": "HTTP Public Key Pinning (HPKP)",
    "content": "Why is HTTP Public Key Pinning (HPKP) deprecated?",
    "explanation": "Deprecated. It had a high risk of 'Self-Denial of Service' (bricking your site if you lost the keys). Use **Expect-CT** (Certificate Transparency) headers instead."
  },
  {
    "id": 20041,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Subresource Integrity (SRI)",
    "content": "How does Subresource Integrity (SRI) secure scripts loaded from a CDN?",
    "explanation": "Use SRI (`integrity=\"sha384-...\"`). The browser hashes the downloaded file. If the CDN was hacked and the file modified, the hash won't match, and the browser refuses to execute the script."
  },
  {
    "id": 20042,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Enumeration Attack",
    "content": "Why is returning specific error messages like \"User not found\" a security risk (Enumeration Attack)?",
    "explanation": "Allows attackers to check if an email is registered. Return generic messages: \"Invalid email or password\". Same for \"Forgot Password\" (don't say \"Email sent\" if user doesn't exist)."
  },
  {
    "id": 20043,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Memory Dump Sensitive Data",
    "content": "Why are standard C# strings problematic for storing highly sensitive data like passwords in memory?",
    "explanation": "**(Awareness).** Strings are immutable and linger until GC. For highly sensitive data (keys/passwords), use `SecureString` (legacy) or `byte[]` / `char[]` and zero them out (`Array.Clear`) immediately after use."
  },
  {
    "id": 20044,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Padding Oracle Attack",
    "content": "What is a Padding Oracle Attack and how does using AES-GCM prevent it?",
    "explanation": "Vulnerable to Padding Oracles. Use **AES-GCM** (Galois/Counter Mode). It provides Authenticated Encryption (confidentiality + integrity). If the ciphertext is tampered with, decryption fails securely."
  },
  {
    "id": 20045,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Bypass Authorization",
    "content": "What happens if the `UseAuthorization` middleware is placed after `UseEndpoints`?",
    "explanation": "Critical bug. If Endpoints execute before Authorization checks, the endpoints are public. `UseAuthorization` must be between Routing and Endpoints."
  },
  {
    "id": 20046,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Audit Logging",
    "content": "Why is Audit Logging of read actions important for sensitive data?",
    "explanation": "Yes, for sensitive data (HIPAA/GDPR). Log \"Who accessed Record X and When\". Essential for forensics if data is stolen (exfiltrated)."
  },
  {
    "id": 20047,
    "category": "Security",
    "difficulty": "Senior",
    "title": "TLS 1.2 / 1.3",
    "content": "Why should you disable older protocols like SSLv3 and TLS 1.0?",
    "explanation": "Obsolete and insecure (POODLE/BEAST attacks). Enforce minimum **TLS 1.2**. Disable older protocols on the server/load balancer."
  },
  {
    "id": 20048,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Feature Policy / Permissions Policy",
    "content": "What is the purpose of the `Permissions-Policy` (formerly Feature-Policy) header?",
    "explanation": "explicitly disables features (like Camera/Mic) for the page and its iframes. Reduces attack surface if a vulnerability (XSS) is found."
  },
  {
    "id": 20049,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Ghost Token",
    "content": "What is the 'Ghost Token' problem with JWTs?",
    "explanation": "**(Awareness).** JWTs are stateless. You cannot 'revoke' them without a blacklist or waiting for expiry. Mitigation: Keep Access Token TTL short (5 mins) so access is lost quickly."
  },
  {
    "id": 20050,
    "category": "Security",
    "difficulty": "Senior",
    "title": "Docker Rootless",
    "content": "Why is it important to run Docker containers as a non-root user?",
    "explanation": "If the container process runs as root (UID 0), a kernel exploit could give the attacker root on the host. Use `RunAsUser` in K8s or `USER` in Dockerfile."
  }
  ,
  {
    "id": 21001,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Server vs WASM Trade-off",
    "content": "You are building a public-facing e-commerce site with poor mobile connection users. Choose Blazor Server or WASM?",
    "explanation": "Both have risks. WASM has a huge initial download (DLLs). Server requires a constant SignalR connection (latency sensitive). For public e-commerce with poor internet, **Server-Side Rendering (Razor Pages/MVC)** or Blazor Static SSR (.NET 8) is often better than interactive modes."
  },
  {
    "id": 21002,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "OnInitializedAsync Double Fire",
    "content": "Why does `OnInitializedAsync` run twice in Blazor Server?",
    "explanation": "Once for **Prerendering** (Static HTML generation) and once for the **Interactive** setup. You must persist state between these two or handle the double-fetch (e.g., using `PersistentComponentState`) to avoid hitting the DB twice."
  },
  {
    "id": 21003,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "IJSObjectReference Disposal",
    "content": "You imported a JS module in a component. Do you need to dispose it?",
    "explanation": "**(Memory Leak).** Yes! `IJSObjectReference` holds a reference to the JS object in the browser memory. If you don't call `DisposeAsync()` in C#, the JS side leaks memory forever."
  },
  {
    "id": 21004,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "ShouldRender()",
    "content": "How can `ShouldRender()` improve performance in a Blazor component with frequent updates?",
    "explanation": "Override `ShouldRender()`. Return `false` if the update is irrelevant to the UI (e.g., data changed but is hidden). Also, use `<Virtualize>` component to render only visible rows."
  },
  {
    "id": 21005,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Scoped Services in Blazor Server",
    "content": "What does 'Scoped' lifetime mean in Blazor Server compared to standard ASP.NET Core?",
    "explanation": "**(Critical).** No. In Blazor Server, **Scoped** means **Per User Connection (Circuit)**. The service lives as long as the user is on the page (minutes/hours). EF Core DbContexts in Scoped services often causing threading issues or stale data."
  },
  {
    "id": 21006,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "State Management: Flux",
    "content": "What is 'Prop Drilling' in Blazor and how can CascadingParameters resolve it?",
    "explanation": "This is 'Prop Drilling'. Use **CascadingParameters** for simple data, or a **State Container** (Redux/Flux pattern) where you inject a `StateService` that holds data and fires `OnChange` events."
  },
  {
    "id": 21007,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "JavaScript Interop: Sync vs Async",
    "content": "Can you call `IJSInProcessRuntime` (Sync) in Blazor Server?",
    "explanation": "No. Server-side must rely on SignalR (Network), so all JS calls *must* be Async. Sync interop only works in Blazor WASM where C# runs directly in the browser thread."
  },
  {
    "id": 21008,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "CSS Isolation",
    "content": "How to prevent `MyComponent.css` from affecting the whole app?",
    "explanation": "Use CSS Isolation. Create `MyComponent.razor.css`. The compiler rewrites selectors with unique attributes (`b-x7y8z`) so styles apply *only* to that component's HTML."
  },
  {
    "id": 21009,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "OwningComponentBase",
    "content": "When should you use `OwningComponentBase` in Blazor Server?",
    "explanation": "Inherit from `OwningComponentBase<TService>`. It creates a *new* Service Scope for the component's lifetime and disposes it automatically when the component unmounts. Safe for EF Core."
  },
  {
    "id": 21010,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "RenderFragment",
    "content": "How does `RenderFragment` allow for creating flexible, reusable components?",
    "explanation": "Use a parameter of type `RenderFragment`. It allows the consumer to pass HTML or other components as child content. `<MyModal> <h1>Hello</h1> </MyModal>`."
  },
  {
    "id": 21011,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Blazor WASM Security",
    "content": "Why is it a security risk to store connection strings in a Blazor WASM `appsettings.json`?",
    "explanation": "Critical security flaw. WASM runs on the *Client*. The user can download the DLLs and JSON files. WASM must call a secured Backend API; it should never touch the DB directly."
  },
  {
    "id": 21012,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Lazy Loading Assemblies",
    "content": "How does Lazy Loading Assemblies help with large Blazor WASM application sizes?",
    "explanation": "Configure **Lazy Loading**. Mark DLLs as lazy in `csproj`. The router fetches them only when the user navigates to a page that requires that assembly. Reduces initial load time."
  },
  {
    "id": 21013,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Reconnection Handling",
    "content": "What happens to the component state when a Blazor Server user loses connection?",
    "explanation": "The Circuit is disconnected. The UI turns grey. You cannot reconnect to the *old* state (it's gone from memory). The page must reload. Design for this: Persist draft data to LocalStorage or DB frequently."
  },
  {
    "id": 21014,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Generic Components",
    "content": "How do Generic Components (`@typeparam`) work in Blazor?",
    "explanation": "Use `@typeparam TItem`. Allows you to build reusable UI widgets that work with any Entity type. The compiler infers the type from the data passed to it."
  },
  {
    "id": 21015,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "InvokeAsync (Dispatcher)",
    "content": "Why must you use `InvokeAsync` when updating Blazor UI from a background thread?",
    "explanation": "You cannot modify Component State from a background thread. It throws an exception. You must wrap the update in `InvokeAsync(() => { StateHasChanged(); });` to dispatch it to the UI Synchronization Context."
  },
  {
    "id": 21016,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "BFF Pattern for WASM",
    "content": "Why is the Backend for Frontend (BFF) pattern recommended for Blazor WASM over direct microservice calls?",
    "explanation": "Use **Backend for Frontend (BFF)**. WASM calls *one* backend (Same Domain) using Cookies. The Backend proxies calls to microservices. Keeps tokens secure (HttpOnly Cookies) and simplifies CORS."
  },
  {
    "id": 21017,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "InputFile Component",
    "content": "What are the limitations of uploading large files via `InputFile` in Blazor Server?",
    "explanation": "By default, SignalR message size is 32KB. A huge file will be chunked over the WebSocket, blocking the UI thread. Upload directly to API/Blob Storage via JS Interop or increase Hub limits carefully."
  },
  {
    "id": 21018,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "ErrorBoundary",
    "content": "How does the `<ErrorBoundary>` component improve error handling in Blazor?",
    "explanation": "Wrap parts of your layout in `<ErrorBoundary>`. If a component crashes, the ErrorBoundary catches it and shows a fallback UI (e.g., \"Widget failed\") instead of crashing the entire app (Gold Bar of Death)."
  },
  {
    "id": 21019,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Keyed Elements (@key)",
    "content": "Why is the `@key` attribute important when rendering lists in Blazor?",
    "explanation": "Use `@key=\"item.Id\"` inside the loop. It helps the Diff Algorithm identify which elements moved vs changed. Prevents bugs where input field focus or values get lost during updates."
  },
  {
    "id": 21020,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Component Base Class",
    "content": "What are the benefits of using a Component Base Class in Blazor?",
    "explanation": "Good for shared `[Inject]` services (Logger, Navigation) or common Lifecycle overrides. Components inherit from `MyBaseComponent` to reduce boilerplate."
  },
  {
    "id": 21021,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "SignalR Backplane",
    "content": "Why do you need Sticky Sessions and a SignalR Backplane when scaling Blazor Server?",
    "explanation": "You need **Sticky Sessions** (ARR Affinity) because the circuit state is in RAM on *one* server. You also need a **Redis Backplane** (Azure SignalR Service) to handle connection management if you use SignalR features."
  },
  {
    "id": 21022,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "MVVM in Blazor",
    "content": "Should you use MVVM (ViewModels) in Blazor?",
    "explanation": "**(Conditional).** Blazor *is* structurally MVVM (Component = View, @code = ViewModel). Extracting a separate ViewModel class is good for unit testing logic without the Razor rendering context."
  },
  {
    "id": 21023,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "EventCallback vs Action",
    "content": "Why is `EventCallback` preferred over `Action` for child-to-parent communication in Blazor?",
    "explanation": "Use `EventCallback`. It automatically calls `StateHasChanged()` on the parent when invoked. `Action` does not, leading to UI not updating after the event."
  },
  {
    "id": 21024,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Local Storage Abstraction",
    "content": "Why should you use a library or abstraction for LocalStorage in Blazor instead of raw JS Interop?",
    "explanation": "Use a library (`Blazored.LocalStorage`). It handles serialization, async calls (required for Server), and provides a cleaner .NET API."
  },
  {
    "id": 21025,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Static SSR (.NET 8)",
    "content": "What is Enhanced Navigation in Blazor (.NET 8) Static SSR?",
    "explanation": "In .NET 8 Static SSR, Blazor intercepts link clicks, fetches the new page HTML via `fetch`, and patches the DOM. It feels like a SPA (no full reload) but is stateless on the server."
  },
  {
    "id": 21026,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Stream Rendering",
    "content": "How does Stream Rendering (`[StreamRendering]`) improve perceived performance in Blazor?",
    "explanation": "Use `[StreamRendering]`. The server sends the initial HTML immediately (with placeholders). When the async data finishes, it streams the updates down the same connection to patch the UI."
  },
  {
    "id": 21027,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Auto Render Mode (.NET 8)",
    "content": "What does `RenderMode.InteractiveAuto` do?",
    "explanation": "It loads the component using **Blazor Server** first (Instant load). In the background, it downloads the **WASM** binaries. On the next visit, it switches to WASM. Best of both worlds."
  },
  {
    "id": 21028,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "CascadingParameter Performance",
    "content": "Why can cascading a rapidly changing object to the whole component tree cause performance issues?",
    "explanation": "Any change to the Cascading Value triggers a re-render of *all* consumers. If the root value changes often, the whole app re-renders. Use `IsFixed=true` if it won't change, or be specific in scoping."
  },
  {
    "id": 21029,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "HeadOutlet",
    "content": "How can you dynamically modify the HTML `<head>` (e.g., page title) in Blazor?",
    "explanation": "Use the `<PageTitle>` and `<HeadContent>` components. They project content into the HTML `<head>`, allowing dynamic SEO tags per page."
  },
  {
    "id": 21030,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "DOM Manipulation",
    "content": "Why is direct DOM manipulation via JavaScript dangerous in a Blazor application?",
    "explanation": "Blazor maintains a Virtual DOM (RenderTree). If JS modifies the real DOM, Blazor loses sync and crashes on the next diff. Only modify elements that Blazor explicitly ignores (via `capture` or empty elements)."
  },
  {
    "id": 21031,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "One-Way vs Two-Way Binding",
    "content": "What is the difference between one-way binding (`value`) and two-way binding (`@bind`)?",
    "explanation": "One-way (`value`) renders the value but doesn't update C# on change. Two-way (`@bind`) listens for the `onchange` event and updates the variable. @bind is syntax sugar for `value` + `ValueChanged`."
  },
  {
    "id": 21032,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "AuthenticationStateProvider",
    "content": "What is the role of `AuthenticationStateProvider` in Blazor security?",
    "explanation": "Implement `AuthenticationStateProvider`. `GetAuthenticationStateAsync` returns the ClaimsPrincipal. Blazor uses this to toggle `<AuthorizeView>` content."
  },
  {
    "id": 21033,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Blazor Hybrid (MAUI)",
    "content": "Does Blazor Hybrid run WebAssembly?",
    "explanation": "No. It runs in the native .NET runtime (Android/iOS/Windows). It renders into a WebView but logic runs on the device CPU, not WASM. Faster performance and full native device access."
  },
  {
    "id": 21034,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "AOT Compilation (WASM)",
    "content": "When should you enable AOT (Ahead-of-Time) compilation for Blazor WASM?",
    "explanation": "Enable **AOT (Ahead-of-Time)** compilation. Compiles C# to native WASM instead of interpreted IL. Performance improves 5x-10x, but download size doubles. Use for heavy math/crypto."
  },
  {
    "id": 21035,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Parameter CaptureUnmatchedValues",
    "content": "How does `CaptureUnmatchedValues` allow passing arbitrary attributes to a Blazor component?",
    "explanation": "Use `[Parameter(CaptureUnmatchedValues = true)] Dictionary<string, object> Attrs`. Then `@attributes=\"Attrs\"` on the element. Allows flexibility for UI libraries."
  },
  {
    "id": 21036,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Debouncing Input",
    "content": "Why should you implement Debouncing on search inputs?",
    "explanation": "Use a Timer or a Debounce logic. Wait for the user to stop typing for 300ms before firing the API call. Prevents spamming the server."
  },
  {
    "id": 21037,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Component vs Element Reference",
    "content": "What is the difference between capturing an `ElementReference` vs a Component Reference using `@ref`?",
    "explanation": "On `<div>`, `@ref` gives `ElementReference` (handle for JS Interop). On `<MyComponent>`, it gives the C# instance, allowing you to call public methods `myComp.Refresh()`."
  },
  {
    "id": 21038,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Global Error Handling",
    "content": "How are unhandled exceptions handled differently in Blazor Server vs WASM?",
    "explanation": "In .NET 6+, verify the Logger configuration. Unhandled exceptions in SignalR circuit usually kill the circuit. In WASM, they log to Console. Consider sending them to App Insights."
  },
  {
    "id": 21039,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Pre-Rendering State Persistence",
    "content": "How does `<PersistComponentState>` prevent UI flashing during Blazor Prerendering?",
    "explanation": "Use `<PersistComponentState>`. Serialize the data fetched during Prerendering into the page HTML. When Interactive mode starts, deserialize it instead of fetching again. Stops the 'flicker'."
  },
  {
    "id": 21040,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "CircuitHandler",
    "content": "How can you use `CircuitHandler` to track active users in Blazor Server?",
    "explanation": "Inherit `CircuitHandler`. Override `OnCircuitOpened` and `OnCircuitClosed`. Use this to count connected users or clean up resources associated with the connection."
  },
  {
    "id": 21041,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Url Helper",
    "content": "How do you navigate between pages programmatically in Blazor?",
    "explanation": "Inject `NavigationManager`. Call `.NavigateTo(\"/home\")`. Use `.ToAbsoluteUri()` for constructing absolute URLs."
  },
  {
    "id": 21042,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "ValidationValidator",
    "content": "How does `<DataAnnotationsValidator>` work with `<EditForm>` in Blazor?",
    "explanation": "`<EditForm Model=\"@user\"> <DataAnnotationsValidator /> ...`. Automatically validates properties based on `[Required]`, `[EmailAddress]` attributes. Standard .NET validation."
  },
  {
    "id": 21043,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Hot Reload",
    "content": "Does .NET Hot Reload preserve application state during updates?",
    "explanation": "Yes, for most changes (CSS, Method bodies). It patches the IL/CSS without refreshing the page. Some changes (Lambda structure, Class layout) require a rude edit (Restart)."
  },
  {
    "id": 21044,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Custom Elements",
    "content": "How can you use Blazor components inside a React or Angular application?",
    "explanation": "Use **Microsoft.AspNetCore.Components.CustomElements**. Registers Blazor components as standard HTML Web Components (`<my-blazor-counter>`). React/Angular can use them like native tags."
  },
  {
    "id": 21045,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Antiforgery Token",
    "content": "How does Blazor handle Antiforgery Tokens for forms?",
    "explanation": ".NET 8 adds automatic Antiforgery support. `<EditForm>` generates a hidden token. Middleware validates it. Prevents CSRF attacks on form posts."
  },
  {
    "id": 21046,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "QuickGrid",
    "content": "What is the `QuickGrid` component in Blazor?",
    "explanation": "A built-in, lightweight component optimized for performance. Supports virtualization, sorting, paging without the bloat of 3rd party UI libraries."
  },
  {
    "id": 21047,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "SASS/SCSS",
    "content": "Does Blazor natively support SASS/SCSS compilation?",
    "explanation": "Blazor does not compile SCSS natively. Use a build tool (WebCompiler, NPM, or specific Nuget packages) to compile SCSS to CSS during the build process."
  },
  {
    "id": 21048,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "SetParametersAsync",
    "content": "Why might you override `SetParametersAsync` in a Blazor component for performance?",
    "explanation": "**(Advanced).** For extreme optimization. You can bypass the default parameter reflection logic. `base.SetParametersAsync` sets properties. If you handle dictionary manually, you save CPU cycles."
  },
  {
    "id": 21049,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "DynamicComponent",
    "content": "How does `<DynamicComponent>` allow rendering components known only at runtime?",
    "explanation": "`<DynamicComponent Type=\"@myType\" Parameters=\"@myParams\" />`. Useful for CMS-like applications where page layout is defined in a database."
  },
  {
    "id": 21050,
    "category": "Blazor & Frontend",
    "difficulty": "Senior",
    "title": "Compression (Brotli)",
    "content": "Why is enabling Brotli compression important for Blazor WASM applications?",
    "explanation": "Ensure your host (IIS/Nginx/Azure) serves the `.br` (Brotli) compressed versions of the DLLs. It massively reduces the download size compared to raw DLLs."
  }
  ,
  {
    "id": 22001,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "ApplicationService vs DomainService",
    "content": "What is the difference between Application Services and Domain Services in ABP.io?",
    "explanation": "**Domain Services** handle core business rules and cross-entity logic (e.g., \"Can we issue this policy?\"). **Application Services** are entry points (DTOs in, DTOs out) that orchestrate Domain Services and Repositories. Don't put core logic in AppServices."
  },
  {
    "id": 22002,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "UnitOfWork Attribute",
    "content": "Is the `[UnitOfWork]` attribute required on ABP Application Service methods?",
    "explanation": "**(Redundant).** By default, ABP intercepts all **Application Service** methods and starts a Unit of Work (Transaction) automatically. You only need the attribute if you want to *disable* it or change isolation levels/timeouts."
  },
  {
    "id": 22003,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "IRepository vs IQueryable",
    "content": "Why is injecting `IQueryable<T>` into Application Services considered an anti-pattern in ABP?",
    "explanation": "**(Abstraction Violation).** `IRepository` protects the data access. Injecting `IQueryable` leaks EF Core abstraction to the layer above. In ABP, use `await repo.GetQueryableAsync()` to safely access LINQ features within the Unit of Work scope."
  },
  {
    "id": 22004,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Multi-Tenancy Data Filter",
    "content": "How does ABP prevent Tenant A from seeing Tenant B's data?",
    "explanation": "**Data Filters** (`IMultiTenant`). ABP automatically appends `WHERE TenantId = CurrentTenantId` to all EF Core queries. You must explicitly use `using (DataFilter.Disable<IMultiTenant>())` to see cross-tenant data."
  },
  {
    "id": 22005,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Dynamic API Controllers",
    "content": "How does ABP's Dynamic API Controllers feature reduce boilerplate?",
    "explanation": "**(ABP Magic).** No. ABP can **Auto-API Controller** your AppServices. It creates REST endpoints (`/api/app/user/create`) automatically based on the service interface methods. Saves massive boilerplate."
  },
  {
    "id": 22006,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "DTO Mapping",
    "content": "Why is using `ObjectMapper` preferred over manual DTO mapping in ABP?",
    "explanation": "Use `ObjectMapper.Map<UserDto>(user)`. ABP integrates AutoMapper (or Mapster). Defining mappings in the `AutoMapperProfile` keeps App Services clean of `new Dto { ... }` code."
  },
  {
    "id": 22007,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "CurrentTenant Service",
    "content": "How to get the Tenant ID in a service?",
    "explanation": "Inject `ICurrentTenant`. Access `.Id`. It automatically resolves the tenant from the HTTP Header, Cookie, or Hostname depending on configuration."
  },
  {
    "id": 22008,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Soft Delete",
    "content": "How does ABP handle deletion for entities implementing `ISoftDelete`?",
    "explanation": "When you call `repo.DeleteAsync()`, ABP checks if it implements `ISoftDelete`. If so, it sets `IsDeleted = true` instead of physical deletion. Data Filters hide these rows from future queries."
  },
  {
    "id": 22009,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Audit Logging",
    "content": "How does ABP automate auditing properties like `CreatorId` and `CreationTime`?",
    "explanation": "No. Implement `IAuditedObject`. ABP automatically fills `CreatorId`, `CreationTime`, `LastModifierId`, `LastModificationTime` during `SaveChanges`. Don't set these manually."
  },
  {
    "id": 22010,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "DependsOn Attribute",
    "content": "What is the purpose of the `[DependsOn]` attribute in ABP modules?",
    "explanation": "The `[DependsOn(typeof(OtherModule))]` attribute on your Module class. It ensures `OtherModule`'s `ConfigureServices` and `OnApplicationInitialization` run before yours. This builds a dependency graph."
  },
  {
    "id": 22011,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Authorization System",
    "content": "How does ABP's Permission system differ from standard ASP.NET Core `[Authorize]` policies?",
    "explanation": "Use `[Authorize(MyPermissions.UserCreate)]`. ABP's permission system is dynamic (stored in DB/Redis). Standard ASP.NET Core Policies are usually static code. ABP allows Admin UI to grant/revoke permissions at runtime."
  },
  {
    "id": 22012,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Settings Management",
    "content": "When should you use ABP's `ISettingProvider` versus standard `IConfiguration`?",
    "explanation": "`IConfiguration` is for static app settings (JSON/Env). `ISettingProvider` is for **User/Tenant configurable** settings (stored in DB). Use Settings for \"Allow Dark Mode\" or \"Password Complexity\"."
  },
  {
    "id": 22013,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Background Jobs",
    "content": "How does ABP's Background Job system ensure reliable task execution?",
    "explanation": "Inject `IBackgroundJobManager` and `EnqueueAsync<MyJobArgs>`. ABP stores the job in the DB (Persistent). A background worker picks it up and executes `MyJob`. Retries on failure."
  },
  {
    "id": 22014,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Guid Generation",
    "content": "Why should you use `IGuidGenerator` instead of `Guid.NewGuid()` in distributed systems?",
    "explanation": "Use `IGuidGenerator.Create()`. It creates **Sequential GUIDs** (CombGuid) which are optimized for SQL Server Clustered Indexes (prevents fragmentation). `Guid.NewGuid()` creates random ones."
  },
  {
    "id": 22015,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Local Event Bus",
    "content": "How can `ILocalEventBus` decouple User Creation from Email Sending within the same process?",
    "explanation": "Inject `ILocalEventBus`. Publish `UserCreatedEto`. Create a handler `UserCreatedHandler : ILocalEventHandler`. Logic stays separated but runs in the same transaction scope."
  },
  {
    "id": 22016,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Validation Logic",
    "content": "Why are manual null checks (`if (input == null)`) often redundant in ABP Application Services?",
    "explanation": "ABP automatically validates DTOs (Data Annotations) and FluentValidation *before* the method runs. It throws `AbpValidationException` (HTTP 400). Null checks are usually redundant."
  },
  {
    "id": 22017,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Feature Management",
    "content": "What is the difference between a Permission and a Feature in ABP.io?",
    "explanation": "**Permission**: Can *this user* do X? **Feature**: Does *this tenant* have access to X (e.g., Gold Plan)? Features are used to gate functionality based on pricing tiers."
  },
  {
    "id": 22018,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Virtual File System",
    "content": "How does the Virtual File System allow serving JS/CSS resources from embedded DLLs?",
    "explanation": "ABP's **Virtual File System** allows embedded resources in Assemblies (Modules) to be served as if they were physical files in `wwwroot`. Essential for creating reusable UI modules."
  },
  {
    "id": 22019,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Distributed Locking",
    "content": "How does `IAbpDistributedLock` ensure work synchronization across a cluster?",
    "explanation": "`IAbpDistributedLock`. It wraps Redis/ZooKeeper locks. Use it to ensure a scheduled job runs on only one node at a time."
  },
  {
    "id": 22020,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Blob Storing",
    "content": "How does ABP's Blob Storing system allow switching between storage providers (Disk vs S3)?",
    "explanation": "Use `IBlobContainer`. ABP abstracts the storage provider. You can switch between FileSystem, Azure Blob, or AWS S3 just by changing configuration, without changing code."
  },
  {
    "id": 22021,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Dynamic Proxies (Client)",
    "content": "How do ABP's Dynamic Client Proxies simplify API calls from Angular/Blazor?",
    "explanation": "ABP generates **Client Proxies**. In C#, you inject `IUserAppService` and call methods like local C#. ABP intercepts the call and sends the HTTP request. In JS, it generates `userService.create()` wrappers."
  },
  {
    "id": 22022,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Entity Extension System",
    "content": "How can you add new properties to pre-built ABP entities (like `IdentityUser`) without modifying the source code?",
    "explanation": "Use `ObjectExtensionManager`. You can add new properties to existing ABP modules (like Identity) at runtime. ABP handles mapping them to the DB (JSON or extra columns) and showing them in the UI."
  },
  {
    "id": 22023,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Concurrency Check",
    "content": "How does `IHasConcurrencyStamp` enable Optimistic Concurrency Control in ABP?",
    "explanation": "Implements Optimistic Concurrency. ABP manages a `ConcurrencyStamp` (GUID). If you try to update a row where the Stamp has changed since you read it, ABP throws `AbpDbConcurrencyException`."
  },
  {
    "id": 22024,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Seed Data",
    "content": "What is the purpose of `IDataSeedContributor` in ABP migration?",
    "explanation": "Implement `IDataSeedContributor`. It runs automatically during migration execution (`DbMigrator`). Use it to populate initial roles, admin users, or lookup data."
  },
  {
    "id": 22025,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Repository GetAsync vs FindAsync",
    "content": "What is the difference between `GetAsync` and `FindAsync` in ABP Repositories?",
    "explanation": "`GetAsync` throws `EntityNotFoundException` (HTTP 404) if not found. `FindAsync` returns null. Use `GetAsync` when the entity *must* exist for the logic to continue."
  },
  {
    "id": 22026,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Text Templating",
    "content": "How does ABP's Text Templating system simplify email content generation?",
    "explanation": "Use `ITemplateDefinitionProvider` and Virtual File System. You define templates (`.tpl`), ABP parses them (Scriban engine), localizes them, and renders the HTML for emails."
  },
  {
    "id": 22027,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Exception Handling",
    "content": "Why should you throw `BusinessException` instead of returning manual `BadRequestObjectResult` in ABP?",
    "explanation": "Throw a `BusinessException` (or `UserFriendlyException`). ABP middleware catches it, logs it (if needed), and formats a standard error JSON response automatically."
  },
  {
    "id": 22028,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Caching Attribute",
    "content": "Does ABP provide a default `[Cache]` attribute for caching method results?",
    "explanation": "ABP doesn't have a default `[Cache]` attribute for methods (unlike some libs). You should inject `IDistributedCache<T>` and use `GetOrAddAsync`. This provides better control over cache keys and serialization."
  },
  {
    "id": 22029,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "ExtraProperties",
    "content": "What is `HasExtraProperties`?",
    "explanation": "Allows adding dynamic Key-Value pairs to an Entity without changing the DB schema. stored as a JSON string in the `ExtraProperties` column. Useful for extensibility."
  },
  {
    "id": 22030,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Clock.Now",
    "content": "Why should you use `IClock` instead of `DateTime.Now` in ABP applications?",
    "explanation": "Use `IClock` (or `Clock.Now`). ABP normalizes dates (UTC vs Local) based on the current tenant or user's Timezone settings."
  },
  {
    "id": 22031,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Modularity: Shared vs Domain",
    "content": "Why should Enums and Constants be placed in the **Domain.Shared** project?",
    "explanation": "**Domain.Shared** project. This project contains constants, enums, and localization resources. It is referenced by both the Domain (Backend) and the Client (Blazor/Angular) so they share contracts."
  },
  {
    "id": 22032,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Email Sending",
    "content": "Why is it better to inject `IEmailSender` rather than `SmtpClient` directly?",
    "explanation": "Inject `IEmailSender`. ABP abstracts the provider (SMTP, SendGrid, MailKit). It allows you to switch providers via configuration and handles background queuing if configured."
  },
  {
    "id": 22033,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Distributed Event Bus",
    "content": "How does the `DistributedEventBus` facilitate RabbitMQ integration in ABP?",
    "explanation": "Inject `IDistributedEventBus`. Publish `UserCreatedEto`. ABP wraps the event in a standard envelope and pushes to RabbitMQ/Kafka. Consumers implement `IDistributedEventHandler`."
  },
  {
    "id": 22034,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "IdentityProxy",
    "content": "Why is separating Identity Server from the API Layer beneficial in tiered applications?",
    "explanation": "In tiered apps, the API doesn't verify passwords. It trusts the **IdentityServer** (Auth Server). The API validates the JWT access token. This separates Auth concerns from Business Logic."
  },
  {
    "id": 22035,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "CrudAppService",
    "content": "How does inheriting from `CrudAppService` accelerate API development in ABP?",
    "explanation": "Inherit from `CrudAppService<Entity, Dto, Key>`. It auto-implements Get, GetList, Create, Update, Delete methods. You just override the specific ones you need to customize logic."
  },
  {
    "id": 22036,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Localization",
    "content": "How does the `L[\"Key\"]` localization system work in ABP?",
    "explanation": "ABP's Localization system loads resources from JSON files in the Domain.Shared project. It supports inheritance (inheriting strings from Base modules) and extending existing resources."
  },
  {
    "id": 22037,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Host vs Tenant Side",
    "content": "In a Multi-Tenant environment, what is the role of the 'Host' versus the 'Tenant'?",
    "explanation": "In Multi-tenancy, the **Host** is the owner of the SaaS. They manage Tenants, Editions, and System settings. The **Tenant** is the customer. Data isolation logic separates Host data from Tenant data."
  },
  {
    "id": 22038,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Entity Change Tracking",
    "content": "Does ABP automatically log property changes?",
    "explanation": "Yes, if you configure **Entity Change History**. It serializes the 'Old Value' and 'New Value' of changed properties into `AbpEntityPropertyChanges` table during audit logging."
  },
  {
    "id": 22039,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Unit Testing Base Classes",
    "content": "What are the benefits of inheriting from `AbpIntegratedTest<T>` for integration testing?",
    "explanation": "ABP provides base test classes that spin up an **In-Memory SQLite** database and initialize the full IoC container. It allows writing integration tests that feel like unit tests."
  },
  {
    "id": 22040,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Correlation ID",
    "content": "Does ABP support distributed tracing?",
    "explanation": "Yes. It automatically propagates `X-Correlation-Id` across HTTP calls and Distributed Events, linking logs across microservices."
  },
  {
    "id": 22041,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Swagger Integration",
    "content": "How can you hide specific ABP Application Service endpoints from Swagger using `[RemoteService]`?",
    "explanation": "Use `[RemoteService(IsEnabled = false)]`. This hides the AppService from the Auto-API controller generation and Swagger UI, making it internal only."
  },
  {
    "id": 22042,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Conventional Registrars",
    "content": "How does ABP's Conventional Registration eliminate the need for manual `services.AddTransient` calls?",
    "explanation": "ABP uses **Conventional Registration**. Any class implementing `ITransientDependency`, `ISingletonDependency` (or ending in `Manager`/`Service`) is automatically registered in DI."
  },
  {
    "id": 22043,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Object Validation",
    "content": "When should you implement the `IValidationEnabled` interface?",
    "explanation": "If a non-AppService class needs automatic validation, implement this interface. ABP's interceptors will trigger FluentValidation/DataAnnotation checks on method entry."
  },
  {
    "id": 22044,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Timing: Unspecified Dates",
    "content": "Why does saving `DateTime.Now` (Unspecified Kind) to Postgres cause issues?",
    "explanation": "Postgres requires UTC. If you send Unspecified kind, it fails or assumes local. Configure ABP to force UTC normalization globally using `AbpClockOptions`."
  },
  {
    "id": 22045,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Hybrid Multi-Tenancy",
    "content": "What is Hybrid Multi-Tenancy and how does ABP support it?",
    "explanation": "Yes. The `AbpTenantConnectionStrings` table defines the connection string per tenant. If null, they use the default (Shared) DB. If set, they get a dedicated DB."
  },
  {
    "id": 22046,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "UOW Transaction Scope",
    "content": "Does UOW use `TransactionScope` by default?",
    "explanation": "Yes. It uses `TransactionScopeAsyncFlowOption.Enabled`. This allows transactions to span multiple DB calls. Be careful with timeouts and distributed transaction limitations."
  },
  {
    "id": 22047,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "External Login",
    "content": "How do you configure External Login providers (like Google) in ABP?",
    "explanation": "ABP Identity module supports OAuth providers. Just configure `context.Services.AddAuthentication().AddGoogle(...)`. The Identity module handles the user creation and linking logic."
  },
  {
    "id": 22048,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Linked Accounts",
    "content": "What is the 'Linked Accounts' feature in ABP Identity?",
    "explanation": "ABP Identity supports **User Linkage**. You can link 'AdminUser' and 'PersonalUser'. The UI allows switching (Impersonation) between them without re-login."
  },
  {
    "id": 22049,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "Dynamic Forms",
    "content": "How does the ABP Dynamic Forms module allow building forms from JSON schemas?",
    "explanation": "ABP's **Dynamic Forms** module allows defining forms in the backend and rendering them in the UI. Useful for configurable workflows (e.g., surveys)."
  },
  {
    "id": 22050,
    "category": "ABP.io Framework",
    "difficulty": "Senior",
    "title": "AbpCommercial vs Open Source",
    "content": "What are the main differences between AbpCommercial and the Open Source ABP Framework?",
    "explanation": "Open Source contains the Framework core. Commercial adds pre-built **Pro Modules** (SaaS, File Management, Chat, Payment) and professional UI Themes (LeptonX). Code structure is identical."
  }
  ,
  {
    "id": 23001,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Mock vs Stub vs Fake",
    "content": "What is the difference between a Mock and a Stub?",
    "explanation": "A **Stub** provides canned answers to calls made during the test (State verification). A **Mock** allows you to verify *behavior* (e.g., \"Was this method called exactly once?\"). A **Fake** is a working implementation (e.g., In-Memory DB) used as a shortcut."
  },
  {
    "id": 23002,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Implementation Details",
    "content": "Why is testing private methods directly considered an anti-pattern?",
    "explanation": "**(Anti-Pattern).** Never test private methods directly. It makes tests **Brittle**. If you refactor the internal implementation (but keep the output same), the test fails. Test only the **Public Interface** (Behavior). If private logic is complex, move it to a helper class and test that."
  },
  {
    "id": 23003,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "WebApplicationFactory",
    "content": "How to run Integration Tests in .NET Core without deploying?",
    "explanation": "Use `WebApplicationFactory<Program>`. It spins up the entire API pipeline in-memory (TestServer). You can use `HttpClient` to call your controllers. It's fast and isolates the network stack."
  },
  {
    "id": 23004,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "TestContainers",
    "content": "Why is using TestContainers preferred over mocking EF Core DbContext for integration tests?",
    "explanation": "**(TestContainers).** Mocking DbContext is dangerous (LINQ behaves differently). `TestContainers` spins up a **Real** Docker container (SQL Server/Postgres) for the test duration. It guarantees 100% compatibility with production SQL."
  },
  {
    "id": 23005,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "xUnit vs NUnit Lifecycle",
    "content": "Does xUnit reuse the Test Class instance?",
    "explanation": "**(Isolation).** Partitioning. xUnit creates a **New Instance** of the Test Class for *every single test method*. This ensures total isolation (fields are not shared). Use the **Constructor** for `Setup` and implement `IDisposable` for `Teardown`."
  },
  {
    "id": 23006,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Deterministic Tests",
    "content": "What are common causes of Deterministic/Flaky tests and how can they be fixed?",
    "explanation": "**(Flaky Test).** Non-deterministic behavior. Common causes: relying on `DateTime.Now`, random numbers, or Race Conditions. **Fix:** Use `IDateTimeProvider` to mock time, and ensure tests don't depend on execution order."
  },
  {
    "id": 23007,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Code Coverage Target",
    "content": "Why can aiming for 100% Code Coverage be a vanity metric?",
    "explanation": "**(Vanity Metric).** High coverage looks good but doesn't guarantee quality. You can have 100% coverage with no Assertions. Focus on **Branch Coverage** for complex Logic/Domain, and ignore getters/setters/DTOs. 80% is a reasonable pragmatic target."
  },
  {
    "id": 23008,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "TDD (Test Driven Development)",
    "content": "What are the three steps in the TDD (Test Driven Development) Red-Green-Refactor loop?",
    "explanation": "1. **Red**: Write a failing test (API design). 2. **Green**: Write just enough code to pass. 3. **Refactor**: Clean up the code while keeping the test green. Ensures testability and simpler design."
  },
  {
    "id": 23009,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Snapshot Testing",
    "content": "How does Snapshot Testing verify that large JSON responses haven't changed?",
    "explanation": "Use libraries like `Verify` or `Snapshooter`. It saves the expected JSON output to a file. The test compares the new output to the file. Great for detecting accidental API contract changes."
  },
  {
    "id": 23010,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Mocking IHttpClientFactory",
    "content": "What is the correct way to mock `HttpClient` calls in unit tests?",
    "explanation": "Do not mock `HttpClient` directly (it has no interface). Instead, mock the `HttpMessageHandler` inside it. Use libraries like `RichardSzalay.MockHttp` to define expected requests and canned responses."
  },
  {
    "id": 23011,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Property-Based Testing",
    "content": "What is Property-Based Testing and how does it differ from example-based testing?",
    "explanation": "Use **FsCheck** or **Hedgehog**. Instead of hardcoded values, you define properties: \"For *any* two integers, `Add(x, y)` should equal `Add(y, x)`\". The framework runs 100 random inputs to find edge cases."
  },
  {
    "id": 23012,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Fixture Teardown",
    "content": "How do you ensure Database Fixture Cleanup after integration tests?",
    "explanation": "Use `IClassFixture` (xUnit) or `[OneTimeTearDown]` (NUnit). Wrap tests in a **Transaction** and Rollback at the end (`Respawn` library is also popular for resetting DB state efficiently)."
  },
  {
    "id": 23013,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Strict Mocks",
    "content": "What are the pros and cons of using `MockBehavior.Strict`?",
    "explanation": "**(With Caution).** Strict mocks throw an exception if *any* method is called that wasn't explicitly set up. It ensures you know exactly what your code touches, but makes tests brittle to minor changes."
  },
  {
    "id": 23014,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Async void",
    "content": "Why should you avoid `async void` in Unit Tests?",
    "explanation": "**(Crash Risk).** `async void` cannot be awaited. Exceptions thrown inside it will crash the entire Test Runner process silently. **Rule:** Always return `async Task`. Use `async void` *only* for top-level UI event handlers (WPF/WinForms)."
  },
  {
    "id": 23015,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Breathing Tests / Smoke Tests",
    "content": "What is a Smoke Test?",
    "explanation": "A quick set of tests run after deployment to Production (or Staging). \"Does the home page load? Can I login?\". If these fail, Rollback immediately. It verifies configuration, not just code logic."
  },
  {
    "id": 23016,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "London vs Chicago School TDD",
    "content": "What is the difference between London (Mockist) and Chicago (Classic) schools of TDD?",
    "explanation": "**(Chicago).** **London (Mockist)**: Mock all dependencies, test only the SUT. **Chicago (Classic)**: Use real classes for dependencies, mock only external I/O (DB, API). Chicago leads to more robust, refactor-friendly tests."
  },
  {
    "id": 23017,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Integration Test Scope",
    "content": "Why is mocking the Database in Integration Tests considered an Anti-Pattern?",
    "explanation": "**(Anti-Pattern).** Mocking the DB hides the most common bugs: Constraint violations, Transaction issues, and EF Core mapping errors. Use **TestContainers** to spin up a real, disposable SQL instance. Only mock unstable 3rd party APIs (e.g., Stripe)."
  },
  {
    "id": 23018,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Mutant Testing",
    "content": "What is Stryker.NET?",
    "explanation": "A **Mutation Testing** tool. It changes your source code (e.g., changes `+` to `-`, or `if(a)` to `if(!a)`) and runs your tests. If your tests still PASS, the mutant survived (meaning your tests are weak/missing assertions)."
  },
  {
    "id": 23019,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Seed Data for Tests",
    "content": "Why is using the Object Mother or Builder pattern preferred over massive migration scripts for test seeding?",
    "explanation": "Slow and brittle. Use the **Object Mother** or **Builder Pattern** (`UserBuilder.WithRole(\"Admin\").Build()`) to construct specific scenarios in C# for each test case."
  },
  {
    "id": 23020,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Theory vs Fact (xUnit)",
    "content": "What is the purpose of the `[Theory]` attribute in xUnit?",
    "explanation": "Use `[Theory]` for **Data-Driven Tests**. You can pass multiple inputs (`[InlineData(1, 2)]`, `[InlineData(5, 6)]`) to the same test method. Reduces code duplication."
  },
  {
    "id": 23021,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "InternalsVisibleTo",
    "content": "How can you test `internal` classes using `InternalsVisibleTo`?",
    "explanation": "Add `[assembly: InternalsVisibleTo(\"MyProject.Tests\")]` in the source project. Allows the test project to see and test internal logic without making it public."
  },
  {
    "id": 23022,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Contract Testing (Pact)",
    "content": "What is Contract Testing (Pact) and how does it verify Microservice communication?",
    "explanation": "**Consumer-Driven Contracts**. The Consumer defines expectations (Pact). The Provider runs these expectations during CI. Ensures that Provider API changes don't break Consumers."
  },
  {
    "id": 23023,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Over-Mocking",
    "content": "Why is mocking DTOs or Value Objects considered 'Over-Mocking'?",
    "explanation": "Never mock data structures. Just `new` them up. Mocking simple objects adds complexity and hides bugs in the object's own logic (e.g., constructor validation)."
  },
  {
    "id": 23024,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Test Parallelization",
    "content": "What are the risks of running parallel integration tests against a single Database?",
    "explanation": "Race conditions. Test A deletes data Test B is reading. Options: 1. Disable parallelization. 2. Use Transactions (Rollback). 3. Create a unique DB schema per test (slow). 4. Use Docker containers per test class."
  },
  {
    "id": 23025,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Naming Conventions",
    "content": "Why is a descriptive naming convention (like `UnitOfWork_State_Behavior`) important for tests?",
    "explanation": "Naming matters. Use **UnitOfWork_StateUnderTest_ExpectedBehavior**. When a test fails in CI, the name should tell you exactly what went wrong without looking at the code."
  },
  {
    "id": 23026,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Assert Multiple",
    "content": "How does `Assert.Multiple` (or FluentAssertions scopes) improve test failure diagnosis?",
    "explanation": "Use `Assert.Multiple(() => { ... })` (NUnit) or `FluentAssertions` scopes. It runs *all* assertions and reports *all* failures. Helps diagnose the full state of the object."
  },
  {
    "id": 23027,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Logging",
    "content": "Should you verify `logger.LogInformation` was called?",
    "explanation": "**(Conditional).** Only if logging is a **Business Requirement** (Audit logs). Otherwise, it's an implementation detail. Refactoring log messages shouldn't break tests."
  },
  {
    "id": 23028,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "AutoFixture",
    "content": "How does AutoFixture reduce 'Setup Phase Noise' in unit tests?",
    "explanation": "It generates \"Anonymous Variables\" (random strings/ints) for test data. It fills properties automatically. Reduces setup phase noise (`var user = fixture.Create<User>()`) and ensures tests don't rely on specific magic strings."
  },
  {
    "id": 23029,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "UI Testing (Playwright/Selenium)",
    "content": "Why should End-to-End (E2E) tests mock the fewest components but be the smallest part of the Testing Pyramid?",
    "explanation": "Use **Playwright** (modern, fast, resilient). It drives the browser. E2E tests are slow and brittle, so have *few* of them (Testing Pyramid cap) covering critical user flows."
  },
  {
    "id": 23030,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Exceptions",
    "content": "Why is `Assert.ThrowsAsync` preferred over `try-catch` blocks for testing exceptions?",
    "explanation": "Use `Assert.ThrowsAsync<MyException>(() => method())`. It clearly signals intent: \"This code MUST fail\". The try-catch block makes it easy to accidentally pass if no exception is thrown."
  },
  {
    "id": 23031,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "WireMock.NET",
    "content": "How does WireMock.NET differ from mocking `HttpClient`?",
    "explanation": "WireMock spins up a real HTTP server in the test process. You configure it to reply with specific JSON when it receives specific requests. Better than mocking HttpClient because it tests the actual HTTP stack/serialization."
  },
  {
    "id": 23032,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Coverlet",
    "content": "How to measure coverage in .NET Core?",
    "explanation": "`dotnet test /p:CollectCoverage=true`. Coverlet is the standard cross-platform coverage tool. Can generate Cobertura/OpenCover reports for CI pipelines (SonarQube)."
  },
  {
    "id": 23033,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Arrange Act Assert (AAA)",
    "content": "What does the AAA (Arrange, Act, Assert) pattern represent in unit testing?",
    "explanation": "Standard pattern. **Arrange**: Setup variables/mocks. **Act**: Execute the method. **Assert**: Verify results. Keep them visually separated."
  },
  {
    "id": 23034,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Authorization",
    "content": "How can you bypass Authentication logic in Integration Tests to test Authorization attributes?",
    "explanation": "Create a `TestAuthHandler` (AuthenticationScheme) that accepts a mock header (e.g., `Authorization: Test user=Admin`). Allows you to test `[Authorize]` attributes and RBAC logic realistically."
  },
  {
    "id": 23035,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "BenchmarkDotNet",
    "content": "Why should you use BenchmarkDotNet instead of `Stopwatch` for performance testing?",
    "explanation": "Don't use `Stopwatch` in Unit Tests (inaccurate). Use **BenchmarkDotNet** in a separate project. It runs warmups, iterations, and statistics to prove if Code A is faster than Code B."
  },
  {
    "id": 23036,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Stress Testing vs Load Testing",
    "content": "What is the difference between Load Testing and Stress Testing?",
    "explanation": "**Load Testing** (k6/JMeter): Can we handle expected traffic (1000 users)? **Stress Testing**: What is the breaking point (10k users)? Finds the bottleneck and recovery behavior."
  },
  {
    "id": 23037,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "ArchUnitNET",
    "content": "How does ArchUnitNET help enforce architectural rules via unit tests?",
    "explanation": "Unit tests for structure. \"Controllers should not depend on Repositories\". \"Classes in Domain should be sealed\". Enforces Clean Architecture rules via code."
  },
  {
    "id": 23038,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Database Fixture",
    "content": "Why is recreating the DB Schema for every test slow and what is the alternative?",
    "explanation": "Too slow. Create the schema **once** (Collection Fixture). For each test, just clear the data (DELETE/TRUNCATE) or run inside a rolled-back Transaction."
  },
  {
    "id": 23039,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Fakes Assembly (Microsoft Fakes)",
    "content": "What is Microsoft Fakes and when should it be used?",
    "explanation": "Microsoft Fakes (Enterprise feature) allows shimming static system methods. However, refactoring code to use `IClock` dependency injection is preferred over shimming for maintainability."
  },
  {
    "id": 23040,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "FluentAssertions",
    "content": "Why is FluentAssertions often preferred over standard Assert methods?",
    "explanation": "FluentAssertions provides better readability and much better error messages (\"Expected object to have property 'Name' with value 'Bob', but found 'Alice'\")."
  },
  {
    "id": 23041,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Extension Methods",
    "content": "How to test `static` extension methods?",
    "explanation": "Just call them as normal static methods. They are pure functions. Easy to test. Input -> Output."
  },
  {
    "id": 23042,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Gherkin / SpecFlow",
    "content": "What is Behavior Driven Development (BDD) and how do Gherkin/SpecFlow facilitate it?",
    "explanation": "\"Given I am a user, When I login, Then I see dashboard\". SpecFlow maps these sentences to C# test methods. Good for aligning with QA/Business requirements."
  },
  {
    "id": 23043,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Code Coverage vs Branch Coverage",
    "content": "What is the difference between Code Coverage and Branch Coverage?",
    "explanation": "Line coverage says 100% if you hit the line. **Branch Coverage** checks if you tested `true/false`, `true/true`, `false/true`. Branch coverage finds hidden bugs in boolean logic."
  },
  {
    "id": 23044,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Obsolete Tests",
    "content": "Why is commenting out failing tests considered technical debt?",
    "explanation": "Never comment out tests. Fix them or Delete them. A commented test is technical debt and gives false confidence."
  },
  {
    "id": 23045,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Mocking Generic Interfaces",
    "content": "How does Moq support mocking generic interfaces?",
    "explanation": "Moq supports matching generic calls. Essential for mocking things like `ILogger<T>` or `IRepository<T>`."
  },
  {
    "id": 23046,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Test Impact Analysis",
    "content": "How does Test Impact Analysis (TIA) optimize CI pipeline duration?",
    "explanation": "Tools (like DotCover) analyze which tests cover the changed code. CI only runs those 50 tests instead of 5000. Speeds up feedback loops drastically."
  },
  {
    "id": 23047,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "In-Memory Test Double",
    "content": "Why might you use an In-Memory Test Double (Fake) instead of a Mock framework?",
    "explanation": "Creating a `FakeUserRepository : IRepository` that uses a List is often faster and cleaner than setting up complex Moq setups for every test method. Reusable fakes > Repetitive Mocks."
  },
  {
    "id": 23048,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Testing Static Constructors",
    "content": "Why should you avoid verifying static constructors in tests?",
    "explanation": "Extremely hard. They run once per AppDomain. Tests share AppDomain. Static state pollution is a major source of flaky tests. Avoid static state."
  },
  {
    "id": 23049,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Approval Tests",
    "content": "How does Approval Testing verify complex outputs like HTML or PDF?",
    "explanation": "Render the PDF/HTML. Compare hash/text against a 'Gold Master' file. If difference, the test fails and opens a diff tool. Human verifies if the change is intentional."
  },
  {
    "id": 23050,
    "category": "Testing",
    "difficulty": "Senior",
    "title": "Shift Left",
    "content": "What does the 'Shift Left' testing strategy entail?",
    "explanation": "**Shift Left**. Test as early as possible (Unit/Integration in PR). Finding a bug in Prod costs 100x more than finding it in VS."
  }
  ,
  {
    "id": 24001,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "CI vs CD",
    "content": "Difference between Continuous Delivery and Continuous Deployment?",
    "explanation": "**Delivery**: Code is automatically built, tested, and ready to release, but requires a *manual approval* button to push to Prod. **Deployment**: Zero human touch. If tests pass, it goes live to customers immediately."
  },
  {
    "id": 24002,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Pull Request Triggers",
    "content": "Why run the pipeline on PR creation?",
    "explanation": "To fail fast. The pipeline runs Unit Tests and Build checks *before* the code merges to main. It prevents 'breaking the build' for everyone else. This is the core of CI."
  },
  {
    "id": 24003,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Build Artifacts",
    "content": "Why is rebuilding build artifacts in the Release pipeline an anti-pattern?",
    "explanation": "**(Immutability).** **Build Once, Deploy Many**. The Build pipeline should produce a signed, versioned Artifact (Docker Image/Nuget). The Release pipeline deploys *that exact artifact* to all environments. Rebuilding introduces variance (e.g., a dependency version changed)."
  },
  {
    "id": 24004,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Infrastructure as Code (IaC)",
    "content": "What is 'ClickOps' and why is Infrastructure as Code (IaC) preferred?",
    "explanation": "ClickOps is unrepeatable and un-auditable. Use **IaC** (Terraform, Bicep, Pulumi). Define infrastructure in Git. The pipeline runs `terraform apply`. This prevents Configuration Drift."
  },
  {
    "id": 24005,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Self-Hosted Agents",
    "content": "When to use Self-Hosted Runners instead of Cloud Runners?",
    "explanation": "1. **Security**: When deployment needs to access internal resources (private DB) inside a VPN without opening firewalls. 2. **Performance**: When you need specialized hardware (GPU) or aggressive caching of huge dependencies."
  },
  {
    "id": 24006,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Semantic Versioning in CI",
    "content": "How can tools like GitVersion automate Semantic Versioning in CI?",
    "explanation": "Use tools like **GitVersion**. It looks at your Git history. If you merged a feature, it bumps Minor (1.2.0). If you merged a fix, it bumps Patch (1.1.1). If you added a breaking change footer, it bumps Major (2.0.0)."
  },
  {
    "id": 24007,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "YAML Pipelines",
    "content": "Why are YAML Pipelines preferred over Classic UI Editors in CI/CD?",
    "explanation": "Use YAML. It versions the pipeline logic alongside the application code. If you revert a commit, you revert the pipeline changes too. UI pipelines are untracked magic."
  },
  {
    "id": 24008,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Secret Management in CI",
    "content": "Why must you never echo secrets in build scripts, even if masked?",
    "explanation": "Logs are saved. If you echo a secret, it is visible to anyone with read access. Most CI systems (GitHub Actions/AzDO) try to mask secrets `***`, but don't rely on it. Never print secrets."
  },
  {
    "id": 24009,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Feature Flags vs Long-Lived Branches",
    "content": "Why does 'Merge Hell' occur and how do Feature Flags prevent it?",
    "explanation": "**Merge Hell**. By the time you merge, the codebase has changed significantly. Use **Trunk-Based Development**. Merge small changes daily behind a **Feature Flag** so they don't affect users but integration happens continuously."
  },
  {
    "id": 24010,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Matrix Strategy",
    "content": "How does a Matrix Build strategy ensure cross-platform compatibility?",
    "explanation": "Use a **Matrix Build**. Define `os: [ubuntu-latest, windows-latest, macos-latest]`. The CI spawns 3 parallel jobs, ensuring cross-platform compatibility efficiently."
  },
  {
    "id": 24011,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Database Migrations in CD",
    "content": "Why is running Database Migrations on application startup risky in production?",
    "explanation": "**(Cluster Risk).** Running migrations on app startup causes race conditions if 5 instances start simultaneously. **Best Practice:** Run migrations in the **CD Pipeline** (using `bundle` mode or `sql-script`) *before* the code deployment step."
  },
  {
    "id": 24012,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Blue/Green Deployment",
    "content": "What is the key requirement for Blue/Green?",
    "explanation": "**Database Compatibility**. Since both Blue (Old) and Green (New) apps run simultaneously against the *same* DB during switchover, DB changes must be non-breaking (e.g., add column = OK, rename column = Break)."
  },
  {
    "id": 24013,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Terraform State",
    "content": "Why should `terraform.tfstate` never be checked into version control?",
    "explanation": "**(Security).** The state file contains plain-text secrets. It also causes locking issues for teams. Store state in a **Remote Backend** (Azure Storage Account/S3) with locking support."
  },
  {
    "id": 24014,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Linting & Static Analysis",
    "content": "At what stage in the CI/CD pipeline should Static Code Analysis (SonarQube) run?",
    "explanation": "In the CI Pipeline, immediately after Build. Fail the pipeline if the **Quality Gate** is missed (e.g., Code Smells > 5, Coverage < 80%). Blocks bad code from entering main."
  },
  {
    "id": 24015,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Cache Dependencies",
    "content": "How does Caching Dependencies improve CI build times?",
    "explanation": "Waste of bandwidth and time. Use **Cache Actions** (GitHub `actions/cache`). Hash the `packages.lock.json`. If unchanged, restore `~/.nuget/packages` from cache instantly."
  },
  {
    "id": 24016,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Immutable Tags",
    "content": "Why shouldn't you deploy the `:latest` Docker tag to production?",
    "explanation": "If you rollback, `latest` might still point to the bad code. Always deploy specific tags: `myapp:1.2.0` or `myapp:sha-a1b2c`. Allows exact identification of what is running."
  },
  {
    "id": 24017,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Service Connection (AzDO)",
    "content": "Why are Service Connections/Managed Identities preferred over storing credentials in pipeline variables?",
    "explanation": "Use **Service Connections** (Azure DevOps) or **OIDC** (GitHub Actions). It allows the pipeline to authenticate with Azure using a managed Service Principal without managing long-lived secrets manually."
  },
  {
    "id": 24018,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Environment Gates",
    "content": "What are Release Gates and how can they prevent risky deployments?",
    "explanation": "Configure **Release Gates**. 1. **Approval**: Team Lead must click 'Approve'. 2. **Time Window**: Only deploy M-Th 9am-4pm. 3. **Quality Gate**: No active P1 bugs."
  },
  {
    "id": 24019,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "GitOps (ArgoCD/Flux)",
    "content": "What is GitOps and how does it manage Kubernetes manifests?",
    "explanation": "Push a change to the `k8s-config` Git repo. The GitOps operator inside the cluster sees the change and syncs the cluster state to match Git. \"Git is the single source of truth\"."
  },
  {
    "id": 24020,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Container Scanning",
    "content": "When to scan for vulnerabilities?",
    "explanation": "In the pipeline (Trivy/Clair). Scan the Docker image layers for known CVEs in the base OS or dependencies. Block the deployment if 'High' severity issues are found."
  },
  {
    "id": 24021,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Variable Groups",
    "content": "How do Variable Groups facilitate configuration sharing across multiple pipelines?",
    "explanation": "Use **Variable Groups** (Library). Define `AzureConnString` once. Link the group to multiple pipelines. Rotating the secret updates all pipelines instantly."
  },
  {
    "id": 24022,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Branch Policies",
    "content": "Why should you enforce Branch Policies (e.g., Pull Requests) on the `main` branch?",
    "explanation": "Enforce **Branch Policies**. Require: 1. A Pull Request. 2. Successful CI Build. 3. At least 1 Reviewer. Protects the golden branch from broken code."
  },
  {
    "id": 24023,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Artifact Retention Policy",
    "content": "Why is implementing an Artifact Retention Policy important?",
    "explanation": "Wastes storage. Set a policy: \"Keep artifacts for 30 days. Keep Release artifacts for 1 year\". Ensures you can rollback recent changes but don't pay for 5-year-old binaries."
  },
  {
    "id": 24024,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Idempotent IaC",
    "content": "What does it mean for Infrastructure as Code (IaC) to be Idempotent?",
    "explanation": "IaC is **Idempotent**. If the resource already exists and matches the config, it does nothing. If it differs, it updates it. You can run the pipeline 100 times safely."
  },
  {
    "id": 24025,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Side-by-Side Versioning",
    "content": "How does Side-by-Side Versioning allow deploying new API versions?",
    "explanation": "Deploy v2 to a new slot/cluster. Route `/v2` traffic there. Keep `/v1` running on the old infrastructure. Decommission v1 only when traffic drops to zero."
  },
  {
    "id": 24026,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Ephemeral Environments",
    "content": "What are Ephemeral Environments (Review Apps)?",
    "explanation": "\"Review Apps\". When PR #123 is opened, CI creates a temp namespace `pr-123` in K8s and deploys the app. QA can test that specific branch live. Destroyed on merge."
  },
  {
    "id": 24027,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Cron Triggers",
    "content": "Why should you use Cron Triggers to run pipelines even when code hasn't changed?",
    "explanation": "Use `schedules:` (Cron) in YAML. Runs the pipeline even if no code changed. Essential for detecting new CVEs in old images or running heavy regression tests."
  },
  {
    "id": 24028,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Path Filters",
    "content": "How do Path Filters optimize CI builds in a Monorepo?",
    "explanation": "Use **Path Filters**. `trigger: paths: include: ['src/Backend/*']`. Pipeline only runs if files in that folder changed. Saves huge build minutes in monorepos."
  },
  {
    "id": 24029,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Manual Intervention",
    "content": "How can Manual Interventions is CD pipelines support User Acceptance Testing?",
    "explanation": "Add a 'Manual Validation' task. The pipeline deploys to Staging, emails the QA team, and Pauses. It waits (up to 30 days) for a human to click 'Resume' before going to Prod."
  },
  {
    "id": 24030,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Drift Detection",
    "content": "What is configuration Drift and how can you detect it?",
    "explanation": "Run `terraform plan` on a schedule. If it reports changes (Diff) that weren't in code, alert the team. Infrastructure Drift undermines IaC reliability."
  },
  {
    "id": 24031,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Smoke Tests in Pipeline",
    "content": "Why are Smoke Tests essential after deployment?",
    "explanation": "After `deploy`, run a step `curl https://my-api/health`. If it doesn't return 200, **Auto-Rollback**. Never assume deployment meant success."
  },
  {
    "id": 24032,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Bicep Modules",
    "content": "How do Modules in IaC (e.g., Bicep/Terraform) promote reusability?",
    "explanation": "Create a **Module** `vm.bicep`. Reuse it. `module web1 'vm.bicep' = { ... }`. Enforces standards (e.g., all VMs must have tags) in one place."
  },
  {
    "id": 24033,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Pre-Release Nuget",
    "content": "How do Pre-Release Nuget packages facilitate internal code sharing?",
    "explanation": "Push to a private Nuget Feed (Azure Artifacts). Use SemVer suffix `1.0.0-beta1`. Consumers can opt-in to pre-release versions to test changes before stable release."
  },
  {
    "id": 24034,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "DORA Metrics",
    "content": "What are the four DORA metrics used to measure DevOps performance?",
    "explanation": "Track **Deployment Frequency**, **Lead Time for Changes**, **Mean Time to Restore**, **Change Failure Rate**. Elite teams deploy multiple times a day with <1h lead time."
  },
  {
    "id": 24035,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Agent Capabilities",
    "content": "How do Agent Demands ensure jobs run on capable agents?",
    "explanation": "Define **Demands** in the pipeline. `demands: PowerShell_7`. The scheduler will only pick agents that have that capability/software installed."
  },
  {
    "id": 24036,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Output Variables",
    "content": "How do you pass data (e.g., IP addresses) between CI/CD pipeline stages using Output Variables?",
    "explanation": "Set pipeline variable: `echo \"##vso[task.setvariable variable=ip;isOutput=true]$IP\"`. Next job reads `$(ip)`. Essential for chaining infrastructure creation and app deployment."
  },
  {
    "id": 24037,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Commit Squashing",
    "content": "Why is Squash Merging preferred for keeping the commit history clean?",
    "explanation": "Use **Squash Merge**. Compresses all PR commits into ONE commit on the main branch. Keeps history clean and revertible. (Bisecting 50 typo commits is painful)."
  },
  {
    "id": 24038,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Configuration Transformation",
    "content": "Why is JSON Variable Substitution preferred over Web.config transforms in .NET Core?",
    "explanation": "Legacy concept. Use **JSON Variable Substitution**. The pipeline replaces values in `appsettings.json` matching the pipeline variable names. No XML transforms needed."
  },
  {
    "id": 24039,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Managed Identity in CI",
    "content": "How does OIDC Federation eliminate the need for storing Client Secrets in CI?",
    "explanation": "Use **OIDC Federation** (GitHub Actions -> Azure). The runner exchanges a JWT token for a temporary access token. No long-lived secrets (Client Secrets) stored in GitHub."
  },
  {
    "id": 24040,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Local Pipeline Testing",
    "content": "How can you test CI pipelines locally to avoid 'commit spam'?",
    "explanation": "Use tools like **act** (runs GitHub Actions locally via Docker) or validate YAML syntax online before pushing. Saves the 'Commit 1', 'Commit 2' spam."
  },
  {
    "id": 24041,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Artifacts vs Cache",
    "content": "Why should you use Artifacts instead of Cache for passing build outputs to deployment?",
    "explanation": "Use **Artifacts** (`publish`). They are durable and meant for deployment. **Cache** is for dependencies (nuget) and is ephemeral/best-effort. Don't rely on cache for the binary you deploy."
  },
  {
    "id": 24042,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Dependabot / Renovate",
    "content": "How do tools like Dependabot or Renovate manage technical debt?",
    "explanation": "Automate it. Bots open PRs when new package versions are available. Combine with auto-merge if CI passes for safe/minor updates. Keeps tech debt low."
  },
  {
    "id": 24043,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Immutable Servers (Cattle vs Pets)",
    "content": "What is the 'Cattle vs Pets' analogy in server management?",
    "explanation": "Treat servers as **Cattle** (replaceable), not **Pets** (nursed to health). If config changes, redeploy the whole VM/Container. SSH should be disabled."
  },
  {
    "id": 24044,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Deployment Rings",
    "content": "How do Deployment Rings reduce the blast radius of a failed deployment?",
    "explanation": "Use **Rings**. Ring 0 (Internal Team), Ring 1 (Early Adopters), Ring 2 (General Public). Deploy sequentially. Stop if Ring 0 reports errors."
  },
  {
    "id": 24045,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Fail Forward",
    "content": "What is a 'Fail Forward' strategy in deployment?",
    "explanation": "If the pipeline is fast (10 mins), **Fail Forward** (Push fix) is often safer than Rollback (which might break DB state). Rollback is for catastrophic failures."
  },
  {
    "id": 24046,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Pipeline Templates",
    "content": "How do Pipeline Templates enforce consistency across multiple repositories?",
    "explanation": "Create a centralized **Template Repo**. Pipelines just `extends: template.yml`. Security/Compliance rules (e.g., 'Must run SonarQube') are enforced centrally in the template."
  },
  {
    "id": 24047,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Mono-repo Build Strategy",
    "content": "How does a customized Build Strategy handle Monorepos efficiently?",
    "explanation": "Use build tools like **Bazel** or **Nx** (or MSBuild traversal). They analyze the dependency graph and only build/test projects affected by the change."
  },
  {
    "id": 24048,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Tagging Git",
    "content": "Why should the CD pipeline tag the Git commit upon successful deployment?",
    "explanation": "The CD pipeline should tag the commit (`prod-v1.2`). This marks the exact state of code currently running in production for future debugging."
  },
  {
    "id": 24049,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Parallel Jobs",
    "content": "Why is running independent jobs (like Unit Tests and Linting) in parallel preferred in CI?",
    "explanation": "Run them in parallel. It reduces the total feedback time. CPU time is cheap; developer wait time is expensive."
  },
  {
    "id": 24050,
    "category": "CI/CD & DevOps",
    "difficulty": "Senior",
    "title": "Database Rollback Strategy",
    "content": "Why is rolling back a `DROP COLUMN` operation difficult and how should you handle it (Expand-Contract)?",
    "explanation": "You can't (easily). Database changes must be **Backwards Compatible** (Expand-Contract pattern). 1. Add new column. 2. Copy data. 3. Update code to write to both. 4. Remove old column in next release. Never destroy data in a rollback-able deployment."
  }
  ,
  {
    "id": 25001,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "The Three Pillars",
    "content": "What are the three pillars of Observability?",
    "explanation": "**Logs** (discrete events), **Metrics** (aggregatable numbers), and **Traces** (request flow across services). You need all three to understand *why* a system is failing, not just *that* it is failing."
  },
  {
    "id": 25002,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Structured Logging",
    "content": "Why is Structured Logging preferred over string concatenation for log messages?",
    "explanation": "This is unstructured text. You cannot easily query \"How many users logged in?\". Use **Structured Logging** (Serilog): `Log.Info(\"User {UserId} logged in\", id)`. It stores the ID as a queryable field in Elastic/Splunk."
  },
  {
    "id": 25003,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "High Cardinality Metrics",
    "content": "What is the 'High Cardinality' problem in metrics systems and why should you avoid using User IDs as labels?",
    "explanation": "**(Critical).** Metrics systems (Prometheus) rely on aggregation. If you have 1 million UserIDs, you create 1 million time-series (High Cardinality). This explodes memory usage and crashes the metrics server. Use **Logs** for high-cardinality data, **Metrics** for low-cardinality (e.g., `StatusCode`, `Region`)."
  },
  {
    "id": 25004,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Head-Based vs Tail-Based Sampling",
    "content": "What is the difference between Head-Based and Tail-Based sampling in distributed tracing?",
    "explanation": "This is **Head-Based Sampling**. It's efficient but might miss interesting errors that happen deep in the stack. **Tail-Based Sampling** decides *after* the request finishes (e.g., \"Keep only errors or slow requests\"), which is better for debugging but requires buffering all traces in memory first."
  },
  {
    "id": 25005,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Push vs Pull Metrics",
    "content": "What is the difference between Push-based (Azure Monitor) and Pull-based (Prometheus) metrics collection?",
    "explanation": "Azure Monitor/Datadog usually use **Push** (Agents send data to cloud). Prometheus uses **Pull** (Scraping): The server hits your app's `/metrics` endpoint every 15s. Pull is better for seeing \"Who is down?\" (scrape fails)."
  },
  {
    "id": 25006,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "W3C Trace Context",
    "content": "What is the purpose of the W3C `traceparent` header in distributed systems?",
    "explanation": "The standard for Distributed Tracing. It allows OpenTelemetry, Dynatrace, and Azure Monitor to understand each other's trace IDs. Always forward this header in HTTP/gRPC calls."
  },
  {
    "id": 25007,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Alert Fatigue",
    "content": "Why does alerting on symptoms (e.g., Error Rate) prevent 'Alert Fatigue' better than alerting on causes (e.g., CPU Spikes)?",
    "explanation": "If an alert fires and you do nothing, it's a bad alert. CPU spikes are normal (GC, startup). Alert on **Symptoms** (High Latency, Error Rate) that affect users, not **Causes** (CPU, RAM) unless they are saturated for a long duration."
  },
  {
    "id": 25008,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Golden Signals (SRE)",
    "content": "What are the 4 Golden Signals?",
    "explanation": "**Latency** (Time taken), **Traffic** (Req/sec), **Errors** (5xx rate), **Saturation** (Queue depth/CPU). These 4 metrics give a complete health picture of any service."
  },
  {
    "id": 25009,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Log Level: Debug vs Info",
    "content": "Why is logging full payload bodies at `Info` level considered a bad practice?",
    "explanation": "`Info` is for general flow (\"Order Placed\"). `Debug` is for diagnostics. Logging bodies in Info fills the disk/quota and leaks PII. Production usually runs at `Info` or `Warning` level."
  },
  {
    "id": 25010,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "OpenTelemetry (OTEL)",
    "content": "How does OpenTelemetry (OTEL) provide Vendor Neutrality compared to proprietary SDKs?",
    "explanation": "**Vendor Neutrality**. OTEL allows you to instrument code once. You can export data to NewRelic today and switch to Jaeger/Prometheus tomorrow just by changing configuration, without rewriting code."
  },
  {
    "id": 25011,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Metric Types: Counter vs Gauge",
    "content": "When should you use a Gauge metric instead of a Counter?",
    "explanation": "A **Counter** only goes up (Total Requests). For values that go up and down (Active Users, Memory Usage, Queue Depth), use a **Gauge**."
  },
  {
    "id": 25012,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Correlation ID",
    "content": "Why should you rely on Correlation IDs (TraceId/SpanId) instead of manually logging random GUIDs?",
    "explanation": "**(Manual).** Obsolete. Use **OpenTelemetry** or `Activity.Current`. If you must use ILogger manually, use `using (logger.BeginScope(...))`. But modern tracing libraries inject `TraceId` and `SpanId` automatically into logs via the MDC (Mapped Diagnostic Context)."
  },
  {
    "id": 25013,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Distributed Tracing Spans",
    "content": "In distributed tracing, what is a 'Span'?",
    "explanation": "A single unit of work (e.g., \"DB Query\" or \"HTTP Request\"). It has a Start Time, End Time, and Metadata. A Trace is a tree of Spans."
  },
  {
    "id": 25014,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Histogram Buckets",
    "content": "Why does Prometheus use Histogram Buckets to measure latency instead of storing every data point?",
    "explanation": "Calculating precise Percentiles (P99) is expensive on massive datasets. Buckets (0.1s, 0.5s, 1s) allow cheap, approximate aggregation across multiple servers."
  },
  {
    "id": 25015,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Semantic Logging",
    "content": "What are the benefits of using `EventSource` (Semantic Logging) over standard `ILogger` in high-performance scenarios?",
    "explanation": "High-performance, strongly typed logging. Used by the runtime itself (GC, Kestrel). Useful if `ILogger` overhead is too high for hot paths."
  },
  {
    "id": 25016,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Async Logging",
    "content": "Why should you use Async Sinks for logging instead of writing explicitly to disk?",
    "explanation": "Disk I/O blocks the request thread. If the disk is slow, the app hangs. Use **Async Sinks** (e.g., Serilog `WriteTo.Async`) which buffer logs in memory and write them in a background thread."
  },
  {
    "id": 25017,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Health Check Endpoint",
    "content": "Why is exposing detailed error information in public Health Check endpoints a security risk?",
    "explanation": "**(Security).** Information Disclosure. Public health checks should return generic `200 OK` or `503 Service Unavailable`. Use `HealthCheckOptions.Predicate` to expose detailed data *only* on internal/authorized ports. Never leak stack traces or connection strings."
  },
  {
    "id": 25018,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Redaction",
    "content": "How can Log Redaction policies prevent PCI Data Security Standard (DSS) violations?",
    "explanation": "Massive PCI violation. Configure **Redaction Policies** in your logging library to automatically mask fields named `CreditCard`, `Password`, or `Token`."
  },
  {
    "id": 25019,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Metric Labels (Dimensions)",
    "content": "How do Metric Labels (Dimensions) enhance data queryability?",
    "explanation": "Allows slicing and dicing. You can query `sum(errors) by (ErrorType)` to see which specific bug is spiking."
  },
  {
    "id": 25020,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Logs vs Traces",
    "content": "Why can't Logs fully replace Distributed Tracing for debugging microservices?",
    "explanation": "Logs tell you *what* happened. Traces tell you *where* and *how long*. Without traces, connecting a log in Service A to a log in Service B (timing analysis) is extremely manual and difficult."
  },
  {
    "id": 25021,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Synthetics",
    "content": "What are Synthetic Transactions?",
    "explanation": "Fake traffic generated by a bot (e.g., Selenium script) that runs every minute: Login -> Search -> Cart. It detects outages *before* real users complain."
  },
  {
    "id": 25022,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Apdex Score",
    "content": "What is the Apdex Score and how does it measure user satisfaction?",
    "explanation": "Application Performance Index. A unified score (0 to 1) measuring user satisfaction based on response time thresholds (Satisfied, Tolerating, Frustrated)."
  },
  {
    "id": 25023,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Sidecar for Logging",
    "content": "How does the Sidecar pattern facilitate logging in Kubernetes?",
    "explanation": "Best practice in Kubernetes. The app shouldn't know about Splunk/Elastic. It just prints to console (stdout). The infrastructure (Sidecar/DaemonSet) handles shipping, buffering, and retries."
  },
  {
    "id": 25024,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Exception Rate Alerting",
    "content": "Why should you alert on Error Rate or Burn Rate instead of a raw Error Count > 0?",
    "explanation": "Too noisy. Distributed systems always have *some* background noise (network blips). Alert on `ErrorRate > 1%` or `ErrorCount > X in Y minutes` (Burn Rate)."
  },
  {
    "id": 25025,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Blackbox vs Whitebox Monitoring",
    "content": "What is the difference between Blackbox and Whitebox monitoring?",
    "explanation": "**Blackbox**: External probing (Ping, Synthetics). \"Is the site up?\". **Whitebox**: Internal telemetry (Logs, Metrics). \"Why is the site slow? Is the DB queue full?\"."
  },
  {
    "id": 25026,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Sampling Rate",
    "content": "How does Log Sampling help manage costs in high-volume applications?",
    "explanation": "Too expensive (storage/bandwidth). Use **Sampling**. Log 100% of errors, but only 1% of successes. This gives statistically significant data without bankruptcy."
  },
  {
    "id": 25027,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Enriching Logs",
    "content": "Why is Log Enrichment (e.g., adding MachineName/Version) notable for distributed systems?",
    "explanation": "Use `Enrich.WithMachineName()` (Serilog). Essential for knowing *which* server or *which* version of the code is throwing errors in a cluster."
  },
  {
    "id": 25028,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Baggage (OpenTelemetry)",
    "content": "How does OpenTelemetry 'Baggage' facilitate context propagation across services?",
    "explanation": "**Baggage** is key-value pairs stored in the Context and sent via Headers. If Service A adds `TenantId=5`, Service D (3 hops away) can read it for logging without explicit parameter passing."
  },
  {
    "id": 25029,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Metrics vs Events",
    "content": "When should you use a Log versus a Metric (Counter) for the same event?",
    "explanation": "Do both. The **Log** contains high-dimensionality detail (OrderId, User, Items) for debugging specific transaction. The **Metric** (Counter) is for dashboards and alerting (Sales per minute)."
  },
  {
    "id": 25030,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Runbooks",
    "content": "Why is linking a Runbook to every alert critical for on-call engineers?",
    "explanation": "Every Alert must have a **Runbook** URL. It tells the on-call engineer: 1. What does this mean? 2. How to verify it? 3. How to mitigate/fix it? 4. Escalation path."
  },
  {
    "id": 25031,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Percentiles (P95, P99)",
    "content": "Why are Percentiles (P95, P99) more useful than Average Response Time for performance analysis?",
    "explanation": "Averages hide outliers. If 99 requests take 1ms and 1 takes 20s, average is ~200ms. But 1 user is furious. Always look at **P95** or **P99** (the experience of the slowest 5% or 1% of users)."
  },
  {
    "id": 25032,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Log Retention Policy",
    "content": "Why is establishing a Log Retention Policy important for compliance and cost?",
    "explanation": "Violates GDPR and costs money. Define retention: Hot Storage (7 days, searchable), Cold Storage (1 year, blob), then Delete."
  },
  {
    "id": 25033,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Distributed Context Propagation",
    "content": "How is Distributed Context Propagated between services in HTTP requests?",
    "explanation": "HTTP Headers (`traceparent`, `b3`). The instrumentation library (OTEL) automatically injects these headers on outbound requests and extracts them on inbound requests."
  },
  {
    "id": 25034,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Profiling in Production",
    "content": "Is it safe to run Profilers (like `dotnet-trace`) in production?",
    "explanation": "Yes, using low-overhead tools like **dotnet-trace** or **PerfView**. You can capture a trace for 30s to diagnose High CPU/Memory Leaks. Don't leave it running continuously."
  },
  {
    "id": 25035,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Exporters",
    "content": "What is an OTEL Exporter?",
    "explanation": "The component that sends the collected telemetry to the backend (Jaeger, Zipkin, Azure Monitor). You can configure multiple exporters (e.g., Console for Dev, OTLP for Prod)."
  },
  {
    "id": 25036,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Auto-Instrumentation",
    "content": "How does Auto-Instrumentation in OpenTelemetry simplify tracing?",
    "explanation": "Use **Auto-Instrumentation**. The OTEL agent injects itself into HttpClient, ASP.NET Core, SQL Client, and gRPC to capture traces automatically without code changes."
  },
  {
    "id": 25037,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Dynamic Log Levels",
    "content": "How do Dynamic Log Levels aid in diagnosing production issues without downtime?",
    "explanation": "Use `IOptionsSnapshot` or App Configuration. You can switch a specific logger (`Microsoft.EntityFrameworkCore`) to `Debug` for 10 minutes to diagnose an issue, then switch back to `Warning`."
  },
  {
    "id": 25038,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "ELK Stack",
    "content": "What are the components of the ELK Stack and what is their purpose?",
    "explanation": "**Elasticsearch** (Search Engine), **Logstash** (Ingestion/Processing), **Kibana** (Visualization UI). Often replaced by EFK (Fluentd) or the TICK stack."
  },
  {
    "id": 25039,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "PromQL",
    "content": "What is PromQL and what is the `rate()` function used for?",
    "explanation": "`rate(http_requests_total[5m])`. Calculates the per-second rate of requests averaged over the last 5 minutes. Essential for dashboards."
  },
  {
    "id": 25040,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Service Map",
    "content": "How do Service Maps derived from traces help in architectural analysis?",
    "explanation": "Derived from Traces. It draws a graph: \"Web -> API -> SQL\". Helps identify architectural coupling and visualize which dependency is the bottleneck."
  },
  {
    "id": 25041,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Business Metrics",
    "content": "Why is monitoring Business Metrics (like Cart Abandonment) just as important as system metrics?",
    "explanation": "Observability isn't just for system health. Business metrics often detect technical issues first (e.g., if Checkout drops to 0, the Payment Gateway is likely broken even if CPU is fine)."
  },
  {
    "id": 25042,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "USE Method",
    "content": "What is the USE (Utilization, Saturation, Errors) Method for resource monitoring?",
    "explanation": "For every resource (CPU, Disk, etc.), check: **Utilization** (Time busy), **Saturation** (Queue length), **Errors**. Systematic way to find bottlenecks."
  },
  {
    "id": 25043,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "RED Method",
    "content": "What is the RED (Rate, Errors, Duration) Method for service monitoring?",
    "explanation": "**Rate** (Traffic), **Errors**, **Duration** (Latency). These are the standard metrics to expose for every API endpoint."
  },
  {
    "id": 25044,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Log Poisoning",
    "content": "What is Log Poisoning (Log Injection) and how can you prevent it?",
    "explanation": "If you log user input raw, they can inject newlines (`\n`) to fake log entries (Log Injection). Sanitize inputs before logging or use structured logging (which treats the value as data, not text)."
  },
  {
    "id": 25045,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Chaos Engineering Monitoring",
    "content": "Why is Observability crucial when conducting Chaos Engineering experiments?",
    "explanation": "You cannot run Chaos (breaking things) without Observability. You need to see *exactly* when the fault was injected and verify if the system metrics recovered automatically."
  },
  {
    "id": 25046,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Application Logs vs Audit Logs Distinction",
    "content": "What is the distinction between Application Logs and Audit Logs?",
    "explanation": "**App Logs**: \"DbConnectionFailed\", \"NullReference\". For Developers. **Audit Logs**: \"User Bob changed Permission X\". For Compliance/Security. Store Audit Logs in immutable storage."
  },
  {
    "id": 25047,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Span Attributes (Tags)",
    "content": "How do Span Attributes (Tags) improve trace searchability?",
    "explanation": "Rich traces are useful. Adding the SQL Query (sanitized) or HTTP URL as a tag allows you to search \"Show me all traces where SQL took > 2s\"."
  },
  {
    "id": 25048,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Dead Man's Switch",
    "content": "How does a Dead Man's Switch ensure reliable monitoring of background jobs?",
    "explanation": "If the job fails silently (doesn't start), no error is logged. Use a Dead Man's Switch (Healthchecks.io). The job must \"Ping\" the monitoring service on success. If the ping is missing, Alert."
  },
  {
    "id": 25049,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Metric Aggregation",
    "content": "What is the trade-off between Client-side and Server-side Metric Aggregation?",
    "explanation": "**Client-side** (App) aggregates (Count=50) and sends one packet per minute. Reduces network overhead. **Server-side** (Raw events) allows better percentile calculation but is expensive."
  },
  {
    "id": 25050,
    "category": "Observability",
    "difficulty": "Senior",
    "title": "Observability Cost Control",
    "content": "What are common strategies for controlling Observability costs?",
    "explanation": "Common problem. Optimization: 1. Adjust Sampling. 2. Filter noisy logs (`Microsoft.AspNetCore` Info -> Warning). 3. Shorten retention. 4. Use Metrics for high-volume data instead of Logs."
  }

  ,
  {
    "id": 26001,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Single Responsibility Principle (SRP)",
    "content": "How does a class handling data, validation, and persistence violate the Single Responsibility Principle (SRP)?",
    "explanation": "Violates SRP. The class has 3 reasons to change (Data structure, Business Rules, Persistence). Split into `User` (Data), `UserValidator` (Rules), and `UserRepository` (Persistence)."
  },
  {
    "id": 26002,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Open/Closed Principle (OCP)",
    "content": "How does a giant `switch` statement violate the Open/Closed Principle (OCP)?",
    "explanation": "Violates OCP. To add a new tax type, you must modify the existing tested code (the switch). Use **Polymorphism** (Strategy Pattern). Inject a collection of `ITaxCalculator` and select the right one."
  },
  {
    "id": 26003,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Liskov Substitution Principle (LSP)",
    "content": "How does an `Ostrich` class throwing an exception in `Fly()` violate the Liskov Substitution Principle (LSP)?",
    "explanation": "Violates LSP. A subclass must be substitutable for its base class without breaking the app. If `Ostrich` can't fly, it shouldn't inherit from a `Bird` class that enforces `Fly()`. Separate `IFlyingBird` from `IBird`."
  },
  {
    "id": 26004,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Interface Segregation Principle (ISP)",
    "content": "How does a fat `IWorker` interface violate the Interface Segregation Principle (ISP)?",
    "explanation": "Violates ISP. If you implement `Robot : IWorker`, you are forced to implement `Eat()` and `Sleep()` (dummy implementations). Split into `IWorkable` and `IFeedable`."
  },
  {
    "id": 26005,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Dependency Inversion Principle (DIP)",
    "content": "How does `OrderService` depending on `SqlUserRepository` violate the Dependency Inversion Principle (DIP)?",
    "explanation": "Violates DIP. High-level modules should not depend on low-level modules. Both should depend on abstractions. `OrderService` should depend on `IUserRepository`. The implementation (`SqlRepo`) is injected."
  },
  {
    "id": 26006,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Primitive Obsession",
    "content": "What is 'Primitive Obsession' and how do Value Objects solve it?",
    "explanation": "Wrap primitives in Value Objects (`PhoneNumber`). It centralizes validation logic (regex, format) and prevents passing a ZipCode into a PhoneNumber field."
  },
  {
    "id": 26007,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Feature Envy",
    "content": "What is 'Feature Envy' and how should it be refactored?",
    "explanation": "The method is in the wrong place. It \"envies\" the `Customer` class. Move the logic to `Customer`, or pass the specific data needed into `Order`."
  },
  {
    "id": 26008,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Shotgun Surgery",
    "content": "What is 'Shotgun Surgery' and what does it indicate about code cohesion?",
    "explanation": "This smell indicates low cohesion. The logic for Currency is scattered. Centralize it into a single `CurrencyService` or Strategy so changes are localized."
  },
  {
    "id": 26009,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Cyclomatic Complexity",
    "content": "Why is High Cyclomatic Complexity a problem and how can it be reduced?",
    "explanation": "High complexity makes code hard to test and maintain. Extract methods (`Extract Method`), use Guard Clauses (`Return Early`), or replace conditionals with Polymorphism."
  },
  {
    "id": 26010,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Magic Numbers",
    "content": "Why should you avoid 'Magic Numbers' in code?",
    "explanation": "What is 4? Use an `Enum` (`Status.Shipped`) or a `const`. Magic numbers hide intent and make refactoring difficult."
  },
  {
    "id": 26011,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "God Class",
    "content": "Why is a `Utils` class often considered a 'God Class' anti-pattern?",
    "explanation": "A dumping ground for unrelated logic. Split into cohesive static classes: `StringUtils`, `MathUtils`, `EmailHelpers` (or better, non-static services)."
  },
  {
    "id": 26012,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "DRY (Don't Repeat Yourself)",
    "content": "Why is the DRY (Don't Repeat Yourself) principle important for validation logic?",
    "explanation": "If the logic changes, you have to fix it in 3 places (and you will forget one). Encapsulate the logic in a shared method, validator, or attribute."
  },
  {
    "id": 26013,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "WET (Write Everything Twice)",
    "content": "What is the WET (Write Everything Twice) principle and when is it preferable to DRY?",
    "explanation": "Over-applying DRY leads to coupling unrelated features. If two features just *happen* to look alike today but will evolve differently, keep them separate. WET is better than Wrong Abstraction."
  },
  {
    "id": 26014,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "YAGNI (You Ain't Gonna Need It)",
    "content": "What does YAGNI (You Ain't Gonna Need It) warn against?",
    "explanation": "Premature Optimization/Abstraction. Build what you need *now*. Complex architectures for hypothetical future requirements usually fail or just add technical debt."
  },
  {
    "id": 26015,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "KISS (Keep It Simple, Stupid)",
    "content": "Why does the KISS (Keep It Simple, Stupid) principle advise against clever solutions like Reflection for simple tasks?",
    "explanation": "Clever code is hard to debug. Use a simple mapper tool or manual mapping code. It's verbose but obvious and fast. Readable > Clever."
  },
  {
    "id": 26016,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Boy Scout Rule",
    "content": "What is the 'Boy Scout Rule' in software development?",
    "explanation": "\"Leave the campground cleaner than you found it.\" Small, continuous improvements prevent code rot. Don't start a massive refactor, just clean up the immediate area."
  },
  {
    "id": 26017,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Comments as Deodorant",
    "content": "Why are comments explaining *what* code does considered a 'Deodorant' smell?",
    "explanation": "Comments explaining *what* code does are a smell. The code should explain itself. Extract the `if` condition into a method `bool IsUserValid()`. Comments should explain *Why*, not *What*."
  },
  {
    "id": 26018,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Data Clumps",
    "content": "What is a 'Data Clump' and how should it be refactored?",
    "explanation": "These variables belong together. Create a class/struct `Point3D` (or `Coordinate`). Pass the object. It simplifies signatures."
  },
  {
    "id": 26019,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Temporary Fields",
    "content": "Why are Temporary Fields in a class considered a code smell?",
    "explanation": "Fields should represent the state of the object. If it's only used during one calculation, pass it as a parameter or keep it as a local variable. Don't pollute class state."
  },
  {
    "id": 26020,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Return Early (Guard Clauses)",
    "content": "How do Guard Clauses (Return Early) improve readability of nested conditionals?",
    "explanation": "Flatten the arrow code. `if (!valid) return;`. `if (empty) return;`. Keep the \"Happy Path\" at the root indentation level."
  },
  {
    "id": 26021,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Static Cling",
    "content": "Why is 'Static Cling' (overuse of static calls) harmful to testability?",
    "explanation": "Static calls are hard to mock. Inject `IClock` or `IFileSystem`. It makes the code testable and decoupled from the OS environment."
  },
  {
    "id": 26022,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Train Wreck (Law of Demeter)",
    "content": "What is a 'Train Wreck' (Law of Demeter violation) and why is it bad?",
    "explanation": "High coupling. If `Customer` changes structure, `Order` code breaks. Delegate: `order.GetZipCode()`."
  },
  {
    "id": 26023,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Refused Bequest",
    "content": "What is 'Refused Bequest' in inheritance hierarchies?",
    "explanation": "Indicates wrong inheritance hierarchy. `Chair` inheriting from `Furniture` but overriding `Move()` to throw Exception. Maybe use Composition instead of Inheritance."
  },
  {
    "id": 26024,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Speculative Generality",
    "content": "What is 'Speculative Generality' and why should it be avoided?",
    "explanation": "YAGNI. Unused flexibility adds complexity and confusion. Make it concrete (`UserManager`). Make it generic only when you have a second use case."
  },
  {
    "id": 26025,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Null Flag Arguments",
    "content": "Why are Boolean/Null Flag Arguments considered a code smell?",
    "explanation": "A boolean argument usually means the method does two different things. Split into `DoFastWork()` and `DoSlowWork()`."
  },
  {
    "id": 26026,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Output Parameters",
    "content": "Why should you avoid Output Parameters (`out`) in modern C#?",
    "explanation": "`out` params (except for `TryParse` pattern) are confusing. Return the object. If you need multiple returns, return a Tuple or a specific Result class."
  },
  {
    "id": 26027,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Regions",
    "content": "Why is excessive use of `#region` often a sign of a God Class?",
    "explanation": "Regions often hide God Classes. If a class needs regions to be readable, it is likely too big. Split the class."
  },
  {
    "id": 26028,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Exception Driven Logic",
    "content": "Why is 'Exception Driven Logic' considered an anti-pattern?",
    "explanation": "Exceptions are for exceptional circumstances, not control flow. They are slow (stack unwind). Use `int.TryParse`."
  },
  {
    "id": 26029,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Immutable DTOs",
    "content": "Why are Immutable DTOs preferred over mutable ones?",
    "explanation": "DTOs transfers data. They shouldn't change in transit. Immutability makes debugging easier and code safer (thread safe)."
  },
  {
    "id": 26030,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Hardcoded Strings",
    "content": "Why should you avoid Hardcoded Strings for roles or status codes?",
    "explanation": "Use `nameof`, `const`, or `enum`. Magic strings are typo-prone and don't show up in \"Find Usages\" refactoring tools."
  },
  {
    "id": 26031,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Code Rot",
    "content": "Why should you delete 'Code Rot' (commented-out code) instead of keeping it?",
    "explanation": "Delete it. Git History remembers everything. Commented code confuses readers (\"Is this important?\")."
  },
  {
    "id": 26032,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Vertical Formatting",
    "content": "Why does poor Vertical Formatting (declaring variables far from usage) increase cognitive load?",
    "explanation": "Declare variables close to their usage. Reduces cognitive load (you don't have to scroll up to check the type)."
  },
  {
    "id": 26033,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Side Effects",
    "content": "How does a method with Side Effects (Query modifying state) violate CQS?",
    "explanation": "A method named `Get` should be a Query (safe). Updating state makes it a Command. This violates CQS. Rename to `GetUsersAndTouchTimestamp()` or separate them."
  },
  {
    "id": 26034,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Deep Inheritance",
    "content": "Why is Deep Inheritance often replaced by Composition?",
    "explanation": "Inheritance is brittle (tight coupling). Prefer **Composition over Inheritance**. Inject behavior via interfaces instead of inheriting base classes."
  },
  {
    "id": 26035,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Zombie Code",
    "content": "Why is 'Zombie Code' (Dead Code) detrimental to a codebase?",
    "explanation": "Delete them. They add maintenance cost (tests, refactoring) for zero value. Use static analysis tools to find them."
  },
  {
    "id": 26036,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Hungarian Notation",
    "content": "Why is Hungarian Notation considered an obsolete practice in modern C#?",
    "explanation": "Legacy. IDEs show types on hover. Prefixes clutter the code. Use meaningful names `Name`, `Count`."
  },
  {
    "id": 26037,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Poltergeists",
    "content": "What are 'Poltergeist' classes and when should they be removed?",
    "explanation": "**(Sometimes).** Often called \"pass-through\". While annoying, removing layers (calling Repo from Controller) violates layering. If the layer adds *no* value repeatedly, consider collapsing layers (Vertical Slice)."
  },
  {
    "id": 26038,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Golden Hammer",
    "content": "What is the 'Golden Hammer' anti-pattern?",
    "explanation": "\"When you have a hammer, everything looks like a nail.\" Use the right tool (Graph DB) for the job."
  },
  {
    "id": 26039,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Code Review Etiquette",
    "content": "What constitutes professional Code Review Etiquette?",
    "explanation": "**(Behavior).** Toxic. Critique the code, not the person. Ask questions: \"Have you considered...?\" or \"This might cause X because Y\"."
  },
  {
    "id": 26040,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Technical Debt",
    "content": "When is incurring Technical Debt a valid strategic decision?",
    "explanation": "**(Consciously).** Tech debt is a tool. Taking debt to hit a deadline is valid, *if* you have a plan to pay it back. Unmanaged debt bankrupts the project."
  },
  {
    "id": 26041,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Convention over Configuration",
    "content": "What is the 'Convention over Configuration' principle?",
    "explanation": "Saves boilerplate. Only configure exceptions. Standard in .NET Core (Controllers, DI)."
  },
  {
    "id": 26042,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Fluent Interface",
    "content": "What are the benefits of a Fluent Interface design?",
    "explanation": "Improves readability (Method Chaining). DSL (Domain Specific Language) feel."
  },
  {
    "id": 26043,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Race Conditions in Singletons",
    "content": "Why creates Race Conditions when using `List<T>` in a Singleton service?",
    "explanation": "Singletons are shared by threads. `List<T>` is not thread-safe. Use `ConcurrentBag` or locks."
  },
  {
    "id": 26044,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Constructors doing Work",
    "content": "Why should Constructors avoid performing I/O operations?",
    "explanation": "Constructors should purely initialize state. I/O in constructors slows down startup, makes testing impossible (can't mock), and exceptions in constructors are messy."
  },
  {
    "id": 26045,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Inconsistent Naming",
    "content": "Why is Inconsistent Naming a significant maintenance burden?",
    "explanation": "Pick one verb and stick to it. `Get`, `List`, `Create`. Predictability reduces cognitive load."
  },
  {
    "id": 26046,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Negative Conditionals",
    "content": "Why should you avoid Negative Conditionals in boolean logic?",
    "explanation": "Double negatives hurt the brain. Use positive variable names (`isValid`) or check the positive case first."
  },
  {
    "id": 26047,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Obsolete Attribute",
    "content": "How do you properly deprecate a method in C# using attributes?",
    "explanation": "Use `[Obsolete(\"Use NewMethod instead\")]`. It generates a compiler warning for consumers, guiding them to the new API without breaking the build immediately."
  },
  {
    "id": 26048,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "EditorConfig",
    "content": "What is the purpose of an `.editorconfig` file?",
    "explanation": "`.editorconfig` file. It enforces rules (Tabs vs Spaces, Bracket placement) across the team automatically in VS/Rider/CI."
  },
  {
    "id": 26049,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Disposable Fields",
    "content": "Why must classes owning Disposable fields implement `IDisposable` themselves?",
    "explanation": "If you own a Disposable field, you must be Disposable. Otherwise, you leak resources."
  },
  {
    "id": 26050,
    "category": "Code Quality",
    "difficulty": "Senior",
    "title": "Region Folding",
    "content": "Why is hiding class members inside `#region` blocks considered a code smell?",
    "explanation": "Considered a smell by many. It hides the structure. Classes should be readable top-to-bottom. If you need regions to navigate, the class is too complex."
  }
  ,
  {
    "id": 27001,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "URL Shortener: Encoding",
    "content": "Why use Base62 (a-z, A-Z, 0-9) instead of MD5 for a URL Shortener?",
    "explanation": "MD5 produces a 128-bit hash (too long for a 'short' URL). Base62 is a compact encoding. You can convert an auto-incrementing Database ID (1000001) directly to a 4-char string. It's reversible and guarantees uniqueness without collision checks."
  },
  {
    "id": 27002,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Pastebin: Storage Estimation",
    "content": "How would you estimate the storage requirements for a Pastebin service with 1M pastes/day?",
    "explanation": "1M * 10KB = 10GB/day. 10GB * 365 * 10 = ~36.5 TB. This fits easily on modern hard drives or Blob Storage. The bottleneck is not storage capacity, but maybe IOPS (Input/Output Operations Per Second)."
  },
  {
    "id": 27003,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Instagram Feed: Celebrity Problem",
    "content": "How does the 'Celebrity Problem' affect Fan-out on Write architectures in social feeds?",
    "explanation": "Pushing a tweet ID to 100M follower queues takes hours. Hybrid approach: Use **Push** for normal users, but **Pull** for celebrities. When a user loads their feed, merge their normal feed with a runtime lookup of the celebrities they follow."
  },
  {
    "id": 27004,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Chat App: Protocol",
    "content": "Why are WebSockets preferred over HTTP (Polling) for real-time chat applications?",
    "explanation": "WebSockets (persistent connection). HTTP requires polling (high latency/overhead) or Long Polling. WebSockets allow the server to push 'New Message' instantly to the client. Keep a stateful connection server layer."
  },
  {
    "id": 27005,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Typeahead: Data Structure",
    "content": "Which data structure is most efficient for storing search prefixes in a Typeahead system?",
    "explanation": "Use a **Trie** (Prefix Tree). It optimizes finding all words starting with \"app...\". For scale, store the 'Top 5' hot results at each node of the Trie to avoid scanning the whole branch."
  },
  {
    "id": 27006,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Uber: Geo-Spatial Index",
    "content": "How do Geo-Spatial Indexes (like QuadTree or Geohash) optimize 'Nearest Neighbor' searches?",
    "explanation": "Grid search is slow. Use **Geohash** or **QuadTree**. These divide the map into hierarchical squares. Drivers in the same square share a prefix. finding neighbors becomes a string/tree search, not a math calculation."
  },
  {
    "id": 27007,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "YouTube: View Count Accuracy",
    "content": "Why is incrementing a SQL counter for every view in a high-traffic system (like YouTube) creating a bottleneck?",
    "explanation": "Massive write lock contention on the 'Video' row. Use **Write-Behind** (Buffering). Increment a counter in Redis. Every minute, flush the sum to SQL. Users accept 'approximate' views for a few minutes."
  },
  {
    "id": 27008,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Web Crawler: Politeness",
    "content": "Why must a Web Crawler implement 'Politeness' delays?",
    "explanation": "You will get banned (DDoS). Implement a **Politeness** delay (e.g., 1 request per domain per second). Use a separate queue per domain to enforce rate limits without blocking the whole crawler."
  },
  {
    "id": 27009,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Notification System: Deduplication",
    "content": "How do you solve the Double Delivery problem in Notification Systems?",
    "explanation": "The worker crashed after sending but before ACKing the queue. Implement an **Idempotency** check. Store `NotificationId` in a DB with a unique constraint. Check before sending."
  },
  {
    "id": 27010,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Rate Limiter: Distributed",
    "content": "Why is Redis preferred over a Database for storing Distributed Rate Limiter counters?",
    "explanation": "**Redis**. It's fast and supports atomic increments (`INCR`). In-memory (Local) is bad because users hit different servers. Database is too slow (disk I/O) for every request."
  },
  {
    "id": 27011,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Unique ID Generator",
    "content": "Why is Twitter Snowflake preferred over UUID for generating unique IDs in distributed systems?",
    "explanation": "**(Snowflake).** UUID is 128-bit and random (bad for DB indexing). Snowflake is 64-bit and **Time-Sortable**. This allows sorting feeds by ID (Chronological) without a separate timestamp column."
  },
  {
    "id": 27012,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Ticketmaster: Seat Booking",
    "content": "How do you prevent Double Booking (Race Conditions) in a ticket reservation system?",
    "explanation": "Race condition. Use **Pessimistic Locking** (SELECT FOR UPDATE) or Redis `SETNX` (Resource Lock) with a TTL. Hold the seat for 5 mins while they pay. If time expires, release the lock."
  },
  {
    "id": 27013,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Netflix: Adaptive Bitrate",
    "content": "What is Adaptive Bitrate Streaming (HLS/DASH) and how does it save bandwidth?",
    "explanation": "Waste of bandwidth and buffering. Transcode video into multiple qualities (360p, 720p, 1080p). The client player detects bandwidth and requests the appropriate chunk size dynamically (**HLS/DASH**)."
  },
  {
    "id": 27014,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Leaderboard: Real-time Ranking",
    "content": "Why are Redis Sorted Sets preferred over SQL for Real-time Leaderboards?",
    "explanation": "`ORDER BY Score` is O(N log N). Too slow for real-time. Use **Redis Sorted Sets** (Skip List). `ZADD user score` and `ZREVRANGE 0 10` gives top 10 instantly."
  },
  {
    "id": 27015,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Google Drive: File Sync",
    "content": "How does Block Level Deduplication optimize file synchronization?",
    "explanation": "Bandwidth heavy. Use **Block Level Deduplication** (Rsync algo). Split file into 4MB blocks. Hash them. Only upload blocks where the hash changed."
  },
  {
    "id": 27016,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Top K Heavy Hitters",
    "content": "How do 'Top K Heavy Hitters' algorithms (like Count-Min Sketch) work in stream processing?",
    "explanation": "Use a **Count-Min Sketch** or a Stream Processing framework (Kafka Streams / Flink) with a Sliding Window. Exact counting requires huge memory; probabilistic counting is constant memory."
  },
  {
    "id": 27017,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Payment System: Consistency",
    "content": "Why is strict ACID consistency required for financial systems (Payment/Wallet)?",
    "explanation": "Financial data requires **ACID**. NoSQL is usually BASE (Eventual Consistency). If I pay, my balance must drop *now*. Use a relational DB (Postgres/SQL Server) with strict transaction isolation."
  },
  {
    "id": 27018,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "E-Commerce: Cart Storage",
    "content": "Why should Guest Shopping Carts be stored in Cookies or Redis instead of a SQL Database?",
    "explanation": "50% of users bounce. You fill the DB with junk data. Store Guest Carts in **Cookies** or **Redis** (with TTL). Only move to SQL when the user logs in or checks out."
  },
  {
    "id": 27019,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Code Deployment: P2P",
    "content": "How does P2P (BitTorrent) protocol speed up large-scale binary deployment?",
    "explanation": "Central server bottleneck. Use **BitTorrent** (P2P). Servers that download the binary start uploading it to their neighbors. Propagation time scales logarithmically."
  },
  {
    "id": 27020,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "API Gateway: Authentication",
    "content": "Why is offloading Authentication to an API Gateway preferred over authenticating in every microservice?",
    "explanation": "Redundant processing. **Offload Auth to Gateway**. Gateway verifies JWT, extracts UserID, and passes it downstream (header `X-User-Id`). Internal services trust the Gateway."
  },
  {
    "id": 27021,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Nearby Friends: Updates",
    "content": "How does 'Adaptive Reporting' reduce battery drain in 'Nearby Friends' features?",
    "explanation": "Battery drain and write load. Use **Adaptive Reporting**. If user is moving fast, update often. If static, stop updating. Send `Delta` (change) only."
  },
  {
    "id": 27022,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Metrics: Push vs Pull",
    "content": "Choosing Prometheus (Pull) vs Datadog (Push).",
    "explanation": "**Pull** is better for knowing \"Service is down\" (scrape fails). **Push** is better for short-lived jobs (Lambdas) that die before they can be scraped. Most modern systems use a hybrid (OTEL Collector)."
  },
  {
    "id": 27023,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Global ID Generation",
    "content": "What are the drawbacks of using a Central SQL Ticket Server for global ID generation?",
    "explanation": "Single Point of Failure and write bottleneck. Use **Flickr's Ticket Server** idea (Odd/Even servers) or better, decentralized algorithms like Snowflake/UUID."
  },
  {
    "id": 27024,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Search Engine: Inverted Index",
    "content": "Why is an Inverted Index (Search Engine) faster than SQL `LIKE` queries for full-text search?",
    "explanation": "O(N) scan. Use an **Inverted Index** (Elasticsearch/Lucene). Maps `Word -> [Doc1, Doc2]`. Search becomes set intersection (O(1) or O(log N))."
  },
  {
    "id": 27025,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Distributed Cache: Eviction",
    "content": "What is the difference between LRU and LFU cache eviction policies?",
    "explanation": "**LRU** (Least Recently Used) removes old items. Good for recency. **LFU** (Least Frequently Used) removes unpopular items. Good for stable popularity patterns (e.g., Homepage content). Redis default is LRU."
  },
  {
    "id": 27026,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Blob Storage: CDN",
    "content": "Why should you serve static assets (Images/JS) via a CDN instead of directly from Blob Storage?",
    "explanation": "High latency and cost ($ per GB). Put a **CDN** (Cloudflare/FrontDoor) in front. It caches content at the Edge (ISP level), close to the user."
  },
  {
    "id": 27027,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Sharding Key Selection",
    "content": "What are the pros and cons of Sharding by `OrderId` versus `UserId`?",
    "explanation": "Distributes writes perfectly (Uniform). But difficult to query \"All orders for User X\" (Scatter-Gather query across all shards). Sharding by `UserId` makes reads fast but risks Hot Partitions (Power Users)."
  },
  {
    "id": 27028,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Graph DB Use Case",
    "content": "Why are Graph Databases (Neo4j) superior to Relational DBs for Fraud Detection rings?",
    "explanation": "\"User A shares IP with User B who shares Credit Card with User C\". Relational joins are 5-levels deep (slow). **Graph DB** (Neo4j) traverses these relationships instantly."
  },
  {
    "id": 27029,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Ad Click Aggregation",
    "content": "Why must Ad Click Aggregation happen in memory (Stream Processing) before writing to DB?",
    "explanation": "Use **Stream Processing** (Kafka + Flink). Aggregate clicks in memory windows (10s). Write only the sum to the DB. Writing individual clicks to DB would crush it."
  },
  {
    "id": 27030,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Hotel Booking: Inventory",
    "content": "How do Database Constraints ensure atomic inventory management to prevent overbooking?",
    "explanation": "Use **Database Constraints**. `UPDATE Rooms SET Count = Count - 1 WHERE Count > 0`. The database ensures atomicity. If rows affected = 0, room is gone."
  },
  {
    "id": 27031,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Consistent Hashing: Virtual Nodes",
    "content": "How do Virtual Nodes improve load distribution in Consistent Hashing?",
    "explanation": "Standard Consistent Hashing might assign a huge range to one node (unbalanced). **Virtual Nodes** assign 100 random positions on the ring to each physical node, statistically smoothing out the load distribution."
  },
  {
    "id": 27032,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "API Pagination",
    "content": "Why is Cursor Pagination preferred over Offset Pagination for large datasets?",
    "explanation": "**(Cursor).** **Offset** (`SKIP 10000`) is slow (DB scans 10k rows) and brittle (new rows shift pages). **Cursor** (`WHERE Id > LastSeenId`) is O(1) index lookup and stable."
  },
  {
    "id": 27033,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Image Resizing",
    "content": "Why is performing image resizing on the Web Server considered a bad practice?",
    "explanation": "**(CPU Starvation).** Resizing is CPU-intensive. Doing it on the App Server blocks threads (Thread Starvation). **Solution:** Upload original to Blob Storage -> Trigger Event -> **Azure Function** (Serverless) resizes it async -> Updates DB."
  },
  {
    "id": 27034,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Availability vs Consistency",
    "content": "Does DNS optimize for Availability or Consistency (CAP Theorem)?",
    "explanation": "DNS chooses **Availability**. It's better to give an old IP address than no address. It uses Eventual Consistency (TTL propagation)."
  },
  {
    "id": 27035,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Data Archive",
    "content": "Why should old logs be moved to Cold Storage (Data Lake) instead of staying in Hot SQL?",
    "explanation": "Expensive. Move data > 3 months old to **Cold Storage** (Data Lake / S3 Glacier). It's cheaper. If you need to query it, use tools like Athena/Synapse that query files directly."
  },
  {
    "id": 27036,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Multi-Master Replication",
    "content": "What are the complexities of Multi-Master Replication in distributed databases?",
    "explanation": "**(Complexity).** **Conflict Resolution** is hard. If US sets `X=1` and EU sets `X=2`, who wins? Last-Writer-Wins? Vector Clocks? Avoid Multi-Master unless latency requirements are critical."
  },
  {
    "id": 27037,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Throttling: Leaky Bucket",
    "content": "How does the Leaky Bucket algorithm smooth out bursty traffic?",
    "explanation": "Converts bursty traffic into a smooth, constant output rate. Good for writing to a database that has a fixed IOPS limit."
  },
  {
    "id": 27038,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "DDoS Mitigation",
    "content": "Why is blocking DDoS attacks at the Edge (WAF) better than at the App Server?",
    "explanation": "Too late. The bandwidth is already consumed. Block at the **Edge** (WAF / Cloudflare / AWS Shield). They can absorb Terabits of traffic."
  },
  {
    "id": 27039,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Secrets in SPA",
    "content": "Is it secure to store API keys in a Single Page Application (SPA)?",
    "explanation": "No. Everything sent to the browser is public. Use **BFF (Backend for Frontend)**. React calls your Backend (Cookie auth), Backend adds the API Key and calls the 3rd party."
  },
  {
    "id": 27040,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Webhook Security",
    "content": "How do you verify the authenticity of incoming Webhooks using HMAC?",
    "explanation": "Calculate **HMAC-SHA256** of the body using the shared secret. Compare with the `X-Signature` header. Ensures the payload wasn't tampered with and came from the trusted provider."
  },
  {
    "id": 27041,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Gossip Protocol",
    "content": "How does the Gossip Protocol detect node failures in a distributed cluster?",
    "explanation": "Nodes heartbeat to random peers. If A hasn't heard from B, and C hasn't heard from B, B is marked dead. Efficient and robust mesh networking."
  },
  {
    "id": 27042,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Message Queue vs Log (Kafka)",
    "content": "What is the difference between a Message Queue (RabbitMQ) and a Distributed Log (Kafka)?",
    "explanation": "Queue (RabbitMQ): Message is deleted after processing. Log (Kafka): Message stays (persistence). Consumers track their own cursor (offset). Allows **Replay**."
  },
  {
    "id": 27043,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Bloom Filter Deletion",
    "content": "Why can't you delete items from a standard Bloom Filter?",
    "explanation": "No. You might flip a bit used by *another* item. Use a **Counting Bloom Filter** (store count instead of bit) if deletion is required, but it uses more memory."
  },
  {
    "id": 27044,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Long Polling vs SSE",
    "content": "What are the advantages of Server-Sent Events (SSE) over Long Polling?",
    "explanation": "**SSE (Server Sent Events)** is better for one-way streams (Server->Client). It's a single HTTP connection. Long Polling requires opening/closing connections repeatedly (Header overhead)."
  },
  {
    "id": 27045,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Database Index: B-Tree vs LSM Tree",
    "content": "When should you choose an LSM Tree storage engine over a B-Tree?",
    "explanation": "**B-Tree** (SQL): Good for Reads. Updates are in-place (random IO). **LSM Tree** (Cassandra/RocksDB): Good for Writes. Appends to log (Sequential IO), merges later. Use LSM for write-heavy."
  },
  {
    "id": 27046,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Capacity Planning",
    "content": "How do you perform basic Capacity Planning to estimate QPS?",
    "explanation": "DAU (Daily Active Users) * Requests/User / 86400 = Avg QPS. Multiply by 3-5x for Peak QPS. Helps determine if you need 1 server or 100."
  },
  {
    "id": 27047,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "CORS Preflight",
    "content": "How does caching CORS Preflight requests improve API performance?",
    "explanation": "Set `Access-Control-Max-Age`. The browser won't ask \"Can I POST?\" every single time. Reduces latency for cross-origin APIs."
  },
  {
    "id": 27048,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "CDN Cache Invalidation",
    "content": "Why is Cache Invalidation difficult and how does Versioning (Immutable Deployments) solve it?",
    "explanation": "Invalidation takes time (mins) and costs money. Better: **Versioned URLs** (`style.v2.css`). The new URL bypasses the cache naturally. Immutable deployments."
  },
  {
    "id": 27049,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Idempotency Key Storage",
    "content": "Where should Idempotency Keys be stored to ensure correctness?",
    "explanation": "Redis (with TTL) or a dedicated DB table. It must be checked atomically before processing. If key exists -> Return saved response."
  },
  {
    "id": 27050,
    "category": "System Design",
    "difficulty": "Senior",
    "title": "Stateless Auth",
    "content": "Why are JWTs preferred over Session Auth for Serverless architectures?",
    "explanation": "**JWT**. Serverless functions scale to zero. They don't share memory. Validating a self-contained signature (JWT) is faster/cheaper than querying a Session DB on every request."
  }
  ,
  {
    "id": 28001,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Two Sum: Optimization",
    "content": "How do you optimize the Two Sum problem from O(N^2) to O(N)?",
    "explanation": "Use a **Hash Map** (Dictionary). Iterate once. Check if `Target - Current` exists in the map. Time: O(N). Space: O(N). If array is sorted, use **Two Pointers** (Start/End) for O(N) Time and O(1) Space."
  },
  {
    "id": 28002,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Sliding Window: Fixed",
    "content": "How does the Fixed Sliding Window technique optimize finding subarray sums?",
    "explanation": "Don't re-calculate the sum from scratch for every window. Subtract the element leaving the window and add the element entering. O(N) linear scan."
  },
  {
    "id": 28003,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Sliding Window: Dynamic",
    "content": "How does the Dynamic Sliding Window ('Caterpillar') method solve variable-length subarray problems?",
    "explanation": "Expand `Right` pointer until Sum >= S. Then shrink `Left` pointer until Sum < S, capturing the min length. This \"Caterpillar\" method is O(N) because each element is visited at most twice."
  },
  {
    "id": 28004,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "String Immutability in Algorithms",
    "content": "Why is string concatenation in a loop O(N^2) and how do you fix it?",
    "explanation": "Strings are immutable. Loop concatenation is O(N^2) due to copying. Use `char[]` array or `StringBuilder` to swap characters in-place. O(N) Time, O(N) Space."
  },
  {
    "id": 28005,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Span<T> for Substrings",
    "content": "How does `Span<T>` allow high-performance string parsing without allocations?",
    "explanation": "Use `ReadOnlySpan<char>`. It represents a window into the existing string memory without allocating new string objects on the Heap. Essential for high-performance parsing."
  },
  {
    "id": 28006,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Dutch National Flag Problem",
    "content": "How does the Dutch National Flag algorithm sort 3 colors in O(N)?",
    "explanation": "Use **3 Pointers**: `Low`, `Mid`, `High`. If 0, swap to Low. If 2, swap to High. If 1, ignore. O(N) Time, O(1) Space."
  },
  {
    "id": 28007,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Anagram Check",
    "content": "Why is using a Frequency Array O(N) better than Sorting O(N log N) for checking Anagrams?",
    "explanation": "Sorting is O(N log N). Better: Use a **Frequency Array** (int[26] for English). Increment for string A, decrement for string B. Check if array is all zeros. O(N) Time."
  },
  {
    "id": 28008,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Kadane's Algorithm",
    "content": "What is Kadane's Algorithm used for?",
    "explanation": "Iterate through the array. Keep `currentSum`. If `currentSum` drops below 0, reset it to 0 (because a negative prefix never helps). Update `maxSum` at each step. O(N)."
  },
  {
    "id": 28009,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Merge Intervals",
    "content": "How do you solve the Merge Intervals problem effectively?",
    "explanation": "Sort by Start Time O(N log N). Iterate. If `Current.Start <= Previous.End`, merge them (`Max(Prev.End, Curr.End)`). Else, push to result."
  },
  {
    "id": 28010,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Rotate Matrix",
    "content": "How do you rotate a matrix 90 degrees in-place?",
    "explanation": "1. **Transpose** the matrix (swap `[i,j]` with `[j,i]`). 2. **Reverse** each row. This achieves a 90-degree rotation without allocating a new matrix."
  },
  {
    "id": 28011,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Search in Rotated Sorted Array",
    "content": "How does Search in Rotated Sorted Array work using modified Binary Search?",
    "explanation": "Modified **Binary Search**. One half of the array is always sorted. Check if target lies in the sorted half. If so, search there; else search the other half. O(log N)."
  },
  {
    "id": 28012,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Product of Array Except Self",
    "content": "How do you solve 'Product of Array Except Self' without division?",
    "explanation": "Use **Prefix and Suffix** products. 1. Pass Left->Right accumulating product. 2. Pass Right->Left accumulating product and multiplying with the left array. O(N) Time, O(1) Space (if output array ignored)."
  },
  {
    "id": 28013,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Longest Substring Without Repeating Characters",
    "content": "How do you find the Longest Substring Without Repeating Characters in O(N)?",
    "explanation": "**Sliding Window** with a Hash Map (or int[128] array) storing the *last index* of each char. If char repeats, jump the Start pointer to `LastIndex + 1`. O(N)."
  },
  {
    "id": 28014,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Boyer-Moore Voting Algorithm",
    "content": "How does the Boyer-Moore Voting Algorithm find the majority element in O(1) space?",
    "explanation": "Maintain a `Candidate` and a `Count`. If next number == Candidate, Count++. Else Count--. If Count hits 0, switch Candidate. The remaining Candidate is the majority. O(N)."
  },
  {
    "id": 28015,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Trapping Rain Water",
    "content": "How does the Two Pointer approach solve the Trapping Rain Water problem?",
    "explanation": "**Two Pointers** from outside in. Maintain `maxLeft` and `maxRight`. Water at `i` is `Min(maxL, maxR) - height[i]`. Process the smaller side first. O(N)."
  },
  {
    "id": 28016,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "KMP Algorithm",
    "content": "What is the KMP Algorithm and how does it optimize string matching?",
    "explanation": "Knuth-Morris-Pratt. Pre-computes a \"Longest Prefix Suffix\" (LPS) array for the needle. Allows skipping characters in the haystack on mismatch, avoiding the backtracking of brute force. O(N+M)."
  },
  {
    "id": 28017,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Binary Search Boundary",
    "content": "How do you modify Binary Search to find the *first* or *last* occurrence of a target?",
    "explanation": "Standard Binary Search finds *any* 5. To find the first, if `mid == 5`, store index and keep searching **Left** (`high = mid - 1`)."
  },
  {
    "id": 28018,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Sparse Table / Matrix",
    "content": "What is the efficient way to store a Sparse Matrix?",
    "explanation": "Don't use `int[,]`. Use a Dictionary `(Row, Col) -> Value` or a List of Triples (Coordinate List). Saves massive memory."
  },
  {
    "id": 28019,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Trie (Prefix Tree)",
    "content": "How does a Trie (Prefix Tree) facilitate efficient Auto-complete lookups?",
    "explanation": "Use a Trie. Each node is a character. Fast lookup for \"words starting with...\". O(L) where L is word length, independent of total dictionary size."
  },
  {
    "id": 28020,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Cyclic Sort",
    "content": "How does Cyclic Sort find missing numbers in a range O(N)?",
    "explanation": "Iterate. If `nums[i]` is not at index `nums[i]`, swap it to its correct spot. Repeat. Finally, scan for the index `i` where `nums[i] != i`. O(N)."
  },
  {
    "id": 28021,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Group Anagrams",
    "content": "How do you Group Anagrams efficiently?",
    "explanation": "Use a Hash Map. Key: Sort the string (`\"aet\"`) OR Character Count string (`\"1a1e1t\"`). Value: List of matching words. O(NK)."
  },
  {
    "id": 28022,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Spiral Matrix",
    "content": "What is the logic to traverse a Matrix in Spiral Order?",
    "explanation": "Maintain 4 boundaries: Top, Bottom, Left, Right. Loop while `Top <= Bottom` and `Left <= Right`. Iterate right, down, left, up, shrinking boundaries. Careful with corner cases."
  },
  {
    "id": 28023,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "QuickSelect",
    "content": "How does QuickSelect find the Kth largest element in O(N) average time?",
    "explanation": "Sort is O(N log N). **QuickSelect** (partitioning like QuickSort) finds the item in O(N) average. You only recurse into the half that contains K."
  },
  {
    "id": 28024,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Palindrome Pairs",
    "content": "How do you check for Palindrome Pairs in a list of words?",
    "explanation": "Hard problem. Store reversed words in a Map. Iterate words, split into prefix/suffix. Check if prefix is palindrome and suffix-reversed exists in Map. O(N * K^2)."
  },
  {
    "id": 28025,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Next Permutation",
    "content": "How do you find the 'Next Permutation' of a sequence in lexicographical order?",
    "explanation": "1. Find first decreasing element from right (pivot). 2. Find just-larger element to right of pivot. 3. Swap. 4. Reverse the suffix. O(N)."
  },
  {
    "id": 28026,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "String Compression",
    "content": "How do you perform in-place String Compression on a character array?",
    "explanation": "Two Pointers (Read/Write). Iterate with Read. Count duplicates. Write char and count to Write pointer. O(N)."
  },
  {
    "id": 28027,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Difference Array",
    "content": "How does a Difference Array allow for efficient range updates?",
    "explanation": "Create array `D`. `D[L] += Val`, `D[R+1] -= Val`. After all updates, compute **Prefix Sum** of `D` to get the actual values. O(1) update, O(N) final build."
  },
  {
    "id": 28028,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Valid Parentheses",
    "content": "How do you validate balanced parentheses in a string?",
    "explanation": "Use a **Stack**. Push open brackets. If closing, pop and match. If stack empty at end, valid. O(N)."
  },
  {
    "id": 28029,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Remove Duplicates Sorted",
    "content": "How do you remove duplicates from a sorted array in-place with O(1) space?",
    "explanation": "Two Pointers. `InsertPos` starts at 1. Iterate `i` from 1. If `nums[i] != nums[i-1]`, copy `nums[i]` to `InsertPos` and increment `InsertPos`. Return `InsertPos`."
  },
  {
    "id": 28030,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Edit Distance (Levenshtein)",
    "content": "What is the Levenshtein Distance and how is it calculated?",
    "explanation": "**Dynamic Programming**. 2D Matrix `dp[i][j]`. If chars match, `dp[i][j] = dp[i-1][j-1]`. Else, `1 + Min(Insert, Delete, Replace)`. O(N*M)."
  },
  {
    "id": 28031,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Meeting Rooms II",
    "content": "How do you determine the minimum number of conference rooms required for a set of meetings?",
    "explanation": "Separate Start and End times into two arrays and sort them. Two Pointers. If `Start[i] < End[j]`, need room, `count++`, `i++`. Else `count--`, `j++`. Track max count."
  },
  {
    "id": 28032,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Rabin-Karp",
    "content": "How does the Rabin-Karp algorithm use Rolling Hashes for string matching?",
    "explanation": "Used for multi-pattern search. Hash the window of text. Roll the hash (subtract old char, add new char) in O(1). If hash matches pattern hash, verify string. O(N)."
  },
  {
    "id": 28033,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Monotonic Stack",
    "content": "How does a Monotonic Stack solve the 'Next Greater Element' problem?",
    "explanation": "Iterate. While `Stack.Peek() < Current`, pop stack. The `Current` is the \"Next Greater\" for the popped element. Push `Current`. O(N)."
  },
  {
    "id": 28034,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Minimum Window Substring",
    "content": "How do you find the Minimum Window Substring containing all characters of a pattern?",
    "explanation": "Sliding Window + Frequency Map. Expand Right until valid. Shrink Left while still valid. Track min length. O(N)."
  },
  {
    "id": 28035,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "In-Place Shuffle (Fisher-Yates)",
    "content": "How does the Fisher-Yates Shuffle algorithm guarantee an unbiased permutation?",
    "explanation": "Iterate `i` from end to 0. Pick random `j` from `0` to `i`. Swap `arr[i]` and `arr[j]`. O(N) and unbiased."
  },
  {
    "id": 28036,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Allocate Memory for List",
    "content": "Why is pre-allocating list capacity important for performance?",
    "explanation": "If you know the size, set Capacity. Default List grows by doubling (4, 8, 16...). Resizing requires allocating new array and copying elements. Pre-allocating avoids this overhead."
  },
  {
    "id": 28037,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "String Interpolation vs Format",
    "content": "How does C# String Interpolation compare to `string.Format` in terms of performance?",
    "explanation": "C# compiler translates interpolation into `string.Format`. In modern .NET, it uses `DefaultInterpolatedStringHandler` (zero allocation ref struct) which is faster than `Format`."
  },
  {
    "id": 28038,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Jagged vs Multi-dimensional Array",
    "content": "Why are Jagged Arrays (`[][]`) often faster than Multi-dimensional Arrays (`[,]`) in .NET?",
    "explanation": "Jagged (`[][]`, array of arrays) is usually faster in .NET because the CLR is optimized for 1D array access and vectorization. Multi-dimensional (`[,]`) checks bounds for every dimension."
  },
  {
    "id": 28039,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "SecureString",
    "content": "Why is `SecureString` no longer recommended for new .NET Core applications?",
    "explanation": "Microsoft deprecated `SecureString` recommendation. It's not encrypted across platforms. Use `char[]` or `byte[]` and pin memory (`GCHandle`) / clear it manually for sensitive data."
  },
  {
    "id": 28040,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Bit Manipulation",
    "content": "How do you check if a number is a power of 2 using bit manipulation?",
    "explanation": "`(n > 0) && ((n & (n - 1)) == 0)`. Removes the last set bit. If result is 0, it had only one bit set (power of 2)."
  },
  {
    "id": 28041,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Find Duplicate Number",
    "content": "How do you find a duplicate number in an array of N+1 integers using O(1) space?",
    "explanation": "Treat array as a LinkedList (`val` is pointer to `index`). Use Floyd's Cycle Detection (Tortoise and Hare). The entry point of the cycle is the duplicate number."
  },
  {
    "id": 28042,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Count and Say",
    "content": "How does the 'Count and Say' sequence generation work?",
    "explanation": "Use `StringBuilder`. Iterating string concatenation is exponential death. Simple linear scan counting consecutive chars."
  },
  {
    "id": 28043,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Container With Most Water",
    "content": "How does the Two Pointer approach solve the 'Container With Most Water' problem?",
    "explanation": "Two Pointers (Ends). Area = `Min(H[L], H[R]) * (R-L)`. Move the pointer with the *smaller* height inward (hoping to find a taller line). Moving the taller one can never increase area. O(N)."
  },
  {
    "id": 28044,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "First Missing Positive",
    "content": "How do you find the First Missing Positive integer in O(N) time and O(1) space?",
    "explanation": "Cyclic Sort idea. Iterate and swap numbers to their correct index (`3` goes to index `2`). Then scan: first index `i` where `nums[i] != i+1` is the answer."
  },
  {
    "id": 28045,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Longest Palindromic Substring",
    "content": "How do you find the Longest Palindromic Substring efficiently?",
    "explanation": "For each char (and gap between chars), expand pointers Left/Right while match. Track max. O(N^2). Manacher's Algo is O(N) but complex and rarely asked."
  },
  {
    "id": 28046,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "LRU Cache",
    "content": "How do you design an LRU Cache with O(1) operations?",
    "explanation": "`Dictionary<Key, Node>` + `DoublyLinkedList`. Dict gives O(1) access. List maintains order. When accessed, move Node to Head. When full, remove Tail and delete from Dict."
  },
  {
    "id": 28047,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Decode Ways",
    "content": "How do you solve the 'Decode Ways' problem using Dynamic Programming?",
    "explanation": "`dp[i]` = ways to decode string up to `i`. `dp[i] += dp[i-1]` (single digit valid). `dp[i] += dp[i-2]` (two digits valid 10-26). O(N)."
  },
  {
    "id": 28048,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Maximal Rectangle",
    "content": "How do you find the maximal rectangle of 1s in a binary matrix?",
    "explanation": "Convert each row to a Histogram (height of 1s above). Solve \"Largest Rectangle in Histogram\" (Monotonic Stack) for each row. O(N*M)."
  },
  {
    "id": 28049,
    "category": "Algorithms: Arrays",
    "difficulty": "Senior",
    "title": "Sort Colors",
    "content": "How do you sort an array of 0s, 1s, and 2s (Sort Colors) in one pass?",
    "explanation": "Dutch National Flag algorithm. Pointers `Low`, `Mid`, `High`. Swap `Mid` to `Low` or `High` based on value. O(N)."
  },
  {
    "id": 28050,
    "category": "Algorithms: Strings",
    "difficulty": "Senior",
    "title": "Text Justification",
    "content": "What is the greedy strategy for Text Justification?",
    "explanation": "Pack words into line until full. Calculate spaces needed. Distribute spaces evenly (Round Robin) between words. Corner case: Last line is left-justified."
  }
  ,
  {
    "id": 29001,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Invert Binary Tree",
    "content": "How do you invert a Binary Tree?",
    "explanation": "Recursive DFS. `temp = left; left = right; right = temp; Invert(left); Invert(right);`. Or Iterative BFS using a Queue. Time O(N)."
  },
  {
    "id": 29002,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Validate BST",
    "content": "How do you validate a Binary Search Tree (BST)?",
    "explanation": "Use a range `(min, max)`. Root is valid if `min < val < max`. Recurse Left with `(min, val)`. Recurse Right with `(val, max)`. Initial call: `(long.MinValue, long.MaxValue)`."
  },
  {
    "id": 29003,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Level Order Traversal",
    "content": "How do you perform a Level Order Traversal of a binary tree?",
    "explanation": "Use **BFS** (Queue). Push Root. Loop while Queue not empty. Get count of current queue elements (level size). Dequeue that many elements, print them, and Enqueue their children. O(N)."
  },
  {
    "id": 29004,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Maximum Depth of Tree",
    "content": "How do you find the Maximum Depth of a Binary Tree?",
    "explanation": "Recursive: `return 1 + Max(Depth(left), Depth(right))`. Base case: if null return 0. O(N)."
  },
  {
    "id": 29005,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Lowest Common Ancestor (LCA)",
    "content": "How do you find the Lowest Common Ancestor (LCA) of two nodes in a binary tree?",
    "explanation": "Recursive. If Root is null, P, or Q, return Root. Else, search Left and Right. If both return non-null, Root is LCA. If only one returns non-null, return that one. O(N)."
  },
  {
    "id": 29006,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Number of Islands",
    "content": "How do you count the 'Number of Islands' in a 2D grid?",
    "explanation": "Iterate grid. If `grid[i][j] == '1'`, increment count and start **DFS/BFS** to mark all connected '1's as '0' (visited). Continue. O(Rows*Cols)."
  },
  {
    "id": 29007,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Serialize and Deserialize Tree",
    "content": "How do you Serialize and Deserialize a Binary Tree?",
    "explanation": "Use Pre-order Traversal (Root, Left, Right). Add `null` markers (e.g., \"#\"). String: `1,2,#,#,3,4,#,#,5,#,#`. Deserialize using a Queue/Iterator. O(N)."
  },
  {
    "id": 29008,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Clone Graph",
    "content": "How do you Clone a Graph with deep copying?",
    "explanation": "Use **HashMap** `Map<OldNode, NewNode>` to track visited nodes. DFS/BFS traverse. If neighbor exists in Map, link to it. If not, clone it, add to Map, and recurse. O(V+E)."
  },
  {
    "id": 29009,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Binary Tree Max Path Sum",
    "content": "How do you find the Maximum Path Sum in a Binary Tree?",
    "explanation": "Post-order DFS. For each node, calculate max gain from Left and Right (ignore negatives). Update global `Max` with `Left + Right + Node`. Return `Node + Max(Left, Right)` to parent."
  },
  {
    "id": 29010,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Course Schedule (Cycle Detection)",
    "content": "How does Cycle Detection in a directed graph solve the 'Course Schedule' problem?",
    "explanation": "Build Adjacency List. Detect cycle in Directed Graph. Use DFS with 3 states: `0` (Unvisited), `1` (Visiting), `2` (Visited). If you see `1` while exploring, Cycle detected -> False. O(V+E)."
  },
  {
    "id": 29011,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Kth Smallest in BST",
    "content": "How do you find the Kth Smallest Element in a BST?",
    "explanation": "**In-Order Traversal** of a BST yields sorted values. Iterate/Recurse In-Order. Decrement K. When K==0, that's the element. O(N) or O(K)."
  },
  {
    "id": 29012,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Word Ladder",
    "content": "How does BFS solve the 'Word Ladder' shortest transformation problem?",
    "explanation": "Shortest path in unweighted graph = **BFS**. Nodes are words. Edges connect words differing by 1 char. Pre-process word list `*ot` -> `[hot, dot, lot]` for fast adjacency. O(M^2 * N)."
  },
  {
    "id": 29013,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Subtree of Another Tree",
    "content": "How do you determine if one tree is a subtree of another?",
    "explanation": "Naive: For each node in T, check if identical to S. O(S*T). Optimized: **Merkle Hashing**. Hash the trees. Check if hash of S exists in T. O(S+T)."
  },
  {
    "id": 29014,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Pacific Atlantic Water Flow",
    "content": "How do you solve the 'Pacific Atlantic Water Flow' problem?",
    "explanation": "**Multi-source BFS/DFS**. Start BFS from Pacific border (mark reachable). Start BFS from Atlantic border (mark reachable). Intersection of both sets is the answer. O(Rows*Cols)."
  },
  {
    "id": 29015,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Implement Trie (Prefix Tree)",
    "content": "How do you implement a Trie (Prefix Tree) with Insert, Search, and StartsWith?",
    "explanation": "Class `TrieNode { children[26], isEnd }`. Insert: Walk/Create nodes. Search: Walk nodes; if null return false; at end check `isEnd`. O(L)."
  },
  {
    "id": 29016,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Graph Valid Tree",
    "content": "How do you verify if a given graph is a valid tree?",
    "explanation": "A Tree must be 1. Connected, 2. No Cycles. Use **Union-Find** (Disjoint Set). For each edge, Union sets. If already same set, Cycle detected. Finally check only 1 set remains. O(E alpha(V))."
  },
  {
    "id": 29017,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Diameter of Binary Tree",
    "content": "How do you calculate the Diameter of a Binary Tree?",
    "explanation": "Similar to Max Depth. At every node, `PathThroughRoot = Depth(Left) + Depth(Right)`. Update global Max. Return `1 + Max(Left, Right)`."
  },
  {
    "id": 29018,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Alien Dictionary",
    "content": "How does Topological Sort solve the 'Alien Dictionary' ordering problem?",
    "explanation": "Build a Graph. If \"wrt\" comes before \"wrf\", then `t -> f`. Perform **Topological Sort** (Kahn's Algorithm). If cycle detected, invalid order. O(C)."
  },
  {
    "id": 29019,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Balanced Binary Tree",
    "content": "How do you check if a Binary Tree is height-balanced?",
    "explanation": "Recursion. Check if `Abs(Depth(Left) - Depth(Right)) <= 1` AND Left is Balanced AND Right is Balanced. O(N log N) naive, O(N) optimized (return height or -1 for error)."
  },
  {
    "id": 29020,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Network Delay Time",
    "content": "How does Dijkstra's Algorithm solve the 'Network Delay Time' problem?",
    "explanation": "**Dijkstra's Algorithm**. Priority Queue storing `(time, node)`. Extract min, relax neighbors. Max distance in the `dist` array is the answer. O(E log V)."
  },
  {
    "id": 29021,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Construct Tree from Preorder and Inorder",
    "content": "How do you construct a Binary Tree from Preorder and Inorder traversal arrays?",
    "explanation": "Preorder first element is Root. Find Root index in Inorder. Left of that index is Left Subtree, Right is Right Subtree. Recurse. O(N)."
  },
  {
    "id": 29022,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Rotten Oranges",
    "content": "How does BFS determine the time required for all oranges to rot in a grid?",
    "explanation": "**BFS**. Add all initially rotten oranges to Queue. Process level by level (minutes). Rot neighbors and add to queue. If fresh oranges remain at end, impossible (-1)."
  },
  {
    "id": 29023,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Path Sum III",
    "content": "How do you find all paths in a binary tree that sum to a given target?",
    "explanation": "**Prefix Sum** approach on a tree. Keep a Map of `CurrentPathSum -> Count`. `Needed = CurrentSum - Target`. Add `Map[Needed]` to result. Recurse. O(N)."
  },
  {
    "id": 29024,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Cheapest Flights Within K Stops",
    "content": "How do you find the cheapest flight within K stops?",
    "explanation": "Modified Dijkstra or **Bellman-Ford**. Bellman-Ford is easier: Run K+1 iterations of relaxing all edges. `dist[dest]` is answer. O(K*E)."
  },
  {
    "id": 29025,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Symmetric Tree",
    "content": "How do you determine if a Binary Tree is symmetric?",
    "explanation": "Helper `IsMirror(t1, t2)`. Checks `t1.val == t2.val` AND `IsMirror(t1.left, t2.right)` AND `IsMirror(t1.right, t2.left)`. O(N)."
  },
  {
    "id": 29026,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Reconstruct Itinerary",
    "content": "How do you Reconstruct an Itinerary using Eulerian paths?",
    "explanation": "**Hierholzer's Algorithm**. DFS. Sort destinations lexically. Visit edge and delete it. Add node to list *after* visiting neighbors (Post-order). Reverse list. O(E log E)."
  },
  {
    "id": 29027,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Right Side View",
    "content": "How do you obtain the Right Side View of a Binary Tree?",
    "explanation": "BFS (Level Order). For each level, add the *last* element to the result list. Or DFS (Root, Right, Left) tracking max depth visited. O(N)."
  },
  {
    "id": 29028,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "01 Matrix",
    "content": "How does Multi-source BFS solve the '01 Matrix' distance problem?",
    "explanation": "**Multi-source BFS**. Initialize Queue with all 0 coordinates. Set 1s to Infinity. Expand from all 0s simultaneously layer by layer. O(Rows*Cols)."
  },
  {
    "id": 29029,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Flatten Binary Tree to Linked List",
    "content": "How do you flatten a Binary Tree to a Linked List in-place?",
    "explanation": "Morris Traversal or Reverse Post-Order (Right, Left, Root). Keep `prev` pointer. `root.right = prev; root.left = null; prev = root;`. O(N)."
  },
  {
    "id": 29030,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Word Search",
    "content": "How does Backtracking solve the 'Word Search' problem in a grid?",
    "explanation": "**DFS** from every cell. If char matches, mark visited, recurse neighbors. Backtrack (unmark visited) if path fails. O(N*3^L)."
  },
  {
    "id": 29031,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Count Complete Tree Nodes",
    "content": "How do you count nodes in a Complete Binary Tree in less than O(N) time?",
    "explanation": "Check depth of Leftmost and Rightmost paths. If equal, it's a full tree (`2^h - 1`). If not, recurse. O(log N * log N)."
  },
  {
    "id": 29032,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Is Graph Bipartite?",
    "content": "How do you determine if a graph is Bipartite?",
    "explanation": "BFS/DFS. Color start node Red. Neighbors must be Blue. Their neighbors Red. If you find a neighbor already colored matching current, return False. O(V+E)."
  },
  {
    "id": 29033,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Step-By-Step Directions From Node to Node",
    "content": "How do you find the step-by-step directions from one tree node to another?",
    "explanation": "1. Find LCA. 2. Path S->LCA is all \"U\". 3. Path LCA->D is standard search (\"L\", \"R\"). Combine them. O(N)."
  },
  {
    "id": 29034,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Redundant Connection",
    "content": "How do you find a Redundant Connection in a graph?",
    "explanation": "**Union-Find**. Iterate edges. If `Find(u) == Find(v)`, they are already connected, so this edge creates a cycle. Return it. O(N)."
  },
  {
    "id": 29035,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Populating Next Right Pointers",
    "content": "How do you populate Next Right Pointers in a Binary Tree?",
    "explanation": "Level Order (BFS) or optimized DFS using existing next pointers: `head.left.next = head.right` and `head.right.next = head.next.left`. O(N)."
  },
  {
    "id": 29036,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Find the Celebrity",
    "content": "How do you efficiently find the 'Celebrity' in a party of N people?",
    "explanation": "1. Find candidate: If `A knows B`, A is not celebrity, B might be. Iterate `0..n`, maintain candidate. 2. Verify candidate knows no one and everyone knows them. O(N)."
  },
  {
    "id": 29037,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Unique Binary Search Trees",
    "content": "How many structurally unique BSTs can be formed with N nodes?",
    "explanation": "**Catalan Number**. Dynamic Programming. `dp[n] += dp[j-1] * dp[n-j]`. Root `j` has `j-1` nodes on left and `n-j` on right. O(N^2)."
  },
  {
    "id": 29038,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Surrounded Regions",
    "content": "How do you solve the 'Surrounded Regions' problem?",
    "explanation": "Reverse thinking. 'O' on the *boundary* cannot be captured. DFS from all boundary 'O's and mark them 'Safe'. Flip all other 'O's to 'X'. Revert 'Safe' to 'O'. O(Rows*Cols)."
  },
  {
    "id": 29039,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "House Robber III (Tree)",
    "content": "How do you solve the 'House Robber III' problem on a Binary Tree?",
    "explanation": "DFS returning `[WithRoot, WithoutRoot]`. `WithRoot = val + Left.Without + Right.Without`. `WithoutRoot = Max(Left) + Max(Right)`. O(N)."
  },
  {
    "id": 29040,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Connecting Cities with Min Cost",
    "content": "How do you connect cities with minimum cost using MST algorithms?",
    "explanation": "**Kruskal's Algorithm** (Sort edges + Union-Find) or **Prim's Algorithm** (Priority Queue from start node). O(E log E)."
  },
  {
    "id": 29041,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Vertical Order Traversal",
    "content": "How do you perform a Vertical Order Traversal of a Binary Tree?",
    "explanation": "DFS/BFS storing `(col, row, val)`. Sort by Col, then Row, then Val. Group by Col. O(N log N)."
  },
  {
    "id": 29042,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Bus Routes",
    "content": "How does BFS find the minimum number of buses to reach a destination?",
    "explanation": "**BFS on Routes**, not stops. Map `Stop -> [BusRoutes]`. Start at Source stop. Add reachable Routes to Queue. From those Routes, add reachable Stops. O(N+M)."
  },
  {
    "id": 29043,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Delete Node in BST",
    "content": "How do you delete a node from a BST while maintaining its properties?",
    "explanation": "1. Leaf: Null it. 2. One child: Replace with child. 3. Two children: Find Successor (Min of Right subtree). Copy Successor value to current. Delete Successor recursively. O(H)."
  },
  {
    "id": 29044,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Evaluation Division",
    "content": "How do you evaluate division queries using a Graph approach?",
    "explanation": "Build Graph. `a -> b` weight 2.0. `b -> a` weight 0.5. `a -> c` is path `a -> b -> c` multiplying weights (2.0 * 3.0 = 6.0). Use DFS/BFS. O(E+Q*V)."
  },
  {
    "id": 29045,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "All Nodes Distance K in Binary Tree",
    "content": "How do you find all nodes at distance K from a target node in a binary tree?",
    "explanation": "Convert Tree to Graph (Add Parent pointers). Start BFS from Target. Expand K levels outwards (Up, Left, Right). O(N)."
  },
  {
    "id": 29046,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Making A Large Island",
    "content": "How do you maximize island size by flipping exactly one '0'?",
    "explanation": "1. Calculate area of each island and give it an ID. 2. Iterate every '0'. Check 4 neighbors. Sum areas of unique neighbor island IDs + 1. Track Max. O(N^2)."
  },
  {
    "id": 29047,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Maximum Width of Binary Tree",
    "content": "How do you calculate the Maximum Width of a Binary Tree?",
    "explanation": "BFS. Assign index to nodes: `Root=1`, `Left=2*i`, `Right=2*i+1`. At each level, Width = `LastIndex - FirstIndex + 1`. O(N)."
  },
  {
    "id": 29048,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Open the Lock",
    "content": "How does BFS solve the 'Open the Lock' problem?",
    "explanation": "BFS. Each state has 8 neighbors (turn each wheel +/- 1). Use `Visited` set to avoid cycles and deadends. O(10000)."
  },
  {
    "id": 29049,
    "category": "Algorithms: Trees",
    "difficulty": "Senior",
    "title": "Recover Binary Search Tree",
    "content": "How do you recover a Binary Search Tree with two swapped nodes?",
    "explanation": "In-Order traversal should be sorted. Find two anomalies where `prev.val > curr.val`. First anomaly: `first = prev`. Second anomaly: `second = curr`. Swap values. Use Morris Traversal for O(1) space."
  },
  {
    "id": 29050,
    "category": "Algorithms: Graphs",
    "difficulty": "Senior",
    "title": "Shortest Path in Binary Matrix",
    "content": "How do you find the Shortest Path in a Binary Matrix?",
    "explanation": "Standard BFS. A* search (Heuristic = Euclidean distance) can optimize it. O(N)."
  }
  ,
  {
    "id": 30001,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Climbing Stairs",
    "content": "How does the Climbing Stairs problem relate to the Fibonacci sequence?",
    "explanation": "This is Fibonacci. `dp[i] = dp[i-1] + dp[i-2]`. Optimize space: You only need the last two numbers (`prev`, `curr`), not the whole array. O(N) Time, O(1) Space."
  },
  {
    "id": 30002,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Coin Change",
    "content": "How do you solve the 'Coin Change' problem (fewest coins) using DP?",
    "explanation": "Unbounded Knapsack. `dp[amount] = Min(dp[amount - coin]) + 1`. Initialize array with Infinity. If `dp[X]` remains Infinity, return -1. O(Amount * Coins)."
  },
  {
    "id": 30003,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Longest Increasing Subsequence (LIS)",
    "content": "How do you find the Longest Increasing Subsequence?",
    "explanation": "Standard DP is O(N^2). **Patience Sorting** (Binary Search) approach is O(N log N). Maintain a `tails` list. For each x, replace the first element in `tails` >= x. If none, append x."
  },
  {
    "id": 30004,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "0/1 Knapsack Problem",
    "content": "How do you solve the 0/1 Knapsack Problem?",
    "explanation": "2D DP `dp[item][weight]`. Include item: `val + dp[i-1][w-weight]`. Exclude: `dp[i-1][w]`. Take Max. Space optimize to 1D array by iterating weight backwards."
  },
  {
    "id": 30005,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Word Break",
    "content": "How does Dynamic Programming solve the 'Word Break' problem?",
    "explanation": "`dp[i]` = true if `s[0..i]` is valid. Iterate `j < i`. If `dp[j]` is true AND `s[j..i]` is in dictionary, then `dp[i] = true`. O(N^2)."
  },
  {
    "id": 30006,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Maximum Product Subarray",
    "content": "How do you handle negative numbers in the 'Maximum Product Subarray' problem?",
    "explanation": "Keep track of both `MaxProd` and `MinProd` at each step. If current number is negative, swapping `Max` and `Min` makes the big negative a big positive. O(N)."
  },
  {
    "id": 30007,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Partition Equal Subset Sum",
    "content": "How do you determine if an array can be partitioned into two equal sum subsets?",
    "explanation": "Calculate Total Sum. If odd, return False. Target = Sum / 2. Solve \"Subset Sum\" problem for Target. Boolean 1D DP array. O(N * Sum)."
  },
  {
    "id": 30008,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Longest Common Subsequence (LCS)",
    "content": "How do you find the Longest Common Subsequence of two strings?",
    "explanation": "2D DP. If chars match: `1 + dp[i-1][j-1]`. Else: `Max(dp[i-1][j], dp[i][j-1])`. O(N*M). Essential for git diff algorithms."
  },
  {
    "id": 30009,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Median of Two Sorted Arrays",
    "content": "How do you find the Median of Two Sorted Arrays in O(log(m+n))?",
    "explanation": "Binary Search on the *smaller* array partition. Find a cut such that elements on Left <= elements on Right. Complex index manipulation but critical for performance."
  },
  {
    "id": 30010,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Merge k Sorted Lists",
    "content": "How do you efficienty merge K Sorted Lists?",
    "explanation": "Use a **Min-Heap** (Priority Queue). Add head of all K lists to Heap. Extract Min (add to result), push next node from that list. O(N log K)."
  },
  {
    "id": 30011,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Trapping Rain Water",
    "content": "How do you solve the 'Trapping Rain Water' problem?",
    "explanation": "Two Pointers. Maintain `LeftMax` and `RightMax`. If `LMax < RMax`, fill water from Left. Else from Right. Water = `Max - Current`. O(N) Time, O(1) Space."
  },
  {
    "id": 30012,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "House Robber II",
    "content": "How does the circular constraint change the 'House Robber II' problem?",
    "explanation": "Break the circle. Run House Robber I on `nums[0..n-2]` and `nums[1..n-1]`. Take the Max of the two runs. O(N)."
  },
  {
    "id": 30013,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Edit Distance",
    "content": "How do you calculate the Edit Distance between two strings?",
    "explanation": "2D DP. `dp[i][j]` is min ops for prefixes `i` and `j`. Operations: Replace (`i-1, j-1`), Delete (`i-1, j`), Insert (`i, j-1`). Take Min + 1. O(N*M)."
  },
  {
    "id": 30014,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Largest Rectangle in Histogram",
    "content": "How do you find the Largest Rectangle Area in a Histogram?",
    "explanation": "**Monotonic Stack**. Iterate bars. If current < stack top, pop stack. Popped bar is height. Width is `current_index - new_stack_top - 1`. Calculate Area. O(N)."
  },
  {
    "id": 30015,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Sliding Window Maximum",
    "content": "How do you efficiently find the maximum value in every Sliding Window of size K?",
    "explanation": "**Monotonic Deque** (Double-ended queue). Store indices. Keep values in Deque decreasing. Remove indices out of window from front. The front is always the Max. O(N)."
  },
  {
    "id": 30016,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Target Sum",
    "content": "How do you solve the 'Target Sum' problem using Dynamic Programming?",
    "explanation": "Reduces to **Subset Sum**. We need `(Sum(P) - Sum(N)) = Target`. Math: `Sum(P) = (Total + Target) / 2`. Count subsets that sum to this new target. O(N * Sum)."
  },
  {
    "id": 30017,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "N-Queens",
    "content": "How does Backtracking solve the N-Queens problem?",
    "explanation": "**Backtracking**. Place row by row. Maintain Sets for `Cols`, `Diagonals`, `AntiDiagonals`. Check sets for safety in O(1). If valid, recurse. Backtrack (remove from sets) if stuck."
  },
  {
    "id": 30018,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Unique Paths",
    "content": "How many unique paths exist for a robot moving from top-left to bottom-right in a grid?",
    "explanation": "`dp[i][j] = dp[i-1][j] + dp[i][j-1]`. Combinatorics solution: `(M+N-2) Choose (M-1)`. O(N) or O(1) math."
  },
  {
    "id": 30019,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Word Search II",
    "content": "How do you solve 'Word Search II' (multiple words) efficiently?",
    "explanation": "DFS + **Trie**. Build Trie from list of words. DFS on grid. If path matches a Trie prefix, continue. If `isWord` in Trie, add to result. Dedup using Set. O(N*M*4^L)."
  },
  {
    "id": 30020,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Jump Game II",
    "content": "How do you find the minimum number of jumps to reach the end of an array?",
    "explanation": "**Greedy** (BFS implicit). `farthest` you can reach in current jump. Iterate `i`. Update `farthest`. If `i == currentEnd`, `jumps++`, `currentEnd = farthest`. O(N)."
  },
  {
    "id": 30021,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Matrix Chain Multiplication",
    "content": "How does Matrix Chain Multiplication optimization work?",
    "explanation": "**Interval DP**. `dp[i][j]` = min cost to multiply matrices i to j. Try every split point `k`. `Cost = dp[i][k] + dp[k+1][j] + dims`. O(N^3)."
  },
  {
    "id": 30022,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Sudoku Solver",
    "content": "How does a Backtracking algorithm solve a Sudoku puzzle?",
    "explanation": "**Backtracking**. Find empty cell. Try 1-9. Check validity (Row, Col, 3x3 Box). If valid, recurse. If recursion returns true, done. If false, backtrack (reset cell to empty)."
  },
  {
    "id": 30023,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Best Time to Buy and Sell Stock IV",
    "content": "How do you determine the maximum profit from buying and selling stocks with at most K transactions?",
    "explanation": "2D DP. `dp[k][d]` max profit on day `d` with `k` transactions. Optimization: Track local max diff. O(N*K). If `K >= N/2`, it's infinite transactions (greedy)."
  },
  {
    "id": 30024,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "First Missing Positive",
    "content": "How do you find the First Missing Positive integer in an unsorted array?",
    "explanation": "**Cyclic Sort**. Swap numbers to their 1-based index (`val 5` goes to `index 4`). Ignore negatives/large numbers. Pass 2: find first index where `nums[i] != i+1`."
  },
  {
    "id": 30025,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Decode Ways II",
    "content": "How do you solve 'Decode Ways II' with wildcard characters?",
    "explanation": "Standard DP but with case handling. `*` can be 1-9. `1*` can be 11-19 (9 ways). `2*` can be 21-26 (6 ways). Modulo 10^9+7 at each step."
  },
  {
    "id": 30026,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Reverse Nodes in k-Group",
    "content": "How do you reverse nodes in a Linked List in groups of K?",
    "explanation": "Check if K nodes exist. If yes, reverse them (standard reversal). Connect `prev.next` to new head. Connect old head to recursion result. O(N)."
  },
  {
    "id": 30027,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Burst Balloons",
    "content": "How do you maximize coins in the 'Burst Balloons' problem?",
    "explanation": "**Interval DP**. `dp[i][j]` max coins from bursting range `i` to `j`. The trick: Assume `k` is the *last* balloon to burst in the range. `nums[i-1]*nums[k]*nums[j+1] + left + right`. O(N^3)."
  },
  {
    "id": 30028,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Alien Dictionary",
    "content": "How do you derive an Alien Dictionary order using Topological Sort?",
    "explanation": "Build Graph from adjacent words (first differing char is edge). Count in-degrees. **Kahn's Algo** (BFS). If result count < unique chars, cycle exists (Invalid). O(C)."
  },
  {
    "id": 30029,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Interleaving String",
    "content": "How do you check if a string is an Interleaving of two other strings?",
    "explanation": "2D Boolean DP. `dp[i][j]` = `s3[i+j]` matches `s1[i]` (and prev valid) OR `s2[j]` (and prev valid). Space optimize to 1D. O(M*N)."
  },
  {
    "id": 30030,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Skyline Problem",
    "content": "How do you solve the 'Skyline Problem'?",
    "explanation": "Critical Points. Turn buildings into events: `(L, -H, Start)`, `(R, H, End)`. Sort by x. Iterate. Use **Max-Heap** (or TreeMap) to track active heights. If Max Height changes, add point. O(N log N)."
  },
  {
    "id": 30031,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Palindromic Substrings",
    "content": "How do you count the number of Palindromic Substrings in a string?",
    "explanation": "**Expand Around Center**. For each `i` (and `i, i+1`), expand L/R. Every successful expansion is a palindrome. Count them. O(N^2)."
  },
  {
    "id": 30032,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Count of Smaller Numbers After Self",
    "content": "How do you find the count of smaller numbers after self for each element?",
    "explanation": "**Merge Sort**. During merge, if `left[i] > right[j]`, then `left[i]` is bigger than *all* remaining elements in right side (jump logic). Add to count. O(N log N)."
  },
  {
    "id": 30033,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Regular Expression Matching",
    "content": "How do you implement Regular Expression Matching with '.' and '*' support?",
    "explanation": "Hard 2D DP. `dp[i][j]`. If `*`, check zero occurrences (`dp[i][j-2]`) or one/more (`match current && dp[i-1][j]`). O(M*N)."
  },
  {
    "id": 30034,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Wildcard Matching",
    "content": "How do you implement Wildcard Matching with '?' and '*' support?",
    "explanation": "`*` matches any sequence. DP similar to RegEx but simpler. `dp[i][j] = dp[i-1][j] || dp[i][j-1]` (Empty sequence or extend sequence). O(M*N)."
  },
  {
    "id": 30035,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Serialize Binary Tree",
    "content": "How do you Serialize and Deserialize a Binary Tree?",
    "explanation": "Pre-order traversal. Use `null` markers (e.g. \"#\"). BFS (Level Order) is also fine but string is longer. Pre-order is compact."
  },
  {
    "id": 30036,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Distinct Subsequences",
    "content": "How do you count distinct subsequences of string S that equal string T?",
    "explanation": "`dp[i][j]` ways to form `T[0..j]` using `S[0..i]`. If `S[i] == T[j]`, we can Use char (`dp[i-1][j-1]`) or Skip char (`dp[i-1][j]`). O(M*N)."
  },
  {
    "id": 30037,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Shortest Path Visiting All Nodes",
    "content": "How do you find the Shortest Path Visiting All Nodes in a graph?",
    "explanation": "State is `(Node, Mask)`. Mask tracks visited nodes. BFS queue. If `Mask == (1<<N)-1`, return steps. Visited array prevents cycles `Visited[Node][Mask]`. O(N * 2^N)."
  },
  {
    "id": 30038,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Minimum Window Subsequence",
    "content": "How do you find the Minimum Window Subsequence?",
    "explanation": "DP or Two Pointers optimized. Iterate S. If char matches T[0], try to match full T. If matched, optimize backwards to find shortest start point. O(S*T) or O(S)."
  },
  {
    "id": 30039,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Concatenated Words",
    "content": "How do you find all Concatenated Words in a list?",
    "explanation": "DFS + Trie/Set. Sort by length. For each word, check if it can be broken into valid prefixes found in Set. Memoize results. O(N*L^2)."
  },
  {
    "id": 30040,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Optimal Binary Search Tree",
    "content": "How do you construct an Optimal Binary Search Tree given access frequencies?",
    "explanation": "Interval DP. Root `k` can be any node `i..j`. Cost = `Sum(freq i..j) + Cost(Left) + Cost(Right)`. O(N^3)."
  },
  {
    "id": 30041,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "LFU Cache",
    "content": "How do you implement an LFU (Least Frequently Used) Cache?",
    "explanation": "2 HashMaps. `Vals: Key->Val`. `Counts: Key->Freq`. `Lists: Freq->DoublyLinkedList`. `MinFreq` variable. O(1) Get/Put. Complex state management."
  },
  {
    "id": 30042,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Russian Doll Envelopes",
    "content": "How do you find the maximum number of nested Russian Doll Envelopes?",
    "explanation": "Sort by Width ASC, Height DESC. Find **LIS** (Longest Increasing Subsequence) on Heights. Sorting Height DESC handles the edge case where Widths are equal (cannot nest). O(N log N)."
  },
  {
    "id": 30043,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Max Points on a Line",
    "content": "How do you find the maximum number of points that lie on the same line?",
    "explanation": "For each point `i`, calculate Slope to every other point `j`. Store slopes in HashMap `Slope -> Count`. Track Max. GCD needed for precise slope (Rise/Run). O(N^2)."
  },
  {
    "id": 30044,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Max Profit in Job Scheduling",
    "content": "How do you maximize profit in Job Scheduling?",
    "explanation": "Sort by End Time. `dp[i]` = Max profit using first `i` jobs. Choice: Include job `i` (Profit + `dp[index_before_start]`) OR Exclude (`dp[i-1]`). Use Binary Search to find prev index. O(N log N)."
  },
  {
    "id": 30045,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Design InMemory File System",
    "content": "How do you Design an In-Memory File System?",
    "explanation": "Trie Nodes represent Directories/Files. `Map<Name, Node>`. `IsFile` bool. `StringBuilder` content. Walk the path splitting by '/'. O(PathLength)."
  },
  {
    "id": 30046,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Palindrome Partitioning II",
    "content": "How do you find the minimum cuts for Palindrome Partitioning?",
    "explanation": "Use Dynamic Programming `dp[i]`. `dp[i]` represents the minimum cuts needed for the prefix string ending at `i`. Iterate `j` from 0 to `i`. If the substring `s[j...i]` is a palindrome (precomputed), then `dp[i] = Min(dp[i], dp[j-1] + 1)`. The result is `dp[n-1]`. Complexity is O(N^2)."
  },
  {
    "id": 30047,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Stream of Characters",
    "content": "How do you efficiently query a Stream of Characters for valid suffixes?",
    "explanation": "Reverse Trie. Insert words reversed. Stream adds chars to a buffer. Query walks the Trie from the *end* of the buffer backwards. O(L)."
  },
  {
    "id": 30048,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Dungeon Game",
    "content": "How do you calculate the minimum HP required to survive the Dungeon Game?",
    "explanation": "Bottom-Up DP. Start from Princess (End). `dp[i][j]` = Min HP needed before entering this room. `Need = Min(Right, Down) - CurrentOrb`. `Need` must be >= 1. O(N*M)."
  },
  {
    "id": 30049,
    "category": "Algorithms: Hard",
    "difficulty": "Senior",
    "title": "Find Median from Data Stream",
    "content": "How do you find the Median from a Data Stream efficiently?",
    "explanation": "**Two Heaps**. Max-Heap for lower half. Min-Heap for upper half. Balance sizes. Median is Top of heap(s). Heaps rebalance automatically."
  },
  {
    "id": 30050,
    "category": "Algorithms: DP",
    "difficulty": "Senior",
    "title": "Stone Game",
    "content": "How do you determine the winner in the 'Stone Game'?",
    "explanation": "`dp[i][j]` max score diff for subarray `i..j`. `Max(Piles[i] - dp[i+1][j], Piles[j] - dp[i][j-1])`. Game theory (Zero-sum)."
  }
  ,
  {
    "id": 31001,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "The 'Weakness' Question",
    "content": "How should you answer the 'What is your biggest weakness?' interview question?",
    "explanation": "This is a \"Humble Brag\". Interviewers hate it. Give a **Real Weakness** (e.g., \"I struggle with public speaking\" or \"I sometimes dive into code before planning enough\") and immediately explain the **Steps you are taking to improve**."
  },
  {
    "id": 31002,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Disagreement with Management",
    "content": "How should you describe a time you disagreed with a manager?",
    "explanation": "Never badmouth previous employers. Use **STAR**. Situation: Framework choice. Action: I prepared a POC comparison and presented data on developer velocity. Result: Management stuck to Angular for staffing reasons, and I **Committed** to making it successful (Disagree and Commit)."
  },
  {
    "id": 31003,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Handling Failure",
    "content": "How should you discuss a production failure you caused?",
    "explanation": "Avoid saying 'I never make mistakes'. Instead, show **Ownership and Growth**. **Example:** \"I deployed a bad migration that locked the User table. I immediately rolled back. I then wrote a Post-Mortem and added a CI step to test migrations on a staging replica to ensure it never happens again.\""
  },
  {
    "id": 31004,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Dealing with Underperformers",
    "content": "How do you handle a junior developer who consistently submits buggy code?",
    "explanation": "Do NOT fix it for them. 1. Private 1-on-1 discussion (Empathy). 2. Pair Programming sessions to debug *their* thought process. 3. Smaller, more defined tasks. 4. If no improvement, escalate to manager with documentation."
  },
  {
    "id": 31005,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Tech Debt vs Features",
    "content": "How do you balance Technical Debt and new feature requests with a Product Owner?",
    "explanation": "Speak Business Language. Don't say \"Code is ugly\". Say \"This debt slows down future features by 50%\". Negotiate a **20% Tax**: Dedicate 20% of every sprint to debt/refactoring, while shipping features with the other 80%."
  },
  {
    "id": 31006,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "The 'Why are you leaving?' Question",
    "content": "How should you answer 'Why are you leaving your current job?' without being negative?",
    "explanation": "Avoid negative comments about your current employer. Focus entirely on **Growth**. \"I've learned a lot there, but I feel I've hit a ceiling in terms of architectural challenges. I'm looking for a role where I can tackle larger scale distributed systems, which your company offers.\""
  },
  {
    "id": 31007,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Mentorship Strategy",
    "content": "How do you mentor juniors?",
    "explanation": "\"I don't just give answers. I ask guiding questions ('What happens if X is null?'). I encourage them to drive during Pair Programming. I let them fail safely in Dev environments to learn.\""
  },
  {
    "id": 31008,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Handling Tight Deadlines",
    "content": "How do you handle unrealistic deadlines?",
    "explanation": "**Scope Hammer**. \"We cannot change Time. We must change Scope. What is the MVP? Can we cut the 'Export to PDF' feature for v1 and ship the core flow in 2 weeks?\""
  },
  {
    "id": 31009,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Conflict Resolution",
    "content": "How do you resolve technical conflicts between senior engineers?",
    "explanation": "\"I would facilitate a whiteboard session. List Pros/Cons for *our specific use case*. If no consensus, I would prototype both (Timebox 4 hours) to measure performance. Data wins arguments, not opinions.\""
  },
  {
    "id": 31010,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Giving Feedback",
    "content": "How do you give constructive feedback on poor quality code?",
    "explanation": "Comment on the **Code**, not the **Person**. \"This method is hard to test\" vs \"You wrote messy code\". Use 'We' language. \"How can we simplify this loop?\" Suggest alternatives, don't just block."
  },
  {
    "id": 31011,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Learning New Tech",
    "content": "How do you stay current with rapidly changing technology like .NET?",
    "explanation": "\"I subscribe to the .NET Blog and Nick Chapsas/Microsoft MVP channels. I build small POCs on weekends when major versions (like .NET 8) drop to test new features like Native AOT before suggesting them at work.\""
  },
  {
    "id": 31012,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Star Method: Situation",
    "content": "Why should you avoid generalizations when using the STAR method?",
    "explanation": "Don't talk in generalities (\"We usually\"). Talk about a **Specific Event**. \"In Q4 2023, during the Black Friday preparation, we faced a deployment bottleneck...\""
  },
  {
    "id": 31013,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Star Method: Action",
    "content": "Why is it important to emphasize your individual contribution in a behavioral story?",
    "explanation": "What did **YOU** do? \"The team decided\" hides your contribution. Say: \"I proposed the Azure migration plan, I wrote the Terraform scripts, and I led the training session for the team.\""
  },
  {
    "id": 31014,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Star Method: Result",
    "content": "Why should you quantify results in your behavioral answers?",
    "explanation": "Too vague. Use **Numbers**. \"...which reduced deployment time from 2 hours to 10 minutes and cut cloud costs by 30%.\""
  },
  {
    "id": 31015,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Choosing Boring Technology",
    "content": "How do you justify choosing 'boring' technology over trendy frameworks?",
    "explanation": "\"We chose SQL Server over Mongo because our data was highly relational and the team was already expert in SQL. Introducing new tech introduces 'Unknown Unknowns'. We prioritized stability and speed of delivery over resume-driven development.\""
  },
  {
    "id": 31016,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Cross-Team dependency",
    "content": "How do you handle cross-team dependencies blocking your progress?",
    "explanation": "1. Communicate early. 2. Define an Interface Contract (Mock/Swagger). 3. Build against the Mock. 4. When they are ready, integration is easy. Don't sit idle waiting."
  },
  {
    "id": 31017,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Saying 'I Don't Know'",
    "content": "How should you respond when you don't know the answer to a technical question?",
    "explanation": "\"I don't know the exact implementation details of that algorithm off the top of my head. However, based on my knowledge of X, I would approach it by... and I would verify it by checking the documentation on Y.\""
  },
  {
    "id": 31018,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Definition of Done",
    "content": "How do you define 'Done' for a software feature?",
    "explanation": "Not when it works on my machine. It is done when: Code is committed, Tests pass, CI builds, Deployed to Staging, and **Accepted by Product Owner** (and ideally documented)."
  },
  {
    "id": 31019,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Five Whys",
    "content": "How do you perform a Root Cause Analysis (RCA) using the '5 Whys'?",
    "explanation": "Use the **5 Whys**. Site crashed? Why? DB full. Why? Logs filled disk. Why? Debug level left on. Why? Manual deployment error. Why? No CI/CD pipeline. **Root Cause**: Lack of automation."
  },
  {
    "id": 31020,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Dealing with Ambiguity",
    "content": "How do you handle vague technical requirements?",
    "explanation": "\"I would define metrics first. 'Faster' is subjective. I'd set up Application Insights to find the P95 latency. Once we measure it (e.g., 3s), I'd set a goal (e.g., 1s) and profile the bottleneck (DB vs API) before writing code.\""
  },
  {
    "id": 31021,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Estimation",
    "content": "How should you respond when asked for an immediate estimate on the spot?",
    "explanation": "Never give a single number instantly. Say \"Let me get back to you\". Break it down. Then give a **Range** or Confidence Interval. \"It looks like 3-5 days, assuming no API blockers.\""
  },
  {
    "id": 31022,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Resume Driven Development",
    "content": "Is 'Resume Driven Development' ever an acceptable answer in an interview?",
    "explanation": "**(Honesty).** \"Yes, in personal projects or internal tools. For production/client work, I stick to the 'Boring' stack (proven tech) to minimize risk, unless the new tech solves a specific problem the old one cannot.\""
  },
  {
    "id": 31023,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Ownership",
    "content": "What is the appropriate action when you discover a bug in another team's service?",
    "explanation": "Don't just ignore it. Log a ticket. If urgent, investigate and offer a fix (PR) or detailed reproduction steps. \"You build it, you run it\" applies, but we share ownership of the platform quality."
  },
  {
    "id": 31024,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Over-Engineering",
    "content": "How should you discuss a time you over-engineered a solution?",
    "explanation": "\"I once built a generic plugin system using Reflection for a simple calculator. It took 3 days. A switch statement would have taken 1 hour. I learned to follow YAGNI and only abstract when the 3rd repetition occurs.\""
  },
  {
    "id": 31025,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Working with Non-Technical Stakeholders",
    "content": "How do you explain technical concepts like 'Refactoring' to non-technical stakeholders?",
    "explanation": "Use analogies. \"It's like the kitchen in a restaurant. If we don't clean the dishes (Refactor) and organize the station, we can't cook the next meal (Feature) fast enough. We need time to clean up to maintain speed.\""
  },
  {
    "id": 31026,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Remote Work Ethics",
    "content": "How do you stay productive remotely?",
    "explanation": "\"I over-communicate. I update Jira status daily. I use Slack status to indicate 'Deep Work'. I document decisions in Confluence/Wiki so async team members can catch up without meetings.\""
  },
  {
    "id": 31027,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Handling Production Access",
    "content": "Should engineers have SSH access to production environments?",
    "explanation": "A mature answer is \"Ideally, No.\" I should use Observability tools (Logs/Metrics) to debug. If I need to change data, I run a scripted pipeline job. Manual SSH is a risk."
  },
  {
    "id": 31028,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Documentation",
    "content": "What is the modern best practice for code comments?",
    "explanation": "\"I write **Self-Documenting Code** (clean naming). I write comments only for 'Why' (business context/hacks). I prefer updating the README or Architecture Diagrams for high-level documentation over stale inline comments.\""
  },
  {
    "id": 31029,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Pair Programming",
    "content": "What is a balanced perspective on Pair Programming?",
    "explanation": "\"Yes, for complex logic or onboarding. It acts as a real-time code review. For boilerplate tasks, I prefer async work. I'm flexible.\""
  },
  {
    "id": 31030,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Diversity and Inclusion",
    "content": "How do you ensure an inclusive team environment?",
    "explanation": "\"I ensure quiet voices are heard in meetings. I avoid idioms/slang that non-native speakers might miss. I focus code reviews strictly on the code quality, not personal style preference.\""
  },
  {
    "id": 31031,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Salary Expectation Question",
    "content": "How should you handle salary expectation questions?",
    "explanation": "Pivot. \"I'm focusing on finding the right fit for my skills. For this level of seniority and responsibility, I'm targeting a range of $X to $Y, based on market data.\""
  },
  {
    "id": 31032,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Questions for the Interviewer",
    "content": "Why must you always have questions for the interviewer?",
    "explanation": "Always ask questions. It shows interest. Good ones: \"What is the biggest technical challenge the team faces right now?\", \"How is the On-Call rotation handled?\", \"How do you handle Tech Debt?\"."
  },
  {
    "id": 31033,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "High Pressure Situation",
    "content": "How do you handle a high-pressure production incident?",
    "explanation": "\"Stay calm. designate an Incident Commander (me or someone else) to talk to the CEO so the engineers can focus. Rollback the last change immediately. Diagnose *after* service is restored.\""
  },
  {
    "id": 31034,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Code Review Gatekeeping",
    "content": "Should Code Reviews focus on formatting issues?",
    "explanation": "Use a Linter (EditorConfig/Prettier) to automate formatting. Human reviews should focus on Architecture, Logic, and Security. Don't be a 'human compiler'."
  },
  {
    "id": 31035,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Bus Factor",
    "content": "Why is a high 'Bus Factor' dangerous and how do you mitigate it?",
    "explanation": "Bad for the company and you (you can never take vacation). Action: Document it. Hold a 'Knowledge Transfer' session. Record a video walkthrough. Pair with others on the next Payment ticket."
  },
  {
    "id": 31036,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "User-Centricity",
    "content": "How do you advocate for the user against a Product Manager's bad idea?",
    "explanation": "\"I would express my concern with data/UX examples. 'If we add this popup, bounce rate might increase'. If PM insists, I commit to building it, but I ensure we add telemetry to measure if my fear was correct.\""
  },
  {
    "id": 31037,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Testing Philosophy",
    "content": "Is 100% Code Coverage a good goal?",
    "explanation": "\"No. I aim for high 'Confidence'. 100% often leads to brittle tests testing getters/setters. I focus on covering the critical business paths and edge cases.\""
  },
  {
    "id": 31038,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Handling Boring Tasks",
    "content": "How do you handle boring or repetitive maintenance tasks?",
    "explanation": "\"It's part of the job (Chop wood, carry water). I would try to automate it (Dependabot) or script the process to make it faster next time. Maintenance is crucial for security.\""
  },
  {
    "id": 31039,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Disagreement on PR",
    "content": "How do you resolve subjective disagreements in Code Review?",
    "explanation": "\"If it's a matter of preference (e.g., var vs explicit type), I follow the project's existing style guide. Consistency > Personal Preference. If it's a functional issue, I provide a code example showing why my way is safer/faster.\""
  },
  {
    "id": 31040,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Ethical Dilemma",
    "content": "How do you handle ethical dilemmas, such as a request to violate Terms of Service?",
    "explanation": "\"I would raise the legal/compliance risk to the boss. 'If we get blocked or sued, it costs us more'. If they insist on unethical/illegal behavior, I would refuse and potentially reconsider my employment.\""
  },
  {
    "id": 31041,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Ideal Work Environment",
    "content": "What environment do you thrive in?",
    "explanation": "\"One with Psychological Safety (safe to fail), clear goals, and minimal red tape. I like environments where engineers are empowered to deploy to production and own their features.\""
  },
  {
    "id": 31042,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Most Proud Achievement",
    "content": "How do you describe your 'most proud achievement'?",
    "explanation": "Pick a story with **Impact**. \"I optimized the checkout API, reducing latency by 500ms, which increased conversion by 2% and generated $50k extra revenue per month.\""
  },
  {
    "id": 31043,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Dealing with Change",
    "content": "How do you handle sudden strategic pivots in a project?",
    "explanation": "\"It's frustrating but part of Agile. I would work to salvage reusable components from the old code, archive the rest cleanly, and pivot to the new direction quickly to minimize wasted time.\""
  },
  {
    "id": 31044,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Influence without Authority",
    "content": "How do you convince other teams to use your library?",
    "explanation": "\"Make it the Path of Least Resistance. Great documentation, easy install, responsive support. People adopt tools that solve their problems, not tools they are forced to use.\""
  },
  {
    "id": 31045,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "One-Way vs Two-Way Door Decisions",
    "content": "What is the difference between One-Way and Two-Way Door decisions?",
    "explanation": "Amazon Principle. **Two-Way Door** (Reversible): Decide fast, fix later. **One-Way Door** (Hard to reverse, e.g., DB choice, Public API): Gather data, deliberate, involve stakeholders.\""
  },
  {
    "id": 31046,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Handling Burnout",
    "content": "How do you proactively handle burnout?",
    "explanation": "\"I speak to my manager. I take PTO to disconnect. I check if I'm over-working or if the process is broken. Health comes first; a burned-out engineer writes bad code.\""
  },
  {
    "id": 31047,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Tabs vs Spaces",
    "content": "How do you resolve 'Tabs vs Spaces' style wars in a team?",
    "explanation": "\"I implement `.editorconfig` and a Prettier hook in CI. The machine decides. We stop wasting human energy on formatting debates.\""
  },
  {
    "id": 31048,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Being On-Call",
    "content": "How do you handle being woken up at 2 AM?",
    "explanation": "\"It's part of the job, provided it's rare. I triage the issue, mitigate impact, and go back to sleep. Next day, I prioritize fixing the Root Cause so I don't get woken up again. (Alert Fatigue management).\""
  },
  {
    "id": 31049,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Simplifying Complexity",
    "content": "Explain 'Dependency Injection' to a 5-year-old.",
    "explanation": "\"Instead of building your own toy, you ask your parents for a toy. They give you the toy you need. If you need a different toy, you just ask, you don't have to build it yourself.\""
  },
  {
    "id": 31050,
    "category": "Behavioral",
    "difficulty": "Senior",
    "title": "Continuous Improvement",
    "content": "Why is Continuous Learning critical for a Senior Engineer?",
    "explanation": "Always have an answer. \"I learned about the new 'Interceptor' feature in .NET 8\" or \"I read a blog post about Postgres vacuuming strategies\". Shows you are constantly evolving."
  }
  ,
  {
    "id": 32001,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "TCP vs UDP",
    "content": "Why is UDP used for Voice/Video instead of TCP?",
    "explanation": "TCP provides **Reliability** (Retries, Ordering), which causes latency (Head-of-Line Blocking). In Video/Voice, if a packet is lost, it's better to skip it (glitch) than pause the stream to wait for retransmission (buffer). UDP is \"Fire and Forget\"."
  },
  {
    "id": 32002,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "TCP Handshake",
    "content": "How does the TCP 3-Way Handshake work?",
    "explanation": "1. **SYN**: Client sends \"Let's talk\". 2. **SYN-ACK**: Server sends \"Okay, I'm listening\". 3. **ACK**: Client sends \"Okay, connected\". This establishes the sequence numbers for reliable transmission."
  },
  {
    "id": 32003,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Process vs Thread",
    "content": "Will an unhandled exception in a single thread crash the entire process?",
    "explanation": "Yes. Threads share the same **Memory Space** (Heap). An unhandled exception in one thread tears down the AppDomain/Process. Processes are isolated (separate memory); if one crashes, others survive (e.g., Chrome Tabs)."
  },
  {
    "id": 32004,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Context Switching",
    "content": "Why does excessive threading degrade performance on limited cores?",
    "explanation": "**Context Switching**. The OS must save the state (registers/stack) of Thread A and load Thread B. This overhead costs CPU cycles. If threads > cores, the CPU spends more time switching than working. Async/Await solves this by using fewer threads."
  },
  {
    "id": 32005,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "TLS Handshake Latency",
    "content": "How many Round Trip Times (RTT) are required to establish an HTTPS connection?",
    "explanation": "TCP (1 RTT) + TLS 1.2 (2 RTT) = 3 RTT. **TLS 1.3** reduces this to 1 RTT (False Start). **QUIC** (HTTP/3) combines TCP+TLS steps to 0-1 RTT. This is why HTTP/3 is faster for mobile networks."
  },
  {
    "id": 32006,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "DNS Resolution",
    "content": "What is the difference between a DNS 'A' Record and a 'CNAME'?",
    "explanation": "**A Record** maps Name -> IP (`google.com` -> `1.2.3.4`). **CNAME** maps Name -> Name (`mail.google.com` -> `ghs.google.com`). You cannot put a CNAME on the root domain (`example.com`), only subdomains."
  },
  {
    "id": 32007,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Virtual Memory",
    "content": "Is it possible for a 32-bit application to allocate 3GB of RAM on a 64-bit OS?",
    "explanation": "A 32-bit process has a **Virtual Address Space** of 4GB. Only ~2GB is user-mode addressable (Windows default). Even with 1TB physical RAM, the 32-bit pointer limitation prevents addressing more."
  },
  {
    "id": 32008,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Stack vs Heap",
    "content": "Which is faster to allocate memory on: Stack or Heap?",
    "explanation": "**Stack** is faster. It's just moving a pointer (add/sub) and is CPU cache-friendly. **Heap** requires the Memory Manager to find a free block of suitable size, potentially triggering GC or fragmentation checks."
  },
  {
    "id": 32009,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "HTTP/1.1 vs HTTP/2",
    "content": "What is the primary performance advantage of HTTP/2 over HTTP/1.1?",
    "explanation": "**Multiplexing**. HTTP/1.1 needs multiple TCP connections to download multiple files in parallel (Head-of-Line blocking). HTTP/2 sends multiple streams (files) over a *single* TCP connection simultaneously."
  },
  {
    "id": 32010,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Inode",
    "content": "Why would Linux report 'No space left on device' when disk space is available?",
    "explanation": "You ran out of **Inodes**. An Inode is the metadata structure for a file. If you create millions of tiny 1KB files, you consume all Inodes before consuming all disk blocks."
  },
  {
    "id": 32011,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "False Sharing",
    "content": "What is 'False Sharing' in multithreading and how does it affect performance?",
    "explanation": "When two threads modify independent variables that sit on the same **CPU Cache Line** (64 bytes). The cores invalidate each other's cache repeatedly, killing performance. Fix: Add padding to separate variables."
  },
  {
    "id": 32012,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Floating Point Determinism",
    "content": "Why does `0.1 + 0.2 == 0.3` evaluate to false in floating-point arithmetic?",
    "explanation": "No. It is `0.30000000000000004`. Floating points (IEEE 754) trade precision for range. Never compare floats with `==`. Use `Abs(a - b) < epsilon` or `decimal` for money."
  },
  {
    "id": 32013,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Big O Notation",
    "content": "How does the time complexity of searching a Hash Map compare to a Binary Search Tree?",
    "explanation": "Hash Map: Average O(1), Worst case O(N) (Collisions). BST: Average O(log N), Worst case O(N) (Unbalanced). Red-Black Tree guarantees O(log N)."
  },
  {
    "id": 32014,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Little Endian vs Big Endian",
    "content": "What distinguishes Little Endian from Big Endian byte ordering?",
    "explanation": "Intel is **Little Endian** (Least Significant Byte first). Network/Mainframes are usually **Big Endian**. You must flip the bytes (BitConverter) when serializing binary data across different architectures."
  },
  {
    "id": 32015,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Deadlock Conditions",
    "content": "What are the four Coffman Conditions required for a Deadlock to occur?",
    "explanation": "**Coffman Conditions**: 1. Mutual Exclusion. 2. Hold and Wait. 3. No Preemption. 4. Circular Wait. Breaking *any* of these prevents deadlock."
  },
  {
    "id": 32016,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Symmetric vs Asymmetric Encryption",
    "content": "Which encryption method is computationally faster: Symmetric or Asymmetric?",
    "explanation": "**Symmetric** (AES) is 1000x faster than Asymmetric (RSA). That's why TLS uses RSA only to exchange the key, then switches to AES for the actual data stream."
  },
  {
    "id": 32017,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Zombie Process",
    "content": "What is a 'Zombie Process' in Unix-like systems?",
    "explanation": "A child process that has finished execution but whose parent hasn't `wait()`ed for it to read its exit code. It stays in the process table (consuming a PID) as `Z` state."
  },
  {
    "id": 32018,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Hard Link vs Soft Link",
    "content": "What is the difference between a Hard Link and a Soft (Symbolic) Link?",
    "explanation": "**Hard Link**: Points to the Inode (Physical file). If you delete the original file, hard link still works. **Soft (Symbolic) Link**: Points to the path/filename. If you delete original, link is broken."
  },
  {
    "id": 32019,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Hash Collision",
    "content": "How do Hash Maps handle collisions when two keys map to the same bucket?",
    "explanation": "**Chaining**: The bucket contains a LinkedList (or Tree). **Open Addressing**: Find the next empty slot (Linear Probing). .NET Dictionary uses Chaining."
  },
  {
    "id": 32020,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Time Complexity of Sorting",
    "content": "Is it possible to sort an array faster than O(N log N)?",
    "explanation": "For general comparison sort (Quick/Merge), No. But for integers with known range, **Radix Sort** or **Counting Sort** can do O(N)."
  },
  {
    "id": 32021,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Idempotent HTTP Methods",
    "content": "Is the HTTP DELETE method considered idempotent?",
    "explanation": "Yes. `DELETE /users/1` returns 200 (Deleted). Calling it again returns 404 (Not Found). The state of the server is the same (User 1 is gone) regardless of how many times you call it."
  },
  {
    "id": 32022,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "CDN Anycast",
    "content": "How does CDN Anycast routing direct users to the nearest server?",
    "explanation": "Multiple servers globally announce the **Same IP Address**. BGP routing directs the user's packet to the *topologically nearest* server. No DNS magic required."
  },
  {
    "id": 32023,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Memory Leak vs Bloat",
    "content": "What is the difference between a Memory Leak and Memory Bloat?",
    "explanation": "**Leak**: Objects are referenced but never used (e.g., static list). **Bloat**: Inefficient usage (e.g., loading whole XML to read one node). Leak crashes eventually; Bloat just wastes RAM."
  },
  {
    "id": 32024,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Garbage Collection Roots",
    "content": "What qualifies as a Garbage Collection 'Root' in .NET?",
    "explanation": "**GC Roots**: Static variables, Local variables on the Stack (active threads), CPU Registers, Handles. If an object is not reachable from a Root, it is trash."
  },
  {
    "id": 32025,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "TCP Slow Start",
    "content": "What is 'TCP Slow Start' and how does it affect initial connection speed?",
    "explanation": "TCP congestion control. It starts with a small Window size (few packets). If ACKs arrive successfully, it exponentially increases the window. It \"probes\" the bandwidth capacity."
  },
  {
    "id": 32026,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Semaphore vs Mutex",
    "content": "What is the fundamental difference between a Mutex and a Semaphore?",
    "explanation": "**Mutex**: Ownership. Only the thread that locked it can unlock it (1 key). **Semaphore**: Signaling. Allows N threads to enter. Thread A can wait, Thread B can release (N keys). Used for throttling."
  },
  {
    "id": 32027,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Character Encoding",
    "content": "How do UTF-8 and UTF-16 character encodings differ?",
    "explanation": "**UTF-8**: Variable length (1-4 bytes). ASCII is 1 byte (compact). Standard for Web/Files. **UTF-16**: Variable (2 or 4 bytes). .NET/Java strings are UTF-16 in memory. Worst for ASCII (doubles size)."
  },
  {
    "id": 32028,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Bloom Filter",
    "content": "Can a Bloom Filter produce false negatives?",
    "explanation": "Bloom Filters can have **False Positives** (Says \"Exists\" but doesn't). It NEVER has False Negatives (If it says \"Doesn't Exist\", it definitely doesn't). Used for cache lookups."
  },
  {
    "id": 32029,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "REST State",
    "content": "What does it mean for a REST architecture to be 'Stateless'?",
    "explanation": "Yes. The server does not store client session data between requests. Every request contains all context (Auth Token) needed to process it. Improves scalability."
  },
  {
    "id": 32030,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Consistent Hashing",
    "content": "Why is Consistent Hashing preferred for distributed caching systems?",
    "explanation": "When a node dies, standard hashing `Key % N` re-maps nearly 100% of keys. Consistent Hashing re-maps only `K/N` keys. Minimizes cache misses during scaling."
  },
  {
    "id": 32031,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "IOPS vs Throughput",
    "content": "What is the difference between IOPS and Throughput in database performance?",
    "explanation": "**IOPS**: Number of read/writes per second (Random access). **Throughput**: MB per second (Sequential). DBs need high IOPS. Data Warehouses need high Throughput."
  },
  {
    "id": 32032,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "User Mode vs Kernel Mode",
    "content": "What distinguishes User Mode from Kernel Mode in an Operating System?",
    "explanation": "Apps run in **User Mode** (restricted). To open a file, app calls API -> Switch to **Kernel Mode** (Privileged) -> OS does work -> Switch back. These transitions are expensive."
  },
  {
    "id": 32033,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Bitwise Operations",
    "content": "How do you efficiently check if a number is odd using bitwise operations?",
    "explanation": "`(x & 1) == 1`. Much faster than `x % 2 != 0`."
  },
  {
    "id": 32034,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "CAP Theorem Partition",
    "content": "In the context of the CAP Theorem, what constitutes a Network Partition?",
    "explanation": "A network failure (cable cut, packet loss) preventing nodes from talking. It is unavoidable. You plan for P by choosing A or C."
  },
  {
    "id": 32035,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Tail Recursion",
    "content": "Does the C# compiler perform Tail Call Optimization?",
    "explanation": "Only sometimes (JIT 64-bit). C# does NOT guarantee Tail Call Optimization (TCO) like functional languages (F#). Deep recursion can still StackOverflow. Prefer iteration."
  },
  {
    "id": 32036,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Copy-on-Write (COW)",
    "content": "How does Copy-on-Write (COW) optimize process creation?",
    "explanation": "When a process Forks, child shares parent's memory pages (Read-only). Only when child *writes* to a page does the OS copy that specific page. Saves huge RAM."
  },
  {
    "id": 32037,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Database ACID",
    "content": "What does the 'Isolation' property in ACID database transactions guarantee?",
    "explanation": "Ensures concurrent transactions don't interfere. Levels: Read Uncommitted (Dirty), Read Committed, Repeatable Read (Phantoms), Serializable (Perfect but slow)."
  },
  {
    "id": 32038,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "SSL Termination",
    "content": "At what point in the network infrastructure should SSL Termination occur?",
    "explanation": "Usually at the Load Balancer (Gateway). Traffic inside the private VPC is HTTP (faster). For Zero Trust security, use End-to-End encryption (terminate at Pod)."
  },
  {
    "id": 32039,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Page Fault",
    "content": "What triggers a Page Fault in an operating system?",
    "explanation": "Accessing memory that is not physically in RAM (swapped to disk). The OS pauses the thread, fetches data from disk to RAM, and resumes. Heavy penalty."
  },
  {
    "id": 32040,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Compiler Optimizations",
    "content": "What is Method Inlining in compiler optimization?",
    "explanation": "Replaces a function call with the function body itself. Saves the overhead of the call (Stack push/pop). JIT does this for small methods."
  },
  {
    "id": 32041,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Browser Rendering",
    "content": "What is the difference between Reflow and Repaint in browser rendering?",
    "explanation": "**Reflow**: Calculating layout/positions (Expensive). **Repaint**: Changing colors/visibility (Cheaper). Changing `width` triggers Reflow. Changing `color` triggers Repaint."
  },
  {
    "id": 32042,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "LRU Cache Implementation",
    "content": "How is an LRU Cache typically implemented?",
    "explanation": "**Doubly Linked List** + **HashMap**. Map stores `Key -> Node`. List maintains usage order. Move node to Head on access. Remove Tail when full. O(1)."
  },
  {
    "id": 32043,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "JWT Signature",
    "content": "How is a JSON Web Token (JWT) signature generated?",
    "explanation": "Header.Payload.Signature. Signature = `Hash(Header + Payload + Secret)`. Ensures data integrity. The data is readable (Base64), just not tamperable."
  },
  {
    "id": 32044,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Filesystem Block Size",
    "content": "Why does a 1-byte file occupy 4KB of disk space?",
    "explanation": "Consumes 4KB (standard block size) on disk. You cannot allocate less than a block. Millions of tiny files waste huge space (Internal Fragmentation)."
  },
  {
    "id": 32045,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "CORS",
    "content": "Which component enforces Cross-Origin Resource Sharing (CORS) policies?",
    "explanation": "The **Browser**. The server sends headers `Access-Control-Allow-Origin`. The Browser blocks the JS from seeing the response if headers don't match. Server still processed the request!"
  },
  {
    "id": 32046,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Memory Barrier",
    "content": "What is a Memory Barrier and why is it needed in multithreading?",
    "explanation": "Prevents CPU/Compiler from reordering instructions for optimization across the barrier. Ensures writes are visible to other cores. `lock` and `volatile` emit barriers."
  },
  {
    "id": 32047,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Hash Table Resize",
    "content": "What is the time complexity of a Hash Table resize operation?",
    "explanation": "Amortized O(1). Occasionally, table fills up and must resize (double size, rehash all keys). This operation is O(N). But it happens rarely enough that average is O(1)."
  },
  {
    "id": 32048,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "TCP Keep-Alive",
    "content": "How does TCP Keep-Alive detect dead connections?",
    "explanation": "Packets sent periodically on idle connection to ensure peer is alive. Prevents firewalls from dropping the connection table entry due to inactivity."
  },
  {
    "id": 32049,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "B-Tree vs Binary Tree",
    "content": "Why are B-Trees preferred over Binary Search Trees for database indexing?",
    "explanation": "B-Tree nodes have many children (high branching factor), keeping the tree flat (low height). This minimizes **Disk Seeks**. Binary trees are too deep for disk storage."
  },
  {
    "id": 32050,
    "category": "CS Fundamentals",
    "difficulty": "Senior",
    "title": "Public Key Infrastructure (PKI)",
    "content": "What role does a Certificate Authority (CA) play in PKI?",
    "explanation": "Chain of Trust. Browser trusts Root CA. Root CA signs Intermediate CA. Intermediate signs `google.com`. Browser verifies the chain to trust the website."
  }
  ,
  {
    "id": 33001,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "System.Web Dependency",
    "content": "What makes migrating from ASP.NET MVC 5 to .NET Core challenging?",
    "explanation": "MVC 5 depends heavily on `System.Web.dll` (IIS tight coupling). Objects like `HttpContext.Current`, `HttpModule`, and `HttpHandler` do not exist in .NET Core. You must rewrite the entire pipeline to use Middleware and `IHttpContextAccessor`."
  },
  {
    "id": 33002,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "WCF vs gRPC",
    "content": "How do you migrate a WCF `NetTcpBinding` service to .NET 8?",
    "explanation": ".NET 8 supports **CoreWCF** (community port), but it is recommended to migrate to **gRPC**. gRPC is the modern equivalent for high-performance, binary, contract-based internal communication. `NetTcpBinding` and gRPC both use binary framing."
  },
  {
    "id": 33003,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Global.asax vs Program.cs",
    "content": "Where should `Application_Start` logic be placed in a .NET 8 application?",
    "explanation": "It goes into `Program.cs` (Top-level statements) or `Startup.cs`. Dependency Injection registration, Route configuration, and Background services are configured here before `app.Run()`."
  },
  {
    "id": 33004,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "AppDomain vs AssemblyLoadContext",
    "content": "How do you handle AppDomain isolation in .NET Core?",
    "explanation": ".NET Core does **not** support creating new AppDomains. There is only one AppDomain. For plugin isolation (loading/unloading DLLs), use `AssemblyLoadContext`."
  },
  {
    "id": 33005,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Web.config Transforms",
    "content": "How are `Web.config` transformations handled in .NET 8?",
    "explanation": ".NET 8 uses `appsettings.json` and `appsettings.Production.json`. It doesn't use XML transforms. Environment variables override JSON settings. For IIS hosting, `web.config` still exists but only for configuring the IIS Module (ANCM), not app settings."
  },
  {
    "id": 33006,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Sharing Cookies (SSO)",
    "content": "How do you enable Single Sign-On (SSO) between .NET Framework 4.8 and .NET 8 applications?",
    "explanation": "Use **Microsoft.AspNetCore.DataProtection**. Configure both apps to use the *same* ApplicationName, the *same* Key Ring (path to XML keys on disk/Azure), and the *same* Encryption Certificate. The authentication cookie format becomes compatible."
  },
  {
    "id": 33007,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "YARP (Yet Another Reverse Proxy)",
    "content": "How can YARP (Yet Another Reverse Proxy) facilitate legacy migration?",
    "explanation": "Deploy a new .NET 8 app with YARP as the front door. Route `/api/new` to local controllers. Route `/**` (everything else) to the legacy .NET 4.8 IIS site. Migrate endpoints one by one (Strangler Fig)."
  },
  {
    "id": 33008,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Remoting",
    "content": "What is the recommended replacement for .NET Remoting in .NET Core?",
    "explanation": "Remoting is dead and insecure. Replace with **Web API (REST)** for simple cases or **gRPC** for typed, high-performance needs. There is no direct port."
  },
  {
    "id": 33009,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Entity Framework 6 (EF6)",
    "content": "Is it possible to run Entity Framework 6 on .NET 8?",
    "explanation": "Yes. EF 6.4+ supports .NET Standard 2.1 / .NET Core. You can port the app to .NET 8 *without* rewriting the Data Layer to EF Core immediately. This reduces migration risk."
  },
  {
    "id": 33010,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Thread.Abort",
    "content": "Why is `Thread.Abort()` unsupported in .NET Core and what is the alternative?",
    "explanation": "`Thread.Abort` throws `PlatformNotSupportedException` in .NET Core. It was dangerous (corrupted state). Rewrite logic to use **CancellationToken** checks (`if (token.IsCancellationRequested)`) for cooperative shutdown."
  },
  {
    "id": 33011,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Synchronous SyncContext",
    "content": "How do you replace `HttpContext.Current` access in .NET Core?",
    "explanation": "In legacy ASP.NET, you had to enable `aspnet:UseTaskFriendlySynchronizationContext`. In .NET Core, `HttpContext.Current` is gone entirely. Pass `IHttpContextAccessor` or the needed data explicitly."
  },
  {
    "id": 33012,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Global Assembly Cache (GAC)",
    "content": "Does the Global Assembly Cache (GAC) exist in .NET Core?",
    "explanation": "It doesn't exist. .NET Core is \"XCopy Deployable\". All dependencies must be in the application folder (or Nuget cache). No more shared machine-wide DLL hell."
  },
  {
    "id": 33013,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "WebForms Migration",
    "content": "What are the migration options for porting WebForms (`.aspx`) to .NET 8?",
    "explanation": "WebForms is not supported. Strategies: 1. Rewrite UI in **Blazor** (similar component model). 2. Rewrite in **Razor Pages** (similar code-behind). 3. Wrap legacy app in container and leave it alone."
  },
  {
    "id": 33014,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Windows Identity (Impersonation)",
    "content": "Is `WindowsIdentity.Impersonate()` supported in cross-platform .NET Core apps?",
    "explanation": "**(Windows Only).** This API works on Windows but throws on Linux. If migrating to Cloud/Linux, you must to use OAuth/OpenID Connect flow instead of relying on Kerberos/Active Directory impersonation."
  },
  {
    "id": 33015,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": ".NET Portability Analyzer",
    "content": "How can you analyze .NET assemblies for .NET Core compatibility?",
    "explanation": "Use the **.NET Portability Analyzer** (Visual Studio extension) or the CLI tool. It scans your assemblies and generates a report: \"95% compatible with .NET 8.0\". Identifies specific API calls that will break."
  },
  {
    "id": 33016,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Code Access Security (CAS)",
    "content": "How do you sandbox plugins in .NET Core without Code Access Security (CAS)?",
    "explanation": "CAS is deprecated and treated as a security boundary in Core. It does not enforce boundaries. Use **Containers** (Docker) or Process Isolation to sandbox untrusted code."
  },
  {
    "id": 33017,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "ConfigurationManager",
    "content": "How do you access `AppSettings` from `web.config` in .NET Core during migration?",
    "explanation": "Install `System.Configuration.ConfigurationManager` NuGet package. It allows the old code to run on .NET 8, reading from `app.config` (XML). Useful for intermediate migration steps before switching to `IConfiguration` (JSON)."
  },
  {
    "id": 33018,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "System.Drawing",
    "content": "Why is `System.Drawing.Common` discouraged for use in non-Windows .NET Core apps?",
    "explanation": "It is marked as **Windows-Only** in .NET 6+. It throws exceptions on Linux. Migrate to **ImageSharp** or **SkiaSharp** for cross-platform image processing."
  },
  {
    "id": 33019,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Upgrade Assistant",
    "content": "What is the purpose of the `dotnet-upgrade-assistant` tool?",
    "explanation": "A Microsoft CLI tool. It automates the grunt work: Updates CSPROJ format (SDK style), updates Nuget packages, changes `Newtonsoft` to `System.Text.Json`, and fixes namespace changes."
  },
  {
    "id": 33020,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Bundling & Minification",
    "content": "What is the modern alternative to `System.Web.Optimization` for bundling?",
    "explanation": "Not supported in Core. Use **WebOptimizer** (middleware) or build-time tools like **Webpack**, Gulp, or client-side bundlers."
  },
  {
    "id": 33021,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Server-Side Caching",
    "content": "What is the replacement for `System.Web.Caching.Cache` in .NET Core?",
    "explanation": "Replace with `IMemoryCache`. Note that `System.Web.Caching` had dependencies on HttpContext; `IMemoryCache` is a generic DI service."
  },
  {
    "id": 33022,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Hosting Environment",
    "content": "How do you map server paths in .NET Core without `HostingEnvironment.MapPath`?",
    "explanation": "Use `IWebHostEnvironment.ContentRootPath` or `WebRootPath`. Path mapping logic works differently in Core (no virtual directories by default)."
  },
  {
    "id": 33023,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "WCF Duplex Services",
    "content": "What is the modern alternative for WCF Duplex Services in .NET Core?",
    "explanation": "Migrate to **SignalR** (WebSockets). It is far more robust for push notifications than WCF Duplex bindings."
  },
  {
    "id": 33024,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "MsmqIntegrationBinding",
    "content": "What are the cross-platform alternatives to MSMQ for .NET Core?",
    "explanation": "MSMQ is Windows-only tech. For cloud-native apps, migrate to **Azure Service Bus**, **RabbitMQ**, or **MassTransit**. There is no direct .NET Core MSMQ support on Linux."
  },
  {
    "id": 33025,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "DataSet / DataTable",
    "content": "Is passing `DataTable` objects between layers recommended in modern .NET?",
    "explanation": "Supported in .NET Core, but discouraged. It works, but it's memory-heavy and weak-typed. Keep it for migration, but to `List<T>` (POCOs) eventually."
  },
  {
    "id": 33026,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Session State (SQL)",
    "content": "How do you migrate ASP.NET Session State to .NET Core?",
    "explanation": "Core has `ISession`. You can configure it to use Redis or SQL Server (`AddDistributedSqlServerCache`). You might need an adapter to deserialize the old binary session blobs if you want to share sessions during migration."
  },
  {
    "id": 33027,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Action Filters",
    "content": "Are ASP.NET MVC 5 Action Filters compatible with ASP.NET Core?",
    "explanation": "Different namespaces, slightly different signatures (`OnActionExecuting` context). Logic porting is usually straightforward, but the attributes are not binary compatible."
  },
  {
    "id": 33028,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Child Actions",
    "content": "What is the .NET Core replacement for `@Html.Action()` in views?",
    "explanation": "Gone. Use **View Components** (`<vc:menu />` or `@await Component.InvokeAsync()`). They are more powerful, async-capable, and decoupled from the Controller."
  },
  {
    "id": 33029,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Output Caching",
    "content": "How is Output Caching implemented in .NET 7 and later?",
    "explanation": "In .NET 7+, use the new Output Caching middleware. In older Core versions, it was Response Caching (headers only). The new Output Caching is server-side storage (Redis/Memory)."
  },
  {
    "id": 33030,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Identity 2.0 to Core Identity",
    "content": "How do you handle `AspNetUsers` schema differences when migrating Identity?",
    "explanation": "Schema is similar but not identical. Core Identity splits tokens/logins differently. You can either: 1. Run a SQL script to migrate data to new schema. 2. Configure Core Identity to map to the old table structure (compat mode)."
  },
  {
    "id": 33031,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Diagnostics",
    "content": "Does `Trace.WriteLine` still work in .NET Core, or should it be replaced?",
    "explanation": "Trace listeners still work in Core, but you should migrate to `ILogger<T>` for structured logging. You can route Trace output to ILogger temporarily."
  },
  {
    "id": 33032,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Build Actions",
    "content": "Why should build scripts relying on `cmd.exe` be updated for .NET Core?",
    "explanation": "`cmd` fails on Linux build agents. Rewrite scripts in **PowerShell Core** (pwsh) or as standard MSBuild targets to ensure cross-platform compatibility."
  },
  {
    "id": 33033,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Registry Access",
    "content": "Is Registry access supported in cross-platform .NET applications?",
    "explanation": "Supported on Windows via `System.Registry` package. On Linux, it throws `PlatformNotSupported`. app to store config in JSON/Env Vars instead of Registry."
  },
  {
    "id": 33034,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "WCF ServiceHost",
    "content": "How do you host background services in .NET Core across platforms?",
    "explanation": "To migrate to Linux, use **Worker Services** (`BackgroundService`). They can run as Windows Services (via `UseWindowsService()`) or Systemd (Linux) daemons effortlessly."
  },
  {
    "id": 33035,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Performance Counters",
    "content": "What is the cross-platform alternative to Windows Performance Counters?",
    "explanation": "Windows specific. Use **EventCounters** or **System.Diagnostics.Metrics** (OpenTelemetry) in .NET Core. These are cross-platform and integrate with modern APMs."
  },
  {
    "id": 33036,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "DTC (Distributed Transaction Coordinator)",
    "content": "Is Distributed Transaction Coordinator (DTC) supported in .NET Core?",
    "explanation": ".NET 7+ added support for Distributed Transactions on Windows. However, cloud environments (Azure SQL) and Linux often do NOT support MSDTC. Plan to move to Sagas."
  },
  {
    "id": 33037,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "App_Code Folder",
    "content": "Is the `App_Code` folder supported in ASP.NET Core?",
    "explanation": "Not supported. All code must be compiled into the assembly. Move classes from `App_Code` to a regular class library or folder."
  },
  {
    "id": 33038,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Static Content",
    "content": "Why are static files served from `wwwroot` in ASP.NET Core?",
    "explanation": "In Core, static files must be in `wwwroot` by default. Files outside `wwwroot` are not serveable. Move assets or configure `StaticFileOptions` to serve other folders."
  },
  {
    "id": 33039,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "MachineKey",
    "content": "What replaces `MachineKey` for data protection in .NET Core?",
    "explanation": "Replaced by **Data Protection**. If you need to decrypt old data encrypted by MachineKey, you might be out of luck without writing a custom Framework 4.8 wrapper tool to decrypt and re-encrypt."
  },
  {
    "id": 33040,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "DirectoryServices (LDAP)",
    "content": "How do you integrate with Active Directory in .NET Core on Linux?",
    "explanation": "`System.DirectoryServices` is available on Windows. For Linux, use `Novell.Directory.Ldap.NET` or the newer `System.DirectoryServices.Protocols` which works cross-platform."
  },
  {
    "id": 33041,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "SqlDependency",
    "content": "How does `SqlDependency` utilize Service Broker for query notifications?",
    "explanation": "`SqlDependency` works in Core (`System.Data.SqlClient`). However, it doesn't scale well (locks). Consider moving to **SignalR** with a Redis Backplane or simple polling."
  },
  {
    "id": 33042,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "System.Transactions",
    "content": "How are implicit transactions handled in `System.Transactions`?",
    "explanation": "Fully supported in Core. Be aware that escalating to Distributed Transaction (DTC) will fail on non-Windows platforms."
  },
  {
    "id": 33043,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "HtmlHelpers",
    "content": "What is the modern Tag Helper equivalent of `@Html.LabelFor`?",
    "explanation": "Still supported, but **Tag Helpers** (`<label asp-for=\"...\" />`) are the preferred \"Core\" way. They read cleaner (like HTML)."
  },
  {
    "id": 33044,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "OData Migration",
    "content": "Is OData supported in ASP.NET Core?",
    "explanation": "Yes, `Microsoft.AspNetCore.OData`. Syntax is similar but configuration in `Startup` is different (EDM model building). Check version compatibility (OData v4)."
  },
  {
    "id": 33045,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Areas",
    "content": "How are MVC Areas configured in ASP.NET Core?",
    "explanation": "Fully supported. Folder structure `Areas/Admin/Controllers` works. You just need to map the route pattern: `pattern: \"{area:exists}/{controller=Home}/{action=Index}\"`."
  },
  {
    "id": 33046,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "SignalR Client (JS)",
    "content": "Can the legacy jQuery SignalR client connect to a SignalR Core hub?",
    "explanation": "SignalR Core is **not compatible** with SignalR Framework. You must update both the Server (Hub) and the Client (npm `@microsoft/signalr`). The protocol changed."
  },
  {
    "id": 33047,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "SoapCore",
    "content": "How can you host SOAP services in .NET 8?",
    "explanation": "Use **SoapCore** middleware. It allows you to expose your existing WCF Service Contracts as SOAP endpoints running on Kestrel. Great bridge for legacy clients."
  },
  {
    "id": 33048,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Automapper Static API",
    "content": "How has AutoMapper initialization changed in modern .NET?",
    "explanation": "AutoMapper removed the static API. You must use Dependency Injection (`IMapper`). Register profiles in `Startup`."
  },
  {
    "id": 33049,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Deployment: XCopy",
    "content": "What is the 'XCopy' deployment strategy in .NET Core?",
    "explanation": ".NET Core is self-contained (or framework dependent). You can just `dotnet publish` and copy files. Remember to install the **ASP.NET Core Hosting Bundle** on IIS."
  },
  {
    "id": 33050,
    "category": "Legacy Migration",
    "difficulty": "Senior",
    "title": "Refactoring Pattern",
    "content": "Why is the 'Strangler Fig' pattern preferred over 'Big Bang' for migration?",
    "explanation": "Avoid Big Bang. Use **Vertical Slice Migration**. Move one Controller + its Views + its Services at a time. Run hybrid until done. Big Bang rewrites fail 50% of the time."
  }
  ,
  {
    "id": 34001,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Records (C# 9)",
    "content": "When should you use `record` vs `class`?",
    "explanation": "Use **Records** for immutable data carriers (DTOs, Events, Value Objects). They give you Value Equality (`a == b` if data matches), `ToString` pretty-printing, and `with` expressions (`var newRec = rec with { Name = \"X\" };`) for free."
  },
  {
    "id": 34002,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Init-Only Setters (C# 9)",
    "content": "What is the purpose of the `init` accessor in C# properties?",
    "explanation": "Allows properties to be set **only** during object initialization (Constructor or Object Initializer). After that, they are immutable. Perfect for replacing the old `private set` pattern while keeping object initializers usable."
  },
  {
    "id": 34003,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Top-Level Statements (C# 9)",
    "content": "How do Top-Level Statements in .NET 6+ replace the traditional `Main` method?",
    "explanation": "Gone (hidden). You can write code directly in `Program.cs`. The compiler generates the `Main` method and class wrapper for you. Reduces boilerplate for microservices and console apps."
  },
  {
    "id": 34004,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Pattern Matching: Property Pattern",
    "content": "How does the Property Pattern simplify nested object checks in C#?",
    "explanation": "Deep recursive pattern matching. Checks if `obj` is a `Person`, AND its `Address` is not null, AND `City` is \"London\". Cleaner than `p != null && p.Address != null && ...`."
  },
  {
    "id": 34005,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Switch Expressions (C# 8)",
    "content": "What are the benefits of using Switch Expressions in C#?",
    "explanation": "It returns a value (Expression), forces exhaustiveness (compiler warning if you miss a case), and is less verbose (no `case`, `break`, `return`)."
  },
  {
    "id": 34006,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Nullable Reference Types (C# 8)",
    "content": "What is the difference between `string?` and `string` when Nullable Reference Types are enabled?",
    "explanation": "Enables static analysis for null safety. `string` implies \"Never Null\". `string?` implies \"Maybe Null\". Forces you to check for nulls before dereferencing `string?`. Eliminates `NullReferenceException` at compile time."
  },
  {
    "id": 34007,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "File-Scoped Namespaces (C# 10)",
    "content": "How do File-Scoped Namespaces improve code readability?",
    "explanation": "Reduces indentation levels. If a file contains only one namespace (99% of cases), you don't need the braces. Cleaner UI."
  },
  {
    "id": 34008,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Global Usings (C# 10)",
    "content": "How do Global Usings reduce boilerplate in C# 10?",
    "explanation": "Defined in `GlobalUsings.cs` or implicitly by the SDK (`<ImplicitUsings>enable</ImplicitUsings>`). Common namespaces (`System`, `System.Linq`, `Microsoft.AspNetCore.Mvc`) are available in every file automatically."
  },
  {
    "id": 34009,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Required Members (C# 11)",
    "content": "What problem do `required` members solve in C# 11?",
    "explanation": "Forces the consumer to set this property during object initialization. Solves the problem where object initializers didn't guarantee fully populated objects. Replaces heavy constructors for DTOs."
  },
  {
    "id": 34010,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "List Patterns (C# 11)",
    "content": "How do List Patterns simplify collection matching in C#?",
    "explanation": "Checks if list starts with 1, 2 and captures the rest. Great for parsing CSV lines or token streams."
  },
  {
    "id": 34011,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Primary Constructors (C# 12)",
    "content": "What is a Primary Constructor in C# 12?",
    "explanation": "Defines constructor parameters directly on the class declaration. Reduces boilerplate for Dependency Injection. `name` is available throughout the class scope."
  },
  {
    "id": 34012,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Collection Expressions (C# 12)",
    "content": "What are Collection Expressions in C# 12 and how do they differ from array initializers?",
    "explanation": "Unified syntax for Arrays, Lists, and Spans. The compiler optimizes the storage implementation. You can also use the spread operator: `[..list1, ..list2]`."
  },
  {
    "id": 34013,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Default Interface Methods (C# 8)",
    "content": "What are Default Interface Methods and when should they be used?",
    "explanation": "Allows adding new methods to an interface without breaking existing implementers (Traits). The implementer *can* override it, or accept the default. Useful for library authors maintaining backward compatibility."
  },
  {
    "id": 34014,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Async Streams (C# 8)",
    "content": "How do Async Streams (`IAsyncEnumerable`) differ from `Task<IEnumerable>`?",
    "explanation": "Consumes `IAsyncEnumerable<T>`. It allows processing items *as they arrive* (streaming) rather than waiting for the whole list (`Task<List<T>>`). Essential for memory-efficient data processing."
  },
  {
    "id": 34015,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Indices and Ranges (C# 8)",
    "content": "How do Indices and Ranges simplify array access in C#?",
    "explanation": "`^1` means \"1 from end\". `..` creates a Range (Slice). If used on arrays/spans, it's highly optimized. On Lists, it might call `GetRange` (copy)."
  },
  {
    "id": 34016,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Target-Typed New (C# 9)",
    "content": "What is 'Target-Typed New' in C# 9?",
    "explanation": "The compiler infers the type from the left-hand side. Reduces redundancy (`Dictionary<string, List<int>> d = new();`)."
  },
  {
    "id": 34017,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Static Abstract Members in Interfaces (C# 11)",
    "content": "What do Static Abstract Members in Interfaces enable in C# 11?",
    "explanation": "Enables **Generic Math**. You can write generic algorithms that perform math (`a + b`) on any type `T` that implements the interface. Used heavily in .NET 7/8 Math libraries."
  },
  {
    "id": 34018,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Raw String Literals (C# 11)",
    "content": "How do Raw String Literals simplify working with JSON or XML in C#?",
    "explanation": "Triple quotes allow you to paste JSON/SQL/XML without escaping quotes. The indentation is automatically stripped based on the closing quotes' position."
  },
  {
    "id": 34019,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Lambda Improvements (C# 10)",
    "content": "How did C# 10 improve Lambda expressions options?",
    "explanation": "Natural types for lambdas. The compiler infers `Func` or `Action` (or `Delegate`) automatically. Allows Attributes on lambdas `([Authorize] () => ...)`."
  },
  {
    "id": 34020,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "CallerArgumentExpression (C# 10)",
    "content": "What is the purpose of the `CallerArgumentExpression` attribute?",
    "explanation": "`public void Check(bool cond, [CallerArgumentExpression(\"cond\")] string msg = null)`. If you call `Check(x > 5)`, `msg` becomes `\"x > 5\"`. Great for validation/testing libraries."
  },
  {
    "id": 34021,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Pattern Matching: Relational",
    "content": "How do Relational Patterns improve readability in pattern matching?",
    "explanation": "Conjunctive (`and`) and Disjunctive (`or`) patterns. More readable than `age >= 18 && age < 65`."
  },
  {
    "id": 34022,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Covariant Return Types (C# 9)",
    "content": "What are Covariant Return Types in C# 9?",
    "explanation": "A derived class method can return a *more specific* type than the base method signature. Removes the need for casting the result of `Clone()`."
  },
  {
    "id": 34023,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Using Declaration (C# 8)",
    "content": "How do Using Declarations differ from traditional `using` blocks?",
    "explanation": "Removes nesting (braces). The object is disposed at the end of the current scope (method). Cleaner code."
  },
  {
    "id": 34024,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Interceptor (C# 12 Experimental)",
    "content": "What are Interceptors in C# 12 and how are they used?",
    "explanation": "Advanced metaprogramming. Allows source generators to \"hijack\" calls to specific methods and replace them with optimized versions. Used by ASP.NET Core Minimal APIs for AOT optimization."
  },
  {
    "id": 34025,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Unsafe Accessor (C# 12)",
    "content": "How does the `UnsafeAccessor` attribute allow access to private members?",
    "explanation": "`[UnsafeAccessor]` attribute allows high-performance access to private members. It compiles to direct IL calls, bypassing the overhead of Reflection. Used for serialization/testing."
  },
  {
    "id": 34026,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Ref Fields in Ref Structs (C# 11)",
    "content": "What do Ref Fields in Ref Structs enable in C# 11?",
    "explanation": "Allows `Span<T>` to hold references to interior data safely. Crucial for high-performance zero-allocation parsers that need to iterate memory."
  },
  {
    "id": 34027,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Extended Property Patterns",
    "content": "How do Extended Property Patterns simplify pattern matching?",
    "explanation": "C# 10. Allows dot notation in patterns instead of nesting braces `{ Prop: { ChildProp: 5 } }`."
  },
  {
    "id": 34028,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Constant Interpolated Strings (C# 10)",
    "content": "How do Constant Interpolated Strings work in C# 10?",
    "explanation": "You can now use interpolation for `const` strings if all inputs are also `const`. Useful for Attribute arguments which require compile-time constants."
  },
  {
    "id": 34029,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Generic Attributes (C# 11)",
    "content": "What is the advantage of using Generic Attributes in C# 11?",
    "explanation": "Cleaner syntax. Allows strong typing in attributes. The compiler enforces that the generic type constraints are met."
  },
  {
    "id": 34030,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Inline Arrays (C# 12)",
    "content": "How do Inline Arrays in C# 12 improve performance for fixed-size buffers?",
    "explanation": "`[System.Runtime.CompilerServices.InlineArray(10)] struct Buffer { private int _element0; }`. Allows creating a fixed-size array *on the stack* (safe code) without `unsafe` fixed buffers."
  },
  {
    "id": 34031,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Alias Any Type (C# 12)",
    "content": "How does the 'Alias Any Type' feature in C# 12 work?",
    "explanation": "You can alias tuples, pointers, or array types. `using Point = (int X, int Y);`. Makes complex signatures readable."
  },
  {
    "id": 34032,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "String Syntax Attribute (C# 11)",
    "content": "What is the benefit of the `StringSyntax` attribute in C# 11?",
    "explanation": "Tells the IDE (Visual Studio) that this string contains JSON (or Regex/SQL). The IDE enables syntax highlighting and validation *inside* the string literal."
  },
  {
    "id": 34033,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Module Initializers (C# 9)",
    "content": "What is a Module Initializer in C# 9?",
    "explanation": "A static void method that runs *automatically* when the assembly is loaded. Used for registering dependencies or licenses without user intervention."
  },
  {
    "id": 34034,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "SkipLocalsInit (C# 9)",
    "content": "What does the `[SkipLocalsInit]` attribute do to stack memory?",
    "explanation": "Performance optimization. Tells the JIT *not* to zero-out stack memory before using it. Risky (garbage data), but faster for high-performance stack allocations."
  },
  {
    "id": 34035,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Static Anonymous Functions (C# 9)",
    "content": "Why should you use Static Anonymous Functions when possible?",
    "explanation": "Prevents the lambda from capturing local variables or `this` (Closure allocation). Improves performance by ensuring the delegate is cached statically."
  },
  {
    "id": 34036,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Function Pointers (C# 9)",
    "content": "What are Function Pointers in C# 9 and when are they used?",
    "explanation": "Unsafe code. Allows calling C functions (or static C# functions) via CPU `CALL` instruction, bypassing the delegate overhead. Essential for Native Interop."
  },
  {
    "id": 34037,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Native Integers (C# 9)",
    "content": "What are Native Integers (`nint`, `nuint`) in C# 9?",
    "explanation": "Integers that are 32-bit on 32-bit CPUs and 64-bit on 64-bit CPUs. Replaces `IntPtr` for math logic. Essential for low-level pointer arithmetic."
  },
  {
    "id": 34038,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Interpolated String Handlers (C# 10)",
    "content": "How do Interpolated String Handlers optimize logging performance?",
    "explanation": "You can control *when* the string is formatted. If `Log.Debug($\"{HeavyComputation()}\")` is called but LogLevel is Info, the computation is **skipped**. Zero allocation if disabled."
  },
  {
    "id": 34039,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Stackalloc Expression (C# 8)",
    "content": "What is a Stackalloc Expression and how does it relate to `Span<T>`?",
    "explanation": "Allocates array on the Stack (temporary memory). No GC pressure. Used inside expressions for high performance."
  },
  {
    "id": 34040,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Records struct (C# 10)",
    "content": "When should you use a `record struct` instead of a standard `record` class?",
    "explanation": "All the benefits of Records (equality, deconstruction) but value-type performance (Stack allocation). Great for small immutable data types."
  },
  {
    "id": 34041,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Deconstruction",
    "content": "How does Object Deconstruction work in C#?",
    "explanation": "Extract values from an object into local variables. Works with Tuples and Records automatically. You can add `Deconstruct` methods to your own classes to support this."
  },
  {
    "id": 34042,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Discard",
    "content": "What is the purpose of the Discard (`_`) symbol in C#?",
    "explanation": "Explicitly ignoring the result. Used in deconstruction `var (_, y) = p;` or to suppress \"Task is not awaited\" warnings (though you should usually await!)."
  },
  {
    "id": 34043,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Positional Patterns",
    "content": "How are Positional Patterns used in C# switch expressions?",
    "explanation": "Checks if `p` deconstructs into `0, 0`. Concise check for specific object states."
  },
  {
    "id": 34044,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Var pattern",
    "content": "What is the 'Var Pattern' and how is it useful?",
    "explanation": "Captures the result of an expression into a temporary variable inside an `if` condition. Alternative to declaring variable outside."
  },
  {
    "id": 34045,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Scoped modifier (C# 11)",
    "content": "What does the `scoped` modifier enforce for `ref` variables?",
    "explanation": "Restricts the lifetime of a ref variable to the current method. Ensures the reference cannot escape (be returned), allowing compiler optimizations."
  },
  {
    "id": 34046,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Async Main",
    "content": "Is `Async Main` supported in modern C#?",
    "explanation": "Since C# 7.1. Allows using `await` directly in the entry point. Essential for starting async Hosts (Web/Worker) cleanly."
  },
  {
    "id": 34047,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Parameter Null Checking (C# 11 !! - Removed)",
    "content": "Was the Parameter Null Checking (`!!`) feature included in C# 11?",
    "explanation": "This feature was proposed but **Reverted** before release. You still have to write `ArgumentNullException.ThrowIfNull(s)` manually."
  },
  {
    "id": 34048,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Private Protected",
    "content": "What is the visibility of the `private protected` access modifier?",
    "explanation": "Visible to subclasses, but *only* if they are in the same assembly. Use for internal logic that needs to be extensible within your library but hidden from outside consumers."
  },
  {
    "id": 34049,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Unmanaged Constraint",
    "content": "What types satisfy the `unmanaged` generic constraint?",
    "explanation": "T must be a struct with no reference fields. Allows using pointers `T*` and `sizeof(T)`."
  },
  {
    "id": 34050,
    "category": "Modern C#",
    "difficulty": "Senior",
    "title": "Collection Literals (Spread)",
    "content": "How do Collection Literals with the spread operator work in C# 12?",
    "explanation": "Creates a new collection containing elements of `old` followed by 4, 5. Clean, declarative syntax replacing `new List(old) { Add(4)... }`."
  }
  ,
  {
    "id": 35001,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "ThreadPool Starvation",
    "content": "What are the symptoms of ThreadPool Starvation?",
    "explanation": "This is **ThreadPool Starvation**. All threads are blocked (likely waiting on Sync-over-Async code `Task.Result`). The ThreadPool cannot inject new threads fast enough (1-2 per sec). Capture a Dump and look for many threads in `Wait` state."
  },
  {
    "id": 35002,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "LOH Fragmentation",
    "content": "What are the signs of Large Object Heap (LOH) Fragmentation?",
    "explanation": "Likely **LOH (Large Object Heap) Fragmentation**. Large objects (>85kb) are not compacted by default. Free space exists but is scattered in small holes. Use `GCSettings.LargeObjectHeapCompactionMode` or reuse buffers (`ArrayPool`) to fix."
  },
  {
    "id": 35003,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "First Chance Exception",
    "content": "What does 'First Chance Exception' mean in the context of debugging?",
    "explanation": "It is an exception *thrown* but not yet *caught*. It is normal to have many of these (handled internally by libraries). You usually only care about **Second Chance Exceptions** (Unhandled), which crash the process."
  },
  {
    "id": 35004,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Debug vs Release Performance",
    "content": "Why might code throw exceptions in Release mode but work in Debug mode?",
    "explanation": "Likely a **Race Condition**. Release mode runs faster (optimizations), exposing race conditions that were hidden by the slowness of Debug mode. Or, the Compiler optimized away a variable you were relying on via Reflection."
  },
  {
    "id": 35005,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Symbol Files (.pdb)",
    "content": "Why are .PDB (Symbol) files important for debugging in production?",
    "explanation": "To get line numbers in Stack Traces. Without PDBs, the stack trace only shows Method Names (and maybe IL offsets), making debugging impossible. Enable `DebugType: embedded` or `portable` to include them easily."
  },
  {
    "id": 35006,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "WinDbg / SOS",
    "content": "What does the `!dumpheap -stat` command do in WinDbg?",
    "explanation": "A command in **WinDbg** (using SOS extension) to analyze a memory dump. It lists all objects in the Heap grouped by Type, sorted by size. Essential for finding Memory Leaks (e.g., \"Why do I have 1 million User objects?\")."
  },
  {
    "id": 35007,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "PerfView",
    "content": "When is PerfView preferred over the Visual Studio Profiler?",
    "explanation": "For **ETW (Event Tracing for Windows)** analysis. PerfView has extremely low overhead and can run on production servers to capture GC Events, JIT Events, and CPU Samples system-wide."
  },
  {
    "id": 35008,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "GC.Collect()",
    "content": "Is manually calling `GC.Collect()` recommended for memory management?",
    "explanation": "It forces a **Blocking** collection of all generations (0, 1, and 2). It freezes the app for milliseconds to seconds. Rely on the GC's self-tuning algorithms unless you have a very specific scenario (e.g., entering a sleep state)."
  },
  {
    "id": 35009,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "High CPU: User vs Kernel Mode",
    "content": "What does high Kernel Mode CPU usage indicate?",
    "explanation": "Check **Kernel Mode** CPU usage (Red line in Task Manager). High Kernel CPU usually means drivers, Anti-Virus, or excessive Context Switching (too many threads fighting)."
  },
  {
    "id": 35010,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Memory Leak Diagnosis",
    "content": "What is a reliable method to diagnose a memory leak?",
    "explanation": "Take two Snapshots (Dumps). One at start, one after 1 hour. Compare the **Delta**. Look for objects that increased in count but shouldn't have (e.g., `EventHandler` instances usually indicate un-unsubscribed events)."
  },
  {
    "id": 35011,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Stack Overflow",
    "content": "Is it possible to catch a `StackOverflowException` in C#?",
    "explanation": "No. It terminates the process immediately. `try-catch` blocks are bypassed. It usually indicates infinite recursion. Analyze the stack trace (if logs managed to flush) to find the cycle."
  },
  {
    "id": 35012,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Pinned Objects",
    "content": "What is a Pinned Object in the managed heap?",
    "explanation": "An object that the GC is forbidden from moving (usually because unmanaged code has a pointer to it). Pinned objects cause Heap Fragmentation because they act as obstacles during compaction."
  },
  {
    "id": 35013,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Finalizer Queue",
    "content": "What causes high CPU usage in the Finalizer Thread?",
    "explanation": "You are creating too many objects with destructors (Finalizers) that aren't being Disposed. The Finalizer thread is single-threaded and can't keep up, causing a backlog."
  },
  {
    "id": 35014,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "dotnet-counters",
    "content": "How can you monitor a running .NET application in a Linux container?",
    "explanation": "CLI tool. `dotnet-counters monitor -p <pid>`. Shows real-time Request/Sec, GC Heap Size, and CPU usage without installing heavy agents. Essential for Kubernetes debugging."
  },
  {
    "id": 35015,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Exception Dispatch Info",
    "content": "How does `ExceptionDispatchInfo.Throw()` differ from `throw ex;`?",
    "explanation": "`throw ex` resets the stack trace. `ExceptionDispatchInfo` preserves the original stack trace even if you re-throw it on a different thread. Used internally by `await`."
  },
  {
    "id": 35016,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Deadlock Detection",
    "content": "What are the common symptoms of a classic Deadlock?",
    "explanation": "Classic Deadlock. Use `dotnet-stack` or create a Dump. Look for `SyncBlock` owners. Thread A owns Lock X waiting for Y. Thread B owns Lock Y waiting for X. WinDbg command: `!dlk`."
  },
  {
    "id": 35017,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Event Starvation",
    "content": "What typically causes the UI thread to freeze while the backend continues?",
    "explanation": "You are blocking the UI Thread (Main Thread) with a heavy computation or synchronous wait (`.Wait()`). The Message Pump cannot process mouse clicks/repaints."
  },
  {
    "id": 35018,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Async Locals",
    "content": "Why might ThreadLocal data disappear after an `await`?",
    "explanation": "`ThreadLocal` does not flow across async calls (you might switch threads). Use `AsyncLocal<T>`. It flows with the `ExecutionContext` across awaits."
  },
  {
    "id": 35019,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "DNS Caching",
    "content": "Why might an application continue calling an old IP after a DNS failover?",
    "explanation": ".NET's `ServicePointManager` (or `HttpClient`) caches DNS lookups indefinitely by default (in older versions) or for minutes. Set `ServicePointManager.DnsRefreshTimeout` or configured `PooledConnectionLifetime`."
  },
  {
    "id": 35020,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Heap Allocations on Hot Path",
    "content": "What does frequent Gen 0 Garbage Collection indicate?",
    "explanation": "High allocation rate (Gen 0 pressure). Use a profiler to find \"Hot Path\" allocations (e.g., creating a new `List` inside a tight loop). Move allocations outside loop or use `struct`/`Span`."
  },
  {
    "id": 35021,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "SNAT Port Exhaustion",
    "content": "What causes SNAT Port Exhaustion in HTTP clients?",
    "explanation": "You are running out of outbound ports. Happens if you create new `HttpClient` for every request. They leave sockets in `TIME_WAIT`. Use `IHttpClientFactory` or Singleton Client."
  },
  {
    "id": 35022,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Assembly Binding Redirects",
    "content": "What is `FileLoadException` often caused by in .NET Framework?",
    "explanation": "DLL Hell. One library wants Newtonsoft v11, another wants v12. In .NET Framework, fix `web.config` binding redirects. In .NET Core, this is mostly handled automatically by deps file generation."
  },
  {
    "id": 35023,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Dynamic Keyword Risks",
    "content": "Why should `dynamic` be avoided in high-performance code paths?",
    "explanation": "`dynamic` involves DLR (Dynamic Language Runtime) overhead (caching rules, lookups). It is significantly slower than strong typing. Avoid in hot paths."
  },
  {
    "id": 35024,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Log Level Switches",
    "content": "Why is setting the log level to `Trace` in production risky?",
    "explanation": "This will fill the disk and slow down the app (I/O bound). Set Production to `Warning` or `Error`, with the ability to temporarily toggle to `Info` for debugging."
  },
  {
    "id": 35025,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "String.Intern",
    "content": "Is using `String.Intern` a safe way to optimize memory usage?",
    "explanation": "Interned strings live forever (until process exit). If you intern dynamic user data, you create a permanent Memory Leak. Only intern known constant sets."
  },
  {
    "id": 35026,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "False Sharing",
    "content": "How does False Sharing occur when threads update adjacent array indices?",
    "explanation": "Performance kill. CPU cores invalidate each other's cache lines. Pad the array or use thread-local accumulators."
  },
  {
    "id": 35027,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Server GC vs Workstation GC",
    "content": "Is Server GC or Workstation GC the default for ASP.NET Core?",
    "explanation": "**Server GC**. It creates one Heap and one GC thread *per CPU Core*. Maximizes throughput but consumes more RAM. Workstation GC (default for Console/UI) shares one GC thread to save RAM."
  },
  {
    "id": 35028,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Request Tracing",
    "content": "What is the purpose of Failed Request Tracing (FRT) in IIS?",
    "explanation": "Generates XML logs for failed requests (e.g., took > 5 sec or status 500). Shows exactly which IIS module (Authentication, compression, handler) failed."
  },
  {
    "id": 35029,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "ETag Mismatch",
    "content": "Why might a browser fail to update a cached JavaScript file even if it changed?",
    "explanation": "If you don't version filenames (`app.v1.js`), browsers rely on ETag/Last-Modified. If server configuration prevents sending these, cache is stale. Use **Cache Busting** (Fingerprinting) in file names."
  },
  {
    "id": 35030,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Cold Start (Serverless)",
    "content": "Why does the first request to a Serverless function often take significantly longer (Cold Start)?",
    "explanation": "Cloud provider is booting the VM and JIT compiling .NET code. Reduce cold start by using **ReadyToRun** (AOT-ish), reducing dependency count, or using Premium/Provisioned plans."
  },
  {
    "id": 35031,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Profiler Attach",
    "content": "What are the risks of attaching a remote debugger to a production environment?",
    "explanation": "Yes (Remote Debugging), but it **Freezes** all threads when a breakpoint is hit. Dangerous for live users. Use Snapshot Debugger (Azure) or Log analysis instead."
  },
  {
    "id": 35032,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "WeakReference",
    "content": "When should you use `WeakReference` in C#?",
    "explanation": "Building a Cache where you want items to be collected if RAM is low. `WeakReference` allows access to the object but doesn't prevent the GC from collecting it."
  },
  {
    "id": 35033,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Lock Contention",
    "content": "What causes high Lock Contention on `Monitor.Enter`?",
    "explanation": "Too many threads fighting for the same Lock. Reduce the scope of the lock (do less work inside). Use `ReaderWriterLockSlim` if mostly reading. Or use Lock-Free algorithms."
  },
  {
    "id": 35034,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Struct Tearing",
    "content": "What is 'Struct Tearing' and when does it occur with types like `Guid` or `decimal`?",
    "explanation": "These types are larger than the CPU word size (64-bit). The CPU writes them in two steps. A reader might see half old/half new data. Use `lock` or `Interlocked`."
  },
  {
    "id": 35035,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "HTTP 502 Bad Gateway",
    "content": "What does an HTTP 502 Bad Gateway error typically indicate?",
    "explanation": "The Load Balancer (Nginx/IIS) received an invalid response from the Kestrel backend. Usually means Kestrel crashed, hung, or closed the connection prematurely."
  },
  {
    "id": 35036,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "HTTP 504 Gateway Timeout",
    "content": "What does an HTTP 504 Gateway Timeout error typically indicate?",
    "explanation": "The Load Balancer waited for Kestrel, but Kestrel didn't reply in time (e.g., 30s). Kestrel is likely overloaded, deadlocked, or processing a very slow SQL query."
  },
  {
    "id": 35037,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Keep-Alive Timeout",
    "content": "How should Keep-Alive timeouts be configured between a Load Balancer and Kestrel?",
    "explanation": "Ensure your Kestrel Keep-Alive timeout is *slightly longer* than the Load Balancer's. If Kestrel closes first, the LB might try to send a request to a closed socket, causing 502."
  },
  {
    "id": 35038,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Large Request Body",
    "content": "How do you resolve an HTTP 413 Payload Too Large error in ASP.NET Core?",
    "explanation": "Default limit is usually ~30MB (IIS/Kestrel). You must configure `MaxRequestBodySize` in Kestrel AND `requestLimits` in IIS `web.config`."
  },
  {
    "id": 35039,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Browser Console Errors",
    "content": "How do you debug a CORS error seen in the browser console?",
    "explanation": "The API actually returned 200 OK (usually), but the browser blocked the JS from seeing it because headers were missing. Check the Network tab to confirm server behavior."
  },
  {
    "id": 35040,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "SQL Timeout vs Connection Timeout",
    "content": "What is the difference between SQL Connection Timeout and Command Timeout?",
    "explanation": "**Connection Timeout**: Time to establish TCP handshake (Server down). **Command Timeout**: Time to execute the query (Slow query/locking). Default Command Timeout is often 30s."
  },
  {
    "id": 35041,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Transaction Log Full",
    "content": "What causes SQL Error 9002 (Transaction Log Full)?",
    "explanation": "The LDF file filled the disk. Backup the Transaction Log (to truncate it) or enable Auto-Growth (if disk space allows)."
  },
  {
    "id": 35042,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "TempDB filling up",
    "content": "What common issues cause the TempDB in SQL Server to fill up?",
    "explanation": "Huge sorts/joins that spill to disk. Row Versioning (Snapshot Isolation). Infinite recursions. Check running queries for large memory grants."
  },
  {
    "id": 35043,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Plan Cache Pollution",
    "content": "How do ad-hoc queries cause Plan Cache Pollution in SQL Server?",
    "explanation": "Using values instead of parameters: `SELECT * FROM T WHERE ID = 1`. SQL caches a plan for '1', then '2', then '3'. Use Parameterization so 1 plan serves all."
  },
  {
    "id": 35044,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Clock Drift",
    "content": "How does Clock Drift affect JWT validation?",
    "explanation": "Server A time != Server B time. `nbf` (Not Before) claim fails if Server B is 5 seconds ahead. Use `ClockSkew` (default 5 mins) in token validation to tolerate drift."
  },
  {
    "id": 35045,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Certificate Chain Issues",
    "content": "Why might an SSL certificate work on Desktop but fail on Mobile?",
    "explanation": "Missing **Intermediate Certificate**. Desktops often download missing intermediates automatically. Mobiles/Servers usually don't. Ensure the server sends the Full Chain."
  },
  {
    "id": 35046,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Mixed Content Warning",
    "content": "What is a 'Mixed Content' warning in a browser?",
    "explanation": "Browser blocks it. Ensure all resources (images, scripts, CSS) are loaded via HTTPS or relative paths (`//domain.com/img`)."
  },
  {
    "id": 35047,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "GDI Handle Leak",
    "content": "What is a GDI Handle Leak and how does it mimic an Out of Memory error?",
    "explanation": "Windows Limit. A process can only have ~10,000 GDI/User handles. Leaking Bitmaps/Fonts causes this. Use tools like GDIView to diagnose."
  },
  {
    "id": 35048,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "TaskCanceledException",
    "content": "Does a `TaskCanceledException` always indicate a timeout?",
    "explanation": "No. It means the `CancellationToken` was cancelled. Could be timeout, client disconnect, or explicit server shutdown. Check `cancellationToken.Source`."
  },
  {
    "id": 35049,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Access Denied (403)",
    "content": "How do you troubleshoot 'Access Denied' errors that occur only on the server?",
    "explanation": "Check Identity running the App Pool/Service. Dev uses your Personal Account. Server uses `NETWORK SERVICE` or Managed Identity. Check ACLs on folders/SQL."
  },
  {
    "id": 35050,
    "category": "Debugging & Profiling",
    "difficulty": "Senior",
    "title": "Fusion Log",
    "content": "How can the Fusion Log help debug assembly loading failures?",
    "explanation": "Enable **Fusion Logging** (registry setting). It creates a log file on disk detailing exactly where the runtime looked for a DLL and why it failed to load."
  }
  ,
  {
    "id": 36001,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Story Points vs Hours",
    "content": "How should you explain the relationship between Story Points and Hours to management?",
    "explanation": "\"Points measure **Complexity/Risk**, not Time. A 5-point task might take 4 hours for a Senior or 12 hours for a Junior. Mapping points to hours destroys the accuracy of velocity. We use Velocity (Points per Sprint) to predict timelines, not hours.\""
  },
  {
    "id": 36002,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "WIP Limits",
    "content": "Why is limiting Work In Progress (WIP) crucial in Kanban?",
    "explanation": "**Little's Law**. `Cycle Time = WIP / Throughput`. If you increase WIP (multitasking), Cycle Time (time to ship) increases. Lowering WIP forces the team to finish starting tasks before starting new ones (\"Stop Starting, Start Finishing\")."
  },
  {
    "id": 36003,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "The Standup Meeting",
    "content": "What are the characteristics of an effective Daily Standup meeting?",
    "explanation": "Standup is for **Unblocking**, not Status Reporting. Status goes in Jira/Ticket. The meeting should focus on: \"Is the Sprint Goal at risk?\" and \"Who needs help?\". Walk the Board (Right to Left), not the People."
  },
  {
    "id": 36004,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Blameless Post-Mortem",
    "content": "Why is a Blameless Post-Mortem culture important?",
    "explanation": "Change the question to \"**How** did the system allow this to happen?\". Firing the dev fixes nothing. Fixing the permission system/pipeline prevents it forever. Blame hides errors; Blamelessness encourages reporting them."
  },
  {
    "id": 36005,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Definition of Done (DoD)",
    "content": "What constitutes a robust 'Definition of Done' (DoD)?",
    "explanation": "That is **Not Done**. DoD is a contract. \"Done\" usually means: Coded + Reviewed + Tested + Merged + Deployed to Staging. If it's not shippable, it's not done."
  },
  {
    "id": 36006,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Trunk Based Development",
    "content": "Why is Trunk Based Development often preferred over GitFlow for high-performance teams?",
    "explanation": "**(Trunk).** GitFlow delays integration (Merge Hell). Trunk Based (committing to main daily) forces small batches, continuous integration, and Feature Flags. It correlates with high-performing DORA metrics."
  },
  {
    "id": 36007,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Cycle Time vs Lead Time",
    "content": "What is the difference between Cycle Time and Lead Time?",
    "explanation": "**Lead Time**: From \"Customer asks for feature\" to \"Feature live in Prod\". **Cycle Time**: From \"Dev starts coding\" to \"Feature live\". Devs control Cycle Time; Product/Process controls Lead Time."
  },
  {
    "id": 36008,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Spike Ticket",
    "content": "How should a team handle estimating a vague or high-risk ticket?",
    "explanation": "Don't guess. Create a **Spike**. A time-boxed (e.g., 4 hours) investigation task. The output of a Spike is not code, but *knowledge* (and a better estimate for the real ticket)."
  },
  {
    "id": 36009,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Bus Factor",
    "content": "What is the 'Bus Factor' and how should a team mitigate low values?",
    "explanation": "High risk. If Bob gets hit by a bus (or quits), the team halts. Fix: Forced rotation. Bob *must* pair program with Alice on the next Billing ticket. Documentation helps, but shared experience is better."
  },
  {
    "id": 36010,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Sprint Zero",
    "content": "Why is a 'Sprint Zero' devoted solely to architecture often considered an anti-pattern?",
    "explanation": "Anti-Agile (Water-Scrum-Fall). Start coding Day 1. Build the \"Walking Skeleton\" (Hello World deployed to Prod pipeline). Architecture evolves. Big Upfront Design (BUFD) is usually wrong."
  },
  {
    "id": 36011,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Velocity Inflation",
    "content": "What is 'Velocity Inflation' and why is it problematic?",
    "explanation": "Points are relative. If the team unconsciously inflates estimates (Story Point Inflation), velocity looks good but value is flat. Focus on **Throughput** (Items/Week) or **Value Delivered** instead of raw points."
  },
  {
    "id": 36012,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Retrospective Prime Directive",
    "content": "What is the 'Prime Directive' of an Agile Retrospective?",
    "explanation": "\"Regardless of what we discover, we understand and truly believe that everyone did the best job they could, given what they knew at the time, their skills and abilities, the resources available, and the situation at hand.\""
  },
  {
    "id": 36013,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "MVP (Minimum Viable Product)",
    "content": "How should an MVP be defined in Agile product development?",
    "explanation": "That is traditional construction. Agile MVP is: Skateboard -> Scooter -> Bike -> Car. Every stage must be **usable** and deliver value to the customer, even if it's minimal."
  },
  {
    "id": 36014,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Technical Debt Quadrant",
    "content": "Is all Technical Debt inherently bad?",
    "explanation": "No. **Prudent/Deliberate** debt (\"We ship now to hit the deadline, next week\") is a valid business tool. **Reckless/Inadvertent** debt (\"We don't know how to write clean code\") is bad."
  },
  {
    "id": 36015,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Code Review: Nitpicking",
    "content": "Why should nitpicking be avoided in Code Reviews?",
    "explanation": "Automate formatting (Linting). Humans should review **Architecture, Logic, Security, and Maintainability**. Endless nitpicking slows velocity and kills morale."
  },
  {
    "id": 36016,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Context Switching Cost",
    "content": "How does Context Switching affect developer productivity?",
    "explanation": "Gerald Weinberg's rule: 20% lost per extra task. 3 tasks = 40% value work, 60% waste. Encourage **Swarming** (Team works on 1 ticket together) to finish fast."
  },
  {
    "id": 36017,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Scrum Master vs Project Manager",
    "content": "How does the role of a Scrum Master differ from that of a Project Manager?",
    "explanation": "PM manages Scope/Timeline/Budget. Scrum Master manages the **Process** (Removing blockers, coaching the team, enforcing Scrum rules). Ideally, the team eventually doesn't need a Scrum Master."
  },
  {
    "id": 36018,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Parkinson's Law",
    "content": "How does Parkinson's Law apply to Sprint planning?",
    "explanation": "\"Work expands so as to fill the time available for its completion.\" If you give a 2-hour task a 2-week deadline, it will likely take 2 weeks (gold plating). Set aggressive but realistic internal goals."
  },
  {
    "id": 36019,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Feature Factories",
    "content": "What is a 'Feature Factory' and why is it a negative term?",
    "explanation": "Shipping output (Features) != Shipping Outcome (Value). A Senior Engineer asks \"Did this feature actually increase conversion?\" via A/B testing or Analytics. If not, delete it."
  },
  {
    "id": 36020,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Fail Fast",
    "content": "What does 'Fail Fast' mean in software development?",
    "explanation": "**Sunk Cost Fallacy**. If the hypothesis is wrong, kill the project immediately. Celebrating a \"Fast Failure\" saves the company money."
  },
  {
    "id": 36021,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Refactoring Ticket",
    "content": "How should engineers handle refactoring when the Product Owner focuses on features?",
    "explanation": "Don't ask for permission. Refactoring is part of **Coding**. You don't ask to \"Type variables\". You as you touch code (Boy Scout Rule). For large refactors, sell the **Business Value** (Speed, Stability)."
  },
  {
    "id": 36022,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Definition of Ready (DoR)",
    "content": "What is the purpose of a 'Definition of Ready' (DoR)?",
    "explanation": "DoR ensures a ticket has: Description, Acceptance Criteria, UI Mockups (if needed), and dependencies identified. Prevents \"Garbage In, Garbage Out\" in Sprints."
  },
  {
    "id": 36023,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Pair Programming vs Code Review",
    "content": "Can Pair Programming effectively replace formal Code Reviews?",
    "explanation": "Yes. Pairing is a continuous, real-time code review. The code is reviewed *as it is written*. You can merge immediately without a PR wait time (Continuous Integration)."
  },
  {
    "id": 36024,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Deployment Frequency (DORA)",
    "content": "How does Deployment Frequency correlate with team performance (DORA metrics)?",
    "explanation": "Elite performers deploy **Multiple times per day**. Smaller deployments = Smaller Risk = Faster Recovery. Deploying once every 2 weeks bundles risk into a \"Big Bang\" release."
  },
  {
    "id": 36025,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "MTTR (Mean Time To Recovery)",
    "content": "Why is optimizing for Mean Time To Recovery (MTTR) often better than striving for zero bugs?",
    "explanation": "You cannot prevent all bugs. Optimizing for **MTTR** (fixing bugs in 10 mins via rollback/fix-forward) is better than slowing down dev to try and achieve 0 bugs (MTBF)."
  },
  {
    "id": 36026,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Kanban vs Scrum",
    "content": "When is it appropriate to switch from Scrum to Kanban?",
    "explanation": "Use **Scrum** for product development (Fixed cadence, predictable goals). Use **Kanban** for Support/Ops/Maintenance (Continuous flow, changing priorities, SLAs). Don't force Scrum on a Support team."
  },
  {
    "id": 36027,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Broken Window Theory",
    "content": "How does the 'Broken Window Theory' apply to code quality?",
    "explanation": "If you tolerate 10 warnings, you will tolerate 100. Then 1000. Eventually, no one checks warnings, and bugs hide there. Fix them immediately (Zero Warnings Policy)."
  },
  {
    "id": 36028,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Planning Poker",
    "content": "What is the purpose of hiding cards in Planning Poker?",
    "explanation": "To avoid **Anchoring Bias**. If the Senior says \"5\", the Junior will say \"5\" to agree. Revealing simultaneously forces honest, independent estimates."
  },
  {
    "id": 36029,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Dependency Injection (Process)",
    "content": "How can teams mitigate blocking dependencies using Dependency Injection principles?",
    "explanation": "Decouple teams. Define an **API Contract** (Mock). Team A builds against the Mock. Team B builds the implementation. They integrate at the end. Stops waiting."
  },
  {
    "id": 36030,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Premature Optimization",
    "content": "Why is Premature Optimization considered the 'root of all evil'?",
    "explanation": "\"Root of all evil\". Write clean, readable code first. Only optimize if performance metrics prove it's a bottleneck. 99% of code doesn't need micro-optimization."
  },
  {
    "id": 36031,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Gold Plating",
    "content": "What is 'Gold Plating' and why should it be avoided?",
    "explanation": "Waste. It adds complexity, bugs, and maintenance cost for something nobody asked for. Stick to the requirements. If you have a good idea, propose it to Product first."
  },
  {
    "id": 36032,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Shift Left Security",
    "content": "What does it mean to 'Shift Left' security?",
    "explanation": "Too expensive to fix architecture now. **Shift Left**: Include Security in the Design phase, run SAST/DAST in the CI pipeline daily. Security is everyone's job, every day."
  },
  {
    "id": 36033,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "User Story Format",
    "content": "Why is the standard User Story format (\"As a... I want... So that...\") effective?",
    "explanation": "Focuses on the **Benefit** (Value). \"I want a button\" is bad. \"I want to filter by price so I can find affordable items\" allows the dev to design the best solution (maybe a slider is better than a button)."
  },
  {
    "id": 36034,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Change Failure Rate",
    "content": "Is a 0% Change Failure Rate always the ideal goal?",
    "explanation": "Likely means you are moving too slowly or not measuring correctly. A healthy team takes calculated risks. 0-15% is usually acceptable if recovery is fast."
  },
  {
    "id": 36035,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Code Ownership",
    "content": "Why is Collective Code Ownership preferred over Individual Ownership in Agile?",
    "explanation": "**(Collective).** \"I own this file, don't touch it\" creates silos and bottlenecks. The whole team owns the whole codebase. Anyone can fix any bug (with review)."
  },
  {
    "id": 36036,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Information Radiators",
    "content": "What is the purpose of an 'Information Radiator' in an Agile office?",
    "explanation": "Passive communication. Everyone knows if the build is broken without asking. Encourages fixing it quickly."
  },
  {
    "id": 36037,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "The XY Problem",
    "content": "What is the 'XY Problem' and how do you spot it?",
    "explanation": "Don't just answer. Ask \"Why?\". They might be trying to parse a file extension, for which `Path.GetExtension()` is the correct, safe solution. They asked about their *attempted solution* (Y), not the *root problem* (X)."
  },
  {
    "id": 36038,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Cargo Culting",
    "content": "What is 'Cargo Culting' in software engineering?",
    "explanation": "Adopting practices without understanding the reasoning. Netflix has different problems than your startup. Context matters."
  },
  {
    "id": 36039,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Yak Shaving",
    "content": "What does the term 'Yak Shaving' mean in programming?",
    "explanation": "You start fixing a bug, which requires a library update, which requires a new OS, which requires... 10 steps later you are shaving a Yak. Recognize when you are down a rabbit hole and timebox it."
  },
  {
    "id": 36040,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Documentation Rot",
    "content": "How do you prevent 'Documentation Rot'?",
    "explanation": "Documentation that is not executable (like a script) will rot. Prefer **Readme.md** in the repo (versioned with code) or automation scripts over external Wikis."
  },
  {
    "id": 36041,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Meeting Costs",
    "content": "How should the cost of a meeting be calculated?",
    "explanation": "Cost = 10 hours * Hourly Rate. Is the outcome worth $1000? Keep meetings small, optional, and have an agenda. \"No Agenda, No Attenda\"."
  },
  {
    "id": 36042,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Feature Creep",
    "content": "How should a team handle Feature Creep during a Sprint?",
    "explanation": "Protect the Sprint Goal. If a new request comes in, something else must come out (Swap). Or put it in the Backlog for next sprint."
  },
  {
    "id": 36043,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Shadow IT",
    "content": "What is 'Shadow IT' and why is it a risk?",
    "explanation": "Security nightmare. IT doesn't know it exists, so it's not patched. Bring them into the fold or provide a sanctioned platform (CMS) for them."
  },
  {
    "id": 36044,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Rubber Duck Debugging",
    "content": "What is 'Rubber Duck Debugging'?",
    "explanation": "Vocalizing the problem forces your brain to slow down and verify assumptions. You often find the bug while explaining it, before the other person (or duck) answers."
  },
  {
    "id": 36045,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Conway's Law",
    "content": "How does Conway's Law influence software architecture?",
    "explanation": "\"Systems resemble the communication structure of the organization.\" If you have 3 separated teams (UI, DB, API), you will build a 3-tier architecture. To get Microservices, you need cross-functional teams."
  },
  {
    "id": 36046,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Five Nines",
    "content": "What does 'Five Nines' availability imply in terms of downtime?",
    "explanation": "5 minutes of downtime *per year*. Extremely expensive (multi-region, auto-failover). Most businesses are fine with 99.9% (43 mins/month). Don't over-promise."
  },
  {
    "id": 36047,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "MVP vs SLC",
    "content": "How does SLC (Simple, Lovable, Complete) differ from a traditional MVP?",
    "explanation": "MVP often means \"Buggy functionality\". **SLC** means building a *tiny* product that works perfectly. Users prefer a perfect skateboard over a car with no wheels."
  },
  {
    "id": 36048,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Root Cause Analysis (RCA)",
    "content": "Why is 'Human Error' considered an insufficient conclusion in Root Cause Analysis?",
    "explanation": "Human error is a symptom, not a cause. Why did the system allow a human to delete the DB? The Root Cause is bad UI or lack of safeguards."
  },
  {
    "id": 36049,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Onboarding Time",
    "content": "Why is minimizing Onboarding Time critical for team velocity?",
    "explanation": "Should take < 1 day. Use **Docker**, setup scripts, or DevContainers (`.devcontainer`). Automated onboarding improves Developer Experience (DX)."
  },
  {
    "id": 36050,
    "category": "Agile & Process",
    "difficulty": "Senior",
    "title": "Version Control Strategy",
    "content": "Why should teams adopt a structured Commit Message strategy like Conventional Commits?",
    "explanation": "Use **Conventional Commits** (`feat: login`, `fix: crash`). Enables auto-changelog generation and semantic versioning. History becomes readable."
  }

  ,
  {
    "id": 37001,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "High CPU - Diagnosis",
    "content": "What is the first step when diagnosing a 100% CPU alert in production?",
    "explanation": "1. **Check Scale**: Did auto-scale trigger? 2. **Check Logs**: Are we being DDoS'd or is it an app error loop? 3. **Process Dump**: Capture a dump/trace to see *what* is burning cycles (GC? Infinite Loop? Lock Contention?). Don't just restart blindly unless necessary to restore service immediately."
  },
  {
    "id": 37002,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Memory Leak - Production",
    "content": "How do you diagnose a production memory leak that crashes the app daily?",
    "explanation": "Classic Leak. 1. Check **Static Collections** (Cache growing forever?). 2. Check **Event Handlers** (Not unsubscribing?). 3. Take two Memory Dumps (1 hour apart) and compare the heap differences to find the accumulating objects."
  },
  {
    "id": 37003,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "SQL Timeout Spikes",
    "content": "How do you diagnose sudden SQL transaction timeout spikes?",
    "explanation": "1. Check **Running Queries** (`sp_whoisactive` / `pg_stat_activity`). 2. Look for **Blocking** (Lock Waits). 3. Look for a **Bad Plan** (Parameter Sniffing). 4. Kill the bad query to restore health. 5. Fix the missing index or code later."
  },
  {
    "id": 37004,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "502 Bad Gateway Storm",
    "content": "How do you investigate a 502 Bad Gateway storm when app servers appear healthy?",
    "explanation": "502 means the LB can't talk to the App. Check **Network/Firewall** rules. Check **Keep-Alive Timeouts** (Mismatch between LB and App?). Check if App is overloaded and rejecting connections (Backlog full) despite responding to health checks."
  },
  {
    "id": 37005,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "The \"It Works on My Machine\" Incident",
    "content": "How do you resolve an 'It works on my machine' file issue?",
    "explanation": "Check **Case Sensitivity** (Windows vs Linux). Check **Environment Variables** (Missing config). Check **File Permissions** (App user can't read the file). Check **Current Directory** (Relative paths)."
  },
  {
    "id": 37006,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Cascading Failure",
    "content": "What is a 'Cascading Failure' and how can it be prevented?",
    "explanation": "Lack of **Circuit Breakers**. Service B should have failed fast when A went down. Instead, it queued up requests waiting for A, exhausted its thread pool, and died. Apply Circuit Breakers and Bulkheads everywhere."
  },
  {
    "id": 37007,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Disk Full Outage",
    "content": "What steps should you take if a server crashes due to a full disk?",
    "explanation": "1. Check **/var/log** (Runaway logs?). 2. Check **Docker Overlay2** (Dangling images?). 3. Check **Temp Folder** (Leaked temp files?). Mitigation: `logrotate`, separate partitions for OS and Data, and alerts at 80% usage."
  },
  {
    "id": 37008,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Deployment Failed - Bad Config",
    "content": "What is the immediate response to a failed deployment causing a crash loop?",
    "explanation": "1. **Rollback** immediately to the previous version to restore service. 2. Analyze startup logs. 3. Check **Configuration Transforms** (Did a token replacement fail? Is a secret missing in the new environment?)."
  },
  {
    "id": 37009,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Slow Memory Leak (Fragmentation)",
    "content": "What causes slow memory leaks manifested as fragmentation?",
    "explanation": "**Heap Fragmentation**. Specifically LOH (Large Object Heap) or Pinned Objects. The OS sees free RAM, but the CLR can't find a contiguous block to allocate memory. Restart is the temp fix. Code (using Pools) is the real fix."
  },
  {
    "id": 37010,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Poison Message Loop",
    "content": "How do you handle a 'Poison Message' causing a consumer restart loop?",
    "explanation": "A message is crashing the consumer logic. The broker redelivers it. The consumer crashes again. Fix: Check **DLQ** (Dead Letter Queue) configuration. Move the stuck message to DLQ manually to unblock the pipe."
  },
  {
    "id": 37011,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Certificate Expiry",
    "content": "How do you respond to sudden certificate chain errors between services?",
    "explanation": "An SSL certificate expired (maybe an internal one or a 3rd party root). Check cert dates. Implement **Automated Cert Renewal** (Let's Encrypt / KeyVault Rotation) and monitoring/alerting on \"Days to Expiry\"."
  },
  {
    "id": 37012,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Latency Spike - No CPU Load",
    "content": "What does a latency spike with low CPU usage typically indicate?",
    "explanation": "**I/O Wait** or **Lock Contention**. The app is waiting for something (DB, External API, Disk). Check Dependency Logs (latency of downstream calls). Check Thread Pool stats (Worker Threads Available vs Busy)."
  },
  {
    "id": 37013,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Zombie Processes",
    "content": "How do you identify and fix 'Zombie Processes' in a Docker container?",
    "explanation": "Zombie processes (Defunct). The parent process isn't reaping child processes. Occurs if PID 1 is not an init system (like Tini). Check `ps aux`. Rebuild image using `--init` or a proper entrypoint."
  },
  {
    "id": 37014,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "DDoS Attack",
    "content": "What are the first steps to mitigate a suspected DDoS attack?",
    "explanation": "1. Enable **Rate Limiting** / **Geo-Blocking** at the Edge (Cloudflare/FrontDoor). 2. Scale out compute to absorb load (if affordable). 3. Identify attack pattern (Specific UserAgent/IP?) and block signature."
  },
  {
    "id": 37015,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Cache Stampede",
    "content": "What is a 'Cache Stampede' and how do you recover from it?",
    "explanation": "**Cache Stampede** (Thundering Herd). Redis is empty. Every request hits the DB simultaneously. Fix: Turn on the app slowly (Throttle traffic), or Pre-warm the cache before opening the floodgates."
  },
  {
    "id": 37016,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Split Brain",
    "content": "What is a 'Split Brain' scenario in a cluster and how is it resolved?",
    "explanation": "Network partition caused both sides to think the other died. **Stop Everything**. Shut down one side manually. Re-sync data (hard) or restore from backup. Configure Quorum (Majority Vote) correctly to prevent recurrence."
  },
  {
    "id": 37017,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Port Exhaustion",
    "content": "How do you resolve 'Port Exhaustion' issues in high-load applications?",
    "explanation": "SNAT Port Exhaustion. You are opening too many outgoing TCP connections and leaving them in `TIME_WAIT`. Fix: Reuse connections (`HttpClientFactory`), enable connection pooling, or use a NAT Gateway."
  },
  {
    "id": 37018,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Transaction Log Full",
    "content": "How do you recover from a 'SQL Insert Fails: Log file full' error?",
    "explanation": "The LDF file consumed all disk space. **Backup the Log** immediately (this truncates/clears it in Full Recovery Mode). Check why backups aren't running frequently enough."
  },
  {
    "id": 37019,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Bad Deployment - Rolling Update Stuck",
    "content": "What should you do if a Kubernetes rolling update gets stuck?",
    "explanation": "The new version is broken. K8s is protecting you by keeping old pods alive. **Undo the Rollout** (`kubectl rollout undo`). Diagnose the crash in Dev/Staging."
  },
  {
    "id": 37020,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Neighbor Noise",
    "content": "What are the signs of the 'Noisy Neighbor' effect in cloud environments?",
    "explanation": "**Noisy Neighbor**. Another tenant on the physical host is hogging I/O or CPU. Move to a dedicated instance/host, or use constrained resources (CPU limits) to verify."
  },
  {
    "id": 37021,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "DNS Propagation Delay",
    "content": "Why do DNS changes often take time to propagate globally (DNS Propagation Delay)?",
    "explanation": "**TTL (Time To Live)**. DNS caches everywhere (ISP, Router, OS, Browser). You can't force a flush. Wait it out. In future, lower TTL *before* making the change."
  },
  {
    "id": 37022,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Secrets in Logs",
    "content": "What is the immediate response protocol if a secret is accidentally logged?",
    "explanation": "**Rotate the Credentials** immediately. The secret is compromised. Purge the logs if possible. Update code to redact secrets. Conduct a security review."
  },
  {
    "id": 37023,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Nuget Dependency Hell",
    "content": "What is 'NuGet Dependency Hell' and how do you resolve package downgrade warnings?",
    "explanation": "Diamond Dependency problem. Lib A wants NewtonSoft v11. Lib B wants v13. You referenced both. Force the update to v13 in your main project, or use `<bindingRedirect>` (Framework) / `<PackageReference>` explicit version."
  },
  {
    "id": 37024,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Deadlock (SQL)",
    "content": "How should applications handle SQL deadlock victim errors?",
    "explanation": "Implement **Retry Logic** in the app. Deadlocks happen. Also, capture the Deadlock Graph in SQL Profiler/Extended Events to optimize the query access order (Always access Table A then B, never B then A)."
  },
  {
    "id": 37025,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "CORS Error in Production",
    "content": "How do you diagnose and fix CORS errors in production?",
    "explanation": "Did the domain change? (e.g., `www.` vs non-www). Check the Allowed Origins list in backend config. Ensure the browser is sending the `Origin` header correctly."
  },
  {
    "id": 37026,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Clock Drift Auth Fail",
    "content": "What causes JWT 'NotBefore' validation failures in distributed systems?",
    "explanation": "The server validating the token has a clock lagging behind the issuer. Increase the **Clock Skew** tolerance (default 5 mins) or sync the server time (NTP)."
  },
  {
    "id": 37027,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Feature Flag Disaster",
    "content": "Why might a system remain broken even after turning off a problematic feature flag?",
    "explanation": "The flag might have corrupted persistent state (DB schema/data) that persists even after the flag is off. Rollback the database/data change, not just the flag."
  },
  {
    "id": 37028,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "API Rate Limited by 3rd Party",
    "content": "How should your application handle HTTP 429 Too Many Requests errors from 3rd party APIs?",
    "explanation": "Implement **Exponential Backoff** immediately. Stop the bleeding. If you keep hitting them, they might ban your IP. Queue the requests and process slowly."
  },
  {
    "id": 37029,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Git Merge Conflict - Lost Code",
    "content": "How can you recover lost code after a force push to the main branch?",
    "explanation": "Use `git reflog`. It tracks every HEAD change, even lost commits. Find the commit hash before the force push and reset main to it. Then lock the branch permissions."
  },
  {
    "id": 37030,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "CDN Caching Bad Content",
    "content": "Why might a CDN serve stale content after a rollback and how do you fix it?",
    "explanation": "**Purge the CDN Cache** (Invalidate). In future, use **Versioned Filenames** (`app.v2.js`) so you never have to purge; new deployments just use new URLs."
  },
  {
    "id": 37031,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Integer Overflow",
    "content": "What causes Integer Overflow in database IDs and how can it be fixed?",
    "explanation": "You exceeded `Int32.MaxValue` (2 billion). Database Identity rolled over or C# overflowed. Migrate column to `BigInt` (Int64). Fix code to use `long`."
  },
  {
    "id": 37032,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Memory Dump Analysis",
    "content": "How can you analyze a Linux core dump using Visual Studio?",
    "explanation": "Visual Studio can open Linux core dumps if you copy the matching binaries (dlls) and symbols (pdbs). Or use `dotnet-dump analyze` CLI."
  },
  {
    "id": 37033,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Eventual Consistency Confusion",
    "content": "How do you explain and mitigate Eventual Consistency issues to users?",
    "explanation": "Search Indexer is async. Explain to customer (or UI) that it takes time. Mitigation: UI hides the item immediately (Optimistic UI) even if the backend is catching up."
  },
  {
    "id": 37034,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Orphaned Locks",
    "content": "What happens to a Distributed Lock if the holding process crashes?",
    "explanation": "The lock has a TTL (Time To Live), right? If not, you must manually delete the key. Always set TTLs on distributed locks to prevent permanent deadlocks."
  },
  {
    "id": 37035,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "NullReference in Prod",
    "content": "Why do stack traces sometimes lack line numbers in production?",
    "explanation": "You are missing **PDBs** (Symbols) in production. Deploy PDBs (embedded/portable). Without them, the stack trace is just method names."
  },
  {
    "id": 37036,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Webhook Failure",
    "content": "How do you troubleshoot missing webhook deliveries from external providers?",
    "explanation": "Check your endpoint's response code. If you returned 500, they might have retried and stopped. Check the **Webhook Provider's Logs** (e.g., Stripe Dashboard) to see the delivery attempts and errors."
  },
  {
    "id": 37037,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Data Corruption - Encoding",
    "content": "What causes text to appear as question marks (`????`) in a database?",
    "explanation": "Encoding mismatch. Storing Unicode (Emoji/Chinese) in a `VARCHAR` (ASCII) column instead of `NVARCHAR` (Unicode). Convert column to `NVARCHAR`. Data already saved as `?` is lost forever."
  },
  {
    "id": 37038,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Slow Startup",
    "content": "What are the common causes of slow application startup after a deployment?",
    "explanation": "Cold Start issues. 1. DI container building huge graph? 2. EF Core initializing model? 3. Populating heavy Cache? Use **Warmup Scripts** or Slots to hit the app before swapping to prod traffic."
  },
  {
    "id": 37039,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Leaking File Handles",
    "content": "What does the error 'Too many open files' indicate in a .NET application?",
    "explanation": "You are opening `FileStream` or `Socket` without `using` / `Dispose`. The GC eventually cleans them, but not fast enough. Ensure `IDisposable` is used strictly."
  },
  {
    "id": 37040,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Ransomware Attack",
    "content": "What is the recommended response strategy to a Ransomware attack?",
    "explanation": "**Do not pay**. Restore from **Immutable Backups** (Off-site/WORM storage). If you don't have backups, you have learned a very expensive lesson."
  },
  {
    "id": 37041,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Broken Pipe / Connection Reset",
    "content": "Where should you look if clients report errors but server logs show nothing?",
    "explanation": "The request never reached the app. Killed by Firewall, Load Balancer, or Reverse Proxy (Nginx) due to size limits, timeouts, or protocol errors. Check the **Edge** logs."
  },
  {
    "id": 37042,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Thread Pool Starvation",
    "content": "What are the symptoms of Thread Pool Starvation?",
    "explanation": "Sync-over-Async. `Task.Result` blocking threads. The ThreadPool can't inject new threads fast enough. Reboot to clear. Fix the code to be `async all the way down`."
  },
  {
    "id": 37043,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Incorrect Dependency Version",
    "content": "What causes `MethodNotFoundException` at runtime?",
    "explanation": "**DLL Hell**. You compiled against Version X of a library, but Version Y (older) is present in the bin folder at runtime. Check binding redirects or clean the build folder."
  },
  {
    "id": 37044,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Timezone Bugs",
    "content": "How do Timezone bugs typically manifest in reporting systems?",
    "explanation": "Storing `DateTime.Now` (Local) in DB. Always store **UTC**. Convert to User's Local Time only at the UI layer. `DateTimeOffset` is best for preserving context."
  },
  {
    "id": 37045,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Large Payload JSON",
    "content": "How should APIs handle large datasets to prevent client crashes?",
    "explanation": "**Pagination**. Never return unbounded lists. Limit `Take(50)`. If they need all data, use a Bulk Export API (generate CSV/JSON file async and email link)."
  },
  {
    "id": 37046,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Resource Leak in Loop",
    "content": "Why is creating `HttpClient` inside a loop considered a bad practice?",
    "explanation": "Reuse the client. Creating it in a loop exhausts sockets instantly. Move creation outside the loop or use `IHttpClientFactory`."
  },
  {
    "id": 37047,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Hardcoded Secrets Expired",
    "content": "How should you handle the expiration of hardcoded secrets?",
    "explanation": "Emergency config update. Then, move secret to **KeyVault**. Set up **Rotation Policy** so secrets change every 3 months automatically, forcing you to handle rotation properly."
  },
  {
    "id": 37048,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Massive Log Volume",
    "content": "How can you prevent massive log volume spikes from tight loops?",
    "explanation": "A loop `while(!done)` is logging \"Waiting...\". Add a delay or **Sample** the logs (log every 100th iteration). Update log level configuration dynamically to stop the flow."
  },
  {
    "id": 37049,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Database Migration Lock",
    "content": "What causes a database migration to get blocked during deployment?",
    "explanation": "The table is locked by a long-running transaction (e.g., a report). Kill the report query to let the migration finish. Schedule migrations for off-peak hours or use online schema change tools."
  },
  {
    "id": 37050,
    "category": "Firefighting",
    "difficulty": "Senior",
    "title": "Incident Commander",
    "content": "What is the role of an Incident Commander during an outage?",
    "explanation": "**Designate One Person**. They communicate status to stakeholders. They direct engineers (\"You check DB, You check Logs\"). Prevents chaos and duplicate effort."
  }
  ,
  {
    "id": 38001,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "RAG (Retrieval Augmented Generation)",
    "content": "What is Retrieval Augmented Generation (RAG)?",
    "explanation": "LLMs (ChatGPT) are frozen in time (training cutoff) and don't know your private company data. **RAG** solves this: 1. You search your database for relevant docs. 2. You paste those docs into the Prompt as \"Context\". 3. The LLM answers based on that Context. It's \"Open Book\" testing for AI."
  },
  {
    "id": 38002,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Embeddings",
    "content": "What is a Vector Embedding?",
    "explanation": "It is a list of floating-point numbers (e.g., `[0.1, -0.5, ...]` of size 1536) that represents the **Semantic Meaning** of text. Words with similar meanings (\"Dog\" and \"Puppy\") have vectors that are mathematically close (Cosine Similarity). Used for semantic search."
  },
  {
    "id": 38003,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Semantic Kernel",
    "content": "What is Microsoft Semantic Kernel?",
    "explanation": "An SDK that integrates LLMs (OpenAI/Azure) with existing C# code. It allows you to define \"Skills\" (Native C# functions) that the AI can orchestrate. It's the .NET equivalent of LangChain."
  },
  {
    "id": 38004,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Token Limit",
    "content": "What happens if you send 100k tokens to a 4k model?",
    "explanation": "**Context Window Exceeded**. The request fails. You must truncate the input, summarize history, or use a model with a larger context window (GPT-4-Turbo / Claude). Managing the context window budget is a key engineering challenge."
  },
  {
    "id": 38005,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Vector Database",
    "content": "Is a specialized Vector Database (like Pinecone) required for vector search?",
    "explanation": "**(Nuance).** Not necessarily. Specialized DBs (Pinecone, Qdrant) are great, but traditional DBs now support vectors: **Postgres (pgvector)**, **Azure SQL**, **Cosmos DB**, and **Redis**. Using your existing DB simplifies infrastructure."
  },
  {
    "id": 38006,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Function Calling (Tools)",
    "content": "How does the Function Calling capability in LLMs work?",
    "explanation": "You describe your API function in the prompt schema (`GetWeather(city)`). The LLM does *not* call the API. It returns a **JSON object** telling *you* to call the function. You execute the C# code, and feed the result back to the LLM."
  },
  {
    "id": 38007,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Temperature Parameter",
    "content": "How does the Temperature parameter affect LLM output?",
    "explanation": "**0 (Deterministic)**: The AI picks the most likely next word every time. Good for code generation or factual data extraction. **1 (Creative)**: The AI picks less likely words. Good for creative writing or brainstorming."
  },
  {
    "id": 38008,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Streaming Responses",
    "content": "How can you implement streaming responses for LLMs in .NET?",
    "explanation": "Use **Server-Sent Events (SSE)**. In .NET, use `IAsyncEnumerable<string>` on the Controller actions. The OpenAI SDK supports streaming updates. It improves Perceived Latency significantly."
  },
  {
    "id": 38009,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Prompt Injection",
    "content": "What is Prompt Injection and how can it be mitigated?",
    "explanation": "A major security risk. Treat LLM input as untrusted. Separate System Prompts from User Prompts. Use delimiters (`\"\"\"`). Do not give the LLM delete permissions (Principle of Least Privilege). Validation layers are required."
  },
  {
    "id": 38010,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Hybrid Search",
    "content": "How does Hybrid Search improve upon pure Vector or Keyword search?",
    "explanation": "Vector search finds *concepts* (\"Animal\" matches \"Cat\"). Keyword search finds *exact matches* (\"Cat\" matches \"Cat\"). **Hybrid Search** combines both (Reciprocal Rank Fusion) for the best results (e.g., finding a specific part number *and* conceptual description)."
  },
  {
    "id": 38011,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Fine-Tuning vs RAG",
    "content": "When should you choose RAG over Fine-Tuning for custom data?",
    "explanation": "Almost always **No**. Fine-tuning teaches the model *style* or *format*, not new knowledge. It is slow and expensive. **RAG** is cheaper, real-time, and cites sources. Use RAG for knowledge retrieval."
  },
  {
    "id": 38012,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "System Prompt",
    "content": "What is a 'System Prompt' in the context of LLMs?",
    "explanation": "The initial instruction given to the model that the user cannot see. \"You are a helpful assistant for a Bank. You speak in a professional tone. You do not answer questions about politics.\""
  },
  {
    "id": 38013,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Chunking Strategy",
    "content": "What is a 'Chunking Strategy' for RAG and why is overlap important?",
    "explanation": "You can't feed a whole book to embedding. You split it into chunks (e.g., 500 words). **Overlap** chunks (e.g., 50 words) to preserve context at boundaries. The retrieval engine finds the top 3 relevant chunks."
  },
  {
    "id": 38014,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Cost Management",
    "content": "What are effective strategies for managing OpenAI API costs?",
    "explanation": "1. Switch to cheaper models (GPT-3.5-Turbo vs GPT-4). 2. Cache responses (Semantic Cache: if questions are similar, return cached answer). 3. Limit input token size. 4. Use small local models (LLaMA) for simple tasks."
  },
  {
    "id": 38015,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Hallucination",
    "content": "What causes AI Hallucinations and how can they be minimized?",
    "explanation": "LLMs predict the next word, they don't fact-check. Mitigation: 1. Use RAG (Grounding). 2. Set Temperature to 0. 3. Ask it to \"Cite your sources from the context provided\"."
  },
  {
    "id": 38016,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Azure OpenAI Service",
    "content": "Why use Azure OpenAI instead of direct OpenAI API?",
    "explanation": "**Compliance**. Azure OpenAI runs inside your Azure subscription. It offers VNET support, Managed Identity, and guarantees that your data is **not** used to train the public model."
  },
  {
    "id": 38017,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Chain of Thought",
    "content": "How does 'Chain of Thought' prompting improve LLM reasoning?",
    "explanation": "Prompting technique: \"Let's think step by step\". It forces the model to output its reasoning process before the final answer, which drastically improves accuracy on math or logic problems."
  },
  {
    "id": 38018,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Vector Dimensions",
    "content": "How does the number of vector dimensions affect embedding performance?",
    "explanation": "Higher dimensions (OpenAI `text-embedding-3-large`) capture more nuance but require more storage and slower search. Lower dimensions (`all-MiniLM-L6-v2`) are faster and cheaper but less accurate."
  },
  {
    "id": 38019,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Cosine Similarity",
    "content": "Why use Cosine Similarity for vectors?",
    "explanation": "It measures the **angle** between two vectors. Since embeddings are normalized, this indicates how semantically related two concepts are, regardless of vector magnitude."
  },
  {
    "id": 38020,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Semantic Caching",
    "content": "What is Semantic Caching and how does it differ from traditional caching?",
    "explanation": "Standard cache works on exact string match. **Semantic Cache** uses vectors to find \"similar\" questions. If user asks \"Who is POTUS?\" and cache has answer for \"Who is the President?\", it returns the cached answer. Saves massive API costs."
  },
  {
    "id": 38021,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Local LLMs",
    "content": "How can you run local LLMs (like Llama 3) in a .NET environment?",
    "explanation": "Use **Ollama** or **LLamaSharp**. Allows running quantized models locally (CPU/GPU). Good for privacy, offline scenarios, or zero-latency tasks, though usually less smart than GPT-4."
  },
  {
    "id": 38022,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Agents",
    "content": "What is an AI Agent?",
    "explanation": "An LLM loop that can: 1. Reason about a goal. 2. Decide to use a Tool (Search, Calculator). 3. Observe the output. 4. Iterate until the goal is met. (e.g., \"Book me a flight and add it to my calendar\")."
  },
  {
    "id": 38023,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Image Generation (DALL-E)",
    "content": "How do you generate images using DALL-E in .NET?",
    "explanation": "Use `OpenAI.Images.GenerateImageAsync`. You get back a URL. **Warning**: URLs usually expire after an hour. You must download the image stream and save it to your Blob Storage immediately."
  },
  {
    "id": 38024,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Rate Limiting (TPM)",
    "content": "How should applications handle LLM Rate Limits (TPM)?",
    "explanation": "OpenAI limits are strict. Implement a **Token Bucket** rate limiter in your app using the `X-RateLimit-Remaining-Tokens` header. Retry with exponential backoff on 429."
  },
  {
    "id": 38025,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Evaluation (Evals)",
    "content": "How do you evaluate the quality of a RAG application?",
    "explanation": "Use an **Evaluation Framework** (like PromptFlow). Run a set of \"Golden Questions\" against your app. Use an LLM (GPT-4) to grade the answers for Accuracy, Relevance, and Grounding against the retrieved documents."
  },
  {
    "id": 38026,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "GraphRAG",
    "content": "What is GraphRAG and how does it enhance retrieval?",
    "explanation": "combines Knowledge Graphs with Vectors. It understands relationships between entities (\"Microsoft owns GitHub\") better than pure vector similarity. Provides better global context summaries."
  },
  {
    "id": 38027,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Multi-Modal Models",
    "content": "What are the capabilities of Multi-Modal models like GPT-4o?",
    "explanation": "Can process Text, Audio, and Images simultaneously. You can upload an image of a UI mockup and ask the LLM to write the HTML/CSS code for it."
  },
  {
    "id": 38028,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Responsible AI",
    "content": "How are Responsible AI content filters implemented in Azure OpenAI?",
    "explanation": "Azure OpenAI provides **Content Safety** filters (Hate, Self-harm, Violence). You must handle the `400 Bad Request` (Content Filter Triggered) gracefully in your UI."
  },
  {
    "id": 38029,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "JSON Mode",
    "content": "What is 'JSON Mode' in LLMs and why is it useful?",
    "explanation": "Set `response_format: { type: \"json_object\" }`. The LLM guarantees valid JSON output. Essential for integrating LLM output into code logic (parsing)."
  },
  {
    "id": 38030,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Copilot Integration",
    "content": "What distinguishes a 'Copilot' integration from a simple chatbot?",
    "explanation": "Don't just build a chat bot. Build a **Sidecar** that has context of the current page. If user is on 'Invoice #123', the Copilot should have that context automatically injected into the system prompt."
  },
  {
    "id": 38031,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Batch API",
    "content": "When should you use the OpenAI Batch API?",
    "explanation": "OpenAI Batch API allows submitting a file of requests. They run within 24 hours at **50% discount**. Use this for non-urgent tasks like sentiment analysis of historical logs."
  },
  {
    "id": 38032,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Whisper Model",
    "content": "What is the Whisper model used for?",
    "explanation": "State-of-the-art transcription. Can be run locally via `ffmpeg` + models or via API. Useful for converting meeting recordings into text for RAG indexing."
  },
  {
    "id": 38033,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Vision API Costs",
    "content": "How does image resolution affect Vision API costs?",
    "explanation": "Images are tokenized. High-res mode tiles the image into 512x512 squares. A large image can cost thousands of tokens. Use `detail: low` if high res isn't needed."
  },
  {
    "id": 38034,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Prompt Engineering: Few-Shot",
    "content": "What is 'Few-Shot' prompting?",
    "explanation": "Provide examples in the prompt. Instead of \"Translate to French:\", say \"English: Hello -> French: Bonjour. English: Cat -> French: Chat. English: Dog -> ...\". The model learns the pattern instantly."
  },
  {
    "id": 38035,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Memory (Chat History)",
    "content": "Does the API remember previous messages?",
    "explanation": "No. The API is stateless. You must send the **Entire Conversation History** (User + Assistant messages) with every new request. You must manage the token limit by truncating old messages."
  },
  {
    "id": 38036,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Azure AI Search",
    "content": "Why is Azure AI Search often used for RAG implementations?",
    "explanation": "It is a managed Vector Store. It handles the chunking, embedding generation, and hybrid search (Keyword + Vector) automatically with \"Integrated Vectorization\". Simplifies the stack."
  },
  {
    "id": 38037,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "What is the difference between ChatGPT Plugins and Functions?",
    "content": "What is the difference between ChatGPT Plugins and Functions?",
    "explanation": "Plugins are largely deprecated in favor of **Function Calling** (Actions). Actions allow your API to be consumed by GPTs. You define an OpenAPI spec, and the LLM figures out how to call it."
  },
  {
    "id": 38038,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Small Language Models (SLM)",
    "content": "What are Small Language Models (SLMs) like Phi-3 used for?",
    "explanation": "Microsoft's efficient model. Can run on a phone or browser. Good for simple tasks (summarization) where privacy or latency is key and GPT-4 intelligence isn't required."
  },
  {
    "id": 38039,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Structured Output Parser",
    "content": "How can Structured Output Parsers extract data from unstructured text?",
    "explanation": "Define a C# class `OrderExtraction`. Serialize it to JSON Schema. Pass it to the LLM via Function Calling. The LLM will populate the fields (Date, Amount, Sender) accurately."
  },
  {
    "id": 38040,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Self-Correction",
    "content": "How can LLM Self-Correction be used to improve code generation?",
    "explanation": "If LLM generates code that doesn't compile, feed the Compiler Error back to the LLM. \"This code caused error X, fix it.\" The LLM is surprisingly good at debugging its own code."
  },
  {
    "id": 38041,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Planner (Semantic Kernel)",
    "content": "What is the role of a 'Planner' in Semantic Kernel?",
    "explanation": "The Planner takes a user goal \"Write a poem and email it to Bob\". It looks at available plugins (PoemWriter, EmailSender), creates a plan (1. Write, 2. Send), and executes it."
  },
  {
    "id": 38042,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Softmax Temperature",
    "content": "How does Softmax Temperature mathematically influence token selection?",
    "explanation": "The model outputs logits (probabilities) for the next token. Temperature scales these logits before Softmax. High temp flattens the distribution (randomness). Low temp sharpens it (determinism)."
  },
  {
    "id": 38043,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "MoE (Mixture of Experts)",
    "content": "What is a Mixture of Experts (MoE) architecture?",
    "explanation": "GPT-4 is rumored to be 8 smaller models (experts) routed by a gatekeeper. It enables massive intelligence without the massive cost of running a dense 1-trillion parameter model for every token."
  },
  {
    "id": 38044,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "LogProbs",
    "content": "How can LogProbs be used to assess LLM confidence?",
    "explanation": "The API can return the probability of the generated token. Used for **Confidence Scoring**. If the model generates an answer with low probability, you might flag it for human review."
  },
  {
    "id": 38045,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Context Caching",
    "content": "What is Context Caching in LLM APIs?",
    "explanation": "New feature (2024). You cache the input tokens (System Prompt + RAG Context) on the server. Subsequent requests referencing that cache are faster and 50% cheaper."
  },
  {
    "id": 38046,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Re-Ranking",
    "content": "What is 'Re-Ranking' in the context of RAG?",
    "explanation": "Vector search retrieves top 50 documents (fast but approximate). A **Cross-Encoder (Re-Ranker)** model reads those 50 and scores them accurately against the query. You send the top 5 to the LLM."
  },
  {
    "id": 38047,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "Private Data & Training",
    "content": "Does OpenAI train on API data?",
    "explanation": "For Enterprise/API users: **No**. (Unless you opt-in). For free ChatGPT users: **Yes**. Always check the Data Privacy Addendum (DPA)."
  },
  {
    "id": 38048,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "User Feedback Loop",
    "content": "Why is collecting user feedback essential for RAG systems?",
    "explanation": "Essential for evaluating RAG. Capture user feedback + the trace of the RAG retrieval. Use this dataset to improve your retrieval logic or fine-tune models later (RLHF)."
  },
  {
    "id": 38049,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "System 1 vs System 2 Thinking",
    "content": "How do System 1 vs System 2 thinking models apply to LLMs?",
    "explanation": "LLMs use System 1 (Fast, Intuitive, pattern matching). They struggle with System 2 (Slow, Logical, math). Frameworks can force System 2 behavior by asking the model to write code/math steps."
  },
  {
    "id": 38050,
    "category": "AI & LLMs",
    "difficulty": "Senior",
    "title": "The Future of .NET",
    "content": "Will AI replace coders?",
    "explanation": "No, but coders who use AI will replace those who don't. It is a productivity multiplier. It handles boilerplate, regex, and unit tests, allowing Seniors to focus on Architecture and System Design."
  }
  ,
  {
    "id": 39001,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Salary Expectations",
    "content": "How should you answer the salary expectation question in an early interview?",
    "explanation": "Deflect. \"I want to see if I'm a good fit for the team first. I'm sure you pay competitive market rates for a Senior role. Can you share the range budgeted for this position?\" Make *them* give the first number."
  },
  {
    "id": 39002,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Counter-Offers",
    "content": "Should you accept a job offer immediately?",
    "explanation": "Always negotiate. Even a polite \"I'm really excited, but I was hoping for something closer to X based on the responsibilities\" can unlock $5k-$10k instantly. Recruiters usually have a buffer."
  },
  {
    "id": 39003,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Equity vs Cash",
    "content": "How should you evaluate a high-equity, low-salary startup offer?",
    "explanation": "High risk. Equity is lottery tickets. If you have a mortgage, prioritize Cash. If you are young/risk-tolerant, Equity *might* make you rich, but assume it will be worth $0. Don't trade essential salary for paper money."
  },
  {
    "id": 39004,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "RSU vs Options",
    "content": "What is the difference between RSUs and Stock Options?",
    "explanation": "**RSU (Restricted Stock Unit)**: Actual shares given to you. Always have value (unless stock hits $0). Taxed as income on vesting. **Options**: The *right* to buy shares at a Strike Price. If stock price < Strike Price, they are worthless (\"Underwater\"). RSUs are safer."
  },
  {
    "id": 39005,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Vesting Schedule",
    "content": "What does a '4-year vesting with a 1-year cliff' mean?",
    "explanation": "You get 0% for the first year. At month 12, you get 25% (The Cliff). Then 1/48th every month. If you leave at month 11, you get nothing. Factor this into your \"Total Comp\" calculation."
  },
  {
    "id": 39006,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Sign-On Bonus",
    "content": "When and how should you negotiate for a Sign-On Bonus?",
    "explanation": "Ask for a **Sign-On Bonus**. It's one-time cash, so it doesn't mess up their long-term salary bands. Easy for them to approve. Use it to bridge the gap for the first year."
  },
  {
    "id": 39007,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Exploding Offers",
    "content": "How should you respond to an 'Exploding Offer' that expires in 24 hours?",
    "explanation": "High-pressure tactic. Respond: \"I need time to discuss this life decision with my family. I can give you an answer by [Date 3-5 days away].\" If they refuse, it's a red flag about their culture."
  },
  {
    "id": 39008,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Competing Offers",
    "content": "How can you leverage a competing offer to negotiate with your preferred company?",
    "explanation": "Tell Company B. \"I have an offer from A for $X, but I really want to join you. Can you match it?\" This provides **Social Proof** that you are desirable and forces B to speed up."
  },
  {
    "id": 39009,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "IC vs Management Track",
    "content": "Is becoming an Engineering Manager necessary for career advancement?",
    "explanation": "No. The **Pendulum Career**. You can swing between Staff Engineer (IC) and Engineering Manager (EM). Staff+ roles pay as much as Managers. Don't force yourself into management if you love code."
  },
  {
    "id": 39010,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Staff Engineer Impact",
    "content": "What distinguishes a Staff Engineer role from a Senior Engineer role?",
    "explanation": "**Senior**: Solves problems within a Team (Execution). **Staff**: Solves problems across Teams (Strategy/Architecture). Staff engineers operate without a predefined map."
  },
  {
    "id": 39011,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Reverse Interviewing",
    "content": "What questions should you ask during 'Reverse Interviewing' to spot toxic work cultures?",
    "explanation": "Ask: \"When was the last time you worked weekends?\", \"What is your turnover rate?\", \"How is the roadmap decided?\" (Top-down vs Bottom-up). Save yourself from a toxic job."
  },
  {
    "id": 39012,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "The 'Current Salary' Trap",
    "content": "How should you respond if a recruiter asks for your current payslip?",
    "explanation": "In many places (CA/NY), this is illegal. Even where legal, refuse politely. \"My current salary involves a complex mix of benefits specific to that company. I'd prefer to focus on the value I bring to *this* role.\""
  },
  {
    "id": 39013,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Unlimited PTO",
    "content": "What are the potential downsides of 'Unlimited PTO' policies?",
    "explanation": "**(Trap).** It often means \"No accrued payout when you quit\" and \"Social pressure to not take leave\". Ask the team: \"How many days did *you* take last year?\". If average < 3 weeks, it's a scam."
  },
  {
    "id": 39014,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Performance Reviews",
    "content": "Why is maintaining a 'Brag Document' important for promotion?",
    "explanation": "Keep a **Brag Document**. Log every win, every difficult bug fix, every mentorship moment throughout the year. Don't rely on your manager's memory at review time. Bring data."
  },
  {
    "id": 39015,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Golden Handcuffs",
    "content": "What is the 'Golden Handcuffs' trap and how should you evaluate it?",
    "explanation": "Calculate the \"Opportunity Cost\". If you can get a 30% raise elsewhere, does that outweigh the unvested stock? Usually, jumping ship yields higher long-term comp than waiting for vesting."
  },
  {
    "id": 39016,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Non-Compete Clauses",
    "content": "Are Non-Compete clauses enforceable for software engineers?",
    "explanation": "Check local laws. In California (and recently FTC USA), non-competes are largely unenforceable. In other regions, they are real. Read your contract carefully before quitting."
  },
  {
    "id": 39017,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "401k / Pension Match",
    "content": "Should 401k/Pension matching be considered part of your total compensation?",
    "explanation": "It is \"Free Money\". If a company matches 4%, that is a 4% salary increase. Factor this into Total Compensation comparisons between offers."
  },
  {
    "id": 39018,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Reference Checks",
    "content": "Who should you list as references for a Senior Engineering role?",
    "explanation": "Former managers who loved you. Senior colleagues. *Never* list your current boss (unless they know you are leaving). Call your references *before* giving their names to prep them."
  },
  {
    "id": 39019,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Contractor vs FTE",
    "content": "How much higher should a Contractor rate be compared to a Full-Time Employee salary?",
    "explanation": "Contractors pay their own taxes (self-employment), health insurance, and have no paid vacation. A contractor rate should be **50%-100% higher** than the hourly equivalent of a salary to break even."
  },
  {
    "id": 39020,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Imposter Syndrome",
    "content": "How should you deal with Imposter Syndrome as a Senior Engineer?",
    "explanation": "Everyone feels this. Tech changes too fast to know everything. Seniority is about **Resilience** (figuring it out), not memorization. If you can ship value and help others, you are Senior."
  },
  {
    "id": 39021,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Exit Interview",
    "content": "How honest should you be during an Exit Interview?",
    "explanation": "Be polite and professional. \"I found a new opportunity\". Venting burns bridges. The HR file persists forever. The industry is small; you might meet these people again."
  },
  {
    "id": 39022,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Bus Factor of One",
    "content": "Why is being a 'Bus Factor of One' detrimental to your career growth?",
    "explanation": "Being indispensable means you **Cannot be Promoted**. Automate yourself out of a job. Document everything. Train replacements. That is how you move up to Architect."
  },
  {
    "id": 39023,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Glue Work",
    "content": "Why is 'Glue Work' critical for Senior Engineers?",
    "explanation": "This is Senior work. Coding is easy; aligning people is hard. However, ensure this work is **Visible** and valued at performance review time. Don't let it be invisible labor."
  },
  {
    "id": 39024,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Networking",
    "content": "Why is continuous networking important even when you aren't looking for a job?",
    "explanation": "Dig the well before you are thirsty. Go to meetups, write blogs, help others on StackOverflow/GitHub. Weak ties (acquaintances) are the best source of new job leads."
  },
  {
    "id": 39025,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Title vs Role",
    "content": "How should you evaluate 'Title Inflation' at small startups?",
    "explanation": "Title inflation. Future employers know that \"VP\" at a tiny shop equals \"Senior Dev\" at a big shop. Focus on **Scale and Impact** responsibilities, not just the title on LinkedIn."
  },
  {
    "id": 39026,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Remote vs Hybrid",
    "content": "How can you negotiate for a Remote position if the role is listed as Hybrid?",
    "explanation": "If the job is listed as Hybrid, ask: \"Is this role open to remote for the right candidate?\" If you are a top performer, rules are often bent. Get it in writing."
  },
  {
    "id": 39027,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "On-Call Compensation",
    "content": "Should you accept unpaid overtime for On-Call rotation duties?",
    "explanation": "Ask about rotation frequency and compensation (Time off in lieu vs Cash). Chronic unpaid on-call is a recipe for burnout. It suggests the company doesn't value stability."
  },
  {
    "id": 39028,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Certifications",
    "content": "Are Cloud Certifications (Azure/AWS) valuable for Senior Engineers?",
    "explanation": "For consulting firms (Microsoft Partners), Yes (required for their status). For product companies, Experience > Certs. However, studying for them fills knowledge gaps."
  },
  {
    "id": 39029,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Internal Transfers",
    "content": "When should you consider an Internal Transfer instead of quitting?",
    "explanation": "Usually easier to find a new role inside the company (you already have domain knowledge/reputation). If you like the company but hate the project, look internally first."
  },
  {
    "id": 39030,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Mentorship",
    "content": "What is the most effective way to ask a senior colleague for mentorship?",
    "explanation": "Don't just ask \"Will you mentor me?\". Be specific. \"I admire your System Design skills. Can I buy you coffee once a month to review my architecture diagrams?\"."
  },
  {
    "id": 39031,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Public Speaking",
    "content": "How does public speaking (like Lunch & Learns) benefit your engineering career?",
    "explanation": "Great for visibility. It establishes you as a Subject Matter Expert (SME) inside the org. Helps with promotion cases for Staff/Principal roles."
  },
  {
    "id": 39032,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Ghosting",
    "content": "What should you do if a recruiter 'ghosts' you after an interview?",
    "explanation": "Move on. Follow up once (\"Just checking in\"), then drop it. It's not personal; their priorities shifted or the role was filled. Keep your pipeline full."
  },
  {
    "id": 39033,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Take-Home Tests",
    "content": "How should you handle requests for unpaid, lengthy Take-Home coding tests?",
    "explanation": "Your time is valuable. Ask to limit it to 2-3 hours. If they demand a full weekend project, it's a red flag (they don't respect candidate time). Walk away or ask for payment."
  },
  {
    "id": 39034,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "The 'Overqualified' Rejection",
    "content": "How should you address concerns about being 'Overqualified' for a role?",
    "explanation": "Fear of boredom. They think you will leave in 6 months. Counter it: \"I'm looking for stability and a place to mentor others, not just climb the ladder.\""
  },
  {
    "id": 39035,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Probation Period",
    "content": "What aspects of a Probation Period can and should be negotiated?",
    "explanation": "Standard is 3-6 months. Ensure the goals for passing probation are **written and objective** (e.g., \"Ship feature X\", not \"Be a good fit\")."
  },
  {
    "id": 39036,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Choosing a Boss",
    "content": "Why is choosing the right Manager often more important than the Company brand?",
    "explanation": "People leave managers, not companies. A great manager shields you from politics and fights for your promotion. A bad manager blocks your growth."
  },
  {
    "id": 39037,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Gap in Resume",
    "content": "How should you explain a resume gap during a Senior interview?",
    "explanation": "Own it. \"I took time to travel/care for family/upskill.\" Don't apologize. Confidence works. \"I'm recharged and ready to focus.\""
  },
  {
    "id": 39038,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Recruiter vs Hiring Manager",
    "content": "What are the distinct roles of the Recruiter vs Hiring Manager in the hiring process?",
    "explanation": "Hiring Manager decides **Yes/No**. Recruiter manages the **Process/Salary**. Impress the Manager with skills; negotiate the money with the Recruiter."
  },
  {
    "id": 39039,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Trial Days",
    "content": "Is a paid 'Trial Day' a positive signal in the hiring process?",
    "explanation": "Excellent signal. You get to see the *real* codebase and culture before committing. Much better than Whiteboard exams."
  },
  {
    "id": 39040,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Negotiating Severance",
    "content": "Is it possible to negotiate Severance terms before accepting an offer?",
    "explanation": "For executive roles, yes. For engineers, rare. However, always review the severance policy in the handbook before signing."
  },
  {
    "id": 39041,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Relocation Package",
    "content": "What should be included in a Relocation Package?",
    "explanation": "Ask for a \"Relocation Lump Sum\". It's often a separate budget from salary. Covers movers, temp housing, breaking lease."
  },
  {
    "id": 39042,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Early Exercise Options",
    "content": "What is the 'Early Exercise' strategy for stock options?",
    "explanation": "Allows you to buy options *before* they vest. Starts the clock for Long-Term Capital Gains tax (lower tax). Risky if company fails (you lose the cash you paid)."
  },
  {
    "id": 39043,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Learning Budget",
    "content": "Is it appropriate to negotiate for a Learning/Conference budget?",
    "explanation": "Standard perk. Ask for $1k-$5k/year. Shows you care about staying current."
  },
  {
    "id": 39044,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Glassdoor Reviews",
    "content": "How should you interpret Glassdoor reviews when evaluating a company?",
    "explanation": "Look for **Patterns**. One angry review is noise. 10 reviews mentioning \"Micromanagement\" is a signal. Check dates (did leadership change?)."
  },
  {
    "id": 39045,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Intellectual Property (IP) Clause",
    "content": "How should you handle aggressive IP ownership clauses in employment contracts?",
    "explanation": "Dangerous for side projects. Negotiate an amendment: \"Company owns IP related to Company Business or created on Company Equipment\". Protect your hobby apps."
  },
  {
    "id": 39046,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Contract-to-Hire",
    "content": "What are the risks and benefits of a 'Contract-to-Hire' position?",
    "explanation": "Low risk entry. Ensure the **Conversion Criteria** (Salary, Timeline) are defined *before* you start. Don't leave the salary negotiation until the end of the contract."
  },
  {
    "id": 39047,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Startup Tier",
    "content": "How do Funding Series (Seed, A, B, C) impact risk and compensation?",
    "explanation": "**Seed**: Chaos, low pay, high equity. **Series A**: Product Market Fit found, scaling. **Series C**: Corporate, stable, good pay, low equity upside."
  },
  {
    "id": 39048,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Referral Bonus",
    "content": "Why are Referrals the most effective way to get hired?",
    "explanation": "Always use a referral. You skip the resume queue (guaranteed phone screen usually). Your friend gets money ($5k). Win-Win."
  },
  {
    "id": 39049,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Hackerrank / LeetCode burnout",
    "content": "Can a Senior Engineer negotiate out of standard coding tests?",
    "explanation": "If you have a strong GitHub/Portfolio, ask: \"Can we skip the coding test and discuss my open source projects instead?\" Senior roles often allow this flexibility."
  },
  {
    "id": 39050,
    "category": "Career & Negotiation",
    "difficulty": "Senior",
    "title": "Final Decision",
    "content": "How much weight should you give to 'Gut Feeling' vs Salary in a job decision?",
    "explanation": "Trust your gut. A toxic high-paying job causes burnout, therapy bills, and career stalls. Optimization: Take the lower paying job with the great mentor/culture."
  }
  ,
  {
    "id": 40001,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "C# Memory Layout",
    "content": "Does a `struct` implementing an `interface` cause heap allocation?",
    "explanation": "Yes. Interfaces are reference types. When a value type (struct) is cast to an interface, it must be **Boxed** onto the Heap. Avoid using interfaces with structs in high-performance hot paths."
  },
  {
    "id": 40002,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "System Design: WhatsApp",
    "content": "Why is NoSQL preferred over SQL for storing high-volume chat messages?",
    "explanation": "**NoSQL (Wide Column / KV)**. Cassandra or HBase. Messages are write-heavy, immutable, and queried by `ChatID + Time`. Relational DBs struggle with this volume/velocity."
  },
  {
    "id": 40003,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Behavioral: Conflict",
    "content": "How should you handle conflict or disagreement during a System Design interview?",
    "explanation": "Don't get defensive. Say: \"That's a fair challenge. My assumption was X, which led to this design. If condition Y is more important, then yes, this approach would fail. How would you solve for Y?\" Show adaptability."
  },
  {
    "id": 40004,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "SQL Performance",
    "content": "Why is `SELECT *` considered dangerous in production SQL queries?",
    "explanation": "Never. 1. It breaks Covering Indexes (fetching unused columns causes Key Lookups). 2. It breaks contract compatibility if columns are added. 3. Wastes network bandwidth."
  },
  {
    "id": 40005,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Thread Safety",
    "content": "Is `Dictionary<TKey, TValue>` thread-safe for concurrent reads and writes?",
    "explanation": "Only if *no one is writing*. If one thread calls `Add()` (triggering a resize/rehash) while another reads, the reader can enter an infinite loop or crash. Use `ConcurrentDictionary` or `ReaderWriterLockSlim`."
  },
  {
    "id": 40006,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Cloud Patterns",
    "content": "What is the 'Strangler Fig' pattern?",
    "explanation": "A migration strategy. Instead of rewriting a monolith from scratch, you place a proxy in front and route specific endpoints to new microservices one by one, slowly \"strangling\" the old system."
  },
  {
    "id": 40007,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Async/Await",
    "content": "Why should you use `await` instead of `.Wait()` or `.Result`?",
    "explanation": "`.Wait()` blocks the thread (Sync-over-Async), wasting resources and risking Deadlocks. `await` releases the thread to the pool while waiting for I/O completion."
  },
  {
    "id": 40008,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Kubernetes",
    "content": "How do you debug a Kubernetes Pod stuck in `CrashLoopBackOff`?",
    "explanation": "`kubectl logs <pod> --previous`. The `--previous` flag shows the logs of the *dead* container instance that just crashed, telling you why it died."
  },
  {
    "id": 40009,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Distributed Transactions",
    "content": "How do you handle Distributed Transaction failures between microservices?",
    "explanation": "Data inconsistency. A committed, B didn't. Use the **Transactional Outbox Pattern** or **Saga Pattern** (Compensating Transactions) to ensure eventual consistency."
  },
  {
    "id": 40010,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "HTTP Headers",
    "content": "What does `Vary: Accept-Encoding` do?",
    "explanation": "Tells CDNs/Caches: \"Cache this response based on the `Accept-Encoding` header\". Serve Gzip to clients who support it, and uncompressed to those who don't. Prevents serving garbage to old browsers."
  },
  {
    "id": 40011,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Dependency Injection",
    "content": "Why is injecting `IServiceProvider` considered an anti-pattern?",
    "explanation": "Service Locator Anti-Pattern. It hides dependencies. Explicitly inject `IUserService`, `IEmailService`, etc. It makes testing easier and dependencies obvious."
  },
  {
    "id": 40012,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Security",
    "content": "Why is storing JWTs in LocalStorage insecure?",
    "explanation": "Vulnerable to XSS. Any JS script can read it. Store in **HttpOnly Secure Cookie**. It prevents JS access, mitigating XSS token theft."
  },
  {
    "id": 40013,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": ".NET Internals",
    "content": "What is the Large Object Heap (LOH) threshold?",
    "explanation": "**85,000 bytes**. Objects larger than this go to LOH. LOH is rarely compacted (to save CPU), leading to fragmentation. `double[10000]` goes to LOH."
  },
  {
    "id": 40014,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Testing",
    "content": "Why is mocking `DbContext` discouraged in unit testing?",
    "explanation": "Use **TestContainers** or SQLite In-Memory. Mocking EF Core behavior (`DbSet` mocks) is brittle and doesn't test actual SQL translation logic."
  },
  {
    "id": 40015,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Architecture",
    "content": "How does Vertical Slice Architecture differ from Clean Architecture?",
    "explanation": "**Clean**: Layers (UI -> App -> Domain <- Infra). Good for enterprise logic. **Vertical**: Features (Features/Login/...). Good for maintenance and cohesiveness. Most modern .NET apps prefer Vertical Slices."
  },
  {
    "id": 40016,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "REST API",
    "content": "What is the correct HTTP status code for a successfully created resource?",
    "explanation": "**201 Created**. Also return a `Location` header pointing to the new resource URL (`Location: /users/123`)."
  },
  {
    "id": 40017,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Event Sourcing",
    "content": "Can you delete or mutate events in an Event Sourcing system?",
    "explanation": "Events are immutable history facts. You cannot delete \"OrderCreated\". You must append a \"Correction Event\" (e.g., \"OrderCancelled\" or \"OrderCorrectionApplied\")."
  },
  {
    "id": 40018,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "C# Span",
    "content": "What are the performance benefits of using `Span<T>` in C#?",
    "explanation": "Zero-allocation slicing. It allows you to work with a sub-section of an array/string without creating a new object copy. Massive performance wins in parsing scenarios."
  },
  {
    "id": 40019,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "System Design: Scaling",
    "content": "How do you scale a database when CPU is maxed out by Read operations?",
    "explanation": "1. Caching (Redis). 2. Read Replicas (offload SELECTs). 3. Indexing optimization. 4. Materialized Views for complex reports."
  },
  {
    "id": 40020,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Code Review",
    "content": "How should teams handle code style vs logic in Code Reviews?",
    "explanation": "Use a **Linter** (EditorConfig). Humans should review Logic, Architecture, and Security. Nitpicking style kills morale."
  },
  {
    "id": 40021,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Docker",
    "content": "How can you reduce the size of large Docker images?",
    "explanation": "Use **Multi-stage builds**. Compile in SDK image, copy only DLLs to Runtime image. Use `.dockerignore`. Base on `alpine` or `distroless`."
  },
  {
    "id": 40022,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Resilience",
    "content": "What is a 'Retry Storm' and how can it be prevented?",
    "explanation": "When a service fails, clients retry immediately. This hammers the service preventing recovery. Use **Exponential Backoff** and **Jitter**."
  },
  {
    "id": 40023,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "CAP Theorem",
    "content": "According to CAP Theorem, what happens to Availability if you prioritize Consistency during a partition?",
    "explanation": "Availability drops. If you cannot sync data between nodes, you must reject requests (Error 500) to prevent data divergence (Split Brain). This is CP (Consistency-Partition Tolerance)."
  },
  {
    "id": 40024,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Entity Framework",
    "content": "What is the 'N+1 Problem' in Entity Framework and how do you fix it?",
    "explanation": "Looping through Orders and accessing `order.Customer.Name`. EF executes 1 query for Orders, then N queries for Customers. Fix: Eager Loading `.Include(x => x.Customer)`."
  },
  {
    "id": 40025,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Observability",
    "content": "Why is 'High Cardinality' problematic for metrics systems like Prometheus?",
    "explanation": "Adding `UserId` as a metric tag. If you have 1M users, you create 1M time series. This crashes Prometheus/Datadog. Use Logs for high-cardinality data, Metrics for aggregates."
  },
  {
    "id": 40026,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Design Pattern",
    "content": "When should you use the Strategy Pattern instead of a Switch statement?",
    "explanation": "Switch violates Open/Closed principle (modifying existing code to add logic). Strategy Pattern allows adding new classes (`CreditCardStrategy`, `PaypalStrategy`) without touching the core processor."
  },
  {
    "id": 40027,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Middleware Order",
    "content": "Where should Exception Handling Middleware be placed in the pipeline?",
    "explanation": "It must be at the **Start**. Middleware wraps the *next* components. To catch exceptions from Controllers, the ExceptionHandler must wrap the Controller execution."
  },
  {
    "id": 40028,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Redis",
    "content": "What does the Redis eviction policy `allkeys-lru` do?",
    "explanation": "When memory is full, Redis removes the **Least Recently Used** keys (any key) to make space. Standard setting for a cache."
  },
  {
    "id": 40029,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "gRPC",
    "content": "Why use gRPC over REST?",
    "explanation": "Performance. **Protobuf** is binary (smaller/faster than JSON). **HTTP/2** multiplexing. Strongly typed contracts (`.proto`). Best for internal microservices."
  },
  {
    "id": 40030,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Algorithm",
    "content": "What is the time complexity of a Hash Map lookup?",
    "explanation": "Average **O(1)**. Worst Case **O(N)** (if massive collisions occur). A good hash function is critical."
  },
  {
    "id": 40031,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "SignalR",
    "content": "How do you scale SignalR across multiple servers?",
    "explanation": "You need a **Backplane** (Redis / Azure SignalR). Client A connects to Server 1. Client B to Server 2. If A sends a message, Server 1 must push it to the Backplane so Server 2 can forward it to Client B."
  },
  {
    "id": 40032,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "SOLID",
    "content": "What is the Liskov Substitution Principle (LSP)?",
    "explanation": "\"Subtypes must be substitutable for their base types\". If `Square` inherits `Rectangle` but changing width also changes height (breaking Rectangle behavior), it violates LSP."
  },
  {
    "id": 40033,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "DevOps",
    "content": "What are the benefits of Infrastructure as Code (IaC)?",
    "explanation": "Using Terraform/Bicep instead of clicking in the Azure Portal. Prevents configuration drift, enables code reviews for infrastructure, and allows disaster recovery."
  },
  {
    "id": 40034,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Authentication",
    "content": "What is the purpose of Refresh Tokens in OAuth/OIDC?",
    "explanation": "Access Tokens are short-lived (15 mins). Refresh Tokens are long-lived (7 days). Client uses Refresh Token to get new Access Token. Allows revoking access (by deleting the refresh token) without forcing immediate logout."
  },
  {
    "id": 40035,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "LINQ",
    "content": "What is the difference between `IEnumerable` and `IQueryable` in LINQ?",
    "explanation": "`IEnumerable` runs in Memory (Client-side evaluation). `IQueryable` translates expression trees to SQL (Server-side evaluation). Using `IEnumerable` on a DB table pulls *all* rows before filtering."
  },
  {
    "id": 40036,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Testing",
    "content": "What are the three steps of the Test Driven Development (TDD) cycle?",
    "explanation": "Red (Write failing test) -> Green (Write minimal code to pass) -> (Clean up). Ensures high test coverage and decoupled design."
  },
  {
    "id": 40037,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Message Queues",
    "content": "What is a Dead Letter Queue (DLQ) used for?",
    "explanation": "A queue for messages that failed processing multiple times (Poison Messages). Allows the main queue to continue processing while engineers investigate the bad data."
  },
  {
    "id": 40038,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Distributed Locking",
    "content": "How do you ensure a cron job runs only once in a distributed cluster?",
    "explanation": "Use a distributed lock (Redis `SETNX` or Azure Blob Lease). The instance that acquires the lock runs the job. The others skip it."
  },
  {
    "id": 40039,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Value Object",
    "content": "How is equality defined for Value Objects?",
    "explanation": "Value Objects are defined by their values, not identity. Two `Money(5, \"USD\")` objects are equal. You must override `.Equals()` and `GetHashCode()` or use `record`."
  },
  {
    "id": 40040,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "AutoMapper",
    "content": "How does AutoMapper's `ProjectTo` improve query performance?",
    "explanation": "`ProjectTo<Dto>` works with `IQueryable`. It modifies the SQL SELECT statement to fetch only the columns needed for the DTO. `Map<Dto>` fetches the whole entity then maps in memory."
  },
  {
    "id": 40041,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Soft Deletes",
    "content": "How do you implement Soft Deletes in Entity Framework Core?",
    "explanation": "Add `IsDeleted` column. Use EF Core **Global Query Filters** `modelBuilder.Entity<T>().HasQueryFilter(e => !e.IsDeleted)`. Automatically hides deleted rows from all queries."
  },
  {
    "id": 40042,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "GraphQL",
    "content": "How does GraphQL solve the 'Overfetching' problem found in REST?",
    "explanation": "REST returns fixed large objects. GraphQL solves Overfetching by allowing the client to request only specific fields (`{ user { name } }`)."
  },
  {
    "id": 40043,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Reflection",
    "content": "Why is Reflection considered slow and what are the alternatives?",
    "explanation": "Reflection involves metadata lookup and is slow. Use **Source Generators** (Compile time) or cache the delegates/expressions if runtime reflection is strictly necessary."
  },
  {
    "id": 40044,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Blazor",
    "content": "What are the trade-offs between Blazor Server and Blazor WebAssembly?",
    "explanation": "**Server**: Runs on server, sends UI updates via SignalR. Fast load, SEO friendly, requires constant connection. **WASM**: Runs in browser. Slow initial load (DLL download), offline capable, runs on client CPU."
  },
  {
    "id": 40045,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Distributed Systems",
    "content": "What is Idempotency in distributed systems?",
    "explanation": "The property that an operation can be applied multiple times without changing the result beyond the initial application. Essential for retries in network calls (`POST /pay` with `Idempotency-Key`)."
  },
  {
    "id": 40046,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Azure",
    "content": "What are Azure App Service Slots and how do they enable zero-downtime deployments?",
    "explanation": "Zero-downtime deployment. Deploy to `Staging` slot. Warm up. **Swap** slots (Virtual IP swap). If Prod fails, Swap back."
  },
  {
    "id": 40047,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Agile",
    "content": "What should be included in a team's 'Definition of Done' (DoD)?",
    "explanation": "Code committed, Tests passed, CI Green, Deployed to Staging/Prod, Acceptance Criteria met. Stops \"It works on my machine\" mentality."
  },
  {
    "id": 40048,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "AI",
    "content": "What are Vector Embeddings used for in AI applications?",
    "explanation": "Converting text to vectors (numbers). Allows **Semantic Search**. Searching for \"Dog\" matches \"Puppy\" because their vectors are mathematically close."
  },
  {
    "id": 40049,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "Career",
    "content": "What is the 'Bus Factor' and why is it a critical risk indicator?",
    "explanation": "If only one person knows how a system works, Bus Factor = 1. High risk. Fix by documentation, pair programming, and knowledge transfer sessions."
  },
  {
    "id": 40050,
    "category": "Final Review",
    "difficulty": "Senior",
    "title": "The End",
    "content": "Are you ready to be a Senior .NET Engineer?",
    "explanation": "You have reviewed 2000 deep technical concepts. You know the What, the How, and the Why. Go crush that interview."
  }
  ,
  {
    "id": 41001,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Span<T> vs Memory<T>",
    "content": "When must you use `Memory<T>` instead of `Span<T>`?",
    "explanation": "When the data needs to live on the **Heap** (e.g., inside a class field or across an `await` point). `Span<T>` is a `ref struct` and can *only* exist on the Stack. `Memory<T>` is a struct/object that can be stored on the Heap."
  },
  {
    "id": 41002,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Span in Async Methods",
    "content": "Can you use `Span<T>` as a parameter in an `async` method?",
    "explanation": "No. Async methods are compiled into State Machines (Classes/Structs). Since `Span<T>` cannot be a field in a class/struct (it's a `ref struct`), using it in an async method triggers a compiler error. Use `Memory<T>`."
  },
  {
    "id": 41003,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Stackalloc",
    "content": "How does `stackalloc` work with `Span<T>` and what are the risks?",
    "explanation": "Fast and zero-GC. The memory is reclaimed instantly when the method returns. **Warning:** Do not allocate large amounts (e.g., > 1MB) or you risk `StackOverflowException`."
  },
  {
    "id": 41004,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Pinned Object Heap (POH)",
    "content": "What is the POH introduced in .NET 5?",
    "explanation": "A dedicated heap for **Pinned Objects**. Before POH, pinning an object prevented the GC from compacting the surrounding memory (Fragmentation). POH separates pinned objects so the SOH/LOH can be compacted freely."
  },
  {
    "id": 41005,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "ArrayPool Shared",
    "content": "What happens if you fail to return a rented array to the `ArrayPool`?",
    "explanation": "Memory Leak. `ArrayPool` buckets will eventually run out of arrays and start allocating new ones, defeating the purpose of pooling. Always put `Return` in a `finally` block."
  },
  {
    "id": 41006,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Struct Layout",
    "content": "What is the purpose of `[StructLayout(LayoutKind.Explicit)]` in struct definitions?",
    "explanation": "Allows you to define the exact byte offset of fields. Useful for **Unions** (mapping two fields to the same memory space) or interoperability with C/C++ structs."
  },
  {
    "id": 41007,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "SOH vs LOH Threshold",
    "content": "What size triggers allocation on the Large Object Heap?",
    "explanation": "**85,000 bytes**. Objects >= 85KB go to LOH. LOH is collected less frequently (Gen 2) and is not compacted by default. `double[10000]` goes to LOH."
  },
  {
    "id": 41008,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Ref Returns",
    "content": "What are C# 'Ref Returns' and when should you use them?",
    "explanation": "Returns a reference (pointer) to the storage slot, not the value. The caller can *modify* the array index directly: `GetHighSearch() = 42;`. High performance, zero copy."
  },
  {
    "id": 41009,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Volatile Keyword",
    "content": "Does `volatile` prevent race conditions?",
    "explanation": "No. `volatile` only ensures **Visibility** (preventing CPU/Compiler reordering or caching in registers). It does NOT ensure **Atomicity**. `i++` is not thread-safe even with volatile."
  },
  {
    "id": 41010,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Unsafe Code",
    "content": "What is the purpose of the `fixed` statement in unsafe C# code?",
    "explanation": "Pins the array in memory so the GC doesn't move it while you are using the pointer `p`. Essential for pointer arithmetic optimizations."
  },
  {
    "id": 41011,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Object Header Overhead",
    "content": "How much memory overhead does an empty `class` instance have?",
    "explanation": "**24 bytes** (on 64-bit). 8 bytes SyncBlock + 8 bytes MethodTable Ptr + 8 bytes min allocation size. `new object()` is not \"free\"."
  },
  {
    "id": 41012,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "String Deduping",
    "content": "Does .NET automatically reuse duplicate strings?",
    "explanation": "Only for **String Literals** (compile time). Runtime strings `\"A\" + \"B\"` are new allocations. Use `String.Intern` (carefully) or `StringTable` mechanisms if you need deduplication for millions of runtime strings."
  },
  {
    "id": 41013,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Span Slicing",
    "content": "Does `span.Slice(10, 5)` allocate memory?",
    "explanation": "No. It returns a new `Span` struct containing a pointer to the *same* memory with a different offset/length. Zero allocation."
  },
  {
    "id": 41014,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Boxed Structs",
    "content": "What is 'Boxing' in .NET and why should it be minimized?",
    "explanation": "**Boxing**. Allocates a new object on the Heap to hold the integer. Adds GC pressure. Use Generics `List<int>` to avoid boxing."
  },
  {
    "id": 41015,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Finalize vs Dispose",
    "content": "When should you implement a Finalizer (`~MyClass`) in .NET?",
    "explanation": "Only implement Finalizers if you hold **Unmanaged Resources** (IntPtr). Finalizable objects survive Gen 0 collection (Promotion) and require a second GC cycle to clean up. Use `SafeHandle` instead."
  },
  {
    "id": 41016,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Ref Struct restrictions",
    "content": "Can `ref struct` implement an interface?",
    "explanation": "No. Casting to an interface requires Boxing. `ref struct` cannot be boxed (it cannot exist on Heap). Therefore, it cannot implement interfaces."
  },
  {
    "id": 41017,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "SIMD / Vectors",
    "content": "How does `Vector<T>` enable SIMD operations in .NET?",
    "explanation": "Single Instruction Multiple Data. Allows CPU to add 4 integers in one cycle. Hardware accelerated (AVX/SSE). Essential for image processing/ML in .NET."
  },
  {
    "id": 41018,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "WeakReference<T>",
    "content": "When should you use `WeakReference<T>` for caching?",
    "explanation": "Allows GC to collect the object if memory is tight. You must check `TryGetTarget` before using. Prevents OOM crashes in cache scenarios."
  },
  {
    "id": 41019,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Unsafe.As",
    "content": "How does `Unsafe.As<T>` perform type reinterpretation without copying?",
    "explanation": "`Unsafe.As<byte, int>(ref bytes[0])`. Reinterprets the memory bits. Extremely fast but dangerous. Must respect endianness and alignment."
  },
  {
    "id": 41020,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "RuntimeHelpers.AllocateUninitializedArray",
    "content": "Why might you use `RuntimeHelpers.AllocateUninitializedArray` instead of `new`?",
    "explanation": "Default `new` zeroes out the memory (security/safety). This takes CPU time. If you are about to overwrite the array anyway (e.g., reading from stream), use `AllocateUninitializedArray` to skip the zeroing."
  },
  {
    "id": 41021,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "GCSettings.LatencyMode",
    "content": "What is the `GCSettings.LatencyMode` property used for?",
    "explanation": "Tells GC to pause collections aggressively. Used in High-Frequency Trading or Games to prevent stutter. Danger: If you run out of memory, app might crash instead of collecting."
  },
  {
    "id": 41022,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "String Immutability Hack",
    "content": "Why is modifying a String via unsafe pointers considered dangerous?",
    "explanation": "Unsafe. Strings are interned or shared. Modifying one might corrupt other parts of the app that share the same string instance. Use `StringBuilder` or `char[]`."
  },
  {
    "id": 41023,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "MemoryMarshal.Cast",
    "content": "How do you safely cast a `Span<byte>` to a `Span<int>`?",
    "explanation": "Safe version of reinterpret cast. Adjusts length automatically (4 bytes = 1 int). Zero copy."
  },
  {
    "id": 41024,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "NativeMemory.Alloc",
    "content": "What is `NativeMemory.Alloc` and how does it interact with the GC?",
    "explanation": "Calls C `malloc`. The GC does not see this memory. You MUST manually `Free` it to avoid leaks. Useful to reduce GC pressure for very long-lived buffers."
  },
  {
    "id": 41025,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "SuppressFinalize",
    "content": "When should you call `GC.SuppressFinalize`?",
    "explanation": "Inside `Dispose()`. `GC.SuppressFinalize(this)`. It tells the GC: \"I have already cleaned up unmanaged resources, don't put me in the Finalization Queue.\" Improves performance."
  },
  {
    "id": 41026,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "BoundedCapacity",
    "content": "Why is it important to set Bounded Capacity on producer-consumer channels?",
    "explanation": "Always set capacity limits on queues. Unbounded queues lead to **OOM** (Out of Memory) if consumer is slower than producer."
  },
  {
    "id": 41027,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "System.Buffers.ArrayPool",
    "content": "Why might `ArrayPool.Rent(100)` return an array larger than requested?",
    "explanation": "ArrayPool buckets are powers of 2. You get *at least* what you asked for. You must check the actual size or pass your requested size to consumers to avoid processing garbage data at the end."
  },
  {
    "id": 41028,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Thread Static vs Thread Local",
    "content": "What is the difference between `[ThreadStatic]` and `ThreadLocal<T>`?",
    "explanation": "`[ThreadStatic]` is lighter (just an attribute, no object overhead) but only works for static fields. `ThreadLocal<T>` works for instance fields and allows lazy initialization."
  },
  {
    "id": 41029,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Interlocked.CompareExchange",
    "content": "How is `Interlocked.CompareExchange` used to implement lock-free algorithms?",
    "explanation": "Atomic \"If value is X, set to Y\". The foundation of optimistic concurrency control."
  },
  {
    "id": 41030,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Struct vs Class Performance",
    "content": "Is Struct always faster?",
    "explanation": "Large structs (> 16 bytes) are expensive to copy (pass by value). If you pass a large struct to 10 methods, you copy the data 10 times. Use `ref` or switch to Class."
  },
  {
    "id": 41031,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "MethodTable",
    "content": "Where is the Type information stored?",
    "explanation": "Every object on Heap has a pointer to the **MethodTable** (TypeHandle). This allows `GetType()`, virtual dispatch, and casting checks."
  },
  {
    "id": 41032,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "SyncBlock",
    "content": "How does `lock(obj)` work?",
    "explanation": "The object header has an index to a **SyncBlock**. The CLR lazily allocates a SyncBlock when `lock` is called. It stores the thread ID owning the lock."
  },
  {
    "id": 41033,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "String Deduplication (String.Intern)",
    "content": "Why is it dangerous to Intern strings derived from dynamic user input?",
    "explanation": "DoS Attack vector. Intern pool never shrinks. If you intern unique strings from user input, you fill RAM until OOM."
  },
  {
    "id": 41034,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Dynamic PGO (Profile Guided Optimization)",
    "content": "What is Dynamic Profile Guided Optimization (PGO) in .NET?",
    "explanation": ".NET 6+. The JIT re-compiles hot methods at runtime with better optimizations based on actual usage patterns (e.g., devirtualizing interface calls)."
  },
  {
    "id": 41035,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Frozen Collections (.NET 8)",
    "content": "What are the advantages of `FrozenDictionary` introduced in .NET 8?",
    "explanation": "Optimized for **Read-Heavy** scenarios. It takes longer to create, but lookups are faster. Immutable. Perfect for static config/lookup tables."
  },
  {
    "id": 41036,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Inline Arrays (.NET 8)",
    "content": "What are 'Inline Arrays' in .NET 8 and how do they differ from fixed buffers?",
    "explanation": "`[InlineArray(10)]`. Allows accessing struct fields `_e0, _e1...` as an array `buffer[i]`. Safe alternative to `fixed` buffers."
  },
  {
    "id": 41037,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Ascii.IsValid",
    "content": "How does `Ascii.IsValid` optimize ASCII validation?",
    "explanation": "`Ascii.IsValid(span)` is vectorized (SIMD). It checks 16/32 bytes at once. Much faster than checking `char < 128` in a loop."
  },
  {
    "id": 41038,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "BinaryPrimitives",
    "content": "How does `BinaryPrimitives` assist in safe binary parsing?",
    "explanation": "Use `BinaryPrimitives.ReadInt32LittleEndian(span)`. It handles endianness correctly and is optimized to single CPU instructions."
  },
  {
    "id": 41039,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Pooling Objects",
    "content": "When is reusing objects via `ObjectPool<T>` beneficial?",
    "explanation": "Use for expensive objects (StringBuilder, NetworkStream). Reduces GC allocations. But adds complexity: you must reset object state perfectly on return."
  },
  {
    "id": 41040,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "False Sharing Padding",
    "content": "How can padding structs prevent False Sharing?",
    "explanation": "Forcing a struct to match the Cache Line size (64 bytes). Ensures no other variable sits on the same line, preventing contention between cores."
  },
  {
    "id": 41041,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "ValueTask<T>",
    "content": "Why should you prefer `ValueTask<T>` over `Task<T>` in hot paths?",
    "explanation": "Allocates a `Task` object on heap every call. Use `ValueTask<T>`. It is a struct. If result is synchronous (cached), zero allocation."
  },
  {
    "id": 41042,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "ConditionalWeakTable",
    "content": "What is `ConditionalWeakTable` used for?",
    "explanation": "Like a `Dictionary<Object, Info>`, but keys are weak references. If the object dies, the entry is removed. Used by DLR and WPF."
  },
  {
    "id": 41043,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Dependent Handle",
    "content": "What is a `DependentHandle` in the .NET runtime?",
    "explanation": "Advanced GC feature. Used in ConditionalWeakTable. B is reachable only if A is reachable."
  },
  {
    "id": 41044,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Managed Pointers (ref)",
    "content": "Can `ref int` point to the middle of an array?",
    "explanation": "Yes. An **Interior Pointer**. The GC knows how to track it. If compaction moves the array, the GC updates your `ref` variable."
  },
  {
    "id": 41045,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Unsafe.Add",
    "content": "What does `Unsafe.Add` allow you to do with references?",
    "explanation": "`Unsafe.Add(ref start, offset)`. Allows navigating memory without pinning, but bypasses bounds checking. Dangerous but fast."
  },
  {
    "id": 41046,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Default Interface Methods",
    "content": "How does C# resolve the 'Diamond Problem' with Default Interface Methods?",
    "explanation": "C# resolves multi-inheritance of interfaces by \"Most Specific Override\". If ambiguous, the class must explicitly implement it."
  },
  {
    "id": 41047,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Native AOT Reflection",
    "content": "Why does `MakeGenericType` often fail in Native AOT applications?",
    "explanation": "AOT trims unused code. If you try to create `List<MyType>` via reflection at runtime, the JIT isn't there to compile it. Use source generators or `[DynamicallyAccessedMembers]`."
  },
  {
    "id": 41048,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Covariant Return Types",
    "content": "What are Covariant Return Types in C#?",
    "explanation": "`Base Clone() -> Derived Clone()`. Works at IL level. Simplifies client code (no casting needed)."
  },
  {
    "id": 41049,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "Module Initializers",
    "content": "What are Module Initializers and when do they run?",
    "explanation": "`[ModuleInitializer]`. Runs when assembly loads. Good for registering AOT serialization contexts or logging hooks."
  },
  {
    "id": 41050,
    "category": "Advanced Memory",
    "difficulty": "Principal",
    "title": "SkipLocalsInit",
    "content": "What does the `SkipLocalsInit` attribute do?",
    "explanation": "Skips zeroing stack variables. Performance win for large stack buffers. Risk: Reading uninitialized memory (garbage data)."
  }
  ,
  {
    "id": 42001,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Reflection Performance Cost",
    "content": "Why is `MethodInfo.Invoke` significantly slower than a direct method call, and what actually happens under the hood?",
    "explanation": "Reflection involves: 1. Metadata Lookup (resolving the method string to a handle). 2. Argument Boxing (packing args into an object array). 3. Security Checks (CAS/Verification). 4. Dynamic Dispatch. To optimize, use `Delegate.CreateDelegate` or compile an `Expression Tree` into a Lambda, which approaches near-native speed."
  },
  {
    "id": 42002,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Source Generators vs Reflection",
    "content": "Why are C# Source Generators preferred over Reflection for tasks like serialization (System.Text.Json) or mapping?",
    "explanation": "Reflection happens at **Runtime** (CPU/Memory overhead). Source Generators run at **Compile Time**. They analyze your code and generate optimized C# code (static text) that gets compiled into the assembly. This results in zero runtime startup cost, AOT compatibility, and compile-time error checking."
  },
  {
    "id": 42003,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Expression Trees",
    "content": "What is the primary difference between `Func<int, bool>` and `Expression<Func<int, bool>>`?",
    "explanation": "`Func` is a compiled delegate (executable code). `Expression` is a data structure (Abstract Syntax Tree) representing the code. ORMs (EF Core) require Expressions to inspect the logic (e.g., `x > 5`) and translate it to SQL. You cannot 'read' a `Func` at runtime."
  },
  {
    "id": 42004,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "IL Emit",
    "content": "When would you use `System.Reflection.Emit.ILGenerator` directly?",
    "explanation": "For extreme performance optimization or dynamic proxy generation (e.g., Moq, Dapper) where even Expression Trees are too slow or limited. It allows you to write raw CIL opcodes (`Ldarg_0`, `Call`) directly into memory. It is complex and hard to maintain but offers the highest flexibility."
  },
  {
    "id": 42005,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "MakeGenericType",
    "content": "What does `Type.MakeGenericType(params Type[] typeArguments)` do and what is its AOT limitation?",
    "explanation": "It creates a specific generic type at runtime (e.g., converting `List<>` to `List<User>`). In **Native AOT**, this often fails because the JIT compiler isn't present to generate the machine code for `List<User>` if it wasn't statically referenced during the build."
  },
  {
    "id": 42006,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "ExpressionVisitor",
    "content": "How does `ExpressionVisitor` allow you to modify a LINQ query at runtime?",
    "explanation": "Expression Trees are immutable. To 'modify' one, you use a Visitor. It traverses the tree node-by-node. When it encounters a node you want to change (e.g., `x.Age > 18`), it returns a *new* node (e.g., `x.Age > 21`), rebuilding the tree bottom-up with your changes."
  },
  {
    "id": 42007,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Duck Typing with dynamic",
    "content": "How does the DLR (Dynamic Language Runtime) handle method calls on a `dynamic` object?",
    "explanation": "It uses a **CallSite** cache. On the first call, the DLR inspects the object type and finds the method (slow). It creates a rule (\"If type is Person, call method at 0x1234\") and caches it. Subsequent calls use the cached rule, making `dynamic` much faster than raw Reflection but slower than static typing."
  },
  {
    "id": 42008,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Roslyn Analyzers",
    "content": "What is the difference between a Roslyn Analyzer and a Source Generator?",
    "explanation": "**Analyzers** inspect code to report Diagnostics (Errors/Warnings) or offer Code Fixes (Refactoring). They don't add code. **Source Generators** inspect code to *add* new source files to the compilation. They cannot modify existing code, only augment it."
  },
  {
    "id": 42009,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "CallerInfo Attributes",
    "content": "How do `[CallerMemberName]`, `[CallerFilePath]`, and `[CallerLineNumber]` work?",
    "isGood": true,
    "explanation": "They are a compile-time feature (Metaprogramming). The C# compiler injects the string literal (e.g., \"MyMethod.cs\") into the optional argument at the call site. It has zero runtime performance cost compared to `StackFrame` reflection."
  },
  {
    "id": 42010,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Private Reflection Overhead",
    "content": "Does accessing a private field via Reflection cost more than accessing a public one?",
    "explanation": "Yes, slightly, due to **Visibility Checks** (Security). However, if you use `CreateDelegate` or `UnsafeAccessor` (Net 8), you can bypass these checks once the binding is established, removing the overhead."
  },
  {
    "id": 42011,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "ModuleInitializers",
    "content": "What is the use case for `[ModuleInitializer]` in library design?",
    "explanation": "It allows a library to execute one-time setup code (e.g., registering encoding providers, initializing static caches) immediately when the DLL is loaded by the runtime, ensuring prerequisites are met before any user code calls the library."
  },
  {
    "id": 42012,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "DynamicallyAccessedMembers",
    "content": "How does `[DynamicallyAccessedMembers]` help with AOT trimming?",
    "explanation": "It informs the Linker/Trimmer that a specific type or method will be accessed via Reflection. This prevents the Trimmer from stripping that code out of the final binary, ensuring the Reflection call doesn't crash at runtime."
  },
  {
    "id": 42013,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Proxy Generation",
    "content": "How does `DispatchProxy` (or Castle DynamicProxy) allow creating AOP interceptors?",
    "explanation": "It creates a dynamic class at runtime that implements the requested interface. All method calls on this proxy are routed to an `Invoke()` method, where you can execute logic (Logging, Transacitons) before forwarding the call to the real implementation."
  },
  {
    "id": 42014,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "InterceptsLocation Attribute",
    "content": "What is the new C# 12 'Interceptors' feature used for?",
    "explanation": "It allows Source Generators to 'hijack' a method call at a specific source code location (line/column) and redirect it to a generated method. This enables AOT-friendly replacement of runtime logic (like Regex compilation) without runtime reflection."
  },
  {
    "id": 42015,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "UnsafeAccessor",
    "content": "How does `[UnsafeAccessor]` in .NET 8 allow private member access without Reflection?",
    "explanation": "It acts as a bridge. You define a `extern static` method matching the signature of the private field/method you want to access. The runtime wires up the connection at the IL level, providing performance identical to public access."
  },
  {
    "id": 42016,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Custom Attributes Performance",
    "content": "Does merely decorating a class with an Attribute incur a runtime performance penalty?",
    "explanation": "No. Attributes are just metadata blobs in the Assembly Manifest. There is zero cost unless you explicitly write code to scan for them (`GetCustomAttributes`). Extensive scanning on startup (e.g., finding all Controllers) can slow down boot time."
  },
  {
    "id": 42017,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Activator.CreateInstance Optimization",
    "content": "Why is `new T()` faster than `Activator.CreateInstance<T>()` in generic methods?",
    "explanation": "If the generic constraint `new()` is present, the JIT creates a specialized version of the method for that type, often inlining the constructor call. `Activator.CreateInstance` usually involves slower reflection metadata lookups."
  },
  {
    "id": 42018,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "RuntimeHandles",
    "content": "What is a `RuntimeTypeHandle` vs `Type`?",
    "explanation": "`RuntimeTypeHandle` is a lightweight struct pointing to the MethodTable in memory. `Type` is the full Reflection object. Using Handles is slightly faster for identification checks, but `Type` is needed for metadata inspection."
  },
  {
    "id": 42019,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "StackFrame",
    "content": "Why should you avoid `new StackTrace()` in production code?",
    "explanation": "It is extremely expensive. It forces the runtime to pause and walk the stack frames, resolving method names and metadata. Doing this in a loop or hot path (e.g., for logging) will destroy throughput."
  },
  {
    "id": 42020,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Implicit vs Explicit Operators via Reflection",
    "content": "How do you invoke a custom implicit operator using Reflection?",
    "explanation": "Operators are compiled as static methods named `op_Implicit` or `op_Explicit`. You must find this specific method name using `GetMethod` and invoke it like a standard static function."
  },
  {
    "id": 42021,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Variable Capture in Expression Trees",
    "content": "What happens when an Expression Tree captures a local variable?",
    "explanation": "Similar to closures, the compiler creates a display class to hold the variable. The Expression Tree references a field on that class. When inspecting the tree, you see a `MemberExpression` accessing the field, not a `ConstantExpression`."
  },
  {
    "id": 42022,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "MethodInfo.GetBaseDefinition",
    "content": "What problem does `GetBaseDefinition()` solve?",
    "explanation": "It finds the original declaration of a virtual method in the base class or interface. Essential when you have an override and need to find attributes (like `[Authorize]`) that might have been applied to the base/interface method but not the override."
  },
  {
    "id": 42023,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "ISyntaxReceiver in Source Generators",
    "content": "What is the role of `ISyntaxReceiver` (or `SyntaxValueProvider` in V2) in Source Generators?",
    "explanation": "It acts as a lightweight filter during the compilation process. It allows the generator to quickly identify candidate nodes (e.g., classes with a specific attribute) for generation without analyzing the semantic model of the entire project."
  },
  {
    "id": 42024,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Generic Attribute Construction",
    "content": "How did C# 11 improve generic attributes for Reflection?",
    "explanation": "Before C# 11, you had to pass types as arguments: `[TypeFilter(typeof(MyFilter))]`. Now you can use `[TypeFilter<MyFilter>]`. In Reflection, this simplifies accessing the `AttributeType`'s generic arguments directly."
  },
  {
    "id": 42025,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "CodeDom",
    "content": "Is CodeDom still relevant in modern .NET?",
    "explanation": "Mostly obsolete. It was used to generate source code in older Framework versions. Roslyn (Microsoft.CodeAnalysis) and Source Generators are the modern, more powerful replacements for code generation."
  },
  {
    "id": 42026,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "DynamicMethod",
    "content": "What is a `DynamicMethod` (Lightweight Code Gen) and how does it differ from a dynamic assembly?",
    "explanation": "`DynamicMethod` creates a method in memory that is garbage collected when the delegate is released. It doesn't require creating a full dynamic assembly/module. It is the fastest way to generate small, transient code snippets via IL."
  },
  {
    "id": 42027,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "ReflectionOnlyLoad",
    "content": "What is the 'Reflection-Only' load context?",
    "explanation": "**(Deprecated in Core).** It allowed loading assemblies to inspect metadata without executing code. In .NET Core/5+, use `System.Reflection.Metadata` (a low-level, high-perf reader) to inspect DLLs without loading them into the AppDomain."
  },
  {
    "id": 42028,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "T4 Templates",
    "content": "How do T4 Text Templates compare to Source Generators?",
    "explanation": "T4 is a design-time generation tool (runs in Visual Studio). You have to manually re-run it. Source Generators run during the build (Roslyn compiler). T4 is okay for scaffolding; Source Generators are better for metaprogramming dependent on user code."
  },
  {
    "id": 42029,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "RuntimeHelpers.GetUninitializedObject",
    "content": "What does `GetUninitializedObject` do and when is it dangerous?",
    "explanation": "It creates an instance of a class **without** calling any constructor. Used by serializers (like Newtonsoft.Json) to hydrate objects. Dangerous because class invariants established in the constructor are skipped."
  },
  {
    "id": 42030,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Function Pointers",
    "content": "How do C# 9 Function Pointers (`delegate*`) improve upon `Marshal.GetDelegateForFunctionPointer`?",
    "explanation": "They allow calling native/unmanaged functions using a dedicated IL opcode (`calli`) rather than marshaling a Delegate object. This removes the delegate overhead and GC tracking, offering C++ like performance."
  },
  {
    "id": 42031,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Ref Structs in Generics",
    "content": "Why can't you use `Span<T>` as a Generic Argument `List<Span<int>>`?",
    "explanation": "`Span<T>` is a `ref struct`. It must live on the stack to ensure safety. Generics like `List<T>` allocate memory on the Heap. Putting a ref struct on the heap would violate memory safety rules."
  },
  {
    "id": 42032,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "MethodImplOptions.AggressiveInlining",
    "content": "Does `[MethodImpl(MethodImplOptions.AggressiveInlining)]` guarantee inlining?",
    "explanation": "No, it is a hint. The JIT may still reject it (e.g., if method throws exception, contains loops, or is virtual). However, it drastically increases the size threshold the JIT is willing to inline."
  },
  {
    "id": 42033,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "CallAttribute vs CallVirt",
    "content": "What is the IL difference between calling a static method vs an instance method?",
    "explanation": "`call` invokes a specific method (Static or non-virtual). `callvirt` (Call Virtual) checks the runtime type of the object (null check included) and looks up the vtable for the correct implementation. `callvirt` is slower due to this indirection."
  },
  {
    "id": 42034,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Fody / PostSharp",
    "content": "What is IL Weaving (used by tools like Fody)?",
    "explanation": "It modifies the assembly **after** compilation but **before** runtime. It injects IL code (e.g., `INotifyPropertyChanged` notifications) directly into the binary. Powerful but opaque debugging experience."
  },
  {
    "id": 42035,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "ExpandoObject internals",
    "content": "How does `ExpandoObject` store dynamic properties efficiently?",
    "explanation": "It transitions between a Dictionary-like storage and a Class-like storage using **Polymorphic Inline Caching**. When you add properties, it evolves a hidden class shape to optimize access speed for recurring patterns."
  },
  {
    "id": 42036,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Generic Attribute Constraints",
    "content": "Can you constrain a Generic Attribute to only accept Enums?",
    "explanation": "Yes, in C# 11. `public class MyAttr<T> : Attribute where T : Enum`. This allows compile-time validation of attribute usage."
  },
  {
    "id": 42037,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Type.GetType vs typeof",
    "content": "Difference between `Type.GetType(\"Name\")` and `typeof(Name)`?",
    "explanation": "`typeof` is resolved at **Compile Time** (fast, safe). `Type.GetType` resolves at **Runtime** by string name. Use `GetType` only for dynamic loading (plugins). Note: `GetType` requires Assembly Qualified Name for types outside mscorlib."
  },
  {
    "id": 42038,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "MetadataLoadContext",
    "content": "How do you inspect assemblies compiled for a different architecture (e.g., ARM64 on x64)?",
    "explanation": "Use `MetadataLoadContext`. It allows you to inspect assembly metadata in isolation, treating them as data files rather than loading them into the execution runtime. Essential for build tools."
  },
  {
    "id": 42039,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "IsDefined vs GetCustomAttributes",
    "content": "Which is faster if you just want to check for attribute existence?",
    "explanation": "`IsDefined` is faster. It checks the metadata table without instantiating the Attribute objects. `GetCustomAttributes` allocates memory to create the Attribute instances."
  },
  {
    "id": 42040,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Compiler Generated Code",
    "content": "What are the `<>c` classes seen in decompilers?",
    "explanation": "Compiler Generated classes. They hold closures (captured variables) for lambdas, iterator state machines, and async state machines. Understanding them helps diagnose memory leaks caused by closures."
  },
  {
    "id": 42041,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "CallerArgumentExpression Use Case",
    "content": "How can `[CallerArgumentExpression]` improve assertion libraries?",
    "explanation": "It captures the source code text of the expression passed. `Assert(x > 5)` can throw an error saying \"Expected 'x > 5' to be true\". Removes the need for passing string messages manually."
  },
  {
    "id": 42042,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "SkipLocalsInit Scope",
    "content": "Can `[SkipLocalsInit]` be applied to a specific block of code?",
    "explanation": "No. It applies to the Method, Class, or Module level. It cannot be applied to a single block (`{ ... }`) inside a method."
  },
  {
    "id": 42043,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Incremental Generators",
    "content": "How do Incremental Generators improve IDE performance over V1 Source Generators?",
    "explanation": "V1 ran on every keystroke. **Incremental Generators** build a pipeline. They define input steps and comparers. If the input (syntax node) hasn't changed, the generation step is skipped (cached). Prevents Visual Studio lag."
  },
  {
    "id": 42044,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Reflection on Nullable Types",
    "content": "Does `typeof(int?)` equal `typeof(int)`?",
    "explanation": "No. `typeof(int?)` is `Nullable<int>`. However, `GetType()` on a boxed nullable returns the underlying type! `int? i = 5; object o = i; o.GetType()` returns `System.Int32`. The runtime strips the nullability on boxing."
  },
  {
    "id": 42045,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "BindingFlags",
    "content": "What is the default `BindingFlags` if none are specified?",
    "explanation": "`Public | Instance | Static`. It finds public members. It does NOT find private members unless `NonPublic` is added."
  },
  {
    "id": 42046,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Invoking Generic Methods",
    "content": "How do you invoke a generic method `void M<T>()` via Reflection?",
    "explanation": "1. Get `MethodInfo` of the definition. 2. Call `MakeGenericMethod(typeof(int))` to get a concrete method. 3. Call `Invoke`."
  },
  {
    "id": 42047,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "RuntimeHelpers.PrepareMethod",
    "content": "What does `PrepareMethod` do?",
    "explanation": "Forces the JIT to compile the method immediately. Used in critical loops or constrained execution regions (CER) to ensure no JIT-lag occurs during execution."
  },
  {
    "id": 42048,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "TypedReference",
    "content": "What is `__makeref` in C#?",
    "explanation": "Undocumented C# keyword. Creates a `TypedReference` (pointer + type info). Used for advanced interop/varargs scenarios `__arglist`. Generally avoid, but good to know it exists."
  },
  {
    "id": 42049,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "DynamicObject",
    "content": "How do you implement a class that handles dynamic property access (`obj.RandomProp`)?",
    "explanation": "Inherit from `DynamicObject` and override `TryGetMember` and `TrySetMember`. Allows creating dynamic proxies or wrappers around dictionaries."
  },
  {
    "id": 42050,
    "category": "Reflection & Metaprogramming",
    "difficulty": "Principal",
    "title": "Delegate.Target",
    "content": "What does the `Target` property of a Delegate hold?",
    "explanation": "The object instance on which the method is invoked. If the method is `static`, `Target` is null. This is the object kept alive by the delegate reference (potential memory leak)."
  },
  {
    "id": 43001,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "BenchmarkDotNet: Debug Mode",
    "content": "Why does BenchmarkDotNet refuse to run in Debug configuration?",
    "explanation": "Debug mode lacks JIT optimizations (inlining, vectorization, loop unrolling). Benchmarking Debug code produces misleading, slow results that do not reflect production performance. Always benchmark `Release`."
  },
  {
    "id": 43002,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "BenchmarkDotNet: Baseline",
    "content": "What is the purpose of marking a benchmark as `[Benchmark(Baseline = true)]`?",
    "explanation": "It sets the reference point. All other results are compared to it as a Ratio. E.g., if Baseline takes 100ms and NewCode takes 50ms, the Ratio column shows `0.5`. Makes relative performance improvement obvious."
  },
  {
    "id": 43003,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "JIT Warmup",
    "content": "Why must benchmarks execute the code multiple times before measuring?",
    "explanation": "To bypass the **JIT Compilation Cost**. The first run includes compiling IL to Assembly. We want to measure the steady-state performance of the compiled code, not the compiler itself."
  },
  {
    "id": 43004,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Allocations (Gen 0)",
    "content": "What does the `Gen 0` column in BenchmarkDotNet indicate?",
    "explanation": "The number of garbage collections triggered per 1,000 operations. If `Gen 0` is greater than 0, your code is allocating heap memory on the hot path. For high-performance code, aim for **Zero Allocation** (-)."
  },
  {
    "id": 43005,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Hardware Intrinsics",
    "content": "How do you verify if your code is using AVX2/SSE instructions?",
    "explanation": "Use the **Disassembly Diagnoser** in BenchmarkDotNet (`[DisassemblyDiagnoser]`). Check the output assembly code for SIMD instructions like `vaddps` vs standard `add`."
  },
  {
    "id": 43006,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "ETW (Event Tracing for Windows)",
    "content": "What is ETW and why is it superior to logging for profiling?",
    "explanation": "Kernel-level tracing system with extremely low overhead (~1-2%). It captures context switches, GC events, and I/O packets globally. Unlike app logging, it sees what the OS is doing to your process."
  },
  {
    "id": 43007,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Sampling vs Instrumentation Profiling",
    "content": "What is the trade-off between Sampling and Instrumentation profilers?",
    "explanation": "**Sampling**: Checks CPU stack every X ms. Low overhead, good for finding hot spots, but might miss very short functions. **Instrumentation**: Injects code into every function entry/exit. Exact call counts/timings, but massive overhead that distorts real-world performance."
  },
  {
    "id": 43008,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Tail Latency (P99)",
    "content": "Why is Average (Mean) latency often useless in benchmarks?",
    "explanation": "Outliers skew the mean. A system with 99 requests at 1ms and 1 request at 10s has a decent mean but is broken. P99 (the 99th percentile) tells you the experience of the slowest users. Always optimize for P99/P99.9."
  },
  {
    "id": 43009,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "False Sharing Benchmark",
    "content": "How would you prove False Sharing exists using a benchmark?",
    "explanation": "Create two tests. 1: Two threads increment adjacent array indices. 2: Two threads increment indices separated by 64 bytes (padding). The padded version will be significantly faster due to lack of cache invalidation."
  },
  {
    "id": 43010,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "MemoryDiagnoser",
    "content": "What does the `[MemoryDiagnoser]` attribute provide?",
    "explanation": "It adds columns for Allocated Bytes and GC Collections (Gen 0/1/2) to the report. It allows you to correlate speed (Time) with memory pressure (Allocations)."
  },
  {
    "id": 43011,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Throughput vs Latency",
    "content": "What is the difference between optimizing for Throughput and Latency?",
    "explanation": "**Throughput**: How many req/sec (Batching helps). **Latency**: How fast one req returns (Batching hurts). BenchmarkDotNet measures Latency by default. To measure throughput, you calculate `1 / Mean Time`."
  },
  {
    "id": 43012,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Params Attribute",
    "content": "How do you test a method with inputs of size 10, 100, and 1000 automatically?",
    "explanation": "Use `[Params(10, 100, 1000)] public int N;`. BenchmarkDotNet runs a separate benchmark for each value of N, allowing you to see the O(N) complexity scaling."
  },
  {
    "id": 43013,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "GlobalSetup vs IterationSetup",
    "content": "When should you use `[IterationSetup]`?",
    "explanation": "Use `GlobalSetup` for one-time init (e.g., DB connection). Use `IterationSetup` if you need to reset state *between* measurements (e.g., clearing a list so the next run starts empty). Warning: IterationSetup overhead is subtracted, but can be tricky."
  },
  {
    "id": 43014,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Branch Prediction Fail",
    "content": "Why is processing a sorted array faster than an unsorted array?",
    "explanation": "Branch Prediction. If data is sorted (`if data[i] > 128`), the CPU guesses the branch outcome correctly most of the time (pipeline stays full). Random data causes branch mispredictions (pipeline flush), costing cycles."
  },
  {
    "id": 43015,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "PGO Impact",
    "content": "How do you verify if PGO (Profile Guided Optimization) improved your code?",
    "explanation": "Run benchmark with `DOTNET_TieredPGO=1` vs `0`. Compare results. PGO optimizes code based on runtime usage (e.g., reordering blocks for likely branches)."
  },
  {
    "id": 43016,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Hardware Counters",
    "content": "What can Hardware Counters (PMC) tell you?",
    "explanation": "Instructions Retired, Cache Misses (L1/L2/L3), Branch Mispredictions. `[HardwareCounters]` in BDN exposes these CPU-level metrics."
  },
  {
    "id": 43017,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Stopwatch Resolution",
    "content": "Why is `DateTime.Now` bad for benchmarking?",
    "explanation": "Resolution is ~15ms. `Stopwatch` uses the high-resolution timer (QueryPerformanceCounter), offering nanosecond precision. Always use Stopwatch for micro-benchmarks."
  },
  {
    "id": 43018,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Microbenchmark vs Macrobenchmark",
    "content": "What is the risk of Microbenchmarking?",
    "explanation": "Microbenchmarks measure isolated code (e.g., `string.Format`). They ignore system effects (Network, DB, Disk). Optimizing a microbenchmark might yield 0% gain in the real app (Amdahl's Law)."
  },
  {
    "id": 43019,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "EventPipe",
    "content": "What is the cross-platform replacement for ETW?",
    "explanation": "**EventPipes**. It works on Linux/Mac/Windows. Tools like `dotnet-trace` use EventPipes to capture trace data (`.nettrace`)."
  },
  {
    "id": 43020,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Flame Graphs",
    "content": "What does the width of a bar in a Flame Graph represent?",
    "explanation": "The total time (CPU time) spent in that function *and* its children (Inclusive Time). A wide bar is a bottleneck. The vertical stack shows the call depth."
  },
  {
    "id": 43021,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Async Overhead",
    "content": "What is the cost of `async/await` in a synchronous scenario?",
    "explanation": "State Machine allocation + Context switching. If a method completes synchronously, `ValueTask` avoids allocation. If it uses `Task`, it allocates ~72 bytes. Avoid `async` on ultra-hot paths if completion is usually synchronous."
  },
  {
    "id": 43022,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Blocking GC",
    "content": "What metric indicates a Blocking GC?",
    "explanation": "`% Time in GC`. If this is high (>10%), your application threads are paused excessively while GC runs. Indicates high allocation rate or heap fragmentation."
  },
  {
    "id": 43023,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Bound Check Elimination",
    "content": "How do you verify if the JIT eliminated array bounds checks?",
    "explanation": "Check Disassembly. Look for `cmp` instructions against the array length inside the loop. If they are gone (hoisted or proven redundant), the loop is optimized."
  },
  {
    "id": 43024,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Inlining Failure",
    "content": "Why would the JIT refuse to inline a small method?",
    "explanation": "It throws an exception, has a loop, contains `try/catch`, or is Virtual (and not devirtualized by PGO). Use `[MethodImpl(MethodImplOptions.AggressiveInlining)]` to force it (usually)."
  },
  {
    "id": 43025,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Struct Copy Cost",
    "content": "At what size does passing a struct by value become slower than a reference?",
    "explanation": "Rule of thumb: > 16 bytes (size of `IntPtr` * 2). Or if it contains references (GC tracking cost). Use `in T` (readonly ref) to pass large structs efficiently."
  },
  {
    "id": 43026,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Load Testing Tools",
    "content": "k6 vs JMeter.",
    "isGood": true,
    "explanation": "**k6**: Scriptable in JS, developer-friendly, CLI-first, modern. **JMeter**: XML/GUI based, older, harder to version control but very feature-rich."
  },
  {
    "id": 43027,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Allocation Tick",
    "content": "How does `Allocated Bytes` work in PerfView?",
    "explanation": "It samples every 100KB of allocation. It's statistical. It points to the *type* being allocated and the stack trace that allocated it."
  },
  {
    "id": 43028,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Lock Convoy",
    "content": "What is a Lock Convoy?",
    "explanation": "Threads pile up waiting for a lock. When the lock is released, the OS wakes *all* threads (Thundering Herd), causing Context Switching storm. Only one wins, the rest sleep again. Performance tanks."
  },
  {
    "id": 43029,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Loop Unrolling",
    "content": "What is Loop Unrolling?",
    "explanation": "The compiler replaces a loop `for(i=0; i<4; i++)` with explicit instructions `Do(0); Do(1); Do(2); Do(3);`. Removes the loop control overhead (increment/compare/jump)."
  },
  {
    "id": 43030,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Dead Code Elimination",
    "content": "Why might a benchmark return 0.0 ns?",
    "explanation": "The JIT realized the result of your calculation is never used, so it deleted the code. **Fix:** Return the result from the benchmark method to force execution."
  },
  {
    "id": 43031,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Throughput vs Latency",
    "content": "When is Throughput more important than Latency?",
    "explanation": "Batch processing (ETL, Reporting). You care about processing 1M records in 1 hour, not how fast one record is processed. For Web APIs, Latency is king."
  },
  {
    "id": 43032,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "CPU Cache Miss",
    "content": "L1 vs L2 vs RAM latency.",
    "isGood": true,
    "explanation": "**L1**: ~1 ns. **L2**: ~4 ns. **RAM**: ~100 ns. A cache miss is expensive. Linked Lists often cause cache misses (random memory). Arrays are cache-friendly (contiguous)."
  },
  {
    "id": 43033,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "SIMD vs Scalar",
    "content": "What is Scalar execution?",
    "explanation": "Processing one data item at a time (SISD). SIMD processes multiple items (Vector). Benchmarks often show 4x-8x speedups for SIMD enabled algorithms."
  },
  {
    "id": 43034,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "JIT Compilation Overhead",
    "content": "Why does the first request to an API endpoint take longer?",
    "explanation": "JIT compilation. The IL is being compiled to Machine Code. Benchmarks must perform a 'Warmup' phase to exclude this one-time cost."
  },
  {
    "id": 43035,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "SpinWait",
    "content": "When is `SpinWait` better than `Thread.Sleep`?",
    "explanation": "For extremely short waits (< 1 microsecond). It burns CPU in a loop without yielding the timeslice context. `Sleep` yields to OS (costly context switch). Use SpinWait for user-mode locks."
  },
  {
    "id": 43036,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Static vs Instance Method Performance",
    "content": "Is calling a static method faster than an instance method?",
    "explanation": "Slightly. Instance methods pass `this` as a hidden argument and verify it isn't null. Virtual instance methods add vtable lookup cost. Static is the fastest dispatch."
  },
  {
    "id": 43037,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Instruction Level Parallelism (ILP)",
    "content": "How does the CPU execute instructions in parallel on a single core?",
    "explanation": "Pipelining and Superscalar execution. The CPU fetches/decodes/executes multiple independent instructions simultaneously if there are no data dependencies."
  },
  {
    "id": 43038,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Memory Alignment",
    "content": "Why does aligning data to 64 bytes improve performance?",
    "explanation": "It matches the Cache Line size. Unaligned access might span two cache lines, requiring two reads instead of one."
  },
  {
    "id": 43039,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Sealed Class Performance",
    "content": "How does `sealed` help the JIT?",
    "explanation": "It enables **Devirtualization**. The JIT knows the method cannot be overridden, so it replaces the virtual `callvirt` with a direct `call`. This also enables Inlining."
  },
  {
    "id": 43040,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Thread Pool Hill Climbing",
    "content": "What is the Hill Climbing algorithm?",
    "explanation": "The .NET ThreadPool algorithm. It monitors throughput. If adding a thread increases throughput, it adds more. If adding a thread decreases throughput (thrashing), it reduces threads."
  },
  {
    "id": 43041,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Weak Generation Hypothesis",
    "content": "What is the core assumption of the .NET GC?",
    "explanation": "Most objects die young. Therefore, we optimize Gen 0 to be collected frequently and quickly. Old objects (Gen 2) are collected rarely."
  },
  {
    "id": 43042,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Volatile Read",
    "content": "What is the cost of a Volatile Read?",
    "explanation": "Low. It prevents caching in registers. It acts as a half-fence (Acquire semantics). It forces a read from L1 cache/Main memory."
  },
  {
    "id": 43043,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Array vs List Enumeration",
    "content": "Why is `foreach` on Array faster than `foreach` on `List<T>`?",
    "explanation": "Array `foreach` compiles to a simple `for` loop (pointer math). List `foreach` creates an `Enumerator` struct and calls `MoveNext`. Although modern JIT optimizes List well, Array is raw speed."
  },
  {
    "id": 43044,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Vectorization",
    "content": "What prevents a loop from being vectorized?",
    "explanation": "Data dependencies (e.g., `a[i] = a[i-1] + 1`), complex control flow (`if/else` inside loop), or calling non-intrinsic methods."
  },
  {
    "id": 43045,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Finalizer Overhead",
    "content": "How much slower is allocation if a class has a Finalizer?",
    "explanation": "It's not allocation, it's collection. It survives Gen 0 automatically (promoted to Gen 1). It requires the Finalizer thread to run. It effectively lives 2x longer than necessary."
  },
  {
    "id": 43046,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "String.Equals Ordinal",
    "content": "Why use `StringComparison.Ordinal`?",
    "explanation": "It compares raw bytes. `CurrentCulture` rules are complex (locale specific). Ordinal is much faster and behaviorally stable for internal keys."
  },
  {
    "id": 43047,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Write Barrier",
    "content": "What is the GC Write Barrier cost?",
    "explanation": "When you update a reference `obj.field = otherObj`, the GC executes a small code snippet (Write Barrier) to track cross-generation references (e.g., Gen 2 object pointing to Gen 0). This adds slight overhead to assignment."
  },
  {
    "id": 43048,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Tiered Compilation Quick JIT",
    "content": "What is Tier 0 JIT?",
    "explanation": "The initial JIT compilation. It optimizes for *compilation speed*, not execution speed. It produces slower code quickly to get the app startup fast. Later, Tier 1 recompiles hot paths for speed."
  },
  {
    "id": 43049,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "Dictionary Resize Cost",
    "content": "Why should you set Dictionary capacity in constructor?",
    "explanation": "When Dictionary fills, it must resize (allocate larger array) and **Rehash** every existing key to the new buckets. This is O(N) and creates GC pressure."
  },
  {
    "id": 43050,
    "category": "Performance Benchmarking",
    "difficulty": "Principal",
    "title": "RyuJIT",
    "content": "What is RyuJIT?",
    "explanation": "The modern .NET JIT compiler (64-bit). It replaced the legacy JIT64. Supports SIMD, Tiered Compilation, and fast optimizations."
  }
  ,
  {
    "id": 44001,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Volatile vs Interlocked",
    "content": "Why is `volatile` insufficient for implementing a thread-safe counter (`i++`)?",
    "explanation": "`volatile` only guarantees **Visibility** (preventing caching/reordering of reads/writes). It does *not* guarantee **Atomicity**. The operation `i++` is three steps (Read, Add, Write). Two threads can read the same value, increment, and write back, losing one update. You MUST use `Interlocked.Increment`."
  },
  {
    "id": 44002,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Memory Barrier (Fence)",
    "content": "What is a Memory Barrier and why does `lock` invoke one implicitly?",
    "explanation": "Modern CPUs reorder instructions for performance. A **Memory Barrier** enforces ordering constraints (e.g., \"All writes before this line must be committed before any write after this line\"). `lock` emits a full barrier (Acquire/Release) to ensure the Critical Section's state is consistent across cores."
  },
  {
    "id": 44003,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "False Sharing",
    "content": "Two threads update independent `int` fields in the same object. Performance degrades. Why?",
    "explanation": "The fields likely reside on the same **Cache Line** (64 bytes). When Core A writes to Field 1, it invalidates the entire cache line on Core B (which holds Field 2). The cores fight over the cache line ('Ping Pong'). **Fix:** Pad the struct (`[StructLayout(LayoutKind.Explicit, Size=64)]`)."
  },
  {
    "id": 44004,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free Stack",
    "content": "How do you implement a `Push` operation in a Lock-Free Stack using CAS?",
    "explanation": "Use `Interlocked.CompareExchange` in a loop. 1. Read current Head. 2. Create new Node pointing to Head. 3. Try to swap Head with NewNode *if* Head hasn't changed. 4. If swap fails (CAS failure), loop and try again."
  },
  {
    "id": 44005,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ABA Problem",
    "content": "What is the ABA problem in lock-free algorithms?",
    "explanation": "Thread 1 reads Value A. Thread 2 changes A -> B -> A. Thread 1 runs CAS expecting A. It succeeds because the value is A, but the *state* has changed (e.g., the node was deleted and reused). **Fix:** Use Versioned Pointers (Value + Counter) or Safe Memory Reclamation (Hazard Pointers)."
  },
  {
    "id": 44006,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SpinLock vs Monitor",
    "content": "When should you use `SpinLock` instead of `lock` (Monitor)?",
    "explanation": "Only for **Micro-optimizations** where the lock is held for extremely short durations (< 100 cycles). `SpinLock` burns CPU in a `while(true)` loop instead of yielding context. If misused (long holding), it destroys CPU throughput."
  },
  {
    "id": 44007,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadLocal vs AsyncLocal",
    "content": "Why does data stored in `ThreadLocal<T>` disappear after an `await`?",
    "explanation": "`await` (usually) continues on a *different* thread. `ThreadLocal` data stays on the original thread. Use `AsyncLocal<T>`, which flows with the `ExecutionContext` across thread switches in the async state machine."
  },
  {
    "id": 44008,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool Starvation",
    "content": "How does 'Sync-over-Async' cause ThreadPool Starvation?",
    "explanation": "Blocking a ThreadPool thread (`.Result`) forces the pool to inject a new thread to handle the async completion. Thread injection is slow (Hill Climbing: ~1-2 per sec). If bursts occur, the pool runs out of threads, and throughput drops to zero."
  },
  {
    "id": 44009,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ExecutionContext vs SynchronizationContext",
    "content": "What is the difference between ExecutionContext and SynchronizationContext?",
    "explanation": "**ExecutionContext**: Flows logical data (Security, Culture, AsyncLocals) across async points. Always flows. **SynchronizationContext**: Controls *where* code executes (e.g., UI Thread). Captured by `await` unless `ConfigureAwait(false)` is used."
  },
  {
    "id": 44010,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "AutoResetEvent vs ManualResetEvent",
    "content": "What is the key difference in behavior between Auto and Manual Reset Events?",
    "explanation": "**Auto**: Automatically resets to 'Unsignaled' after releasing *one* waiting thread (Turnstile). **Manual**: Stays 'Signaled' (open gate) releasing *all* waiting threads until manually reset. Auto is for exclusive access; Manual is for broad notification."
  },
  {
    "id": 44011,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.Yield() vs Thread.Sleep(0)",
    "content": "What is the difference between `Yield()` and `Sleep(0)`?",
    "explanation": "`Sleep(0)` yields the timeslice to any thread of *equal or higher* priority. `Yield()` yields to *any* thread on the same processor, regardless of priority. `Yield` is generally lighter but less predictable."
  },
  {
    "id": 44012,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ReaderWriterLockSlim",
    "content": "Why prefer `ReaderWriterLockSlim` over `ReaderWriterLock`?",
    "explanation": "The 'Slim' version uses efficient user-mode spin waits before falling back to kernel events, and it avoids recursion (which caused deadlocks in the old version). It is significantly faster for high-contention read scenarios."
  },
  {
    "id": 44013,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Yield()",
    "content": "When would you `await Task.Yield()` in a method?",
    "explanation": "To force **Asynchrony**. If a method runs synchronously for too long, it blocks the caller (e.g., UI thread). `Task.Yield()` forces a continuation to be scheduled on the ThreadPool (or Context), allowing the caller to regain control immediately."
  },
  {
    "id": 44014,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskCompletionSource",
    "content": "How do you wrap a legacy Event-based pattern into a Task?",
    "explanation": "Use `TaskCompletionSource<T>`. Subscribe to the legacy event (Success/Error). In the handler, call `tcs.SetResult(data)` or `tcs.SetException(ex)`. Return `tcs.Task`. Allows awaiting non-Task APIs."
  },
  {
    "id": 44015,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim Async",
    "content": "Why use `SemaphoreSlim` instead of `lock` for throttling async calls?",
    "explanation": "`lock` blocks the thread. `SemaphoreSlim.WaitAsync()` allows you to **await** the lock acquisition. This respects concurrency limits (e.g., max 5 parallel downloads) without blocking threads while waiting for a slot."
  },
  {
    "id": 44016,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Compare-and-Swap (CAS)",
    "content": "What is the CPU instruction behind `Interlocked.CompareExchange`?",
    "explanation": "`CMPXCHG` (x86). It is an atomic hardware instruction that compares a value in memory with an expected value, and if they match, swaps it with a new value. It is the building block of all lock-free structures."
  },
  {
    "id": 44017,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "BlockingCollection",
    "content": "How does `BlockingCollection` implement the Producer-Consumer pattern?",
    "explanation": "It wraps a `ConcurrentQueue` (or Stack/Bag) and adds blocking logic via semaphores. `Take()` blocks the consumer thread if empty. `Add()` blocks the producer if capacity is full (Bounded). Handles thread synchronization for you."
  },
  {
    "id": 44018,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadAffinity",
    "content": "What is Thread Affinity and when does it matter?",
    "explanation": "Forcing a thread to run on a specific CPU core. Useful in High-Frequency Trading (HFT) to maximize L1/L2 cache hits. In .NET, use `ProcessThread.ProcessorAffinity`, but usually best left to the OS scheduler."
  },
  {
    "id": 44019,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SynchronizationContext.Post vs Send",
    "content": "Difference between `Post` and `Send`?",
    "explanation": "**Post** is Asynchronous (Fire and Forget). **Send** is Synchronous (Blocks until the delegate completes). In UI apps, `Send` can cause deadlocks if the UI thread is waiting on the background thread that calls `Send`."
  },
  {
    "id": 44020,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.ConfigureAwait(false)",
    "content": "Does `ConfigureAwait(false)` matter in .NET Core Web API?",
    "explanation": "**(No).** ASP.NET Core does not have a SynchronizationContext. Resuming on the \"original context\" is meaningless (it's always ThreadPool). However, library authors should still use it for compatibility with UI apps (WPF/MAUI)."
  },
  {
    "id": 44021,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "UnobservedTaskException",
    "content": "Does an unobserved Task exception crash the process in .NET 6+?",
    "explanation": "No. Since .NET 4.5, unobserved exceptions are swallowed by the finalizer logic (to prevent crashing servers). However, you should subscribe to `TaskScheduler.UnobservedTaskException` to log them, as they indicate bugs."
  },
  {
    "id": 44022,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Linked CancellationToken",
    "content": "How do you combine a Timeout with a User Cancellation token?",
    "explanation": "Use `CancellationTokenSource.CreateLinkedTokenSource(userToken, timeoutToken)`. The resulting token cancels if *either* input triggers. Don't forget to `Dispose` the linked source."
  },
  {
    "id": 44023,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Barrier",
    "content": "What is the `Barrier` synchronization primitive used for?",
    "explanation": "Phased execution. \"Wait until 4 threads reach this point, then let them all proceed simultaneously.\" Useful for parallel algorithms (e.g., Genetic Algorithms) where generations must synchronize."
  },
  {
    "id": 44024,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "CountdownEvent",
    "content": "Difference between `Barrier` and `CountdownEvent`?",
    "explanation": "`CountdownEvent` is like a reverse semaphore. It waits until the signal count reaches zero (e.g., waiting for 10 parallel downloads to finish). `Barrier` is cyclic/reusable; `CountdownEvent` is one-shot (unless Reset)."
  },
  {
    "id": 44025,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentDictionary Granularity",
    "content": "How does ConcurrentDictionary achieve thread safety without locking the whole collection?",
    "explanation": "It uses **Fine-Grained Locking**. It maintains multiple locks (buckets). Writing to Key A only locks Bucket A. Key B in Bucket B can be written simultaneously. Reads are usually lock-free."
  },
  {
    "id": 44026,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.WhenAny Memory Leak",
    "content": "Why can `await Task.WhenAny(tasks)` cause a memory leak if tasks don't complete?",
    "explanation": "`WhenAny` returns a new Task that completes when the *first* one finishes. The continuations attached to the *other* tasks remain in memory until they complete. If you discard them, they leak. Always ensure all tasks eventually complete or cancel."
  },
  {
    "id": 44027,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task vs ValueTask",
    "content": "What is the overhead difference between `Task` and `ValueTask`?",
    "explanation": "`Task` is a class (Heap allocation + GC). `ValueTask` is a struct (Stack). If an async method completes synchronously (e.g., buffered read), `ValueTask` avoids the allocation completely."
  },
  {
    "id": 44028,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.MemoryBarrier vs Interlocked",
    "content": "Does `Interlocked.Increment` imply a Memory Barrier?",
    "explanation": "Yes. All Interlocked operations on x64 emit a full memory barrier (Fence). This guarantees that writes are visible to other cores immediately."
  },
  {
    "id": 44029,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Streams (IAsyncEnumerable)",
    "content": "How does `await foreach` pull data differently from `Task<IEnumerable>`?",
    "explanation": "It pulls items **On Demand** (Pull model). The producer yields one item, pauses, and waits for the consumer to request the next. Efficient for streaming huge datasets without buffering."
  },
  {
    "id": 44030,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channels: Bounded vs Unbounded",
    "content": "Why prefer Bounded Channels for producer-consumer?",
    "explanation": "**Backpressure**. Unbounded channels allow the producer to run infinitely faster than the consumer, filling RAM until OOM. Bounded channels `await WriteAsync` blocks the producer when full, stabilizing the system."
  },
  {
    "id": 44031,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "IO Completion Ports (IOCP)",
    "content": "How does Windows handle async I/O efficiently?",
    "explanation": "IOCP. When an I/O request starts, the thread returns to the pool. When hardware finishes, the OS queues a packet to the IOCP. The ThreadPool grabs a thread *only* to process the completion. No threads wait."
  },
  {
    "id": 44032,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ProcessThread.IdealProcessor",
    "content": "Can you control which core a thread prefers?",
    "explanation": "Yes, via `IdealProcessor` (Soft Affinity). The OS scheduler tries to run the thread there (cache warmth) but can move it if the core is busy. `ProcessorAffinity` (Hard Affinity) forces it."
  },
  {
    "id": 44033,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "WaitHandle.WaitAll limit",
    "content": "What is the maximum number of handles `WaitHandle.WaitAll` can wait on?",
    "explanation": "**64**. This is a Windows kernel limitation (`MAXIMUM_WAIT_OBJECTS`). If you need to wait on more, you must use `Task.WhenAll` (which has no limit) or chain multiple waits."
  },
  {
    "id": 44034,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock Recursion",
    "content": "Is `lock` (Monitor) re-entrant?",
    "explanation": "Yes. If Thread A holds a lock, it can enter the *same* lock again without blocking. It increments a recursion count. It must exit the lock the same number of times to release it."
  },
  {
    "id": 44035,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool MinThreads",
    "content": "Why might increasing `MinThreads` fix timeout issues on startup?",
    "explanation": "The ThreadPool injects threads slowly (1/sec). If a burst of 100 requests hits a cold app, it takes 100s to spin up threads. Setting `MinThreads = 100` makes them available instantly."
  },
  {
    "id": 44036,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Timer Coalescing",
    "content": "How does the OS handle thousands of timers efficiently?",
    "explanation": "Timer Coalescing. The OS aligns timer expirations to occur at the same time (e.g., every 100ms) to wake the CPU once and process a batch, rather than waking it randomly every millisecond. Saves battery/energy."
  },
  {
    "id": 44037,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free: Immutable Stack",
    "content": "Why are immutable data structures easier for concurrency?",
    "explanation": "You never modify state in place. You create a *new* version with the change and swap the root pointer (`Interlocked.Exchange`). Readers always see a consistent snapshot (the old version) without locks."
  },
  {
    "id": 44038,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.Interrupt",
    "content": "Should you use `Thread.Interrupt()` to wake a sleeping thread?",
    "explanation": "Avoid. It throws `ThreadInterruptedException` at an arbitrary wait point. Hard to handle safely. Use `CancellationToken` or `ManualResetEvent` for cooperative wake-up."
  },
  {
    "id": 44039,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Parallel.ForEach Partitioning",
    "content": "How does `Parallel.ForEach` distribute work?",
    "explanation": "It uses a **Partitioner**. It splits the collection into chunks (Range partitioning) and assigns chunks to threads. Prevents the overhead of locking the enumerator for every single item."
  },
  {
    "id": 44040,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskScheduler",
    "content": "When would you implement a custom `TaskScheduler`?",
    "explanation": "To control **Concurrency limits** (e.g., Max 2 threads for this group of tasks), **Priority** scheduling, or to force execution on a specific thread (e.g., UI thread)."
  },
  {
    "id": 44041,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Eliding",
    "content": "Why is `return Task` better than `return await Task` for passthrough methods?",
    "explanation": "Performance. `async/await` generates a state machine. If you just pass the task through, removing the keywords saves the allocation and cpu cycles of that state machine."
  },
  {
    "id": 44042,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Deadlock in Static Constructor",
    "content": "Why is starting a thread in a static constructor dangerous?",
    "explanation": "The CLR holds an internal lock while running a static constructor. If the new thread tries to access the class (and thus waits for the static constructor to finish), you get a Deadlock."
  },
  {
    "id": 44043,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "PeriodicTimer (Net 6)",
    "content": "Why prefer `PeriodicTimer` over `Task.Delay` in loops?",
    "explanation": "`PeriodicTimer` accounts for the execution time of the loop body. It maintains a stable tick rate. `Task.Delay(1000)` inside a loop drifts because it waits 1000ms *plus* the execution time."
  },
  {
    "id": 44044,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadState",
    "content": "What does `ThreadState.Background` mean?",
    "explanation": "Background threads do not prevent the process from terminating. If the Main thread finishes, all Background threads are killed immediately. Foreground threads keep the process alive."
  },
  {
    "id": 44045,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Factory.StartNew vs Task.Run",
    "content": "Why does `StartNew` sometimes return `Task<Task<T>>`?",
    "explanation": "`StartNew` does not automatically unwrap inner tasks. `Task.Run` is a wrapper that calls `StartNew` and `.Unwrap()`, effectively flattening the nested task structure."
  },
  {
    "id": 44046,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "HybridLock",
    "content": "What is a Hybrid Lock strategy?",
    "explanation": "Combine spinning and waiting. Spin (burn CPU) for a few microseconds hoping the lock releases (cheap). If still locked, yield to the OS kernel (expensive context switch) to sleep."
  },
  {
    "id": 44047,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "CancellationToken Race",
    "content": "Can `IsCancellationRequested` change *during* a method execution?",
    "explanation": "Yes. It can change at any line. Always assume it can switch to `true` concurrently. Checking it once at the start doesn't guarantee safety later in the method."
  },
  {
    "id": 44048,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "PLINQ AsOrdered",
    "content": "Does `AsParallel()` preserve order?",
    "explanation": "No. Partitioning disrupts order. Use `.AsOrdered()` to force PLINQ to buffer results and re-sort them by index before yielding, which incurs a performance penalty."
  },
  {
    "id": 44049,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ChannelReader.ReadAllAsync",
    "content": "How to consume a Channel as an Async Stream?",
    "explanation": "`await foreach (var item in channel.Reader.ReadAllAsync())`. Simplifies the consumer loop logic compared to `while(await WaitToReadAsync())`."
  },
  {
    "id": 44050,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Safety of Static Members",
    "content": "Are static members thread-safe by default?",
    "explanation": "No. You must synchronize access. Exception: Static *Constructors* are thread-safe. Also, static members of standard collections (like `List.Add`) are NOT thread-safe."
  },
  {
    "id": 45001,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "TCP vs UDP Reliability",
    "content": "Why is UDP called 'Connectionless'?",
    "explanation": "No Handshake. No Ack. No Order guarantee. You just blast packets at an IP. If they arrive, good. If not, they are lost. This eliminates the latency overhead of TCP's reliability features."
  },
  {
    "id": 45002,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "SocketAsyncEventArgs",
    "content": "What is `SocketAsyncEventArgs` and why does Kestrel use it?",
    "explanation": "It allows **Zero-Allocation** socket operations. Unlike standard `Begin/End` patterns which allocate an `IAsyncResult`, `SocketAsyncEventArgs` is a reusable object that stays pinned, reducing GC pressure for high-throughput servers."
  },
  {
    "id": 45003,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "System.IO.Pipelines",
    "content": "How does `System.IO.Pipelines` improve parsing performance?",
    "explanation": "It manages memory buffers for you. It handles the complexity of \"Partial Reads\" (packet fragmentation) without copying data. It exposes `ReadResult` as a `ReadOnlySequence<byte>`, allowing zero-copy parsing across buffer segments."
  },
  {
    "id": 45004,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Nagle's Algorithm",
    "content": "What is Nagle's Algorithm and why disable it (`NoDelay`) for real-time apps?",
    "explanation": "Nagle buffers small packets to send fewer, larger packets (efficiency). For real-time apps (Games, Telnet), this buffering adds latency (up to 200ms). Disabling it sends every packet immediately."
  },
  {
    "id": 45005,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "HTTP/2 Multiplexing",
    "content": "How does HTTP/2 solve Head-of-Line blocking?",
    "explanation": "It breaks requests into binary frames and interleaves them on a single TCP connection. Request B doesn't wait for Request A to finish; their frames effectively stream in parallel."
  },
  {
    "id": 45006,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "QUIC / HTTP/3",
    "content": "How does QUIC improve upon TCP?",
    "explanation": "Built on UDP. It eliminates **TCP Head-of-Line blocking** (packet loss affects only the relevant stream, not the whole connection) and reduces Handshake latency (0-RTT resumption)."
  },
  {
    "id": 45007,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Kestrel vs IIS/Nginx",
    "content": "What is the role of Kestrel vs a Reverse Proxy?",
    "explanation": "Kestrel is the application server (runs C# code, parses HTTP). Reverse Proxy (Nginx) handles edge concerns: SSL termination, Static Files, Load Balancing, and Port 80 binding privileges."
  },
  {
    "id": 45008,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "SocketsHttpHandler",
    "content": "What is `SocketsHttpHandler` in .NET?",
    "explanation": "The modern, cross-platform HTTP stack implementation (replacing legacy `WinHttpHandler`). It sits below `HttpClient` and handles connection pooling, DNS, and HTTP/2+ logic using raw Sockets."
  },
  {
    "id": 45009,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "ServicePointManager",
    "content": "Is `ServicePointManager` used in .NET Core?",
    "explanation": "Mostly ignored by `SocketsHttpHandler`. Configuration like `DefaultConnectionLimit` is now set per-handler instance (`SocketsHttpHandler.MaxConnectionsPerServer`), not globally static."
  },
  {
    "id": 45010,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "TCP Window Scaling",
    "content": "What is the TCP Window size?",
    "explanation": "The amount of data a sender can transmit without receiving an ACK. Window Scaling allows this limit to grow dynamically (Flow Control) to utilize high-bandwidth links fully."
  },
  {
    "id": 45011,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Ephemeral Ports",
    "content": "What happens if you open 60,000 outgoing connections?",
    "explanation": "You exhaust the Ephemeral Port range (typically 65535 ports total). New connections fail (`SocketException`). Use Connection Pooling to avoid this."
  },
  {
    "id": 45012,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "TIME_WAIT State",
    "content": "Why do closed sockets linger in TIME_WAIT state?",
    "explanation": "To ensure any delayed packets from the old connection are received and discarded, preventing them from corrupting a new connection reusing the same port tuple."
  },
  {
    "id": 45013,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "TLS 1.3 0-RTT",
    "content": "What is 0-RTT in TLS 1.3?",
    "explanation": "Zero Round Trip Time Resumption. Allows a client to send encrypted data *in the very first packet* (along with the Hello) if it has previously connected to that server. Improves latency."
  },
  {
    "id": 45014,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Half-Open Connection",
    "content": "What is a Half-Open connection?",
    "explanation": "One side crashed or severed the link without telling the other. The survivor thinks the connection is still active. **Keep-Alives** are required to detect and close these."
  },
  {
    "id": 45015,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "OSI Model Layers",
    "content": "Which layer does IP (Internet Protocol) operate at?",
    "explanation": "Layer 3 (Network). TCP/UDP is Layer 4 (Transport). HTTP is Layer 7 (Application)."
  },
  {
    "id": 45016,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "DNS TTL",
    "content": "How does DNS TTL affect failover?",
    "explanation": "TTL (Time To Live) dictates how long clients cache the IP. If TTL is 24 hours, clients won't see your new Failover IP for up to 24 hours. Set low TTL (e.g., 60s) for critical services."
  },
  {
    "id": 45017,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Pinned Memory in Sockets",
    "content": "Why must buffer memory be pinned during a socket Read/Write?",
    "explanation": "The OS kernel needs to copy data directly to that RAM address. If the GC moves the object while the OS is writing, data corruption occurs. `.NET` handles this automatically in `SocketAsyncEventArgs`."
  },
  {
    "id": 45018,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Loopback Performance",
    "content": "Is `localhost` faster than a real network interface?",
    "explanation": "Yes. The OS shortcuts the stack. Packets don't hit the network card driver; they are looped back in the kernel. Bandwidth is limited only by CPU/Memory speed."
  },
  {
    "id": 45019,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "gRPC vs SignalR",
    "content": "When to use gRPC Streaming vs SignalR?",
    "explanation": "Use **gRPC Streaming** for high-volume binary data (files, metrics) between services. Use **SignalR** for broadcasting messages to Web Clients (browsers) where fallback transports (Long Polling) might be needed."
  },
  {
    "id": 45020,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "MTU (Maximum Transmission Unit)",
    "content": "What happens if a packet exceeds the MTU (usually 1500 bytes)?",
    "explanation": "**Fragmentation**. IP splits it into smaller packets. If one fragment is lost, the whole packet is lost. Efficient networks try to avoid fragmentation (Path MTU Discovery)."
  },
  {
    "id": 45021,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "WebSocket Protocol Upgrade",
    "content": "How does an HTTP connection become a WebSocket?",
    "explanation": "The client sends a `Connection: Upgrade` and `Upgrade: websocket` header. The server responds with `101 Switching Protocols`. The TCP connection remains open but switches from HTTP logic to WebSocket framing."
  },
  {
    "id": 45022,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "ALPN (Application-Layer Protocol Negotiation)",
    "content": "What is ALPN used for in TLS?",
    "explanation": "It allows the client and server to negotiate the protocol (HTTP/1.1 vs h2) *during* the TLS handshake, saving a round-trip. Essential for HTTP/2."
  },
  {
    "id": 45023,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Backpressure in Streams",
    "content": "How does `PipeWriter.FlushAsync()` implement backpressure?",
    "explanation": "It returns a `ValueTask<FlushResult>`. If the pipe buffer is full (consumer is slow), `FlushAsync` will yield (not complete), pausing the producer until space clears."
  },
  {
    "id": 45024,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Socket.Select",
    "content": "Why is `Socket.Select` inefficient for high concurrency?",
    "explanation": "It checks a list of sockets (O(N)). For 10,000 connections, it scans all of them to find the 1 that has data. IOCP/epoll are event-driven (O(1)), notifying you only of active sockets."
  },
  {
    "id": 45025,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Keep-Alive vs Connection Pooling",
    "content": "Is TCP Keep-Alive the same as Connection Pooling?",
    "explanation": "No. **Keep-Alive** prevents the OS from closing idle sockets. **Connection Pooling** (Application layer) keeps the socket open and reuses it for subsequent requests instead of `new Socket()`."
  },
  {
    "id": 45026,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "HTTP/3 UDP fallback",
    "content": "What if a firewall blocks UDP (HTTP/3)?",
    "explanation": "Browsers use **Happy Eyeballs** / Alt-Svc. They try HTTP/3 and HTTP/2 simultaneously. If UDP fails/timeouts, they seamlessly fall back to TCP (HTTP/2)."
  },
  {
    "id": 45027,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "MemoryPool<T>",
    "content": "How does `MemoryPool<byte>.Shared` optimize I/O?",
    "explanation": "It provides reusable blocks of memory (slab allocation) backed by pinned arrays or native memory, reducing allocation costs for high-throughput networking."
  },
  {
    "id": 45028,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Reverse Proxy Headers",
    "content": "Why do you need `X-Forwarded-For`?",
    "explanation": "When behind a Proxy (Nginx), the connection to your app comes from `127.0.0.1` (the proxy). `X-Forwarded-For` contains the *real* client IP. You must trust this header only from known proxies."
  },
  {
    "id": 45029,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Response Buffering",
    "content": "Why does ASP.NET Core default to *not* buffering responses?",
    "explanation": "To enable streaming and lower memory usage. Data is written to the wire as soon as it's generated. Buffering would require holding the entire JSON in RAM before sending byte 1."
  },
  {
    "id": 45030,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Slowloris Attack",
    "content": "How does a Slowloris attack work?",
    "explanation": "The attacker opens many connections and sends headers extremely slowly (1 byte per 10s). This keeps the server threads/sockets tied up waiting for the request to finish, exhausting connection limits."
  },
  {
    "id": 45031,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Multicast",
    "content": "What is UDP Multicast?",
    "explanation": "Sending one packet to a Group IP (`224.0.0.x`). The network switches replicate the packet to all subscribers. Efficient for one-to-many streaming (e.g., Stock Ticker on LAN), but not routable over public internet."
  },
  {
    "id": 45032,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Binary Framing",
    "content": "Why does TCP need Framing (e.g., Length-Prefixing)?",
    "explanation": "TCP is a **Stream**, not packets. You might read 1.5 messages or 0.5 messages in one `Read()`. Framing (sending `[Length][Data]`) tells the receiver where one message ends and the next begins."
  },
  {
    "id": 45033,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Head Request",
    "content": "Does a HEAD request download the body?",
    "explanation": "No. It returns Headers (Content-Length) only. Useful for checking file size or existence before committing to a download."
  },
  {
    "id": 45034,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Anycast vs Unicast",
    "content": "What is Anycast?",
    "explanation": "Multiple servers share the **Same IP**. The network routes the packet to the *closest* physical server. Used by CDNs and DNS (8.8.8.8) for global load balancing."
  },
  {
    "id": 45035,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "BGP (Border Gateway Protocol)",
    "content": "What is the role of BGP?",
    "explanation": "The postal service of the Internet. It determines the most efficient path between Autonomous Systems (ISPs). BGP misconfiguration is a common cause of massive internet outages."
  },
  {
    "id": 45036,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Localhost vs 127.0.0.1",
    "content": "Is there a difference?",
    "explanation": "Yes. `localhost` is a name that must be resolved (usually via `/etc/hosts`). It might resolve to `::1` (IPv6). `127.0.0.1` is explicitly IPv4. Mismatches can cause connection errors if the server binds only to IPv4."
  },
  {
    "id": 45037,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Socket Linger",
    "content": "What does `LingerOption` do?",
    "explanation": "Determines behavior on `Close()`. If enabled with timeout, `Close()` blocks until buffered data is sent. If disabled (default), `Close()` returns immediately, and the OS handles sending background data (or RST)."
  },
  {
    "id": 45038,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "WireShark",
    "content": "What is a PCAP file?",
    "explanation": "Packet Capture. A recording of all network traffic (bytes). Used with Wireshark to debug protocol-level issues (Handshakes, Retransmissions, Reset packets)."
  },
  {
    "id": 45039,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "HTTP/2 PING",
    "content": "How does HTTP/2 check health?",
    "explanation": "It has a native `PING` frame type. Unlike HTTP/1.1 (which needs a full Request/Response), H2 can ping at the connection layer to measure latency and aliveness."
  },
  {
    "id": 45040,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Span in Networking",
    "content": "How does `Span<byte>` help parsing packet headers?",
    "explanation": "You can cast `span.Slice(0, 4)` to an integer directly (`BinaryPrimitives.ReadInt32BigEndian`), avoiding `BitConverter` allocations and array copies."
  },
  {
    "id": 45041,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Kestrel Libuv vs Managed Sockets",
    "content": "What happened to Libuv in Kestrel?",
    "explanation": "In .NET Core 2.1, Kestrel switched from **Libuv** (C library) to **Managed Sockets** (C# Sockets). The C# implementation is now faster and removes the native dependency."
  },
  {
    "id": 45042,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Strict Transport Security (HSTS)",
    "content": "What does the `includeSubDomains` flag do in HSTS?",
    "explanation": "Forces HTTPS for the root domain AND all subdomains. Dangerous if you have internal HTTP-only subdomains (e.g., `dev.example.com`), as browsers will refuse to connect."
  },
  {
    "id": 45043,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Zero Copy Networking",
    "content": "What is the concept of Zero Copy?",
    "explanation": "Sending a file to the network card directly from kernel disk cache (via `sendfile` syscall) without copying data into User Space application memory. `.NET` exposes this via `FileStream.CopyToAsync` optimizations."
  },
  {
    "id": 45044,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Domain Sockets (Unix)",
    "content": "When to use Unix Domain Sockets over TCP?",
    "explanation": "For IPC (Inter-Process Communication) on the *same machine* (e.g., Nginx -> Kestrel sidecar). Faster than TCP loopback because it bypasses the TCP/IP network stack entirely."
  },
  {
    "id": 45045,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "CORS Preflight Caching",
    "content": "How to reduce the overhead of OPTIONS requests?",
    "explanation": "Set `Access-Control-Max-Age: 86400`. Tells the browser to cache the CORS permission for 24 hours, skipping the OPTIONS check for subsequent calls."
  },
  {
    "id": 45046,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Receive Window (TCP)",
    "content": "What happens if the Receive Window hits 0?",
    "explanation": "The sender MUST stop sending. The receiver is overwhelmed and cannot process the buffer. This is **Flow Control**."
  },
  {
    "id": 45047,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Chunked Transfer Encoding",
    "content": "What is `Transfer-Encoding: chunked`?",
    "explanation": "Allows sending response data before the total size is known. The server sends `Length\r\nData` blocks, ending with a 0-length block. Essential for streaming dynamic content."
  },
  {
    "id": 45048,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "SNI (Server Name Indication)",
    "content": "How does SNI allow multiple HTTPS sites on one IP?",
    "explanation": "The client sends the **Hostname** inside the TLS ClientHello (unencrypted). The server uses this to pick the correct SSL Certificate to return before the handshake completes."
  },
  {
    "id": 45049,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "Network Byte Order",
    "content": "Is Network Byte Order Big or Little Endian?",
    "explanation": "**Big Endian**. Most CPUs (x86/ARM) are Little Endian. You must call `IPAddress.HostToNetworkOrder` when writing low-level binary protocols headers."
  },
  {
    "id": 45050,
    "category": "Networking Internals",
    "difficulty": "Principal",
    "title": "ICMP",
    "content": "What protocol does `ping` use?",
    "explanation": "**ICMP** (Internet Control Message Protocol). It is Layer 3, distinct from TCP or UDP. Firewalls often block ICMP (Ping) while allowing TCP (Web)."
  }
  ,
  {
    "id": 46001,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Zero-Copy Optimization",
    "content": "How does Kafka achieve high throughput using Zero-Copy networking?",
    "explanation": "Kafka uses the OS `sendfile` (Linux) syscall. It transfers data directly from the **Page Cache** (disk buffer) to the **Network Socket** buffer in the OS kernel. This bypasses the application memory entirely (User Space), saving CPU cycles and context switches."
  },
  {
    "id": 46002,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "ISR (In-Sync Replicas)",
    "content": "What happens if the number of In-Sync Replicas (ISR) drops below `min.insync.replicas`?",
    "explanation": "The producer receives a `NotEnoughReplicas` exception (if `acks=all`). The partition becomes **Read-Only**. It stops accepting writes to prevent data loss, favoring Consistency over Availability (CP system)."
  },
  {
    "id": 46003,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Consumer Rebalancing: Eager vs Cooperative",
    "content": "What is the difference between Eager Rebalancing and Cooperative Sticky Rebalancing?",
    "explanation": "**Eager (Stop-the-World)**: All consumers stop fetching, revoke all partitions, and rejoin. System pauses. **Cooperative**: Consumers only revoke the specific partitions that need to move. Other partitions continue processing. Much smoother for large groups."
  },
  {
    "id": 46004,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Log Compaction Mechanics",
    "content": "How does Log Compaction work and when is it triggered?",
    "explanation": "A background thread (Cleaner) scans the log. It keeps only the **latest value** for every Key. Older messages with the same Key are deleted. Used for restoring state (KTable) rather than event streams. Triggered by `log.cleaner.enable=true`."
  },
  {
    "id": 46005,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Sticky Partitioner",
    "content": "How does the Sticky Partitioner optimize Producer throughput?",
    "explanation": "Instead of round-robining every single message (causing many small batches), the producer sticks to one partition for a time window (e.g., 10ms) or until a batch fills up. This creates fewer, larger batches, reducing network overhead/latency."
  },
  {
    "id": 46006,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Ack=0 vs Ack=1 vs Ack=All",
    "content": "What are the trade-offs of the different Producer Acknowledge modes?",
    "explanation": "**Ack=0**: Fire and forget (Fastest, highest risk). **Ack=1**: Leader confirms write (Fast, data lost if Leader crashes before replication). **Ack=All**: Leader and all ISRs confirm (Slowest, strongest consistency)."
  },
  {
    "id": 46007,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Unclean Leader Election",
    "content": "What is the risk of enabling `unclean.leader.election.enable=true`?",
    "explanation": "If the Leader dies and no ISRs are alive, Kafka picks an out-of-sync replica as the new Leader. **Data Loss** occurs (any messages the new leader didn't have are wiped from history). Only enable for max availability, never for consistency."
  },
  {
    "id": 46008,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Idempotent Producer",
    "content": "How does the Idempotent Producer prevent duplicate messages?",
    "explanation": "The Producer assigns a `ProducerID` (PID) and a monotonic `Sequence Number` to every message. The Broker tracks the last sequence number per PID. If it receives a duplicate sequence, it discards the message automatically."
  },
  {
    "id": 46009,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Transactions (Exactly-Once)",
    "content": "How do Kafka Transactions enable Exactly-Once Semantics (EOS)?",
    "explanation": "Atomic writes across multiple partitions. It uses a **Transaction Coordinator** and writes `Commit` markers to the log. Consumers configured with `isolation.level=read_committed` only read messages up to the marker, ignoring aborted/open transactions."
  },
  {
    "id": 46010,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "__consumer_offsets",
    "content": "What is the purpose of the internal `__consumer_offsets` topic?",
    "explanation": "It stores the commit position (offset) for every consumer group. When a consumer commits an offset, it is actually writing a message to this compact topic. It allows the broker to track state efficiently."
  },
  {
    "id": 46011,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Page Cache Usage",
    "content": "Why does Kafka recommend disabling the JVM Heap memory for data buffering?",
    "explanation": "Kafka relies on the OS **Page Cache** (RAM) to buffer disk writes. Using JVM heap would double-buffer the data (once in OS, once in JVM) and increase GC pressure. Kafka keeps the JVM heap small and lets the OS manage RAM."
  },
  {
    "id": 46012,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Partition Count vs Latency",
    "content": "Why shouldn't you just create 10,000 partitions for max concurrency?",
    "explanation": "Each partition adds metadata overhead (ZooKeeper/KRaft), open file handles, and replication thread overhead. High partition counts increase **Leader Election time** during failover (latency spike) and Controller load."
  },
  {
    "id": 46013,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Controller Node",
    "content": "What is the role of the Kafka Controller broker?",
    "explanation": "One broker is elected Controller. It manages metadata state (topic creation, partition assignment) and handles failovers (electing new leaders). It is the 'Brain' of the cluster."
  },
  {
    "id": 46014,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "KRaft Mode (ZooKeeper Removal)",
    "content": "How does KRaft mode improve Kafka architecture?",
    "explanation": "It replaces ZooKeeper with an internal Raft-based metadata quorum. It removes the external dependency, improves metadata scalability (millions of partitions), and speeds up controller failover."
  },
  {
    "id": 46015,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Rack Awareness",
    "content": "How does Kafka Rack Awareness improve resiliency?",
    "explanation": "It ensures replicas of the same partition are spread across different physical racks (or Availability Zones). If a rack fails, the partition remains available on another rack."
  },
  {
    "id": 46016,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Tombstone Message",
    "content": "What is a Tombstone in a compacted topic?",
    "explanation": "A message with a `Key` but a `Null` payload. It signals the Log Cleaner to delete all previous messages with that Key. It effectively deletes the key from the KTable state."
  },
  {
    "id": 46017,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Segment Files",
    "content": "Why does Kafka split logs into Segments?",
    "explanation": "To allow easy deletion of old data. Kafka deletes data by removing entire **Segment Files** (e.g., `0000.log`) when they expire by time or size. It doesn't have to seek/delete inside a file."
  },
  {
    "id": 46018,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Static Group Membership",
    "content": "How does `group.instance.id` prevent unnecessary rebalances?",
    "explanation": "It enables Static Membership. If a consumer restarts quickly (within `session.timeout.ms`), the broker recognizes its ID and *does not* trigger a rebalance, assuming it will return. Great for rolling restarts."
  },
  {
    "id": 46019,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Fetch.Min.Bytes",
    "content": "How does increasing `fetch.min.bytes` affect the consumer?",
    "explanation": "The broker waits until it has enough data to fill the response before answering. Reduces CPU/Network overhead on the consumer but increases **Latency** (wait time)."
  },
  {
    "id": 46020,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Schema Evolution (Avro)",
    "content": "What is 'Forward Compatibility' in Kafka Schemas?",
    "explanation": "Old Consumer code can read data written with a New Schema. Usually means you can add optional fields, but cannot delete mandatory fields."
  },
  {
    "id": 46021,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Linger.ms",
    "content": "What does `linger.ms` control in the Producer?",
    "explanation": "The time to wait for a batch to fill up before sending. `linger.ms=5` adds up to 5ms latency but significantly improves throughput and compression by sending larger batches."
  },
  {
    "id": 46022,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Dual-Write Problem (Connect)",
    "content": "Why use Kafka Connect instead of writing to DB and Kafka manually?",
    "explanation": "Writing to DB and Kafka in app code creates a Dual-Write consistency problem (one succeeds, one fails). Kafka Connect (Source Connector) reads the DB transaction log (CDC), ensuring 100% consistency."
  },
  {
    "id": 46023,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Consumer Lag Monitoring",
    "content": "What is the most critical metric for Consumer health?",
    "explanation": "**Consumer Lag** (Max Lag). The difference between the latest offset in the partition and the consumer's current offset. Increasing lag means the consumer is too slow or down."
  },
  {
    "id": 46024,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Global Tables (Streams)",
    "content": "What is a GlobalKTable in Kafka Streams?",
    "explanation": "A table that is replicated to *every* instance of the application. Allows efficient **Star Joins** (joining a stream with a table) without re-partitioning data, but consumes more storage."
  },
  {
    "id": 46025,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Watermarks",
    "content": "What is the High Watermark in a partition?",
    "explanation": "The offset of the last message that was successfully replicated to all ISRs. Consumers can only read up to the High Watermark. Prevents reading uncommitted data that might be lost."
  },
  {
    "id": 46026,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Throttling / Quotas",
    "content": "How does Kafka prevent a noisy tenant from crashing the broker?",
    "explanation": "Client Quotas. You can define limits on Network Bandwidth (bytes/sec) or Request Rate (CPU %) per Client ID or User. The broker delays responses to throttle offenders."
  },
  {
    "id": 46027,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Compaction vs Deletion",
    "content": "Can a topic have both retention time and compaction enabled?",
    "explanation": "Yes. The 'Cleaner' compacts the log (keeps latest keys). The 'Retention' policy deletes old segments. You can configure it to keep keys indefinitely but delete old segments to save space (hybrid)."
  },
  {
    "id": 46028,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Follower Fetching",
    "content": "Can consumers read from Follower replicas?",
    "explanation": "Traditionally No (only Leader). Modern Kafka supports **Tiered Storage** and **Follower Fetching** (KIP-392) to reduce cross-zone data transfer costs by reading from the nearest replica."
  },
  {
    "id": 46029,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Request Purgatory",
    "content": "What is the 'Purgatory' in Kafka broker?",
    "explanation": "A holding area for requests that cannot be satisfied immediately (e.g., a Produce request waiting for `acks=all` replication). The request sits in Purgatory until the condition is met or timeout occurs."
  },
  {
    "id": 46030,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "State Store (RocksDB)",
    "content": "Where does Kafka Streams store its local state?",
    "explanation": "Usually in **RocksDB** (embedded KV store) on the local disk. This allows stateful operations (Aggregations/Joins) to spill to disk if they exceed RAM."
  },
  {
    "id": 46031,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Rebalance Storm",
    "content": "What causes a Rebalance Storm?",
    "explanation": "Slow processing or long GC pauses causing `session.timeout.ms` to expire. The broker thinks the consumer died and triggers a rebalance. The rebalance adds load, causing more timeouts. Fix: Increase timeouts or optimize processing."
  },
  {
    "id": 46032,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Connect Dead Letter Queue",
    "content": "How does Kafka Connect handle bad data (e.g., JSON parse error)?",
    "explanation": "Configure `errors.tolerance=all` and `errors.deadletterqueue.topic.name`. Bad messages are sent to the DLQ instead of crashing the connector pipeline."
  },
  {
    "id": 46033,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "MirrorMaker 2",
    "content": "What is MirrorMaker 2 used for?",
    "explanation": "Replicating topics between different Kafka Clusters (e.g., Active-Passive DR or Cloud Migration). It is built on the Connect framework (more stable than MM1)."
  },
  {
    "id": 46034,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Header vs Key vs Value",
    "content": "When should you put data in the Header instead of the Value?",
    "explanation": "Use Headers for **Metadata** (Tracing IDs, Schema ID, Origin timestamp, Routing info) that middleware might need to inspect without deserializing the full payload."
  },
  {
    "id": 46035,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Kafka vs Pulsar",
    "content": "What is the main architectural difference between Kafka and Pulsar?",
    "explanation": "Kafka couples Storage and Compute (Brokers store files). Pulsar separates them (Brokers are stateless, BookKeeper handles storage). Pulsar scales storage and compute independently."
  },
  {
    "id": 46036,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Consumer Offset Reset",
    "content": "What happens if `auto.offset.reset=earliest` vs `latest`?",
    "explanation": "Only applies when *no committed offset exists*. **Earliest**: Read from the start of the topic (reprocess everything). **Latest**: Read only new messages arriving from now (skip history)."
  },
  {
    "id": 46037,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Compression Type",
    "content": "Why compress at the Producer level?",
    "explanation": "Reduces network bandwidth and disk usage. The broker stores the compressed batch directly (Zero Copy). The consumer decompresses it. Trade-off: Higher CPU on client."
  },
  {
    "id": 46038,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Message Format Evolution",
    "content": "What is the overhead of converting message formats on the broker?",
    "explanation": "If the client and broker versions mismatch, the broker must **Down-convert** the message format. This disables Zero-Copy and burns massive CPU. Always upgrade clients to match brokers."
  },
  {
    "id": 46039,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Standby Replicas (Streams)",
    "content": "What are Standby Replicas in Kafka Streams?",
    "explanation": "Passive copies of the local state store on other instances. If an instance crashes, the Standby can take over immediately without replaying the entire changelog from zero."
  },
  {
    "id": 46040,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Under Replicated Partitions",
    "content": "What does URP metric indicate?",
    "explanation": "The number of partitions where followers are not caught up with the leader. Persistent URP indicates hardware failure, network congestion, or overloaded brokers."
  },
  {
    "id": 46041,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Kafka Proxy / Gateway",
    "content": "Why use a Kafka Proxy (like Envoy)?",
    "explanation": "To handle protocol translation (HTTP/gRPC to Kafka), termination of SSL outside the cluster, or exposing Kafka to the public internet securely."
  },
  {
    "id": 46042,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Changelog Topic",
    "content": "What backs a KTable?",
    "explanation": "A compacted **Changelog Topic**. Every update to the KTable is written to this topic. On restart, the application replays the changelog to rebuild the in-memory table."
  },
  {
    "id": 46043,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Skewed Partitions",
    "content": "What happens if one partition key is extremely popular?",
    "explanation": "**Hot Partition**. One partition grows huge and one consumer gets overloaded. Kafka cannot split partitions dynamically. Fix: Add 'Sharding Salt' to the key to distribute it, or use a custom partitioner."
  },
  {
    "id": 46044,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Transactional.id",
    "content": "Why must `transactional.id` be static per producer instance?",
    "explanation": "To identify the producer across restarts. If a producer crashes within a transaction, the broker recognizes the ID on restart and aborts the old zombie transaction."
  },
  {
    "id": 46045,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Broker Epoch",
    "content": "How does Kafka prevent Zombie Brokers?",
    "explanation": "Brokers are assigned an Epoch (Generation ID) by the Controller. If a broker gets disconnected and comes back, its Epoch is old, and the cluster ignores its stale commands."
  },
  {
    "id": 46046,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "JMX Monitoring",
    "content": "How do you extract metrics from Kafka?",
    "explanation": "Kafka exposes metrics via **JMX** (Java Management Extensions). You run a JMX Exporter (agent) to scrape these and push them to Prometheus."
  },
  {
    "id": 46047,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Batch Size vs Throughput",
    "content": "Why does increasing batch size improve throughput?",
    "explanation": "Fewer network round-trips. Better compression ratios. Less disk seek overhead (larger sequential writes)."
  },
  {
    "id": 46048,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Consumer Heartbeat",
    "content": "Difference between `session.timeout.ms` and `max.poll.interval.ms`?",
    "explanation": "**Session Timeout**: Detects hard crashes (missed heartbeats). **Max Poll Interval**: Detects stuck processing (consumer hasn't asked for new data in X mins). Both trigger rebalancing."
  },
  {
    "id": 46049,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Delete Retention",
    "content": "Why do deleted keys reappear in Log Compaction?",
    "explanation": "If the tombstone is deleted (garbage collected) *before* the data messages it deletes, the data might resurrect on replay. `delete.retention.ms` ensures tombstones stick around long enough for consumers to see them."
  },
  {
    "id": 46050,
    "category": "Kafka Deep Dive",
    "difficulty": "Principal",
    "title": "Kafka vs RabbitMQ Routing",
    "content": "Can Kafka route messages based on header content?",
    "explanation": "Not natively. Kafka routing is done by the **Producer** (Partitioner logic) or Consumer (Filter logic). RabbitMQ Exchanges are smarter routers. Kafka is a dumb pipe, smart endpoint."
  }
  ,
  {
    "id": 47001,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis Cluster Slots",
    "content": "How does Redis Cluster distribute keys?",
    "explanation": "It uses **16,384 Hash Slots**. `CRC16(key) % 16384` determines the slot. Each node owns a range of slots. This allows scaling by moving slots, not re-hashing all keys."
  },
  {
    "id": 47002,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Lua Scripting Atomicity",
    "content": "Are Lua scripts in Redis atomic?",
    "explanation": "Yes. A script executes atomically. No other command can run while the script is executing. However, if the script crashes or takes too long, it blocks the server (Single Threaded)."
  },
  {
    "id": 47003,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redlock Algorithm",
    "content": "How does Redlock achieve distributed locking safely?",
    "explanation": "It acquires locks on **N independent Redis masters** (e.g., 5). It succeeds only if it acquires the lock on Majority (3/5) within a small time window. Tolerates node failures."
  },
  {
    "id": 47004,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Cache Stampede Prevention",
    "content": "How to prevent 1000 threads from rebuilding the same expired key?",
    "explanation": "Use **Probabilistic Early Expiration** (X-Fetch). If `TTL < Random Gap`, one thread recomputes the value while others return the slightly stale value. Or use a Mutex lock."
  },
  {
    "id": 47005,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis Modules",
    "content": "What are Redis Modules?",
    "explanation": "Shared libraries (`.so`) loaded into Redis to extend functionality. Examples: **RediSearch** (Full text), **RedisJSON** (Document store), **RedisBloom** (Probabilistic structures)."
  },
  {
    "id": 47006,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Keyspace Notifications",
    "content": "How can an app react to key expiration events?",
    "explanation": "Enable `notify-keyspace-events Ex`. Redis publishes a Pub/Sub message when a key expires. Note: Pub/Sub is fire-and-forget; if your app is down, it misses the event."
  },
  {
    "id": 47007,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "RDB vs AOF",
    "content": "Which persistence mechanism should you choose?",
    "explanation": "**RDB**: Snapshots every X minutes. Fast startup, compact. Data loss possible. **AOF**: Logs every write. High durability (`fsync` every sec). Slower startup. **Hybrid**: Use both (AOF for durability, RDB for fast recovery)."
  },
  {
    "id": 47008,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "MOVED vs ASK Error",
    "content": "What is the difference between MOVED and ASK in Cluster mode?",
    "explanation": "**MOVED**: The slot has permanently migrated to another node. Client should update its map. **ASK**: The slot is currently *migrating*. Client should ask the target node only for this specific request."
  },
  {
    "id": 47009,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Hash Tags",
    "content": "How to force keys `{user:1}:profile` and `{user:1}:posts` to the same shard?",
    "explanation": "Use **Hash Tags** `{...}`. Only the part inside braces is hashed. `{user:1}:profile` hashes `user:1`. Guarantees multi-key operations work on the same node."
  },
  {
    "id": 47010,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis Streams Consumer Groups",
    "content": "How do Consumer Groups in Redis Streams differ from Pub/Sub?",
    "explanation": "They allow **Persistent** consumption. The stream retains messages. The Group tracks the **Pending Entries List (PEL)** of messages delivered but not ACKed. Allows resuming after crash."
  },
  {
    "id": 47011,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Sorted Set Lexicographical",
    "content": "How to use ZSET for autocomplete?",
    "explanation": "Use `ZRANGEBYLEX`. If all scores are 0, ZSET sorts by string value. You can query ranges `[abc, abd[` to find all strings starting with \"abc\"."
  },
  {
    "id": 47012,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Client-Side Caching (Tracking)",
    "content": "What is Redis 6 Client-Side Caching?",
    "explanation": "Redis tracks which keys a client requested. If that key changes, Redis sends an **Invalidation Message** to the client. Allows the client to keep a local in-memory copy safely."
  },
  {
    "id": 47013,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Pipeline vs Multi/Exec",
    "content": "Difference between Pipelining and Transactions?",
    "explanation": "**Pipeline**: Optimization. Sends batch of commands to reduce RTT. Not atomic. **Multi/Exec**: Atomic transaction. Queues commands on server and executes together. Pipeline + Multi/Exec is common."
  },
  {
    "id": 47014,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Maxmemory Policies",
    "content": "What happens when `maxmemory` is reached with `volatile-lru`?",
    "explanation": "Redis evicts the Least Recently Used keys *that have an expire set*. If no keys have expire, it returns an error on write (OOM). `allkeys-lru` evicts *any* key."
  },
  {
    "id": 47015,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis as a Vector DB",
    "content": "Can Redis perform Vector Search?",
    "explanation": "Yes, with **RediSearch** module. It supports K-Nearest Neighbor (KNN) search on vector fields. Very fast because vectors are in-memory."
  },
  {
    "id": 47016,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "SCAN vs KEYS",
    "content": "Why use SCAN for iteration?",
    "explanation": "`KEYS` blocks the main thread (O(N)). `SCAN` uses a cursor to return small batches (O(1) per call). It allows iterating the keyspace without freezing the server."
  },
  {
    "id": 47017,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Big Keys",
    "content": "Why are 'Big Keys' (e.g., a Hash with 1M fields) dangerous?",
    "explanation": "Reading/Deleting a Big Key blocks the single thread. Deleting a 1GB list takes seconds. Use `UNLINK` (Async Delete) or break it into smaller chunks."
  },
  {
    "id": 47018,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "HyperLogLog Merge",
    "content": "Can you merge two HyperLogLogs?",
    "explanation": "Yes. `PFMERGE` merges registers. Useful for aggregating daily unique visitors into weekly/monthly counts without storing raw data."
  },
  {
    "id": 47019,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "GeoHash",
    "content": "How does Redis store Geo data?",
    "explanation": "It uses **Sorted Sets** (ZSET). The Score is the **Geohash** (interleaved bits of lat/long). `GEORADIUS` performs a range query on these scores."
  },
  {
    "id": 47020,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Wait Command",
    "content": "How to ensure strong consistency on writes?",
    "explanation": "Use `WAIT numreplicas timeout`. It blocks the client until the write is acknowledged by X replicas. Turns async replication into synchronous (at cost of latency)."
  },
  {
    "id": 47021,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Distributed Rate Limiter",
    "content": "How to implement a sliding window rate limiter?",
    "explanation": "Use a ZSET. Add current timestamp as score. `ZREMRANGEBYSCORE` to remove old timestamps. `ZCARD` to count current requests. Atomic via Lua."
  },
  {
    "id": 47022,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Twemproxy",
    "content": "What is Twemproxy?",
    "explanation": "A proxy developed by Twitter to shard Redis before Redis Cluster existed. It makes a pool of Redis instances look like one. Less common now, but still used for Memcached."
  },
  {
    "id": 47023,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis Protocol (RESP)",
    "content": "Is RESP human readable?",
    "explanation": "Yes. `*3\r\n$3\r\nSET\r\n...`. It's text-based but prefix-length optimized. Easy to parse."
  },
  {
    "id": 47024,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Memory Fragmentation",
    "content": "Redis uses 10GB but OS reports 15GB. Why?",
    "explanation": "Fragmentation (RSS vs used_memory). The allocator (jemalloc) holds onto freed pages. Run `MEMORY PURGE` to try and release pages to the OS."
  },
  {
    "id": 47025,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Replication ID / Offset",
    "content": "How does a replica sync with master?",
    "explanation": "It sends `PSYNC`. If the Replication ID matches and the Offset is in the master's backlog buffer, it does a **Partial Resync** (fast). Otherwise, **Full Resync** (snapshot transfer)."
  },
  {
    "id": 47026,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis on Flash",
    "content": "What is Redis on Flash (RoF)?",
    "explanation": "Enterprise feature. Stores Hot data in RAM and Cold data on NVMe SSD (RocksDB). Reduces cost for massive datasets."
  },
  {
    "id": 47027,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Slow Log",
    "content": "How to find bottleneck commands?",
    "explanation": "`SLOWLOG GET`. It lists commands that exceeded the execution time threshold (cpu time only, excludes network I/O)."
  },
  {
    "id": 47028,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Bitfields",
    "content": "What can you do with `BITFIELD`?",
    "explanation": "Treat a Redis string as an array of integers (u4, i8, etc). Allows atomic increment of specific bits. Useful for compact counters."
  },
  {
    "id": 47029,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "ACLs (Access Control Lists)",
    "content": "Can you restrict a user to only read specific keys?",
    "explanation": "Yes (Redis 6+). You can define Rules: `user worker on >pass ~queue:* +RPUSH`. Restricts commands and key patterns."
  },
  {
    "id": 47030,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Blocking Operations",
    "content": "What happens with `BLPOP`?",
    "explanation": "The connection is blocked until an element arrives in the list. The server marks the client as 'blocked' and wakes it up immediately when data is pushed. No polling needed."
  },
  {
    "id": 47031,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis vs Memcached",
    "content": "When would you still use Memcached?",
    "explanation": "For extremely simple Key-Value caching where Multi-threading is needed (Memcached is multithreaded, Redis is single). Redis is generally preferred for features."
  },
  {
    "id": 47032,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Client Buffers",
    "content": "What happens if a client reads slower than Redis sends?",
    "explanation": "The **Client Output Buffer** fills up. If it exceeds the limit, Redis disconnects the client to protect itself from OOM."
  },
  {
    "id": 47033,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "LPOP Count",
    "content": "Can you pop multiple items from a list at once?",
    "explanation": "Yes (Redis 6.2+). `LPOP key 5`. Much more efficient than calling `LPOP` 5 times (pipeline)."
  },
  {
    "id": 47034,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Pub/Sub Sharding",
    "content": "Does Pub/Sub work across a Cluster?",
    "explanation": "Yes (Sharded Pub/Sub introduced recently). Standard Pub/Sub broadcasts to ALL nodes (bandwidth heavy). Sharded Pub/Sub (`SSUBSCRIBE`) hashes the channel name to a specific slot."
  },
  {
    "id": 47035,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Evaluate Performance",
    "content": "How to benchmark Redis?",
    "explanation": "`redis-benchmark`. CLI tool. `redis-benchmark -t set,get -n 100000 -q`. Measures throughput/latency."
  },
  {
    "id": 47036,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Lazy Deletion",
    "content": "What is `UNLINK`?",
    "explanation": "Non-blocking delete. It removes the key from the keyspace immediately, but reclaims memory in a background thread. Safe for Big Keys."
  },
  {
    "id": 47037,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Object Encoding",
    "content": "What is a 'Ziplist'?",
    "explanation": "Memory optimization. Small Hashes/Lists are stored as a compact byte array (Ziplist) instead of pointers. Saves massive RAM but is O(N) to search. Automatically converts to normal structure when it grows."
  },
  {
    "id": 47038,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Sorted Set Intersection",
    "content": "Can you intersect two Sorted Sets?",
    "explanation": "Yes (`ZINTERSTORE`). You can also specify weights (e.g., `SetA * 2 + SetB`). Useful for ranking algorithms."
  },
  {
    "id": 47039,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Active-Active Geo",
    "content": "What is CRDB (Conflict-Free Replicated Data Type) in Redis Enterprise?",
    "explanation": "Allows writing to the same key in multiple regions simultaneously. Merges conflicts automatically (e.g., applying both increments to a counter)."
  },
  {
    "id": 47040,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Disable Save",
    "content": "How to turn off persistence for a pure cache?",
    "explanation": "Set `save \"\"`. Disables RDB snapshots. Set `appendonly no`. Max performance, zero durability."
  },
  {
    "id": 47041,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Script Cache",
    "content": "Why use `EVALSHA` instead of `EVAL`?",
    "explanation": "`EVAL` sends the whole script text every time (bandwidth). `EVALSHA` sends the SHA1 hash. If the server has the script cached, it runs it. If not, error."
  },
  {
    "id": 47042,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Max Clients",
    "content": "What happens if `maxclients` is reached?",
    "explanation": "New connections are rejected. Monitor `connected_clients` metric. Use connection pooling."
  },
  {
    "id": 47043,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Key Expiration Events",
    "content": "Are expiration events real-time?",
    "explanation": "Not strictly. A key is only expired when accessed or found by the sweeper. The event generates *then*. There might be a delay between 'TTL 0' and 'Event Fired'."
  },
  {
    "id": 47044,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Gears",
    "content": "What is RedisGears?",
    "explanation": "A serverless engine inside Redis. Allows running Python scripts reacting to data changes. Used for Write-Behind caching or ETL."
  },
  {
    "id": 47045,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Sentinel Quorum",
    "content": "What is the Quorum in Sentinel?",
    "explanation": "The number of Sentinels that need to agree a master is down (`ODOWN`) before a failover starts. Usually N/2 + 1."
  },
  {
    "id": 47046,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Client Side Tracking (Broadcasting)",
    "content": "What is Broadcasting mode in Client Caching?",
    "explanation": "Instead of tracking specific keys, the client subscribes to a *prefix* (`user:*`). Redis sends invalidations for any key matching the prefix. Less memory on server, more bandwidth."
  },
  {
    "id": 47047,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Config Rewrite",
    "content": "What does `CONFIG REWRITE` do?",
    "explanation": "Writes the current runtime configuration (changed via `CONFIG SET`) back to the `redis.conf` file on disk. Makes changes permanent."
  },
  {
    "id": 47048,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Replication Backlog",
    "content": "What is the purpose of `repl-backlog-size`?",
    "explanation": "A circular buffer that keeps recent write commands. If a replica disconnects and reconnects quickly, it can pull missing data from the backlog (Partial Resync) instead of a full snapshot."
  },
  {
    "id": 47049,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "SwapDB",
    "content": "How to atomically replace a whole database?",
    "explanation": "`SWAPDB 0 1`. Swaps two databases instantaneously. Useful for blue/green deployment of cache data (Fill DB 1, then swap to DB 0)."
  },
  {
    "id": 47050,
    "category": "Redis Advanced",
    "difficulty": "Principal",
    "title": "Redis Graph",
    "content": "What query language does RedisGraph use?",
    "explanation": "**Cypher** (same as Neo4j). Allows traversing graph relationships stored in Redis sparse matrices."
  }
  ,
  {
    "id": 48001,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Inverted Index vs Doc Values",
    "content": "Why does Elasticsearch need both an Inverted Index and Doc Values?",
    "explanation": "**Inverted Index**: Maps `Term -> DocIDs`. Optimized for **Search** (Full-text). **Doc Values**: Maps `DocID -> Value`. Columnar storage optimized for **Sorting, Aggregations, and Scripts**. Using the Inverted Index for sorting (Fielddata) requires loading the whole index into Heap, which causes OOM."
  },
  {
    "id": 48002,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "TF-IDF vs BM25",
    "content": "Why did Elasticsearch switch from TF-IDF to BM25 as the default scoring algorithm?",
    "explanation": "TF-IDF has a flaw: term frequency is linear (repeating a word 100 times boosts score 100x). **BM25** introduces **Term Saturation**. The boost from repeating a term plateaus (repeating \"best\" 10 times is barely better than 5 times). It handles long documents/spam better."
  },
  {
    "id": 48003,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Deep Paging (from + size)",
    "content": "Why does `from: 10000, size: 10` kill performance?",
    "explanation": "To return results 10,000 to 10,010, each shard must fetch its top 10,010 results, sort them, and send them to the coordinating node. The coordinator merges `Shards * 10,010` records to find the global top. CPU/Memory usage grows exponentially. Use `search_after` or Scroll."
  },
  {
    "id": 48004,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Segment Merging",
    "content": "What happens during Segment Merging and how does it affect IO?",
    "explanation": "Lucene writes immutable segments. The background Merge process takes N small segments, merges them into one larger segment, and deletes the old ones (handling deleted docs physically). This is **I/O heavy**. If merging falls behind, the index throttles writes."
  },
  {
    "id": 48005,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Refresh Interval",
    "content": "How does `refresh_interval` affect indexing throughput vs search visibility?",
    "explanation": "Default is 1s. This means documents are searchable 1s after indexing (Near Real-Time). Every refresh creates a new Lucene Segment. Increasing this to 30s during heavy bulk ingestion drastically improves throughput by creating fewer, larger segments."
  },
  {
    "id": 48006,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Filter Context vs Query Context",
    "content": "When should you use `filter` instead of `must` in a Bool Query?",
    "explanation": "**Query (must)**: Calculates a Score (Relevance). **Filter**: Binary Yes/No. Filters are **Cached** (Bitsets) and faster because they skip scoring. Use Filter for exact matches (IDs, Dates, Categories) and Query for full-text relevance."
  },
  {
    "id": 48007,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Routing Key",
    "content": "How does custom Routing optimize search performance?",
    "explanation": "By default, ES hashes the ID to pick a shard. If you route by `UserId`, all that user's data lives on **one shard**. You can then search `routing=user123` to query *only* that shard, avoiding the scatter-gather overhead across all shards."
  },
  {
    "id": 48008,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Replica vs Shard",
    "content": "What is the difference between Primary Shards and Replicas regarding scaling?",
    "explanation": "**Primary Shards**: Define the maximum data volume capacity (Scaling Write). Cannot be changed after creation (mostly). **Replicas**: Copies of primaries. Increase **Read Throughput** and Availability. Can be changed dynamically."
  },
  {
    "id": 48009,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Fielddata Cache (Circuit Breaker)",
    "content": "What causes a Fielddata Circuit Breaker exception?",
    "explanation": "Sorting or Aggregating on a `text` field (analyzed string). This forces ES to un-invert the index into RAM (Fielddata), consuming massive Heap. **Fix:** Use `keyword` type (Doc Values on disk) for sorting/aggregations."
  },
  {
    "id": 48010,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Translog",
    "content": "What is the role of the Translog (Transaction Log)?",
    "explanation": "Lucene commits are expensive (fsync). ES writes to a memory buffer and appends to the **Translog** (disk) immediately. If the node crashes before the memory buffer is flushed to a Lucene segment (commit), the Translog replays the operations to restore data."
  },
  {
    "id": 48011,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Nested vs Parent-Child",
    "content": "When to use `Nested` objects vs `Join` (Parent-Child) field?",
    "explanation": "**Nested**: Objects stored in the *same* Lucene block. Fast query. Reindexing parent requires reindexing all children. **Parent-Child**: Separate documents. Slower query (Join cost). Children can be updated independently. Use Nested for tight coupling; Join for independent lifecycles."
  },
  {
    "id": 48012,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Force Merge",
    "content": "When should you run a Force Merge (optimize)?",
    "explanation": "Only on **Read-Only** indices (e.g., old daily logs). It merges segments into `max_num_segments=1`. This frees up file handles and improves read speed. Never run on an actively written index (causes massive I/O stalling)."
  },
  {
    "id": 48013,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Mapping Explosion",
    "content": "What happens if you allow dynamic mapping on a messy JSON dataset?",
    "explanation": "**Mapping Explosion**. ES creates a new field mapping for every unique JSON key. If you have thousands of unique keys, the Cluster State grows too large, crashing the master node. Use `dynamic: false` or flatten objects."
  },
  {
    "id": 48014,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Terms Aggregation Precision",
    "content": "Why are Term Aggregation counts approximate?",
    "explanation": "Distributed counting problem. Each shard returns its Top X terms. If a term is 11th on every shard, it might be #1 globally but won't be returned to the coordinator. The count is a lower bound estimate. Use `shard_size` to improve accuracy."
  },
  {
    "id": 48015,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Split Brain (Zen Discovery)",
    "content": "How does `discovery.zen.minimum_master_nodes` prevent Split Brain?",
    "explanation": "It enforces a Quorum (N/2 + 1). If a cluster splits, only the side with the majority of master-eligible nodes can elect a leader. Prevents two masters from accepting diverging writes."
  },
  {
    "id": 48016,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Rollover API",
    "content": "How does the Rollover API manage time-series data?",
    "explanation": "Instead of creating daily indices (`logs-2023-01-01`), you write to an alias `logs-write`. When the backing index hits a condition (Size > 50GB or Age > 7 days), ES rolls over to a new backing index automatically. Ensures balanced shard sizes."
  },
  {
    "id": 48017,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Keyword vs Text",
    "content": "Difference between `keyword` and `text` data types?",
    "explanation": "**Text**: Analyzed (Tokenized). \"New York\" -> `[\"new\", \"york\"]`. Searchable by partial matches. **Keyword**: Exact value. \"New York\" -> `\"New York\"`. Used for Filtering, Sorting, and Aggregations."
  },
  {
    "id": 48018,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Frozen Indices",
    "content": "What is a Frozen Index?",
    "explanation": "An index that is searchable but holds no Heap memory. It loads data structures from disk on-demand (higher latency). Allows storing huge amounts of historical data on small nodes (Searchable Snapshots)."
  },
  {
    "id": 48019,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Pipeline Aggregations",
    "content": "What is a Pipeline Aggregation?",
    "explanation": "An aggregation that works on the *output* of other aggregations, not the documents. Example: `derivative` (calculating rate of change) or `moving_avg` on a Date Histogram."
  },
  {
    "id": 48020,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Analyzer Anatomy",
    "content": "What are the three stages of an Analyzer?",
    "explanation": "1. **Char Filter** (Cleanup input, remove HTML). 2. **Tokenizer** (Split string into tokens). 3. **Token Filter** (Modify tokens: Lowercase, Stopwords, Stemming). Custom analyzers mix and match these."
  },
  {
    "id": 48021,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Stop Words",
    "content": "Why remove Stop Words (the, and, is)?",
    "explanation": "They appear in almost every document. They bloat the index and have near-zero discriminant value for relevance scoring. Removing them saves space and speeds up queries."
  },
  {
    "id": 48022,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Fuzziness",
    "content": "How does Fuzziness (Levenshtein) impact performance?",
    "explanation": "It is expensive (DFA construction). `fuzziness: AUTO` is safer. It expands the query to match similar terms (`quikc` -> `quick`). Avoid starting queries with wildcards or heavy fuzziness on large indices."
  },
  {
    "id": 48023,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Rescoring",
    "content": "What is the Rescore pattern?",
    "explanation": "Run a cheap query (match) on the whole index to get the Top 500. Then run an expensive query (script score, phrase match) only on those 500 to re-order them. Balances performance and accuracy."
  },
  {
    "id": 48024,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Percolator",
    "content": "What is Reverse Search (Percolator)?",
    "explanation": "You index the **Queries**. You send a **Document** to be 'searched'. It returns which stored queries match the document. Used for Price Alerts or News Monitoring."
  },
  {
    "id": 48025,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Function Score Query",
    "content": "How do you boost results based on a numeric field (e.g., Popularity)?",
    "explanation": "Use `function_score`. Combine the TF-IDF score with a function of a field value (`log(1 + popularity)`). Allows business logic to influence ranking."
  },
  {
    "id": 48026,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Ingest Nodes",
    "content": "What is an Ingest Pipeline?",
    "explanation": "A series of processors (Grok, GeoIP, Rename) that run on the **Ingest Node** before the document is indexed. Lightweight alternative to Logstash for simple transformations."
  },
  {
    "id": 48027,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Cross-Cluster Search (CCS)",
    "content": "How does CCS enable global search?",
    "explanation": "A local node acts as a federated client. It connects to remote clusters, sends the query, and merges the results. Allows searching across regions (US, EU) without replicating all data to one place."
  },
  {
    "id": 48028,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Shard Skew",
    "content": "What is Shard Skew and why is it bad?",
    "explanation": "Uneven distribution of data or load. One shard is 100GB, others are 10GB. The large shard becomes the bottleneck (slowest link). Caused by poor Routing Keys."
  },
  {
    "id": 48029,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Alias",
    "content": "Why should apps always write/read aliases instead of concrete indices?",
    "explanation": "Zero-downtime operations. You can re-index data into `index_v2` in the background. Once ready, you atomically swap the Alias `current_index` to point to `index_v2`. The app never notices."
  },
  {
    "id": 48030,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Match vs Term Query",
    "content": "Why does `Term` query fail on a `Text` field?",
    "explanation": "`Term` looks for an *exact* byte match in the inverted index. `Text` fields are analyzed (lowercased). Searching `Term: \"Blue\"` fails because the index contains `\"blue\"`. `Match` query analyzes the input string first."
  },
  {
    "id": 48031,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Geo-Bounding Box vs Geo-Distance",
    "content": "Which is faster?",
    "explanation": "**Geo-Bounding Box** is faster. It checks simple rectangular coordinates (X/Y range). **Geo-Distance** requires calculating haversine distance (math) for candidates. Use Box for first pass, Distance for refinement."
  },
  {
    "id": 48032,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "N-Grams",
    "content": "How do N-Grams enable substring search?",
    "explanation": "Tokenizer splits \"Apple\" into `[Ap, pp, pl, le]`. Allows finding \"Apple\" when user types \"ppl\". Increases index size significantly (Edge N-Grams are better for autocomplete)."
  },
  {
    "id": 48033,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Scroll API",
    "content": "Why is the Scroll API discouraged for real-time user requests?",
    "explanation": "It creates a stateful search context on the server side (snapshot). Expensive resource usage. If users navigate pages randomly, keeping contexts open is wasteful. Use `search_after` (stateless)."
  },
  {
    "id": 48034,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Index Lifecycle Management (ILM)",
    "content": "How does ILM automate cluster health?",
    "explanation": "Policies define phases: Hot (SSD, Writing), Warm (HDD, Read-only), Cold (Snapshot). ILM moves indices between nodes/phases based on age/size automatically."
  },
  {
    "id": 48035,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Highlighting",
    "content": "What is the performance cost of Highlighting?",
    "explanation": "High. To highlight matches, ES must re-analyze the original `_source` text at query time (unless `term_vectors` are stored, which eats disk space). Use conservatively."
  },
  {
    "id": 48036,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Global Ordinals",
    "content": "What are Global Ordinals used for?",
    "explanation": "An optimization for aggregations on high-cardinality `keyword` fields. ES maps long strings to integer IDs (ordinals) dynamically. Building them takes time (latency spike on first aggregation)."
  },
  {
    "id": 48037,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Coordinator Node",
    "content": "What is the role of the Coordinator Node?",
    "explanation": "It receives the client request, routes it to relevant shards, gathers the results, performs the final sort/merge (Reduce phase), and returns the JSON. Heavy CPU/Memory usage for large result sets."
  },
  {
    "id": 48038,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Norms",
    "content": "What are 'Norms' and when should you disable them?",
    "explanation": "Normalization factors (field length). Used for scoring (shorter field = higher match score). If you only use a field for filtering/aggregating (not scoring), disable Norms to save disk/memory."
  },
  {
    "id": 48039,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "_source field",
    "content": "Should you disable storing `_source`?",
    "explanation": "Generally **No**. `_source` allows re-indexing without going back to the source-of-truth database. Only disable if disk space is critical and you never need to retrieve the original JSON."
  },
  {
    "id": 48040,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Multi-Fields",
    "content": "Why index the same field as both `text` and `keyword`?",
    "explanation": "To support both Full-Text Search (`text` for \"Blue Sky\") and Sorting/Aggregations (`keyword` for exact bucket \"Blue Sky\")."
  },
  {
    "id": 48041,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Suggesters",
    "content": "Completion Suggester vs N-Grams.",
    "isGood": true,
    "explanation": "**Completion Suggester** uses an in-memory FST (Finite State Transducer). Extremely fast for \"Type-ahead\" but consumes Heap. **N-Grams** are disk-based but slower."
  },
  {
    "id": 48042,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Update API Internals",
    "content": "Is an Elasticsearch Update efficient?",
    "explanation": "No. It is a Read-Modify-Write. Lucene segments are immutable. An update marks the old doc as deleted and writes a new document. High update rates generate massive merge pressure."
  },
  {
    "id": 48043,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Scripting (Painless)",
    "content": "When to use Scripts in queries?",
    "explanation": "Avoid if possible. Scripts are slow (interpreted/compiled per execution). Prefer computing values at **Index Time**. If necessary, use `Painless` (secure, performant Java subset)."
  },
  {
    "id": 48044,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Shard Size Recommendation",
    "content": "What is the optimal shard size?",
    "explanation": "Rule of thumb: **10GB - 50GB**. Too small = metadata overhead. Too large = slow recovery/rebalancing. Keep shards aimed at this range using Rollover."
  },
  {
    "id": 48045,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Preference Parameter",
    "content": "How to ensure consistent sorting for a user across requests?",
    "explanation": "Use `preference=session_id`. It routes the user's requests to the same shard copies. Prevents \"Bouncing Results\" caused by replicas having slightly different segment states."
  },
  {
    "id": 48046,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Dynamic Templates",
    "content": "How to force all new string fields to map as `keyword`?",
    "explanation": "Use **Dynamic Templates** in the mapping. Rule: \"If type is string, map as keyword\". Prevents accidental analysis of ID/Code fields."
  },
  {
    "id": 48047,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Search Idle",
    "content": "What happens if a shard receives no search requests?",
    "explanation": "It enters **Search Idle** mode. It stops refreshing automatically (saving resources). It wakes up (refreshes) immediately upon the next search request."
  },
  {
    "id": 48048,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Synonym Graph Token Filter",
    "content": "Query time vs Index time synonyms.",
    "isGood": true,
    "explanation": "**Query Time** is preferred. You can update the synonym file without re-indexing all documents. `Synonym Graph` handles multi-word synonyms (\"NY\" -> \"New York\") correctly in phrase queries."
  },
  {
    "id": 48049,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Significant Terms Aggregation",
    "content": "What does Significant Terms tell you?",
    "explanation": "It finds \"Uncommonly Common\" terms. e.g., \"Which terms are uniquely popular in this result set compared to the background dataset?\". Useful for anomaly detection."
  },
  {
    "id": 48050,
    "category": "Elasticsearch",
    "difficulty": "Principal",
    "title": "Cat APIs",
    "content": "What is `_cat/nodes`?",
    "explanation": "Human-readable cluster stats. Essential for quick debugging of node load, heap usage, and master status via CLI."
  }
  ,
  {
    "id": 49001,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Schema Stitching vs Federation",
    "content": "Why has Federation superseded Schema Stitching?",
    "explanation": "Stitching required manual glue code in the Gateway. **Federation** is declarative. Subgraphs define their own entities and relationships using directives (`@key`, `@extends`). The Gateway automatically composes them."
  },
  {
    "id": 49002,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Entity and Keys",
    "content": "What is an `Entity` in Federation?",
    "explanation": "A type that can be resolved across multiple subgraphs. It must have a `@key(fields: \"id\")`. Subgraph A defines `User`, Subgraph B extends `User`. The Gateway merges them using the ID."
  },
  {
    "id": 49003,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Reference Resolver",
    "content": "What is `__resolveReference`?",
    "explanation": "The entry point for a Subgraph to hydrate an Entity. When the Gateway needs to extend a `User`, it calls the Accounts Subgraph's `__resolveReference` with the Key (`id`) to fetch the base data."
  },
  {
    "id": 49004,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Query Plan",
    "content": "What is the Query Plan?",
    "explanation": "The execution strategy generated by the Gateway. It determines which subgraphs to call and in what order (Sequential vs Parallel). It minimizes network hops by batching requests to subgraphs."
  },
  {
    "id": 49005,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "N+1 in Federation",
    "content": "How does Federation introduce a distributed N+1 problem?",
    "explanation": "If Subgraph A returns a list of 100 items, and Subgraph B extends those items, the Gateway might call Subgraph B 100 times. **Fix:** Subgraphs must implement **Batching** (Reference Resolvers accept a List of Keys)."
  },
  {
    "id": 49006,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Gateway vs Router",
    "content": "Apollo Gateway (Node.js) vs Apollo Router (Rust).",
    "isGood": true,
    "explanation": "**Router** is the modern standard. Written in Rust, it has vastly lower latency (<10ms overhead) and higher throughput than the Node.js Gateway. It handles query planning and execution."
  },
  {
    "id": 49007,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Subgraph Independence",
    "content": "Can a Subgraph function as a standalone GraphQL API?",
    "explanation": "Yes. A Subgraph is just a standard GraphQL server with federation specs (`_service`, `_entities`). It can be queried directly, but clients usually go through the Supergraph (Gateway) to see the unified graph."
  },
  {
    "id": 49008,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "External Directive",
    "content": "What is `@external`?",
    "explanation": "It tells the Gateway: \"This field is defined in another subgraph, I am just using it here for validation or logic\". Required when a computed field in Subgraph A relies on a field from Subgraph B."
  },
  {
    "id": 49009,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Requires Directive",
    "content": "How does `@requires` work?",
    "explanation": "It declares a dependency on external fields. \"I can compute `shippingCost` but I require `weight` (which lives in the Product subgraph)\". The Gateway fetches `weight` first, then calls this subgraph with the data."
  },
  {
    "id": 49010,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Provides Directive",
    "content": "What is `@provides` optimization?",
    "explanation": "It allows a subgraph to return data for a child field *even if it doesn't own it*, avoiding an extra hop. \"I return a User, and I can also provide their `username` right now, so don't ask the User subgraph for it.\""
  },
  {
    "id": 49011,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Schema Registry / Uplink",
    "content": "How does the Gateway know the Supergraph Schema?",
    "explanation": "It polls a Schema Registry (Apollo Studio / Uplink). When a Subgraph pushes a new schema, the Registry composes the Supergraph. The Gateway downloads the new config dynamically (Hot Reload)."
  },
  {
    "id": 49012,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Schema Composition Errors",
    "content": "What happens if two subgraphs define the same field differently?",
    "explanation": "Composition Error. The new schema is rejected by the Registry. The Gateway continues serving the old valid schema. This prevents breaking changes from taking down the API."
  },
  {
    "id": 49013,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Shareable Directive",
    "content": "Can two subgraphs resolve the same field?",
    "explanation": "Yes, if marked `@shareable`. Useful for common fields (e.g., `createdAt` might be stored in both Order and Audit subgraphs). The Gateway can pick either source."
  },
  {
    "id": 49014,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Override Directive",
    "content": "How to migrate a field from Monolith to Microservice?",
    "explanation": "Use `@override(from: \"Monolith\")`. The Microservice defines the field. The Gateway routes traffic to the Microservice, effectively ignoring the Monolith's implementation. Allows incremental migration."
  },
  {
    "id": 49015,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Interface Implementation",
    "content": "How are Interfaces handled across subgraphs?",
    "explanation": "Complex. If `Product` implements `Item` interface, and `Product` is split across subgraphs, *every* subgraph contributing to `Product` must verify the Interface contract. Composition validates this."
  },
  {
    "id": 49016,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Subscriptions in Federation",
    "content": "How do Subscriptions work in a Router?",
    "explanation": "The Router maintains the WebSocket with the client. It opens a stream to the relevant Subgraph. When the Subgraph yields data, the Router pushes it to the client. Not all routers support this fully yet."
  },
  {
    "id": 49017,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Federated Tracing",
    "content": "How to debug slow queries in a Supergraph?",
    "explanation": "Federated Tracing (ftv1). Subgraphs send timing data (resolvers duration) back to the Gateway in the response extensions. The Gateway aggregates this into a full trace view (e.g., identifying which subgraph is the bottleneck)."
  },
  {
    "id": 49018,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Persisted Queries (APQ)",
    "content": "What are Automated Persisted Queries?",
    "explanation": "Client sends a Hash of the query instead of the full text. Reduces bandwidth significantly. If Gateway doesn't know the hash, it asks client for full text once, caches it, and uses hash thereafter."
  },
  {
    "id": 49019,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Authorization Context",
    "content": "How is Auth context propagated?",
    "explanation": "The Gateway validates the token. It passes the User ID / Claims to subgraphs via HTTP Headers (`responses-user-id`). Subgraphs trust the Gateway and perform fine-grained authorization (e.g., \"Can this user edit this post?\")."
  },
  {
    "id": 49020,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Depth Limiting",
    "content": "How to prevent DoS attacks via recursive queries?",
    "explanation": "Implement Depth Limiting and Complexity Analysis at the **Gateway** level. Reject queries that are too deep or expensive before they reach the subgraphs."
  },
  {
    "id": 49021,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Defer and Stream",
    "content": "What is `@defer`?",
    "explanation": "It allows the Gateway to return the initial part of the JSON immediately, and stream the slow parts (deferred fields) as subsequent chunks. Improves Time-To-Interactive (TTI) on frontend."
  },
  {
    "id": 49022,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Version Compatibility",
    "content": "Federation 1 vs Federation 2.",
    "isGood": true,
    "explanation": "**Fed 2** relaxes constraints. It allows looser entity ownership and better composition debugging. It handles shared types better. Always upgrade to Fed 2 for flexibility."
  },
  {
    "id": 49023,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Custom Scalars",
    "content": "Sharing Scalars across subgraphs.",
    "isGood": true,
    "explanation": "If Subgraph A uses `Date`, Subgraph B must also define `scalar Date`. The Gateway ensures they match. Consistent parsing logic must be implemented in all subgraphs."
  },
  {
    "id": 49024,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "BFF vs Federation",
    "content": "Should you use Federation or multiple BFFs?",
    "explanation": "Federation creates a **Single Data Graph** (Unified). BFFs are decoupled per client. Federation is better for consistent data governance across the org. BFFs are better for specific client optimization. You can combine them (BFF calls Federation)."
  },
  {
    "id": 49025,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Schema Check (CI/CD)",
    "content": "How to prevent breaking changes in Federation?",
    "explanation": "Run `rover subgraph check` in CI. It checks if your PR's schema changes will break any *active* clients (using usage metrics) or composition rules *before* merging."
  },
  {
    "id": 49026,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Orphaned Types",
    "content": "What is an Orphaned Type error?",
    "explanation": "A type defined in a subgraph but not reachable from the Root Query. The Gateway strips it out. Ensure it is connected to the graph or extended from an Entity."
  },
  {
    "id": 49027,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Traffic Shaping",
    "content": "How to protect a slow subgraph?",
    "explanation": "Configure Rate Limiting or Circuit Breakers in the Gateway for that specific Subgraph service. The Gateway can reject calls to the failing subgraph while serving the rest of the query from others."
  },
  {
    "id": 49028,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Caching Strategy",
    "content": "Whole Query Cache vs Field Cache.",
    "isGood": true,
    "explanation": "Whole Query cache is rare (personalization). Field/Entity cache (via `@cacheControl` hints) allows the Gateway/CDN to cache segments of the graph. Max-Age is the lowest of all fields in the response."
  },
  {
    "id": 49029,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Request Deduplication",
    "content": "What is Request Deduplication in the Gateway?",
    "explanation": "If two concurrent client requests ask for the same data from a Subgraph, the Gateway can coalesce them into a single downstream request (DataLoader pattern at Gateway level)."
  },
  {
    "id": 49030,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Nullability in Federation",
    "content": "Why make fields nullable in Federation?",
    "explanation": "If a subgraph fails, the Gateway returns `null` for that field but returns the rest of the data (Partial Success). If the field is Non-Null (`!`), the error bubbles up and destroys the whole parent object."
  },
  {
    "id": 49031,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Global ID (Relay)",
    "content": "How do Global IDs (Base64 encoded Type:ID) help?",
    "explanation": "They provide a system-wide unique identifier. Useful for the `node(id: ID!)` root field, allowing clients to refetch any object without knowing its specific type/subgraph."
  },
  {
    "id": 49032,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Distributed Transactions?",
    "content": "Does Federation support transactions?",
    "explanation": "No. A Mutation touching multiple subgraphs is just independent calls. If Subgraph A succeeds and B fails, A is **not** rolled back. The client must handle the partial failure or the backend must use Sagas."
  },
  {
    "id": 49033,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Introspection",
    "content": "Should Introspection be enabled in Prod?",
    "explanation": "No. It exposes your entire schema topology to attackers. Disable it. Internal teams should use the Schema Registry/Explorer."
  },
  {
    "id": 49034,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Enums in Federation",
    "content": "What happens if subgraphs have different Enum values?",
    "explanation": "Composition Error. Enums must match exactly across all subgraphs that use them. Or one subgraph defines it and others reference it."
  },
  {
    "id": 49035,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Hot Chocolate (Fusion)",
    "content": "What is Hot Chocolate Fusion?",
    "explanation": "The .NET ecosystem's answer to Apollo Federation. It supports Federation standards but adds unique features like stricter validation and .NET-native optimizations."
  },
  {
    "id": 49036,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Query Cost Analysis",
    "content": "How to calculate query cost?",
    "explanation": "Assign points to fields. `user (1) { posts (10) }`. Total = 11. Gateway rejects if cost > limit. Prevents 'resource exhaustion' attacks."
  },
  {
    "id": 49037,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Resolving Interfaces",
    "content": "`__resolveType`.",
    "isGood": true,
    "explanation": "When returning an Interface/Union, the subgraph must determine the concrete type (`User` or `Admin`). In Federation, the `__typename` returned by the subgraph is critical for the Gateway to merge results correctly."
  },
  {
    "id": 49038,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Client-Controlled Nullability",
    "content": "What is the `?` and `!` syntax proposal in clients?",
    "explanation": "Allows client to override server schema. `user!` means \"If user is null, kill the query\". `user?` means \"If user fails, just give me null, don't throw error\". Improves error handling flexibility."
  },
  {
    "id": 49039,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Context Propagation",
    "content": "How to pass custom headers (Language, Device) to subgraphs?",
    "explanation": "Configure the Gateway/Router to allow-list specific headers. It forwards `Accept-Language` to all subgraphs so they can localize the response."
  },
  {
    "id": 49040,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Dynamic Routing",
    "content": "Can you route requests based on a header?",
    "explanation": "Yes. Can be used for **Canary Deployments** of subgraphs. \"If `x-beta: true`, route to the Beta Product Subgraph\"."
  },
  {
    "id": 49041,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Batching at Network Layer",
    "content": "HTTP/2 vs Batching.",
    "isGood": true,
    "explanation": "GraphQL Batching (array of queries) was a hack for HTTP/1.1. With HTTP/2 multiplexing, sending individual queries is often better (independent caching, no Head-of-Line blocking)."
  },
  {
    "id": 49042,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Leaf vs Root fields",
    "content": "Performance impact.",
    "isGood": true,
    "explanation": "Root fields start execution. Leaf fields terminate it. Federation overhead is per-entity crossing. Accessing 10 fields on the *same* entity in one subgraph is cheap. Accessing fields across 10 subgraphs is expensive."
  },
  {
    "id": 49043,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Schema Governance",
    "content": "Who owns the Graph?",
    "explanation": "A central \"Graph Platform Team\" sets standards (Naming conventions, Deprecation policy), but individual teams own their Subgraphs. Federated model of governance."
  },
  {
    "id": 49044,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Error Masking",
    "content": "Should you show stack traces?",
    "explanation": "Never in Prod. Mask errors to \"Internal Server Error\" but return a unique `referenceId`. Log the stack trace internally with that ID."
  },
  {
    "id": 49045,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Map Type",
    "content": "Why is `Map` (JSON) type discouraged?",
    "explanation": "It bypasses the Type System. Clients don't know what fields to expect. Lose tooling support. Prefer strongly typed Schema."
  },
  {
    "id": 49046,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Directive Composition",
    "content": "Are custom directives exposed to the client?",
    "explanation": "By default, No. Directives like `@key` are for the Gateway composition only. They are stripped from the public API schema."
  },
  {
    "id": 49047,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Soft Delete in Graph",
    "content": "How to represent deleted items?",
    "explanation": "Return the object but with a `status: DELETED` field, or return `null`. Avoid removing the field from schema immediately (breaking change)."
  },
  {
    "id": 49048,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Testing Federation",
    "content": "How to integration test?",
    "explanation": "Spin up the Gateway + Mock Subgraphs. Verify query planning and data merging logic. Test that `@requires` fields are actually fetched correctly."
  },
  {
    "id": 49049,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Subgraph Health Check",
    "content": "What happens if one subgraph is down?",
    "explanation": "The Gateway marks it unhealthy. Queries touching that subgraph fail (partial error). Queries touching *other* subgraphs continue to work."
  },
  {
    "id": 49050,
    "category": "GraphQL Federation",
    "difficulty": "Principal",
    "title": "Future of Federation",
    "content": "What is the trend?",
    "explanation": "Moving logic to the Edge (Rust Router at the CDN level). Deeper integration with Event Streams (Live Queries)."
  }
  ,
  {
    "id": 50001,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "High Cardinality in TSDB",
    "content": "Why is High Cardinality (e.g., unique `ContainerID` per minute) a 'death sentence' for many Time Series Databases?",
    "explanation": "TSDBs often index data by Tags (Dimensions). If a tag has millions of unique values (High Cardinality), the index grows larger than RAM. This causes slow writes and crashes. **Solution:** Use high-cardinality data as a Field (unindexed value), not a Tag."
  },
  {
    "id": 50002,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Downsampling / Rollups",
    "content": "How do you maintain fast query speeds on 1 year of high-precision data?",
    "explanation": "Use **Downsampling** (Rollups). Keep raw data for 7 days. Aggregate (Mean/Max) into 1-minute buckets for 30 days. Aggregate into 1-hour buckets for 1 year. Queries on old data hit the small pre-aggregated buckets, not the massive raw dataset."
  },
  {
    "id": 50003,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Compression (Gorilla/Delta)",
    "content": "How do TSDBs achieve 90%+ compression ratios on float values?",
    "explanation": "They use **Delta-of-Delta** encoding (Gorilla algorithm). Instead of storing `[100, 101, 102]`, they store the difference `[100, +1, +1]`. Since metrics usually change slowly, these deltas are tiny and compress extremely well using XOR or variable-length encoding."
  },
  {
    "id": 50004,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Wide vs Narrow Table Model",
    "content": "In Time Series, what is the difference between Wide and Narrow formats?",
    "explanation": "**Narrow**: One row per metric (`Time, MetricName, Value`). Flexible tags, easy to append. **Wide**: One row per timestamp, with columns for every metric (`Time, CPU, RAM, Disk`). Better compression and read performance if metrics are always queried together."
  },
  {
    "id": 50005,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "LSM Tree vs B-Tree for Writes",
    "content": "Why do most TSDBs (Influx, Cassandra) use LSM Trees instead of B-Trees?",
    "explanation": "TSDBs are Write-Heavy (Append Only). **LSM Trees** (Log Structured Merge) buffer writes in memory and flush sequentially to disk (Immutable SSTables). This avoids the random disk I/O required to update a B-Tree structure, enabling massive ingest rates."
  },
  {
    "id": 50006,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Prometheus Pull Model",
    "content": "What is a major architectural advantage of the Prometheus 'Pull' model over 'Push'?",
    "explanation": "**Flow Control**. The server decides when to scrape and how much. It prevents the monitoring system from being DDoS'd by a traffic spike in the application. It also inherently detects 'Service Down' (scrape fails)."
  },
  {
    "id": 50007,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Tags vs Fields (InfluxDB)",
    "content": "What is the critical difference between a Tag and a Field in InfluxDB?",
    "explanation": "**Tags** are Indexed. Used for `WHERE` clauses (Filtering/Grouping). High cardinality impacts performance. **Fields** are Unindexed. Used for values (`SELECT value`). High cardinality here is fine."
  },
  {
    "id": 50008,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Retention Policies",
    "content": "How do TSDBs efficiently delete old data?",
    "explanation": "They partition data by time (e.g., Shard Group Duration = 7 days). Deleting old data is simply **Dropping the Folder** (file system operation), which is instant and zero-cost compared to `DELETE FROM table WHERE Date < X` (row-by-row)."
  },
  {
    "id": 50009,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Continuous Queries",
    "content": "What is a Continuous Query (or Recording Rule)?",
    "explanation": "A background query that runs periodically (e.g., every minute) to pre-calculate aggregates (`mean(cpu)`) and write them to a downsampled bucket. Essential for dashboard performance."
  },
  {
    "id": 50010,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Backfilling Data",
    "content": "Why is writing 'old' data (Backfilling) often slow or disallowed in TSDBs?",
    "explanation": "TSDBs optimize for writing the 'Head' (current time). Writing old data requires modifying immutable compacted blocks (SSTables) or out-of-order buffers, triggering expensive re-writes and compactions."
  },
  {
    "id": 50011,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Series Churn",
    "content": "What is Series Churn and why is it dangerous?",
    "explanation": "Frequent creation of short-lived time series (e.g., `pod_id` in Kubernetes that changes every deployment). Even if active cardinality is low, the *total* index size grows indefinitely over time, slowing down lookups."
  },
  {
    "id": 50012,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "TimescaleDB Hypertables",
    "content": "How does TimescaleDB add time-series features to PostgreSQL?",
    "explanation": "It uses **Hypertables**. A virtual table that automatically partitions data into 'Chunks' based on time intervals. The user queries one table, but the engine only scans the relevant chunks. Keeps SQL compatibility."
  },
  {
    "id": 50013,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Query Alignment",
    "content": "Why must time-series data be 'Aligned' during aggregation?",
    "explanation": "Sensors report at different milliseconds (12:00:01, 12:00:04). To compare them, you must **Align** them to a common grid (e.g., every 10s) using interpolation (Linear) or Last-Observation-Carried-Forward (LOCF)."
  },
  {
    "id": 50014,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Pushgateway",
    "content": "When should you use the Prometheus Pushgateway?",
    "explanation": "For **Short-lived Batch Jobs**. Since Prometheus cannot scrape a job that starts and finishes in 5 seconds, the job pushes its metrics to the Pushgateway, which holds them until the next scrape cycle."
  },
  {
    "id": 50015,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "TSDB vs Search Engine",
    "content": "Can you use Elasticsearch as a TSDB?",
    "explanation": "Yes, but inefficient for metrics. ES stores a huge inverted index (Text) which is overkill for floats. It uses much more disk/RAM than a specialized TSDB. However, ES is superior for *Logs* (Text Search)."
  },
  {
    "id": 50016,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Rate vs Increase (PromQL)",
    "content": "Difference between `rate()` and `increase()` in PromQL?",
    "explanation": "`rate()` calculates per-second average rate of increase (auto-adjusts for counter resets). `increase()` calculates the total increase over the interval. Always use `rate()` for Counters to handle server restarts correctly."
  },
  {
    "id": 50017,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Out-of-Order Samples",
    "content": "How do modern TSDBs handle Out-of-Order writes?",
    "explanation": "Traditionally dropped. Modern engines (Prometheus 2.x, Influx) allow a configurable buffer window (e.g., 2 hours). Data arriving late is merged into the Head block, but data older than the window is rejected."
  },
  {
    "id": 50018,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "TSI (Time Series Index)",
    "content": "What problem does InfluxDB's TSI solve?",
    "explanation": "It moves the Series Index from RAM to Disk (Memory Mapped). This allows supporting millions of time series even if they don't fit in RAM, removing the primary bottleneck of earlier versions."
  },
  {
    "id": 50019,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Double Delta Encoding",
    "content": "How are Timestamps compressed?",
    "explanation": "Timestamps usually arrive at regular intervals (10s). TSDBs calculate the delta (10), then the delta-of-delta (0). A sequence of zeros compresses to almost nothing."
  },
  {
    "id": 50020,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "OpenMetrics Standard",
    "content": "What is OpenMetrics?",
    "explanation": "An IETF standard for transmitting metrics, evolved from the Prometheus text format. It ensures interoperability between different collectors (OTEL, Datadog, Prometheus)."
  },
  {
    "id": 50021,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Metric Staleness",
    "content": "What happens in Prometheus if a metric stops reporting?",
    "explanation": "It is marked **Stale** (automatically removed from query results) after ~5 minutes. Prometheus does not persist the 'last known value' forever unless explicitly queried with `last_over_time`."
  },
  {
    "id": 50022,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Exemplars",
    "content": "What are Exemplars in metrics?",
    "explanation": "Linking a Metric to a specific Trace ID. \"Here is the P99 latency metric, and here is the Trace ID of one specific request that took that long\". Allows jumping from Metrics to Tracing."
  },
  {
    "id": 50023,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Instant Vector vs Range Vector",
    "content": "PromQL data types.",
    "isGood": true,
    "explanation": "**Instant Vector**: A single value per series at a specific timestamp (`cpu_usage`). **Range Vector**: A set of values over a time window (`cpu_usage[5m]`). Functions like `rate()` require a Range Vector."
  },
  {
    "id": 50024,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Thanos / Cortex / Mimir",
    "content": "What problem do these tools solve for Prometheus?",
    "explanation": "Long-term storage and Global View. Prometheus is designed for short-term, local storage. Thanos/Mimir offload old data to Object Storage (S3) and provide a query layer that aggregates across multiple Prometheus instances."
  },
  {
    "id": 50025,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Time-Series Specific Compression",
    "content": "Why is general compression (Gzip) not enough?",
    "explanation": "Gzip doesn't understand the structure of floats/timestamps. Specialized algorithms (Gorilla) exploit the predictable nature of time-series data to achieve 10x better compression than Gzip alone."
  },
  {
    "id": 50026,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Counter Reset Handling",
    "content": "What happens to a `rate()` calculation if the server restarts (counter resets to 0)?",
    "explanation": "Prometheus `rate()` automatically detects the reset (value drops). It assumes the counter reset to 0 and adds the previous max value to the new value, preserving the accurate rate calculation."
  },
  {
    "id": 50027,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Summary vs Histogram",
    "content": "Prometheus metric types.",
    "isGood": true,
    "explanation": "**Histogram**: Buckets defined on client. Aggregatable on server. Can calculate approx quantiles. **Summary**: Quantiles calculated on client. Precise but NOT aggregatable across instances. Use Histograms for distributed systems."
  },
  {
    "id": 50028,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Vertical Compaction",
    "content": "What is vertical compaction?",
    "explanation": "Merging updates to the same timestamp. If you write `T1: A=5` then later `T1: A=10`, compaction merges these into the final value (or keeps both if versioned). Common in LSM trees."
  },
  {
    "id": 50029,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Vector Matching (PromQL)",
    "content": "One-to-One vs Many-to-One.",
    "isGood": true,
    "explanation": "When performing math on two vectors (`errors / total`), labels must match exactly. If 'total' has fewer labels, use `on(label) group_left`. This is a Join operation in PromQL."
  },
  {
    "id": 50030,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "High Availability in Prometheus",
    "content": "How do you make Prometheus HA?",
    "explanation": "Run two identical Prometheus servers scraping the same targets. They do not sync. Alertmanager handles deduplication of alerts. It is a shared-nothing architecture."
  },
  {
    "id": 50031,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Hot Storage vs Cold Storage",
    "content": "Architecture pattern.",
    "isGood": true,
    "explanation": "Hot Storage (SSD/RAM) holds recent data (24h) for fast queries. Cold Storage (S3/HDD) holds historical data. The query engine automatically routes requests or merges data from both tiers."
  },
  {
    "id": 50032,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Tag Explosion Defense",
    "content": "How to protect TSDB from a developer logging `ErrorMsg` as a tag?",
    "explanation": "Implement **Ingestion Limits**. Reject metrics with > 50 tags or cardinality > 100k. Configure 'Allow Lists' for tag keys. Convert high-cardinality data to logs."
  },
  {
    "id": 50033,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Flux Query Language",
    "content": "What is Flux (InfluxDB)?",
    "explanation": "A functional scripting language for querying and processing data. More powerful than InfluxQL (SQL-like) as it allows piping, joins, and custom logic, but steeper learning curve."
  },
  {
    "id": 50034,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Metric Relabeling",
    "content": "What is Relabeling used for?",
    "explanation": "Modifying metrics *before* storage. Dropping sensitive labels, renaming labels to normalize schema, or dropping massive-cardinality metrics at the source (scrape config)."
  },
  {
    "id": 50035,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Active Series",
    "content": "What defines an 'Active Series'?",
    "explanation": "A time series that has received a data point within the retention/lookback window. Memory usage is proportional to Active Series, not total historical series."
  },
  {
    "id": 50036,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Columnar Storage",
    "content": "Why is Columnar format essential for analytical queries?",
    "explanation": "Queries typically ask for \"Average CPU across all hosts\". Columnar storage allows reading *only* the CPU column (contiguous memory), ignoring RAM/Disk columns. Massive I/O savings."
  },
  {
    "id": 50037,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "WAL (Write Ahead Log)",
    "content": "Role of WAL in Prometheus.",
    "isGood": true,
    "explanation": "Protects against crash data loss. Incoming metrics are written to WAL (disk) and Memory. On restart, Prometheus replays the WAL to restore the in-memory state before it was flushed to long-term blocks."
  },
  {
    "id": 50038,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Scrape Interval vs Evaluation Interval",
    "content": "Difference?",
    "isGood": true,
    "explanation": "**Scrape**: How often we pull data (e.g., 15s). **Evaluation**: How often we run Alert Rules/Recording Rules (e.g., 1m). They are independent loops."
  },
  {
    "id": 50039,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Deduping in HA",
    "content": "How does Thanos Deduplicate data from HA Prometheus pairs?",
    "explanation": "It queries both replicas. It identifies gaps in one and fills from the other. It merges the streams at query time so the user sees a single, complete graph."
  },
  {
    "id": 50040,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "TSDB Schema Design",
    "content": "Should you include 'Status Code' in the metric name or as a tag?",
    "explanation": "As a **Tag**. Bad: `http_requests_200_total`, `http_requests_500_total`. Good: `http_requests_total{status=\"200\"}`. Allows aggregation: `sum(http_requests_total)` gives total traffic regardless of status."
  },
  {
    "id": 50041,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "InfluxDB Line Protocol",
    "content": "What is Line Protocol?",
    "explanation": "Text-based ingest format: `measurement,tag=val field=val timestamp`. Compact, easy to generate, and optimized for parsing speed."
  },
  {
    "id": 50042,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Shard Group Duration",
    "content": "How does Shard Group Duration affect query performance?",
    "explanation": "It controls the time range covered by a single shard file. Longer duration = fewer files (faster query) but harder to delete old data granularly. Shorter = easier retention but overhead of opening many files."
  },
  {
    "id": 50043,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "VictoriaMetrics vs Prometheus",
    "content": "Why choose VictoriaMetrics?",
    "explanation": "Drop-in replacement for Prometheus. Optimized for higher ingestion rates, lower RAM usage, and better long-term storage compression. Supports PromQL."
  },
  {
    "id": 50044,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Anomaly Detection",
    "content": "Can TSDBs detect anomalies natively?",
    "explanation": "Some can (InfluxDB Flux functions, PromQL `z-score` approximations). Usually requires external ML jobs to query the TSDB, train models, and write 'Anomaly Scores' back as a new metric."
  },
  {
    "id": 50045,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Histogram Quantiles Calculation",
    "content": "Is `histogram_quantile` exact?",
    "explanation": "No. It is an **Estimation** based on linear interpolation within buckets. Accuracy depends on bucket distribution. If buckets are too wide, P99 might be very inaccurate."
  },
  {
    "id": 50046,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Metric Churn Mitigation",
    "content": "How to handle high churn in Kubernetes pods?",
    "explanation": "Drop the `pod_name` label at ingestion if not needed for debugging. Aggregate by `deployment` or `service` instead to keep cardinality stable."
  },
  {
    "id": 50047,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Label Limit",
    "content": "Why limit the number of labels per metric?",
    "explanation": "Every label adds to the unique identifier of the series. Too many labels = High Cardinality explosion. It also increases the per-sample storage overhead."
  },
  {
    "id": 50048,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Ephemerality",
    "content": "Why are TSDBs often treated as ephemeral in cloud native?",
    "explanation": "Metrics are valuable for 'Now' and 'Trends'. Losing 5 minutes of metrics is rarely catastrophic compared to losing Transactional Data. Architecture favors availability/speed over strict durability."
  },
  {
    "id": 50049,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "Time Skew in Queries",
    "content": "How does clock skew affect range queries?",
    "explanation": "If the scraper's clock is ahead of the database, it might write data 'in the future'. Queries for 'now' might miss it. TSDBs rely on NTP synchronization."
  },
  {
    "id": 50050,
    "category": "Time Series DBs",
    "difficulty": "Principal",
    "title": "The Future of TSDB",
    "content": "Integration with Logs/Traces.",
    "isGood": true,
    "explanation": "Unified Observability backends (ClickHouse, Grafana Loki/Mimir) are merging Logs, Metrics, and Traces into single columnar stores to allow seamless correlation."
  }
  ,
  {
    "id": 51001,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "BOLA (Broken Object Level Authorization)",
    "content": "What is BOLA (IDOR) and why is it the #1 API vulnerability?",
    "explanation": "Attackers manipulate the ID in the URL (`/receipts/123` -> `/receipts/124`) to access data they don't own. It's #1 because it requires manual authorization logic in *every* controller method; automated tools often miss it."
  },
  {
    "id": 51002,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Broken User Authentication",
    "content": "How does 'Credential Stuffing' exploit Broken Authentication?",
    "explanation": "Attackers use millions of stolen username/passwords from other breaches to login to your API. If you don't implement Rate Limiting or CAPTCHA on login endpoints, they will succeed."
  },
  {
    "id": 51003,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Excessive Data Exposure",
    "content": "The API returns a full User object, but the UI only shows the Name. Is this secure?",
    "explanation": "No. This is **Excessive Data Exposure**. The attacker can intercept the JSON response and see hidden fields (Email, Address, PII). **Fix:** Always map to specific DTOs returning *only* what is needed."
  },
  {
    "id": 51004,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Lack of Resources & Rate Limiting",
    "content": "How can missing rate limits lead to DoS?",
    "explanation": "Attackers can send thousands of requests to expensive endpoints (e.g., Export PDF, Bcrypt Login). Without Rate Limiting or Execution Timeouts, the server CPU/Memory starves, crashing the system for everyone."
  },
  {
    "id": 51005,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "BFLA (Broken Function Level Authorization)",
    "content": "A regular user changes the HTTP Method from GET to DELETE on `/users/1`. It works. Why?",
    "explanation": "The developer checked Auth on GET but forgot to check Role=Admin on DELETE. **BFLA** exploits missing checks on sensitive administrative functions/methods."
  },
  {
    "id": 51006,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Mass Assignment",
    "content": "User sends `{\"isAdmin\": true}` in the profile update payload. It saves. What happened?",
    "explanation": "The API bound the input JSON directly to the Domain Entity or DB Model. The framework auto-mapped the `isAdmin` field. **Fix:** Use DTOs with only allow-listed properties."
  },
  {
    "id": 51007,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Security Misconfiguration",
    "content": "Why is keeping the default 'X-Powered-By' header a risk?",
    "explanation": "It leaks the technology stack (e.g., `ASP.NET 4.8`). Hackers use this to look up known CVEs for that specific version. Always strip server headers."
  },
  {
    "id": 51008,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Injection",
    "content": "Beyond SQL Injection, what is Command Injection?",
    "explanation": "Passing untrusted user input directly to a system shell (e.g., `System.Diagnostics.Process.Start(\"ping \" + input)`). Attacker sends `google.com; rm -rf /`. Input must be strictly validated/sanitized."
  },
  {
    "id": 51009,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Improper Assets Management",
    "content": "Why are old API versions (v1) a security risk?",
    "explanation": "Shadow APIs. Devs secure v2 but forget to patch or turn off v1. Attackers target the unpatched, forgotten v1 endpoints to bypass new security controls."
  },
  {
    "id": 51010,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Insufficient Logging & Monitoring",
    "content": "How does insufficient logging help attackers?",
    "explanation": "Attackers probe the system for days/weeks before the breach. If you don't log failed auth attempts or 403 errors, you have no warning signs. "
  },
  {
    "id": 51011,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "SSRF (Server Side Request Forgery)",
    "content": "An API accepts a URL to 'fetch metadata'. Attacker sends `http://localhost/admin`.",
    "isGood": false,
    "explanation": "**(Refactor).** The server makes the request from its *trusted* internal network IP, bypassing firewalls. It can access internal admin panels or cloud metadata services. **Fix:** Whitelist allowed domains/IPs."
  },
  {
    "id": 51012,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "JWT: Weak Secret",
    "content": "What happens if you sign a JWT with a simple secret \"password\"?",
    "explanation": "Hackers can brute-force the signature offline. Once they find the secret, they can forge their own tokens with `Role: Admin`. Use strong 256-bit secrets or RS256 (Private/Public keys)."
  },
  {
    "id": 51013,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "JWT: None Algorithm",
    "content": "What is the 'None' algorithm attack?",
    "explanation": "Attacker modifies the token header to `\"alg\": \"none\"` and removes the signature. If the backend library allows unverified tokens, it accepts the forged identity. Explicitly disable 'none' support."
  },
  {
    "id": 51014,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Replay Attack",
    "content": "Attacker captures a valid API request and resends it 100 times.",
    "isGood": false,
    "explanation": "**(Mitigation).** Use a **Nonce** (Number used once) or a Timestamp with a short validity window in the request signature. The server tracks processed nonces and rejects duplicates."
  },
  {
    "id": 51015,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "XML External Entity (XXE)",
    "content": "Why is accepting XML input dangerous?",
    "explanation": "XML parsers often allow External Entities by default. An attacker can define an entity that points to `/etc/passwd` or an internal URL. When parsed, the server returns the file content. Disable DTDs."
  },
  {
    "id": 51016,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Detailed Errors",
    "content": "Returning Stack Traces in Production.",
    "isGood": false,
    "explanation": "**(Info Leak).** Stack traces reveal library versions, file paths, and logic structure. Attackers use this to find known vulnerabilities. Return generic error messages (`500 Internal Error`) to clients."
  },
  {
    "id": 51017,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "CORS Misconfiguration",
    "content": "Setting `Access-Control-Allow-Origin: *` with `Allow-Credentials: true`.",
    "isGood": false,
    "explanation": "**(Refactor).** Browsers block this configuration, but if the server dynamically echoes the `Origin` header to bypass it, any malicious site can make authenticated requests to your API (reading private data)."
  },
  {
    "id": 51018,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Regex DoS (ReDoS)",
    "content": "Using a complex regex on user input.",
    "isGood": false,
    "explanation": "**(DoS Risk).** Nested quantifiers in regex can take exponential time. An attacker sends a crafted string that hangs the CPU for minutes. Use timeouts on regex matching or safe regex engines."
  },
  {
    "id": 51019,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "HTTP Parameter Pollution",
    "content": "Passing `id=1&id=2` in the query string.",
    "isGood": true,
    "explanation": "**(Behavior Check).** Different frameworks handle this differently (take first, take last, create array). Attackers exploit discrepancies between the WAF (Web Application Firewall) and the App to bypass filters."
  },
  {
    "id": 51020,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Open Redirect",
    "content": "Redirecting to a URL provided in the query string.",
    "isGood": false,
    "explanation": "**(Phishing Risk).** `site.com/login?return=evil.com`. User logs in and is redirected to a fake site that steals credentials. Always validate redirect URLs against a whitelist or ensure they are local/relative."
  },
  {
    "id": 51021,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Clickjacking",
    "content": "Why use `X-Frame-Options: DENY`?",
    "explanation": "Prevents your site from being loaded in an `iframe`. Attackers can overlay invisible buttons on top of your site to trick users into clicking 'Delete Account'."
  },
  {
    "id": 51022,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Business Logic Flaws",
    "content": "Can automated scanners detect Business Logic flaws?",
    "explanation": "Rarely. e.g., \"Buying a negative quantity of items credits your wallet\". Scanners look for syntax/injection. Logic flaws require human audit and threat modeling."
  },
  {
    "id": 51023,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "API Keys vs Tokens",
    "content": "Why are API Keys bad for User Auth?",
    "explanation": "API Keys authenticate the **Client Application** (Machine), not the User. They are long-lived and hard to rotate. Use OAuth2 Tokens for User Auth."
  },
  {
    "id": 51024,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Graphql Introspection",
    "content": "Should Introspection be enabled in Production?",
    "explanation": "No. It exposes the entire schema (all types/fields) to attackers, making it easier to find vulnerabilities. Disable it publicly."
  },
  {
    "id": 51025,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Directory Traversal",
    "content": "`GET /files?path=../../etc/passwd`.",
    "isGood": false,
    "explanation": "**(Path Traversal).** Accessing files outside the intended directory. Fix: Validate filenames (no slashes/dots) or use IDs mapped to paths internally."
  },
  {
    "id": 51026,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Race Conditions (Limit Overrun)",
    "content": "Using a coupon code twice simultaneously.",
    "isGood": false,
    "explanation": "**(Concurrency Bug).** Time-of-Check to Time-of-Use (TOCTOU) gap. Thread A checks 'Valid', Thread B checks 'Valid', both redeem. Fix: Database Locks or atomic updates."
  },
  {
    "id": 51027,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Subdomain Takeover",
    "content": "Leaving a CNAME pointing to a deleted Azure resource.",
    "isGood": false,
    "explanation": "**(Risk).** An attacker can register the deleted Azure resource name and claim your subdomain. They can then steal cookies or launch phishing attacks."
  },
  {
    "id": 51028,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Sensitive Data in URL",
    "content": "Passing API Keys or Tokens in the URL query string.",
    "isGood": false,
    "explanation": "**(Leak).** URLs are logged in Browser History, Proxy Logs, and Server Access Logs. Secrets leak everywhere. Always pass secrets in **Headers** or Body."
  },
  {
    "id": 51029,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Timing Attack",
    "content": "Comparing HMAC signatures with `==`.",
    "isGood": false,
    "explanation": "**(Side Channel).** String comparison returns early on mismatch. Attackers measure the time taken to guess the signature character by character. Use **Constant Time Comparison**."
  },
  {
    "id": 51030,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Dependency Confusion",
    "content": "What is Dependency Confusion?",
    "explanation": "Attacker publishes a public package with the same name as your internal private package, but with a higher version number. Your build system pulls the malicious public version."
  },
  {
    "id": 51031,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Zip Bomb",
    "content": "Accepting ZIP file uploads.",
    "isGood": false,
    "explanation": "**(DoS).** A tiny 42KB zip file can expand to petabytes of zeros. When the server tries to unzip it to scan/process, it crashes (Disk/RAM full). Limit expansion size and ratio."
  },
  {
    "id": 51032,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Serialization Gadgets",
    "content": "Deserializing untrusted JSON with polymorphic types (`$type`).",
    "isGood": false,
    "explanation": "**(RCE Risk).** If the serializer instantiates arbitrary types defined in JSON, attackers can trigger code execution chains (Gadgets) present in the classpath. Use safe lists for polymorphism."
  },
  {
    "id": 51033,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "HTTP Request Smuggling",
    "content": "Discrepancy between Frontend (CDN) and Backend parsing of Content-Length.",
    "isGood": true,
    "explanation": "**(Advanced).** If CDN and Backend disagree on where a request ends (CL vs TE headers), an attacker can hide a second malicious request inside the body of the first, bypassing security controls."
  },
  {
    "id": 51034,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Fuzzing",
    "content": "What is API Fuzzing?",
    "explanation": "Sending random/malformed data (garbage, massive strings, emojis) to API endpoints to trigger unhandled exceptions or crashes. Automated way to find edge case bugs."
  },
  {
    "id": 51035,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Content-Type Sniffing",
    "content": "Why set `X-Content-Type-Options: nosniff`?",
    "explanation": "Prevents the browser from guessing the file type. Without it, a browser might execute a text file as JavaScript if it looks like code, leading to XSS."
  },
  {
    "id": 51036,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Enumeration Attacks",
    "content": "Responding \"User does not exist\" on Login.",
    "isGood": false,
    "explanation": "**(Refactor).** Allows username enumeration. Attackers harvest valid emails. Use generic messages: \"Invalid username or password\". Also ensure response *timing* is consistent."
  },
  {
    "id": 51037,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Certificate Pinning",
    "content": "Should Mobile Apps pin the backend Certificate?",
    "isGood": true,
    "explanation": "**(Defense in Depth).** Prevents Man-in-the-Middle (MitM) attacks where a user is tricked into installing a malicious Root CA. The app refuses to connect if the cert key doesn't match the hardcoded one."
  },
  {
    "id": 51038,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Secure Cookies",
    "content": "Flag `Secure` and `HttpOnly`.",
    "isGood": true,
    "explanation": "**Secure**: Cookie only sent over HTTPS. **HttpOnly**: JavaScript cannot read the cookie (mitigates XSS token theft). **SameSite**: Mitigates CSRF."
  },
  {
    "id": 51039,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Host Header Injection",
    "content": "Generating password reset links using the `Host` header.",
    "isGood": false,
    "explanation": "**(Refactor).** Attacker sends a request with `Host: evil.com`. The server generates a link `evil.com/reset?token=...`. The user clicks it, leaking the token to the attacker. Use a fixed config for domain generation."
  },
  {
    "id": 51040,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Bill Stuffing (Cloud)",
    "content": "Economic Denial of Sustainability (EDoS).",
    "isGood": true,
    "explanation": "Attackers triggering auto-scale or serverless functions to run up a massive cloud bill. Mitigation: Billing alerts, rate limiting, and cost caps."
  },
  {
    "id": 51041,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "CSP (Content Security Policy)",
    "content": "How does CSP prevent XSS?",
    "explanation": "It restricts the sources from which the browser is allowed to load scripts (`script-src 'self'`). Even if an attacker injects `<script src='evil.com'>`, the browser blocks it."
  },
  {
    "id": 51042,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Padding Oracle",
    "content": "Why is CBC mode encryption dangerous without integrity checks?",
    "explanation": "Attackers can decrypt the ciphertext by modifying bytes and observing the server's padding error responses. Use **AES-GCM** (Authenticated Encryption) instead."
  },
  {
    "id": 51043,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Ghost Token",
    "content": "Deleting a user but their JWT is still valid.",
    "isGood": true,
    "explanation": "JWTs are stateless. You cannot revoke them instantly without a blacklist. Mitigation: Short lifetimes (5 mins) + Refresh Tokens (Database check on refresh)."
  },
  {
    "id": 51044,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Lack of Integrity Check",
    "content": "Downloading client updates over HTTP.",
    "isGood": false,
    "explanation": "**(MitM Risk).** Attackers can swap the binary. Always use HTTPS and verify the **Code Signing** signature or Checksum hash."
  },
  {
    "id": 51045,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Inventory Management",
    "content": "Why document all API endpoints?",
    "explanation": "You cannot protect what you don't know exists. Zombie APIs (deprecated but online) are a common attack vector. Use Swagger/OpenAPI as the source of truth."
  },
  {
    "id": 51046,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "BREACH Attack",
    "content": "HTTP Compression + CSRF Token reflection.",
    "isGood": true,
    "explanation": "**(Advanced).** If the page reflects user input AND contains a secret (CSRF) AND is compressed (Gzip), attackers can guess the secret by measuring the compressed size of different inputs."
  },
  {
    "id": 51047,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "HSTS Preload",
    "content": "What is the HSTS Preload list?",
    "explanation": "A list hardcoded into browsers (Chrome/Firefox) of domains that *must* be HTTPS. Prevents the very first insecure HTTP request before the header is seen."
  },
  {
    "id": 51048,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "GraphQL Depth Limit",
    "content": "Preventing nested queries.",
    "isGood": true,
    "explanation": "Attackers send `user { friends { friends { ... } } }`. Consumes server resources. Set a Max Depth (e.g., 5) to reject deep queries."
  },
  {
    "id": 51049,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Credential Recycling",
    "content": "Should you enforce password rotation?",
    "isGood": false,
    "explanation": "**(NIST Guidelines).** No. Periodic rotation leads to weak passwords (`Summer2023!`, `Summer2024!`). Enforce rotation only on evidence of compromise. Use MFA and long passwords instead."
  },
  {
    "id": 51050,
    "category": "OWASP API Security",
    "difficulty": "Principal",
    "title": "Least Privilege",
    "content": "Running the API as Root/Admin.",
    "isGood": false,
    "explanation": "**(Refactor).** If the API is compromised, the attacker owns the server. Run as a dedicated service user with minimal permissions (cannot read `/etc/shadow`, cannot write to system dirs)."
  }
  ,
  {
    "id": 52001,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "AES vs RSA",
    "content": "Why does HTTPS use both RSA (Asymmetric) and AES (Symmetric)?",
    "explanation": "RSA is slow/expensive but solves the Key Exchange problem (sharing a secret over public wire). AES is fast but needs a shared secret. HTTPS uses RSA to securely exchange the AES key, then switches to AES for the actual data stream."
  },
  {
    "id": 52002,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Hashing vs Encryption",
    "content": "Can you decrypt a hash?",
    "explanation": "No. Hashing is one-way (Lossy compression). Encryption is two-way (Lossless). Hashing destroys information to create a fingerprint (Digest). You can only verify a hash by re-hashing the input and comparing."
  },
  {
    "id": 52003,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Salt and Pepper",
    "content": "What is the difference between Salt and Pepper in password hashing?",
    "explanation": "**Salt**: Random value stored *with* the hash. Defends against Rainbow Tables. Unique per user. **Pepper**: Secret value stored *separately* (e.g., config/HSM). Defends against DB leaks (attacker has hash+salt but not pepper)."
  },
  {
    "id": 52004,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "IV (Initialization Vector)",
    "content": "Why must an IV be random and unique for AES-CBC?",
    "explanation": "If you reuse an IV with the same Key, identical plaintext blocks produce identical ciphertext blocks. This leaks patterns in the data (e.g., seeing the Penguin in the encrypted image). The IV randomizes the first block."
  },
  {
    "id": 52005,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "HMAC vs Hash",
    "content": "Why use HMAC-SHA256 instead of just `Hash(Key + Message)`?",
    "explanation": "Simple concatenation is vulnerable to **Length Extension Attacks**. HMAC uses a specific nested hashing structure that prevents an attacker from appending data to the message and generating a valid hash without knowing the key."
  },
  {
    "id": 52006,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Key Rotation",
    "content": "How do you rotate a database encryption key (DEK) without downtime?",
    "explanation": "Use **Key Versioning**. Encrypt new data with V2. When reading, check the metadata to see if it's V1 or V2. Decrypt accordingly. Background job re-encrypts V1 data to V2 over time."
  },
  {
    "id": 52007,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "PFS (Perfect Forward Secrecy)",
    "content": "What is Perfect Forward Secrecy?",
    "explanation": "If the server's Private Key is stolen today, past sessions recorded by an attacker **cannot** be decrypted. This is achieved by generating unique ephemeral session keys (Diffie-Hellman) for every connection that are never stored."
  },
  {
    "id": 52008,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "AES Modes (GCM vs CBC)",
    "content": "Why prefer AES-GCM over AES-CBC?",
    "explanation": "**GCM** provides **Authenticated Encryption**. It ensures both Confidentiality (Encryption) AND Integrity (it detects tampering). CBC is malleable (Padding Oracle attacks) unless combined with an HMAC."
  },
  {
    "id": 52009,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Entropy",
    "content": "Why is `System.Random` dangerous for key generation?",
    "explanation": "It is a Pseudo-Random Number Generator (PRNG) seeded by time. It is predictable. If an attacker knows the time the key was generated, they can reproduce the key. Use `RandomNumberGenerator` (CSPRNG)."
  },
  {
    "id": 52010,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Diffie-Hellman Key Exchange",
    "content": "How can two parties generate a shared secret over a public channel?",
    "explanation": "Using modular arithmetic properties (`g^ab mod p`). Alice sends mixed paint A. Bob sends mixed paint B. Both add their secret color to the other's mix. Result is the same shared secret color, but an observer can't un-mix it."
  },
  {
    "id": 52011,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "HSM (Hardware Security Module)",
    "content": "What is the purpose of an HSM?",
    "explanation": "A physical device that manages keys. The key **never leaves** the hardware. You send data to the HSM to sign/decrypt. Even if the server is hacked, the attacker cannot steal the master key."
  },
  {
    "id": 52012,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Timing Attacks",
    "content": "Why compare hashes with `CryptographicOperations.FixedTimeEquals`?",
    "explanation": "Standard `==` returns early on mismatch. An attacker measures the response time (nanoseconds) to guess the hash character by character. Fixed-time comparison takes the same time regardless of mismatch position."
  },
  {
    "id": 52013,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Digital Signatures",
    "content": "What does a Digital Signature prove?",
    "explanation": "1. **Authenticity**: It came from the holder of the Private Key. 2. **Integrity**: The message hasn't been altered. 3. **Non-Repudiation**: The sender cannot deny sending it."
  },
  {
    "id": 52014,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Side-Channel Attacks",
    "content": "What is a Side-Channel attack?",
    "explanation": "Attacking the implementation (Power consumption, Sound, Cache timing) rather than the math. e.g., Spectre/Meltdown read memory by analyzing CPU cache timing."
  },
  {
    "id": 52015,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Argon2 vs PBKDF2",
    "content": "Why is Argon2 preferred over PBKDF2 for passwords?",
    "explanation": "Argon2 is **Memory-Hard**. It forces the attacker to use RAM, making GPU/ASIC brute-forcing expensive. PBKDF2 is only CPU-hard and can be easily parallelized on GPUs."
  },
  {
    "id": 52016,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Nonce Reuse",
    "content": "What happens if you reuse a Nonce in AES-GCM?",
    "explanation": "Catastrophic failure. It leaks the XOR of the two plaintexts (Auth Key is compromised). The encryption becomes trivial to break."
  },
  {
    "id": 52017,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Certificate Transparency",
    "content": "What is CT logging?",
    "explanation": "Public logs of all issued TLS certificates. It allows domain owners to detect if a CA has wrongly issued a certificate for their domain."
  },
  {
    "id": 52018,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Data at Rest vs in Transit",
    "content": "If DB file is encrypted (TDE), is data secure in transit?",
    "explanation": "No. TDE only protects the physical disk file. The DB engine decrypts it in memory before sending. You need TLS for transit security."
  },
  {
    "id": 52019,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Zero Knowledge Proof",
    "content": "Explain ZKP like I'm 5.",
    "explanation": "Proving you know a secret without revealing the secret. e.g., Entering a cave with a magic door. If you come out the correct side consistently, you prove you know the magic word without saying it."
  },
  {
    "id": 52020,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Entropy Exhaustion",
    "content": "Can a server run out of random numbers?",
    "explanation": "Yes (`/dev/random` blocking). On high-volume crypto servers (SSL terminators), entropy starvation can stall key generation. Modern systems use hardware RNG instructions (RDRAND) to fix this."
  },
  {
    "id": 52021,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "End-to-End Encryption (E2EE)",
    "content": "Does HTTPS provide E2EE?",
    "explanation": "No. HTTPS encrypts Client <-> Server. The server sees the plaintext. **E2EE** encrypts Client <-> Client (e.g., Signal/WhatsApp). The server only routes encrypted blobs."
  },
  {
    "id": 52022,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Key Wrapping",
    "content": "What is Key Wrapping?",
    "explanation": "Encrypting a Key with another Key (KEK - Key Encryption Key). Allows storing keys securely in an untrusted database, as long as the KEK is secure (in HSM/KeyVault)."
  },
  {
    "id": 52023,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Quantum Resistance",
    "content": "Why is RSA vulnerable to Quantum Computers?",
    "explanation": "Shor's Algorithm running on a Quantum computer can factor large primes exponentially faster than classical computers, breaking RSA/ECC. Latticed-based crypto is the proposed defense."
  },
  {
    "id": 52024,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Code Signing",
    "content": "Why sign your binaries?",
    "explanation": "Guarantees integrity and authorship. The OS/Browser verifies the hash against the signature. If a single bit changed (virus injection), the signature breaks."
  },
  {
    "id": 52025,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Elliptic Curve (ECC) vs RSA",
    "content": "Why use ECC over RSA?",
    "explanation": "Smaller keys for same security. 256-bit ECC is roughly equivalent to 3072-bit RSA. Less CPU to compute, less bandwidth to transmit."
  },
  {
    "id": 52026,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "FIPS Compliance",
    "content": "What is FIPS 140-2?",
    "explanation": "US Government standard for crypto modules. If enabled in Windows, it forces .NET to use only FIPS-validated algorithms (disabling MD5, non-compliant implementations). Can break legacy apps."
  },
  {
    "id": 52027,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Homomorphic Encryption",
    "content": "What is Homomorphic Encryption?",
    "explanation": "The \"Holy Grail\". Performing calculations on *encrypted* data without decrypting it. Result is encrypted. When decrypted, it matches the calculation result. Extremely slow currently."
  },
  {
    "id": 52028,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Cryptographic Agility",
    "content": "What is Crypto Agility?",
    "explanation": "Designing systems to swap algorithms easily (e.g., via config). If AES-256 is broken tomorrow, you can switch to AES-512 or ChaCha20 without rewriting code."
  },
  {
    "id": 52029,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Bit Flipping Attack",
    "content": "How does integrity check prevent Bit Flipping?",
    "explanation": "In CBC without HMAC, flipping a bit in ciphertext flips the corresponding bit in plaintext. An attacker can change \"User\" to \"Admi\" if they know the position. HMAC detects the modification."
  },
  {
    "id": 52030,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Nonce vs IV",
    "content": "Are they the same?",
    "explanation": "Similar concepts. **IV**: Initialization Vector, usually random. **Nonce**: Number Used Once, often a counter. Both serve to randomize encryption so same plaintext != same ciphertext."
  },
  {
    "id": 52031,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Secure Enclave (SGX)",
    "content": "What is a Secure Enclave?",
    "explanation": "Hardware-isolated memory region (CPU extension). Even the OS kernel cannot read it. Used to process sensitive data (keys, biometrics) on a compromised machine."
  },
  {
    "id": 52032,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Ephemeral Keys",
    "content": "Why are ephemeral keys important for TLS?",
    "explanation": "They ensure Forward Secrecy. A new key is generated for every session. Long-term static keys (like the server cert) are only used for signing/auth, not encryption."
  },
  {
    "id": 52033,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Padding Oracle",
    "content": "How does a Padding Oracle attack work?",
    "explanation": "The server leaks information via error messages (\"Invalid Padding\" vs \"Invalid HMAC\"). An attacker sends thousands of variations to deduce the plaintext byte-by-byte. Fix: Use Authenticated Encryption."
  },
  {
    "id": 52034,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Hybrid Encryption",
    "content": "How to encrypt a 1GB file?",
    "explanation": "Generate random Symmetric Key (AES). Encrypt file with AES. Encrypt the AES Key with the recipient's RSA Public Key. Send both. Recipient decrypts Key with Private Key, then decrypts file."
  },
  {
    "id": 52035,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "X.509 Certificate",
    "content": "What is inside a Certificate?",
    "explanation": "Public Key + Identity (Subject/SAN) + Issuer Signature. It binds a Public Key to an Identity (Domain name)."
  },
  {
    "id": 52036,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "CRL vs OCSP",
    "content": "How does a browser check for revoked certificates?",
    "explanation": "**CRL**: Download a huge list of revoked certs (slow). **OCSP**: Query the CA in real-time for a specific cert status. **OCSP Stapling**: The server queries the CA and sends the signed proof to the browser (fast, private)."
  },
  {
    "id": 52037,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Self-Signed Certs",
    "content": "Risks of Self-Signed Certs in Prod?",
    "explanation": "Man-in-the-Middle. If clients are trained to ignore cert warnings or turn off validation (`TrustServerCertificate=true`), an attacker can intercept traffic easily."
  },
  {
    "id": 52038,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "AEAD",
    "content": "What does AEAD stand for?",
    "explanation": "Authenticated Encryption with Associated Data. It encrypts the payload AND signs metadata (header) that remains plaintext but tamper-proof. Used in JWTs and TLS."
  },
  {
    "id": 52039,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Entropy Pool",
    "content": "How does the OS gather entropy?",
    "explanation": "Mouse movements, keyboard timings, disk I/O noise, thermal noise. It mixes these unpredictable events into a pool to seed the RNG."
  },
  {
    "id": 52040,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Key Derivation Function (KDF)",
    "content": "Can you use a user's password directly as an AES Key?",
    "explanation": "No. Passwords have low entropy. Use a **KDF** (PBKDF2/HKDF) to stretch the password into a cryptographically strong, fixed-length key."
  },
  {
    "id": 52041,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Stream Cipher vs Block Cipher",
    "content": "Difference?",
    "explanation": "**Block**: Encrypts fixed-size blocks (AES 128-bit). Padding required. **Stream**: Encrypts bit-by-bit (ChaCha20). No padding. Stream ciphers are generally faster."
  },
  {
    "id": 52042,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Man-in-the-Middle (MitM)",
    "content": "How does MitM work on HTTPS?",
    "explanation": "Attacker intercepts handshake. Presents their own Cert to client. Establishes separate connection to server. Relays data. Prevented by Chain of Trust validation (Browser rejects attacker's cert)."
  },
  {
    "id": 52043,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Certificate Pinning Risks",
    "content": "Risk of pinning?",
    "explanation": "Bricking the app. If the pinned cert expires or is revoked, and you release a server update with a new cert, old apps stop working. Mitigation: Pin Backup Keys."
  },
  {
    "id": 52044,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Bcrypt Truncation",
    "content": "Maximum length of Bcrypt password?",
    "explanation": "72 bytes. If you hash a longer password, Bcrypt silently truncates it. Input > 72 chars is ignored. Mitigation: Pre-hash password with SHA-256 before passing to Bcrypt."
  },
  {
    "id": 52045,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Side-Channel: Constant Time",
    "content": "Why use constant-time algorithms?",
    "explanation": "To prevent leaking secrets via execution time. If `Secret[0] == Input[0]` takes longer than mismatch, attacker can guess the secret."
  },
  {
    "id": 52046,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "SSH Keys",
    "content": "How does SSH Key auth work?",
    "explanation": "Public Key Cryptography. Server holds Public Key. Server sends a challenge (Random number). Client signs it with Private Key. Server verifies signature."
  },
  {
    "id": 52047,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Mutual TLS (mTLS)",
    "content": "What is mTLS?",
    "explanation": "Two-way authentication. Client verifies Server Cert. Server verifies Client Cert. Ensures only authorized devices can connect to the API."
  },
  {
    "id": 52048,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "ChaCha20-Poly1305",
    "content": "Why use ChaCha20 instead of AES?",
    "explanation": "Performance on mobile/ARM devices. AES relies on hardware acceleration (AES-NI). On CPUs without it, ChaCha20 is 3x faster and secure."
  },
  {
    "id": 52049,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Data Integrity",
    "content": "Checksum vs Hash.",
    "isGood": true,
    "explanation": "**Checksum** (CRC32): Detects accidental corruption (flipped bits). Fast, insecure. **Hash** (SHA256): Detects intentional tampering. Secure."
  },
  {
    "id": 52050,
    "category": "Cryptography",
    "difficulty": "Principal",
    "title": "Kerckhoffs's Principle",
    "content": "The enemy knows the system.",
    "isGood": true,
    "explanation": "Security should depend *only* on the secrecy of the **Key**, not the algorithm. \"Security by Obscurity\" (hiding how it works) always fails."
  }
  ,
  {
    "id": 53001,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "SAML vs OIDC",
    "content": "Why is OIDC replacing SAML?",
    "explanation": "SAML is XML-based, verbose, and browser-centric. OIDC is JSON-based, mobile-friendly, and built on OAuth2. OIDC handles modern scenarios like SPA and Native Apps better."
  },
  {
    "id": 53002,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Federated Identity",
    "content": "What is Federation?",
    "explanation": "Trusting an external Identity Provider (IdP). Your app doesn't store passwords. It trusts the token issued by Google/Azure AD. Allows SSO across organizations."
  },
  {
    "id": 53003,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Token Translation",
    "content": "What is the Token Exchange pattern?",
    "explanation": "Service A receives a Google Token. It cannot send that to Service B (Service B trusts Azure AD). Service A exchanges the Google Token for an Azure AD Token at the IdP (RFC 8693) to maintain the chain of trust."
  },
  {
    "id": 53004,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Claims-Based Identity",
    "content": "Roles vs Claims.",
    "isGood": true,
    "explanation": "**Role**: \"Manager\". Rigid. **Claim**: \"CanApproveExpenses > $500\". Flexible. Modern auth uses Claims. Roles are just a specific type of Claim."
  },
  {
    "id": 53005,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "B2B vs B2C Identity",
    "content": "Architectural difference?",
    "explanation": "**B2C**: Millions of users. Social Login. Self-service password reset. Scale is key. **B2B**: Tenant isolation. SSO (SAML) with enterprise IdPs. Governance and RBAC are key."
  },
  {
    "id": 53006,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "PKCE (Proof Key for Code Exchange)",
    "content": "Why is PKCE mandatory for mobile apps?",
    "explanation": "Mobile apps cannot keep secrets (binary can be decompiled). PKCE adds a dynamic secret (Code Verifier) generated at runtime, ensuring the app exchanging the code is the same one that requested it."
  },
  {
    "id": 53007,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Reference Tokens vs JWT",
    "content": "When to use Reference Tokens?",
    "explanation": "JWTs are self-contained (cannot be revoked easily). **Reference Tokens** are just an ID. The API must query the IdP to validate it. Use Reference Tokens when immediate revocation is critical (e.g., Banking)."
  },
  {
    "id": 53008,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Machine-to-Machine Auth",
    "content": "Client Credentials Flow security risks.",
    "explanation": "The Client ID/Secret identifies the **Service**, not a User. If leaked, the attacker has full service privileges. Rotate secrets frequently or use **mTLS** (Certificates) for stronger identity."
  },
  {
    "id": 53009,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Step-Up Authentication",
    "content": "What is Step-Up Auth?",
    "explanation": "User logs in with Password (Low assurance). When they try to 'Transfer Money', the app challenges for MFA (High assurance). Keeps UX friction low for read-only actions."
  },
  {
    "id": 53010,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Identity Broker",
    "content": "What is an Identity Broker?",
    "explanation": "A middleman IdP (e.g., Auth0, Keycloak). The App trusts the Broker. The Broker trusts Google, Facebook, Active Directory. Decouples the App from specific upstream providers."
  },
  {
    "id": 53011,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "User-Managed Access (UMA)",
    "content": "What is UMA?",
    "explanation": "A protocol where a Resource Owner controls access. \"I want to give Alice access to *this specific document* for 1 hour\". More granular than RBAC/OAuth scopes."
  },
  {
    "id": 53012,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Session Management vs JWT",
    "content": "Why is logout hard with JWT?",
    "explanation": "Server doesn't store JWT state. To 'logout', client deletes token. But if token was stolen, attacker still has access until expiry. Fix: Short expiry (5 min) or Blacklists (Stateful)."
  },
  {
    "id": 53013,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "SCIM (System for Cross-domain Identity Management)",
    "content": "What is SCIM?",
    "explanation": "Standard API for provisioning users. When HR adds a user to AD, AD uses SCIM to automatically create the user account in Salesforce/Slack. Automates Onboarding/Offboarding."
  },
  {
    "id": 53014,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Resource Owner Password Credentials",
    "content": "Is ROPC flow safe?",
    "explanation": "**(Legacy/Insecure).** User enters credentials directly into the Client App. The App sees the password. Violates delegation principles. Only use for legacy apps where redirection is impossible. Deprecated in OAuth 2.1."
  },
  {
    "id": 53015,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "On-Behalf-Of Flow (OBO)",
    "content": "What is OBO Flow?",
    "explanation": "User calls API A. API A needs to call API B *as the user*. API A exchanges the user's token for a new token audience-scoped to API B. Preserves user identity chain."
  },
  {
    "id": 53016,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Centralized vs Decentralized Auth",
    "content": "Sidecar Auth (Envoy) vs Library Auth.",
    "isGood": true,
    "explanation": "**Sidecar**: Auth handled by proxy. App receives verified headers. Pros: Consistent policy, language agnostic. Cons: Complexity. **Library**: App validates JWT. Pros: Simple. Cons: Logic fragmentation."
  },
  {
    "id": 53017,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Phantom Token Pattern",
    "content": "What is the Phantom Token Pattern?",
    "explanation": "Edge Gateway receives an Opaque (Reference) Token. It calls IdP to validate it, gets a JWT back, and passes the JWT to backend services. Keeps JWTs internal, opaque tokens public."
  },
  {
    "id": 53018,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Scopes vs Permissions",
    "content": "OAuth Scope vs App Permission.",
    "isGood": true,
    "explanation": "**Scope**: What the *Client* is allowed to do (e.g., \"Read Contacts\"). **Permission**: What the *User* is allowed to do (e.g., \"Is Admin\"). Effective Access = Intersection of Scope AND Permission."
  },
  {
    "id": 53019,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Sender Constrained Tokens",
    "content": "What is DPoP (Demonstrating Proof-of-Possession)?",
    "explanation": "Binds the token to the client's private key (or mTLS cert). If the token is stolen, it cannot be used by an attacker because they don't possess the private key/cert."
  },
  {
    "id": 53020,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "MFA Fatigue",
    "content": "How to prevent MFA Fatigue attacks?",
    "explanation": "Attacker spams MFA requests until user clicks 'Approve'. Fix: **Number Matching**. The user must type a number displayed on the login screen into their authenticator app."
  },
  {
    "id": 53021,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Implicit Flow Security",
    "content": "Why is Implicit Flow deprecated?",
    "explanation": "It returns tokens in the URL fragment. Browser history/logs leak the token. No back-channel verification. Replaced by Code Flow with PKCE."
  },
  {
    "id": 53022,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "JWKS (JSON Web Key Set)",
    "content": "What is the JWKS endpoint?",
    "explanation": "A public endpoint where the IdP publishes its Public Keys. Resource Servers download these keys to verify the signature of incoming JWTs."
  },
  {
    "id": 53023,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Dynamic Client Registration",
    "content": "When is Dynamic Client Registration used?",
    "explanation": "Open Banking / IoT. New 3rd party apps register themselves via API to get ClientIDs automatically, following a trust protocol."
  },
  {
    "id": 53024,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Front-Channel vs Back-Channel Logout",
    "content": "Difference?",
    "explanation": "**Front-Channel**: IdP loads an iframe in user browser to trigger logout on other apps. Unreliable (popup blockers). **Back-Channel**: IdP sends a webhook to RP (Relying Party) to invalidate the session."
  },
  {
    "id": 53025,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Pairwise Subject Identifiers",
    "content": "Privacy feature.",
    "isGood": true,
    "explanation": "The IdP returns a different `sub` (User ID) for each Client App. Prevents different apps from colluding to track the user's activity across services."
  },
  {
    "id": 53026,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Home Realm Discovery (HRD)",
    "content": "What is HRD?",
    "explanation": "In multi-tenant apps, identifying which IdP the user belongs to (e.g., by email domain). \"Enter email\" -> redirect to corporate Okta."
  },
  {
    "id": 53027,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Verifiable Credentials (Decentralized ID)",
    "content": "What is SSI (Self-Sovereign Identity)?",
    "explanation": "User holds a Wallet with credentials (Driver License). They present a Proof to the Verifier. No central database checks. Blockchain/Ledger often used for issuer trust registry."
  },
  {
    "id": 53028,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Identity vs Authorization",
    "content": "Is checking the JWT signature Authorization?",
    "explanation": "No. Signature check = Authentication (Valid Issuer). Checking Scopes/Roles = Authorization (Allowed to Perform Action)."
  },
  {
    "id": 53029,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Token Bloat",
    "content": "What happens if a user has 500 groups?",
    "explanation": "The JWT becomes huge (header overflow). Fix: Use the **Graph API pattern**. The token contains no groups. The API calls MS Graph to check group membership."
  },
  {
    "id": 53030,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Attribute Based Access Control (ABAC)",
    "content": "RBAC vs ABAC.",
    "isGood": true,
    "explanation": "**RBAC**: \"Admins can delete\". **ABAC**: \"Users can delete IF resource.owner == user.id AND time < 5pm\". More dynamic, policy-based."
  },
  {
    "id": 53031,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "OAuth State Parameter",
    "content": "Why is the `state` parameter required?",
    "explanation": "Prevents **CSRF** during the auth flow. Client sends random state. IdP returns it. Client verifies it matches. Ensures the response corresponds to the request initiated by the user."
  },
  {
    "id": 53032,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Consent Screen",
    "content": "What is the Consent screen?",
    "explanation": "User approval: \"App X wants to read your emails\". Required in 3-legged OAuth. Skipped for First-Party Trusted apps."
  },
  {
    "id": 53033,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Refresh Token Hijacking",
    "content": "How to detect it?",
    "explanation": "Token Rotation. If the stolen token and the new token are both used, the IdP detects a fork in the chain and revokes ALL tokens for that user."
  },
  {
    "id": 53034,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Open Policy Agent (OPA)",
    "content": "What is OPA?",
    "explanation": "Policy-as-Code engine. Decouples authorization logic from code. The app queries OPA: \"Can user X do Y?\" OPA evaluates Rego policies and answers Yes/No."
  },
  {
    "id": 53035,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Claims Mapping",
    "content": "Why map claims?",
    "explanation": "Google calls it `given_name`. Azure calls it `http://.../givenname`. Your app expects `FirstName`. Mapping normalizes external schemas to your internal domain model."
  },
  {
    "id": 53036,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Device Flow",
    "content": "OAuth for Smart TVs.",
    "isGood": true,
    "explanation": "TV shows a code. User visits URL on phone, enters code, and logs in. TV polls the IdP and gets the token once user approves."
  },
  {
    "id": 53037,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Audience Validation",
    "content": "Why must APIs check `aud`?",
    "explanation": "Prevents Token Substitution. If User gets a token for App A, they shouldn't be able to use it to call App B. App B must check `aud == App B`."
  },
  {
    "id": 53038,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Strict-Transport-Security (HSTS)",
    "content": "Role in Identity.",
    "isGood": true,
    "explanation": "Prevents SSL Stripping. Ensures credentials and tokens are never sent over HTTP."
  },
  {
    "id": 53039,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "FIDO2 / WebAuthn",
    "content": "What is Passwordless Auth?",
    "explanation": "Uses public key crypto. Private key stored in hardware (TPM/FaceID/Yubikey). Server only stores Public Key. Immune to phishing (domain bound)."
  },
  {
    "id": 53040,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Just-In-Time (JIT) Provisioning",
    "content": "How does SSO handle new users?",
    "explanation": "When a user logs in via SAML/OIDC for the first time, the app creates a local account using the claims provided (Email, Name). No need to pre-create accounts."
  },
  {
    "id": 53041,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Confidential vs Public Client",
    "content": "Difference?",
    "isGood": true,
    "explanation": "**Confidential** (Backend): Can keep a secret. **Public** (SPA/Mobile): Cannot keep a secret. Public clients must use PKCE and cannot use Client Credentials flow."
  },
  {
    "id": 53042,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Hybrid Flow",
    "content": "What is Hybrid Flow?",
    "explanation": "Returns an Auth Code AND Tokens to the frontend. Largely obsolete. Recommended to use Code Flow for everything now."
  },
  {
    "id": 53043,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Bearer Token Usage",
    "content": "Why 'Bearer'?",
    "explanation": "Like cash. \"Whoever bears (holds) this token can use it\". Riskier than Proof-of-Possession tokens."
  },
  {
    "id": 53044,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Tenant Isolation in Auth",
    "content": "Multi-tenant Identity.",
    "isGood": true,
    "explanation": "Ensure the Token Issuer includes the `TenantId` claim. The API must validate that the requested resource belongs to that TenantId. Global Admin checks are exceptions."
  },
  {
    "id": 53045,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "CORS in Identity",
    "content": "Why does the IdP need CORS?",
    "explanation": "If the SPA calls the IdP endpoint (token endpoint) from the browser via JS, the IdP must allow the SPA's domain in CORS headers."
  },
  {
    "id": 53046,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Sign in with Apple",
    "content": "Unique constraint.",
    "isGood": true,
    "explanation": "Apple only sends the User's Name/Email **Once** (first login). You must capture it then. Subsequent logins only provide the ID. Also requires special Client Secret generation (JWT signed by dev key)."
  },
  {
    "id": 53047,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Identity Warehousing",
    "content": "Should you store user passwords if you use Social Login?",
    "explanation": "No. You don't have them. You store the `Provider` and `ProviderKey` (Google ID). Security risk is offloaded to the provider."
  },
  {
    "id": 53048,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Hardcoded Secrets Scanning",
    "content": "Prevention.",
    "isGood": true,
    "explanation": "Use tools like **TruffleHog** or **GitHub Secret Scanning** in CI pipelines to block commits containing API keys or private keys."
  },
  {
    "id": 53049,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "OAuth 2.1",
    "content": "What's new?",
    "explanation": "Deprecates Implicit Flow and ROPC. Makes PKCE mandatory. Standardizes best practices into the spec."
  },
  {
    "id": 53050,
    "category": "Identity Architecture",
    "difficulty": "Principal",
    "title": "Zero Trust Identity",
    "content": "Core principle.",
    "isGood": true,
    "explanation": "\"Never Trust, Always Verify\". Identity is the new perimeter. Network location (VPN) grants no privilege. Authentication happens for every request."
  }
  ,
  {
    "id": 54001,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "GDPR Right to be Forgotten",
    "content": "How do you architect a system to support the 'Right to be Forgotten' in immutable Event Sourcing?",
    "explanation": "**Crypto-Shredding**. Encrypt each user's PII with a unique key. Store the key in a separate Key Management Service. To 'delete' the user, delete their specific key. The data remains in the immutable logs but is mathematically unreadable forever."
  },
  {
    "id": 54002,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Tokenization vs Encryption",
    "content": "Why use Tokenization instead of Encryption for credit card numbers (PCI-DSS)?",
    "explanation": "Encryption is mathematical and reversible (if you have the key). **Tokenization** replaces sensitive data with a non-sensitive surrogate (Token). The real data maps to the Token in a secure, isolated Vault. It reduces the scope of PCI compliance for the main application databases."
  },
  {
    "id": 54003,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Data Residency (Sovereignty)",
    "content": "How do you handle a requirement where German users' data must physically stay in Germany?",
    "explanation": "Use **Geo-Partitioning** (or Sharding) at the database layer. Tag tenants with a `Region` attribute. The application router directs German users to German application/DB clusters. Ensure backup replication policies do *not* cross these sovereign borders."
  },
  {
    "id": 54004,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Pseudonymization",
    "content": "What is the difference between Anonymization and Pseudonymization in GDPR?",
    "explanation": "**Anonymization**: Irreversible removal of identifiers. Not subject to GDPR. **Pseudonymization**: Replacing identifiers with aliases (e.g., User 123). The data can still be re-identified with additional info. It *is* subject to GDPR but offers security benefits."
  },
  {
    "id": 54005,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "HIPAA Audit Trails",
    "content": "What specific logging requirement does HIPAA enforce for ePHI?",
    "explanation": "You must log **Read Access**. Standard logs track Writes/Updates. HIPAA requires knowing *who* looked at a patient's record and *when*. This generates massive log volume and requires a dedicated Audit subsystem."
  },
  {
    "id": 54006,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "PII Discovery",
    "content": "How do you prevent developers from accidentally logging PII in a microservices mesh?",
    "explanation": "Use **Data Loss Prevention (DLP)** tools or middleware that scans payloads/logs for patterns (SSN, Email, Credit Card regex) and automatically redacts them. Enforce strict DTO contracts where PII fields are tagged explicitly."
  },
  {
    "id": 54007,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Legal Hold",
    "content": "What is a 'Legal Hold' architecture pattern?",
    "explanation": "A feature that overrides retention policies. If a user is under investigation, their data (emails, files) must **not** be deleted, even if they click delete or the 30-day retention expires. Requires a 'Hold' flag on the data or 'Immutable Storage' buckets."
  },
  {
    "id": 54008,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Consent Management",
    "content": "How do you model complex Consent (e.g., User allows Email but not SMS)?",
    "explanation": "Store Consent as a versioned, immutable log: `User X granted permission Y on Date Z`. Do not just use a boolean flag `IsConsented`. You need the audit trail of *when* and *what* they agreed to (Terms of Service v2.1)."
  },
  {
    "id": 54009,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Purpose Limitation",
    "content": "What does the GDPR principle of 'Purpose Limitation' mean for Data Lakes?",
    "explanation": "You cannot collect data for \"Service Delivery\" and then use it for \"Marketing\" without explicit consent. Data Lake access controls must segregate data based on the *authorized purpose*, not just raw access rights."
  },
  {
    "id": 54010,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Format Preserving Encryption (FPE)",
    "content": "When would you use Format Preserving Encryption?",
    "explanation": "When encrypting data that must fit legacy schema constraints. E.g., Encrypting a 16-digit Credit Card number into *another* 16-digit number so it doesn't break the database column width or validation logic."
  },
  {
    "id": 54011,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "SOC 2 Type II",
    "content": "What is the difference between SOC 2 Type I and Type II?",
    "explanation": "**Type I**: Audit at a specific point in time (Snapshot). \"Do you have a firewall today?\" **Type II**: Audit over a period (usually 6-12 months). \"Did you maintain the firewall correctly for the last year?\" Type II proves operational effectiveness."
  },
  {
    "id": 54012,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Data Minimization",
    "content": "How do you apply Data Minimization to API logs?",
    "explanation": "Do not log the full HTTP Request Body. Log only metadata (Time, Status, Latency) and whitelisted non-sensitive fields. \"If you don't collect it, you can't leak it.\""
  },
  {
    "id": 54013,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Privacy by Design",
    "content": "What is 'Privacy by Design'?",
    "explanation": "Including privacy considerations (Encryption, Retention, Access Control) in the **Design Phase**, not as a patch before launch. e.g., Setting default settings to 'Private' rather than 'Public'."
  },
  {
    "id": 54014,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Synthetic Data",
    "content": "Why use Synthetic Data for staging environments?",
    "explanation": "Copying Prod data to Staging is a massive security risk (PII leak). Synthetic Data is artificially generated data that mimics the statistical properties of production but contains no real user info. Safe for developers."
  },
  {
    "id": 54015,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "K-Anonymity",
    "content": "What is K-Anonymity?",
    "explanation": "A property of a dataset. Data is k-anonymous if any individual cannot be distinguished from at least `k-1` other individuals. e.g., Masking the last octet of IP addresses so groups of users look identical."
  },
  {
    "id": 54016,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Right to Portability",
    "content": "How do you technically support the 'Right to Data Portability'?",
    "explanation": "Build a `Bulk Export` feature. It generates a machine-readable structured file (JSON/CSV) of *all* user data. This is often an async job that emails a secure download link."
  },
  {
    "id": 54017,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Retention Schedules",
    "content": "How do you implement granular retention (e.g., Keep Invoices 7 years, Chat logs 30 days)?",
    "explanation": "Store different data types in different storage buckets/tables with Time-To-Live (TTL) policies. Do not mix data with different retention requirements in the same monolithic table."
  },
  {
    "id": 54018,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Vendor Risk Management",
    "content": "Why must you audit 3rd party APIs for compliance?",
    "explanation": "Under GDPR, you are the **Data Controller**. If you send data to a 3rd party **Processor** (e.g., Analytics tool) and they breach, *you* are liable. You must verify their security posture (DPA - Data Processing Agreement)."
  },
  {
    "id": 54019,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Differential Privacy",
    "content": "What is Differential Privacy?",
    "explanation": "Adding mathematical noise to query results so that the output is statistically accurate for the aggregate, but prevents reverse-engineering information about any specific individual."
  },
  {
    "id": 54020,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "CCPA vs GDPR",
    "content": "What is the key difference between CCPA (California) and GDPR (Europe)?",
    "explanation": "GDPR is \"Opt-In\" (Consent required before tracking). CCPA is \"Opt-Out\" (Must provide a \"Do Not Sell My Data\" button). GDPR covers all processing; CCPA focuses on the *sale* of data."
  },
  {
    "id": 54021,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Immutable Audit Logs",
    "content": "How do you ensure Audit Logs cannot be tampered with by a rogue admin?",
    "explanation": "Write logs to **WORM Storage** (Write Once, Read Many) like Azure Blob Immutable Storage. Once written, the file is locked by the storage provider for a retention period (e.g., 1 year) and cannot be deleted/modified even by Root."
  },
  {
    "id": 54022,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Just-In-Time Access (JIT)",
    "content": "How does JIT access help compliance?",
    "explanation": "Developers have Zero Standing Access to production. When needed, they request access for a specific time window (e.g., 4 hours). This reduces the attack surface and ensures all production access is logged and tied to a specific incident ticket."
  },
  {
    "id": 54023,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Data Lineage",
    "content": "Why is tracking Data Lineage important?",
    "explanation": "It maps the flow of data: Origin -> Transformation -> Destination. If PII is found in a Data Warehouse report, Lineage helps trace back where it came from and which pipelines processed it."
  },
  {
    "id": 54024,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "ISO 27001",
    "content": "What is the core focus of ISO 27001?",
    "explanation": "Establishing an **ISMS** (Information Security Management System). It's not just tech controls; it's about the *processes* of managing risk, continuous improvement, and leadership commitment."
  },
  {
    "id": 54025,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Encryption Key Hierarchies",
    "content": "What is the purpose of a Master Key (KEK) vs Data Key (DEK)?",
    "explanation": "Encrypting terabytes of data with the Master Key is slow and risky. Instead, generate a random **Data Encryption Key (DEK)** for the file. Encrypt the data with the DEK. Encrypt the DEK with the **Key Encryption Key (KEK)**. Store the encrypted DEK with the file."
  },
  {
    "id": 54026,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "PII in URLs",
    "content": "Why is `GET /users?email=bob@gmail.com` a compliance violation?",
    "explanation": "URLs are logged in browser history, proxy logs, and server access logs (often unencrypted at rest). PII in query params leaks data into logs. Use `POST` with body or Header-based filtering."
  },
  {
    "id": 54027,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Dark Patterns",
    "content": "What are Dark Patterns in UX from a privacy perspective?",
    "explanation": "Deceptive UI designs that trick users into consenting (e.g., a green 'Accept All' button and a tiny grey 'Reject' link). Regulators are increasingly fining companies for this."
  },
  {
    "id": 54028,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Federated Learning",
    "content": "How does Federated Learning enable privacy-preserving AI?",
    "explanation": "The AI model is sent to the user's device (Phone). Training happens locally on the user's data. Only the *model updates* (weights) are sent back to the server, not the raw data."
  },
  {
    "id": 54029,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Breach Notification",
    "content": "What is the standard timeline for notifying authorities of a data breach under GDPR?",
    "explanation": "**72 Hours** after becoming aware of the breach. You must have an Incident Response plan that can triage and report this fast."
  },
  {
    "id": 54030,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Tenancy Isolation Strategy",
    "content": "Which isolation model is most compliant: Shared Schema or Database-per-Tenant?",
    "explanation": "**Database-per-Tenant**. It provides the strongest physical isolation. Data leaks due to coding errors (`WHERE TenantId` missing) are impossible. Easier to delete/export tenant data."
  },
  {
    "id": 54031,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Bring Your Own Key (BYOK)",
    "content": "What is BYOK?",
    "explanation": "Customers generate their own encryption keys in their HSM and upload them to your cloud. They can revoke the key at any time, instantly rendering their data in your SaaS unreadable (Kill Switch)."
  },
  {
    "id": 54032,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Dynamic Data Masking",
    "content": "How does Dynamic Data Masking work in SQL Server?",
    "explanation": "It obfuscates data in the query result (`XXX-XX-1234`) based on user privileges, without changing the data on disk. Useful for Support staff access."
  },
  {
    "id": 54033,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Cookie Consent",
    "content": "When is a Cookie Banner required?",
    "explanation": "For any non-essential cookies (Analytics, Tracking). Strictly necessary cookies (Auth, Shopping Cart) do *not* require consent, but must be disclosed."
  },
  {
    "id": 54034,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "DPIA (Data Protection Impact Assessment)",
    "content": "When must you conduct a DPIA?",
    "explanation": "Before beginning any processing that is likely to result in high risk to individuals (e.g., large scale profiling, processing sensitive biometrics). Required by GDPR."
  },
  {
    "id": 54035,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Safe Harbor / Privacy Shield",
    "content": "Are Safe Harbor and Privacy Shield valid for US-EU data transfer?",
    "explanation": "**Invalidated** (Schrems I and II rulings). You must now rely on **SCCs (Standard Contractual Clauses)** and ensure supplementary measures (Encryption) are in place to protect EU data from US surveillance."
  },
  {
    "id": 54036,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Database Sanitization",
    "content": "How do you sanitize a database dump for developers?",
    "explanation": "Run a script that updates all emails to `dev+id@company.com`, randomizes names, and nulls out phones/addresses *before* the dump leaves the production zone."
  },
  {
    "id": 54037,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Homomorphic Encryption",
    "content": "What is the promise of Homomorphic Encryption for privacy?",
    "explanation": "It allows computation on encrypted data without decrypting it. The cloud provider can calculate `Sum(Salary)` without ever seeing an individual salary. Currently computationally expensive."
  },
  {
    "id": 54038,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "PCI-DSS Scope Reduction",
    "content": "How does using Stripe Elements/iFrame reduce PCI scope?",
    "explanation": "The credit card input field is hosted by Stripe (iFrame). The sensitive data goes directly from the user's browser to Stripe. It never touches your server's RAM or Disk. You only handle a non-sensitive Token."
  },
  {
    "id": 54039,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Separation of Duties",
    "content": "What is Separation of Duties in deployment?",
    "explanation": "The developer who wrote the code cannot be the one who approves the deployment to production. Prevents malicious code injection or fraud."
  },
  {
    "id": 54040,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Encryption in Transit (Internal)",
    "content": "Is SSL required between internal microservices?",
    "explanation": "Yes. **Zero Trust**. The internal network is assumed hostile. Use mTLS (Mutual TLS) to encrypt traffic between pods/services to prevent internal eavesdropping."
  },
  {
    "id": 54041,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Secret Sprawl",
    "content": "What is Secret Sprawl?",
    "explanation": "Secrets (API Keys, Passwords) scattered across Git repos, Slack history, Wikis, and developer machines. Use Secret Scanning tools and centralize via Key Vault."
  },
  {
    "id": 54042,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Session Timeout Compliance",
    "content": "What are typical session timeout requirements for banking/finance?",
    "explanation": "Short timeouts (e.g., 15 minutes of inactivity). Absolute timeouts (e.g., forced logout after 12 hours). Must invalidate server-side session, not just delete cookie."
  },
  {
    "id": 54043,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "De-identification vs Anonymization",
    "content": "Are they the same?",
    "explanation": "No. De-identified data (removing names) can often be re-identified by combining with other public datasets. Anonymization requires a mathematical guarantee (like k-anonymity) that re-identification is impossible."
  },
  {
    "id": 54044,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "WAF Compliance",
    "content": "Is a WAF required for PCI-DSS?",
    "explanation": "Yes (Requirement 6.6). You must install a Web Application Firewall (WAF) in front of public-facing web applications to inspect traffic for common attacks."
  },
  {
    "id": 54045,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Audit Log Integrity",
    "content": "How do you prove audit logs haven't been tampered with?",
    "explanation": "Cryptographic Chaining (Blockchain style). Each log entry contains the hash of the previous entry. If a log is deleted/modified, the chain breaks."
  },
  {
    "id": 54046,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Hard Deletion Validation",
    "content": "How do you verify a 'Right to be Forgotten' request was executed?",
    "explanation": "Automated verification script. After the delete job runs, the script queries the DB, Logs, and Backups (if applicable) for the User ID. If any results return, the process failed."
  },
  {
    "id": 54047,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Access Review",
    "content": "What is a quarterly Access Review?",
    "explanation": "Managers receive a list of all employees and their permissions. They must explicitly approve or revoke access. Prevents 'Permission Creep' (users keeping access after changing roles)."
  },
  {
    "id": 54048,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Software Bill of Materials (SBOM)",
    "content": "What is an SBOM?",
    "explanation": "A list of all components (libraries, packages) in your software. Required by recent US Executive Orders. Helps identify if you are affected by a supply chain vulnerability (like Log4j) instantly."
  },
  {
    "id": 54049,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Database Activity Monitoring (DAM)",
    "content": "What does a DAM system do?",
    "explanation": "It monitors and analyzes database traffic (SQL) in real-time. It detects anomalous queries (e.g., 'SELECT *' on sensitive table) and can alert or block the session."
  },
  {
    "id": 54050,
    "category": "Compliance & Privacy",
    "difficulty": "Principal",
    "title": "Privacy Shielding in Testing",
    "content": "Can developers test with Production Data?",
    "explanation": "**Never**. It is a major violation. Use synthetic data, masked dumps, or specialized test data generation tools."
  }
  ,
  {
    "id": 55001,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Shared Responsibility Model",
    "content": "In Iaas vs PaaS vs SaaS, who is responsible for patching the OS?",
    "explanation": "**IaaS** (VM): You are. **PaaS** (App Service): Cloud Provider is. **SaaS** (Office 365): Cloud Provider is. Understanding this line is critical to avoid unpatched vulnerabilities."
  },
  {
    "id": 55002,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "CSPM (Cloud Security Posture Management)",
    "content": "What is the purpose of a CSPM tool (e.g., Azure Defender)?",
    "explanation": "It continuously scans your cloud configuration against best practices (CIS Benchmarks). It alerts on misconfigurations: \"S3 bucket is public\", \"MFA not enabled for admins\", \"RDP port open to world\"."
  },
  {
    "id": 55003,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "CWPP (Cloud Workload Protection Platform)",
    "content": "How does CWPP differ from CSPM?",
    "explanation": "CSPM secures the **Configuration** (Infrastructure). CWPP secures the **Workload** (Runtime). It runs inside the VM/Container to detect malware, intrusion attempts, and anomalous processes."
  },
  {
    "id": 55004,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Zero Trust Architecture",
    "content": "What is the core motto of Zero Trust?",
    "explanation": "**\"Never Trust, Always Verify.\"** No device/user is trusted just because they are \"inside\" the network. Every request must be Authenticated, Authorized, and Encrypted, regardless of origin."
  },
  {
    "id": 55005,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "IMDSv2 (Instance Metadata Service)",
    "content": "Why force IMDSv2 on AWS EC2?",
    "explanation": "It requires a Session Token to access metadata (`169.254.169.254`). This mitigates SSRF attacks where an attacker forces the server to hit the metadata URL and steal the instance's IAM credentials."
  },
  {
    "id": 55006,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Service Principal vs Managed Identity",
    "content": "Why prefer Managed Identity over Service Principals?",
    "explanation": "Service Principals utilize secrets (Client Secret) that must be managed, rotated, and can be leaked. **Managed Identity** is managed by the cloud platform; the app authenticates without ever handling a secret."
  },
  {
    "id": 55007,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Just-In-Time (JIT) VM Access",
    "content": "How does JIT access secure Virtual Machines?",
    "explanation": "It keeps RDP/SSH ports closed by default (Firewall deny). When an admin needs access, they request it. If approved, the platform opens the port for *their IP only* for a limited time (e.g., 2 hours)."
  },
  {
    "id": 55008,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "WAF (Web Application Firewall)",
    "content": "What layer does a WAF operate on?",
    "explanation": "**Layer 7** (Application). It inspects HTTP traffic for SQL Injection, XSS, and Common Vulnerabilities. Standard firewalls (Layer 4) only filter by IP/Port."
  },
  {
    "id": 55009,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Side-Channel Attacks in Cloud",
    "content": "What is the 'Noisy Neighbor' security risk?",
    "explanation": "In shared hardware, a malicious tenant might infer information about another tenant by analyzing shared resource contention (Cache timing, CPU load). Modern hypervisors mitigate this, but dedicated hosts eliminate it."
  },
  {
    "id": 55010,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Supply Chain Security (Images)",
    "content": "Why use a Private Container Registry with scanning?",
    "explanation": "Public images (Docker Hub) may contain malware or vulnerabilities. A Private Registry with vulnerability scanning ensures only trusted, patched images are deployed to your cluster."
  },
  {
    "id": 55011,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Least Privilege (IAM)",
    "content": "Why is using wildcards (`*`) in IAM policies dangerous?",
    "explanation": "It grants excessive permissions (e.g., `s3:*` allows deleting buckets). If credentials are stolen, the blast radius is total. Grant only the specific actions (`s3:GetObject`) on specific resources needed."
  },
  {
    "id": 55012,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Key Rotation Policies",
    "content": "How often should keys be rotated?",
    "explanation": "Ideally **Automatically** and frequently (e.g., daily/weekly). If manual, at least every 90 days. Rotation limits the impact if a key is silently compromised."
  },
  {
    "id": 55013,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Secret Injection",
    "content": "Why inject secrets as Environment Variables at runtime vs build time?",
    "explanation": "Build-time injection burns the secret into the image artifact. Anyone with the image has the secret. Runtime injection keeps the secret in the environment/vault, and the image remains generic/safe."
  },
  {
    "id": 55014,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Lateral Movement",
    "content": "How does Network Segmentation prevent Lateral Movement?",
    "explanation": "If a hacker compromises the Web Server, Segmentation prevents them from reaching the Database Server directly. They are stuck in the Web VLAN/Subnet. Zero Trust Microsegmentation takes this further to the workload level."
  },
  {
    "id": 55015,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Bastion Host / Jump Box",
    "content": "What is the purpose of a Bastion Host?",
    "explanation": "A hardened server exposed to the internet that acts as a gateway. Admins SSH into the Bastion, and from there SSH into private internal servers. Internal servers have no public IPs."
  },
  {
    "id": 55016,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "DDoS Scrubbing",
    "content": "What is DDoS Scrubbing?",
    "explanation": "Traffic is routed through a specialized cleaning center (e.g., Cloudflare). It separates malicious traffic (bots, floods) from legitimate traffic, forwarding only clean traffic to your origin."
  },
  {
    "id": 55017,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Cloud-Init / User Data",
    "content": "Why is storing secrets in User Data (Cloud-Init) risky?",
    "explanation": "User Data is often readable by any user on the VM and sometimes via the API console. It is stored in plain text. Use Managed Identity to fetch secrets at boot instead."
  },
  {
    "id": 55018,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Immutable Infrastructure Security",
    "content": "How does Immutable Infrastructure improve security?",
    "explanation": "Servers are never patched, only replaced. This prevents **Configuration Drift** and removes persistent malware (APTs). If a server is compromised, it is destroyed and replaced with a clean image shortly."
  },
  {
    "id": 55019,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "OIDC Federation for CI/CD",
    "content": "Why use OIDC for GitHub Actions instead of long-lived AWS keys?",
    "explanation": "Keys expire and can leak. OIDC allows GitHub to exchange a temporary token for short-lived cloud credentials only for the duration of the job. No secrets stored in GitHub."
  },
  {
    "id": 55020,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Data Exfiltration Detection",
    "content": "How can Egress Filtering detect data exfiltration?",
    "explanation": "Monitor outbound traffic. Servers should only talk to known endpoints (APIs, Updates). If a Database Server starts sending 10GB to an unknown IP, block it and alert."
  },
  {
    "id": 55021,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Cloud HSM",
    "content": "When is Cloud HSM required over standard Key Management Service?",
    "explanation": "When compliance (FIPS 140-2 Level 3) requires **Single Tenant** hardware and you need exclusive control over the key (Cloud Provider has zero access)."
  },
  {
    "id": 55022,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Kubernetes RBAC",
    "content": "Why avoid giving `cluster-admin` to developers?",
    "explanation": "`cluster-admin` can do anything. Developers should be scoped to a **Namespace** with permissions to deploy apps, but not modify cluster nodes or view secrets in other namespaces."
  },
  {
    "id": 55023,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Drift Detection (IaC)",
    "content": "How does Terraform Drift Detection enhance security?",
    "explanation": "It detects manual changes made in the portal (e.g., someone opened port 22 manually). Remediation pipelines can automatically revert these unauthorized changes to the secure baseline."
  },
  {
    "id": 55024,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Public S3 Buckets",
    "content": "How to prevent accidental public S3 buckets?",
    "explanation": "Enable **Block Public Access** at the Account/Organization level. Use Organization Policies (SCP in AWS, Azure Policy) to deny the creation of public resources globally."
  },
  {
    "id": 55025,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "SIEM (Security Information and Event Management)",
    "content": "What is the role of SIEM (e.g., Sentinel)?",
    "explanation": "It aggregates logs from all sources (Firewall, App, Identity, OS). It uses AI/Rules to correlate events and detect attacks (e.g., 5 failed logins followed by a large database read)."
  },
  {
    "id": 55026,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Runtime Security (Falco)",
    "content": "What does Falco monitor?",
    "explanation": "System calls in Linux. It alerts on suspicious behavior like \"Shell spawned in container\", \"Sensitive file read\", or \"Outbound connection to crypto mining pool\"."
  },
  {
    "id": 55027,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Pre-Signed URLs",
    "content": "How do Pre-Signed URLs facilitate secure uploads?",
    "explanation": "The server generates a temporary URL with a signature allowing upload to a specific object key. The client uploads directly to storage. The server never handles the file stream, but controls authorization."
  },
  {
    "id": 55028,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Golden Image Pipeline",
    "content": "What is a Golden Image Pipeline?",
    "explanation": "An automated process that builds a base VM/Container image, installs patches, applies hardening (CIS benchmarks), scans for vulnerabilities, and publishes it as the only allowed base for teams."
  },
  {
    "id": 55029,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Break-Glass Accounts",
    "content": "What is a Break-Glass account?",
    "explanation": "An emergency admin account used *only* when SSO/IdP is down. It should have a complex password stored in a physical safe, and its usage should trigger massive alerts."
  },
  {
    "id": 55030,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Agentless Scanning",
    "content": "How does Agentless Scanning work in cloud security?",
    "explanation": "The scanner snapshots the VM's disk volume via the cloud API, mounts it externally, scans the file system for vulnerabilities, and discards it. No performance impact on the running workload."
  },
  {
    "id": 55031,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "VPC Peering vs Private Link",
    "content": "Why is Private Link more secure than VPC Peering?",
    "explanation": "Peering connects entire networks (Layer 3). Private Link exposes a **single specific service** (Layer 4/7) into your network. It prevents lateral movement into the provider's network."
  },
  {
    "id": 55032,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Cloud Metadata Attack",
    "content": "How did the Capital One breach exploit cloud metadata?",
    "explanation": "SSRF vulnerability allowed the attacker to call the Instance Metadata Service. The metadata service returned the IAM Role credentials attached to the VM. The attacker used those credentials to dump S3 buckets."
  },
  {
    "id": 55033,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Secrets in Git History",
    "content": "If you delete a secret from a file in Git, is it safe?",
    "explanation": "No. It remains in the `.git` history. You must rewrite history (BFG/filter-branch) and **rotate the secret immediately**."
  },
  {
    "id": 55034,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Soft Delete for KeyVault",
    "content": "Why enable Soft Delete on KeyVaults?",
    "explanation": "Prevents accidental or malicious permanent deletion. Deleted keys enter a recycle bin for a retention period (e.g., 90 days), allowing recovery before data is permanently lost."
  },
  {
    "id": 55035,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "CASB (Cloud Access Security Broker)",
    "content": "What does a CASB do?",
    "explanation": "It sits between users and cloud apps (SaaS). It enforces policies like \"No downloading confidential files to unmanaged devices\" or \"Detect shadow IT usage\"."
  },
  {
    "id": 55036,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Network Microsegmentation",
    "content": "How does Microsegmentation improve security?",
    "explanation": "It divides the data center into tiny zones (down to the workload level). Even inside the 'App' tier, Service A cannot talk to Service B unless explicitly allowed. Limits lateral movement."
  },
  {
    "id": 55037,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Endpoint Detection and Response (EDR)",
    "content": "How does EDR differ from Antivirus?",
    "explanation": "Antivirus uses signatures to block known bad files. **EDR** monitors behavior (processes, network, registry) to detect suspicious *activity* (e.g., PowerShell downloading a file and executing it)."
  },
  {
    "id": 55038,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Identity Perimeter",
    "content": "Why is Identity the 'New Perimeter'?",
    "explanation": "Cloud resources are accessible from anywhere. Firewalls (Network Perimeter) are porous. Identity (MFA, Conditional Access) is the primary gatekeeper controlling access to data."
  },
  {
    "id": 55039,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Azure SAS vs Service Principal",
    "content": "When to use SAS tokens?",
    "explanation": "For **Temporary Client Access**. E.g., Letting a mobile app upload one file. Service Principals are for permanent backend services."
  },
  {
    "id": 55040,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Dependency Pinning",
    "content": "How does pinning dependency versions improve security?",
    "explanation": "Prevents automated updates from pulling in a compromised version (Supply Chain Attack) or a breaking change. Updates should be deliberate and tested."
  },
  {
    "id": 55041,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Blue/Green Security Scanning",
    "content": "Why scan the Green environment before switching?",
    "explanation": "Ensures the new version doesn't introduce vulnerabilities. If the scan fails, the deployment is aborted, and the Blue (Production) environment remains untouched."
  },
  {
    "id": 55042,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Cloud Trail / Activity Log",
    "content": "Why should Audit Logs be written to a separate locked account?",
    "explanation": "If an attacker compromises the Admin account, they will try to delete the logs to cover their tracks. Storing logs in a separate 'Log Archive' account (Write-Only) prevents this."
  },
  {
    "id": 55043,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Just-In-Time Secret Access",
    "content": "Why fetch secrets at startup vs runtime?",
    "explanation": "Fetching at startup keeps the secret in memory (risk of dump). Fetching at runtime ensures the app always has the latest rotated value, but adds latency/dependency on the Vault."
  },
  {
    "id": 55044,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Attestation",
    "content": "What is Device Attestation?",
    "explanation": "Verifying the health/integrity of a device (TPM, Secure Boot, OS Patch level) before granting it access to corporate resources. Part of Zero Trust."
  },
  {
    "id": 55045,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Encryption Key Hierarchies",
    "content": "Why use Envelope Encryption?",
    "explanation": "Encrypting data with a Data Key (DEK), and encrypting the DEK with a Master Key (KEK). Allows rotating the Master Key without re-encrypting terabytes of data (just re-encrypt the small DEKs)."
  },
  {
    "id": 55046,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Root Account Usage",
    "content": "Why should the Cloud Root Account be locked away?",
    "explanation": "It has unlimited power and cannot be restricted by policies. Use it only to create the initial Admins, then lock it (MFA) and never use it for daily tasks."
  },
  {
    "id": 55047,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "DNS Sec",
    "content": "What does DNSSEC prevent?",
    "explanation": "DNS Spoofing / Cache Poisoning. It adds cryptographic signatures to DNS records so clients can verify the IP address actually belongs to the domain owner."
  },
  {
    "id": 55048,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Shadow IT Discovery",
    "content": "How do you detect Shadow IT?",
    "explanation": "Analyze network egress logs for traffic to unknown SaaS applications (Dropbox, unknown AWS accounts). CASB tools automate this."
  },
  {
    "id": 55049,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "Honeypots",
    "content": "What is the value of a Cloud Honeypot?",
    "explanation": "A fake resource (e.g., a server named 'Finance-DB' with weak password). Any access to it is, by definition, unauthorized. It acts as a high-fidelity alarm for intruders."
  },
  {
    "id": 55050,
    "category": "Cloud Security",
    "difficulty": "Principal",
    "title": "DevSecOps",
    "content": "What is the core philosophy of DevSecOps?",
    "explanation": "**Security as Code**. Integrating security checks (SAST, DAST, IaC scanning) into the CI/CD pipeline so security is continuous, automated, and shared responsibility, not a gate at the end."
  }
  ,
  {
    "id": 56001,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Operator Pattern",
    "content": "What distinguishes an Operator from a simple Controller?",
    "explanation": "An Operator includes **Domain Knowledge**. A Controller just reconciles state (e.g., \"Make sure 3 pods exist\"). An Operator knows *how* to manage a complex app (e.g., \"To upgrade this Database, flush logs, lock writes, update replica 1, then master\")."
  },
  {
    "id": 56002,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "CNI (Container Network Interface)",
    "content": "What creates the `eth0` interface inside a Pod?",
    "explanation": "The **CNI Plugin** (e.g., Calico, Flannel, Cilium). Kubelet calls the CNI binary when a pod starts. The CNI allocates an IP, creates the virtual interface, and wires it to the bridge/overlay network."
  },
  {
    "id": 56003,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "CSI (Container Storage Interface)",
    "content": "Why was CSI introduced to replace In-Tree Volume plugins?",
    "explanation": "To decouple K8s release cycles from Storage Vendors. Before CSI, adding support for 'AWS EBS' required modifying the core Kubernetes binary. CSI allows vendors to ship storage drivers as standard Pods/DaemonSets."
  },
  {
    "id": 56004,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Admission Controllers",
    "content": "What is the difference between Mutating and Validating Admission Webhooks?",
    "explanation": "**Mutating**: Modifies the request *before* saving (e.g., Injecting a Sidecar container). **Validating**: Rejects the request if it violates policy (e.g., \"Image must come from private registry\"). Mutating runs first."
  },
  {
    "id": 56005,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Headless Service DNS",
    "content": "What does a DNS lookup for a Headless Service return?",
    "explanation": "A list of **IP Addresses** for *all* ready pods backing the service. Standard services return a single ClusterIP (VIP). Headless (`clusterIP: None`) allows clients to connect directly to specific pods (crucial for StatefulSets)."
  },
  {
    "id": 56006,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Kube-Proxy Modes",
    "content": "IPVS vs Iptables mode.",
    "isGood": true,
    "explanation": "**IPVS** uses hash tables and is O(1). **Iptables** is a sequential list of rules O(N). For clusters with thousands of services, IPVS is significantly faster at routing and syncing rules."
  },
  {
    "id": 56007,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Etcd Fragmentation",
    "content": "Why is etcd sensitive to disk latency?",
    "explanation": "Etcd uses **Raft** consensus. Every write must be fsync'd to the WAL on a majority of nodes. If disk latency is high (>10ms), heartbeats fail, leaders initiate re-elections, and the cluster becomes unstable."
  },
  {
    "id": 56008,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Pod Priority & Preemption",
    "content": "What happens if a high-priority pod needs scheduling but the cluster is full?",
    "explanation": "**Preemption**. The scheduler **Evicts** lower-priority pods to free up resources for the high-priority pod. The evicted pods are gracefully terminated and re-queued."
  },
  {
    "id": 56009,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Leader Election in Controllers",
    "content": "How do K8s controllers ensure only one active instance (HA)?",
    "explanation": "They use a **Lease** object in the `kube-system` namespace. The active leader constantly renews the lease. If it dies, the lease expires, and another replica acquires it."
  },
  {
    "id": 56010,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "TaintBasedEviction",
    "content": "How does the Node Controller handle a 'NotReady' node?",
    "explanation": "It adds a Taint `node.kubernetes.io/not-ready` with `NoExecute`. Pods tolerating this taint (usually with a `tolerationSeconds` limit) stay for a while. If the node doesn't recover, they are evicted."
  },
  {
    "id": 56011,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Horizontal Pod Autoscaler (HPA) Algorithm",
    "content": "How does HPA calculate the replica count?",
    "explanation": "`TargetNum = Ceil(CurrentReplicas * (CurrentMetric / DesiredMetric))`. It has a built-in buffer (tolerance) to prevent thrashing (rapid scale up/down)."
  },
  {
    "id": 56012,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Static Pods",
    "content": "How to update a Static Pod?",
    "explanation": "You cannot use `kubectl`. You must edit the manifest file in the `/etc/kubernetes/manifests` directory on the specific Node. The Kubelet watches this folder and restarts the pod."
  },
  {
    "id": 56013,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Ingress vs Gateway API",
    "content": "Why is the Gateway API replacing Ingress?",
    "explanation": "Ingress was too simple (only Host/Path routing). **Gateway API** is role-oriented (GatewayClass, Gateway, HTTPRoute), vendor-neutral, and supports advanced routing (Headers, Weighting, Traffic Splitting) natively."
  },
  {
    "id": 56014,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Workload Identity (Azure/AWS)",
    "content": "How does a Pod authenticate with Cloud Resources without secrets?",
    "explanation": "OIDC Federation. K8s issues a JWT (ServiceAccount Token). The Pod exchanges this token with the Cloud Provider (Azure AD/AWS IAM) for temporary cloud credentials. No static secrets stored in the cluster."
  },
  {
    "id": 56015,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Pod Topology Spread Constraints",
    "content": "How to ensure pods are evenly distributed across Zones?",
    "explanation": "Use `topologySpreadConstraints`. `maxSkew: 1`, `topologyKey: topology.kubernetes.io/zone`. Ensures the difference in pod count between any two zones is at most 1."
  },
  {
    "id": 56016,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Vertical Pod Autoscaler (VPA) Limitations",
    "content": "Does VPA restart pods?",
    "explanation": "Yes. To change resource requests/limits, the Pod must be recreated (UpdateMode: Auto). In 'Off' mode, it only recommends changes. 'In-Place' updates are a work in progress (alpha)."
  },
  {
    "id": 56017,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Overlay Network",
    "content": "What is VXLAN encapsulation in CNI?",
    "explanation": "It wraps Layer 2 Ethernet frames inside Layer 4 UDP packets. This allows Pods on different Nodes to communicate as if they are on the same flat network, even if the underlying physical network is routed/segmented."
  },
  {
    "id": 56018,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Ephemeral Containers",
    "content": "How to debug a crashed pod that has no shell (Distroless)?",
    "explanation": "`kubectl debug`. It launches an **Ephemeral Container** attached to the target Pod's namespaces (PID, Network). This debug container can have tools (curl, busybox) that the app container lacks."
  },
  {
    "id": 56019,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Finalizers in CRDs",
    "content": "Why does a deleted Namespace sometimes get stuck in 'Terminating'?",
    "explanation": "It has a **Finalizer**. K8s cannot delete the object until the controller responsible for that finalizer removes it. Usually waiting for external resources (like LoadBalancers) to clean up."
  },
  {
    "id": 56020,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Node Pressure Eviction",
    "content": "What happens when a node runs out of RAM?",
    "explanation": "Kubelet triggers **Eviction**. It kills pods to reclaim memory. It targets pods usage > request, prioritizing BestEffort and Burstable QoS classes. Guaranteed pods are last to go."
  },
  {
    "id": 56021,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Service Account Token Volume Projection",
    "content": "Why prefer Projected Volumes for ServiceAccount tokens?",
    "explanation": "They allow token rotation (bound to pod lifecycle) and audience scoping. The old secret-based tokens were static and never expired (security risk)."
  },
  {
    "id": 56022,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Cert-Manager",
    "content": "How does Cert-Manager automate TLS?",
    "explanation": "It watches `Certificate` CRDs. It solves the ACME challenge (DNS-01 or HTTP-01) with Let's Encrypt, creates the Secret with the TLS cert, and rotates it before expiry automatically."
  },
  {
    "id": 56023,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "API Aggregation Layer",
    "content": "What allows `kubectl top` (Metrics Server) to work?",
    "explanation": "The **Aggregation Layer**. It allows extending the Kubernetes API with custom servers. Request to `/apis/metrics.k8s.io` is proxied by the API Server to the Metrics Server pod."
  },
  {
    "id": 56024,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "RunAsNonRoot",
    "content": "What does `securityContext: runAsNonRoot: true` verify?",
    "explanation": "Kubelet checks the container image metadata. If the image is built to run as UID 0 (Root) or doesn't specify a user, Kubelet refuses to start the pod. Enforces security at startup."
  },
  {
    "id": 56025,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Descheduler",
    "content": "What is the purpose of the K8s Descheduler?",
    "explanation": "The default Scheduler only runs at Pod creation. Over time, the cluster becomes unbalanced (fragmented). The **Descheduler** evicts running pods based on policy (e.g., node utilization, anti-affinity) to force them to be rescheduled correctly."
  },
  {
    "id": 56026,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "LimitRange vs ResourceQuota",
    "content": "Difference?",
    "isGood": true,
    "explanation": "**LimitRange**: Sets defaults/min/max for a *single* pod. **ResourceQuota**: Sets aggregate limits for the *entire namespace* (e.g., \"Total 20 CPUs\")."
  },
  {
    "id": 56027,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "ReadWriteMany (RWX)",
    "content": "Can AWS EBS or Azure Disk provide RWX?",
    "explanation": "No. Block storage is ReadWriteOnce (single node). For RWX, you need **File Storage** (NFS, Azure Files, AWS EFS) which supports concurrent locking."
  },
  {
    "id": 56028,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "StatefulSet Stable Network ID",
    "content": "Why do StatefulSet pods have predictable names?",
    "explanation": "DNS entries `pod-0.service`, `pod-1.service` persist across restarts. This allows peers (like Zookeeper nodes) to find each other by name even if IPs change."
  },
  {
    "id": 56029,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Init Container Ordering",
    "content": "Do Init Containers run in parallel?",
    "explanation": "No. They run **Sequentially**. Init Container 1 must complete successfully before Init Container 2 starts. If any fail, the pod restarts."
  },
  {
    "id": 56030,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Graceful Shutdown (PreStop)",
    "content": "Why use a `PreStop` hook with `sleep 10`?",
    "explanation": "When a pod is terminated, the Endpoint removal (async) might take time to propagate to the Load Balancer. The sleep keeps the pod alive to serve existing requests while new traffic stops arriving."
  },
  {
    "id": 56031,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Cluster Autoscaler vs HPA",
    "content": "How do they interact?",
    "explanation": "HPA adds Pods. If Nodes are full, Pods go 'Pending'. Cluster Autoscaler sees Pending pods and provisions a new Node. HPA scales *workload*; Cluster Autoscaler scales *infrastructure*."
  },
  {
    "id": 56032,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Kubelet Garbage Collection",
    "content": "When does Kubelet delete old images?",
    "explanation": "When disk usage exceeds `image-gc-high-threshold` (default 85%). It deletes unused images (LRU) until usage drops to `low-threshold`."
  },
  {
    "id": 56033,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "HostNetwork",
    "content": "When to use `hostNetwork: true`?",
    "explanation": "Rarely. It bypasses CNI and uses the Node's IP directly. Used by system components (CNI plugins, Load Balancers) that need low-level network access. Security risk."
  },
  {
    "id": 56034,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "ExternalDNS",
    "content": "What does ExternalDNS do?",
    "explanation": "It watches Ingress/Service resources and automatically creates DNS records (A/CNAME) in the cloud provider (Route53, Azure DNS). Automation for public endpoint exposure."
  },
  {
    "id": 56035,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "VolumeSnapshot",
    "content": "How to backup a PVC?",
    "explanation": "Use `VolumeSnapshot` CRD. It triggers the storage provider (CSI) to take a snapshot of the underlying disk (EBS/Managed Disk) instantly."
  },
  {
    "id": 56036,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Pod Security Admission (PSA)",
    "content": "What replaced PodSecurityPolicy (PSP)?",
    "explanation": "**Pod Security Admission**. Built-in controller that enforces standards (Privileged, Baseline, Restricted) via Namespace labels. Simpler than PSP."
  },
  {
    "id": 56037,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Kaniko",
    "content": "Why use Kaniko in K8s CI/CD?",
    "explanation": "To build Docker images *inside* a container without needing the Docker Daemon (daemonless). Secure way to build images in Kubernetes clusters."
  },
  {
    "id": 56038,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "CoreDNS",
    "content": "What is the role of CoreDNS?",
    "explanation": "Cluster-internal DNS server. Resolves Service names (`my-svc.default.svc.cluster.local`) to ClusterIPs. Can be configured with plugins to forward external queries."
  },
  {
    "id": 56039,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Multi-Tenancy",
    "content": "Hard vs Soft Multi-Tenancy.",
    "isGood": true,
    "explanation": "**Soft**: Namespaces + RBAC. Trusted teams sharing a cluster. **Hard**: Virtual Clusters (vCluster) or separate control planes. Untrusted tenants (SaaS customers)."
  },
  {
    "id": 56040,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Sealed Secrets",
    "content": "What problem does Bitnami Sealed Secrets solve?",
    "explanation": "GitOps problem. You can't commit raw Secrets to Git. Sealed Secrets allows you to encrypt the secret (offline public key) and commit it. The in-cluster controller (private key) decrypts it to a native K8s Secret."
  },
  {
    "id": 56041,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Raw Block Volume",
    "content": "When to use `volumeMode: Block`?",
    "explanation": "When the application (e.g., Database) manages disk storage directly for performance, bypassing the filesystem overhead. The Pod sees a raw block device (`/dev/xvda`)."
  },
  {
    "id": 56042,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Topology Aware Hints",
    "content": "What is Topology Aware Routing?",
    "explanation": "Prefer keeping traffic in the same Zone. If a caller is in Zone A, Kube-Proxy prefers routing to a Service endpoint in Zone A. Saves cross-zone data transfer costs."
  },
  {
    "id": 56043,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Karpenter",
    "content": "How does Karpenter improve scaling over standard Cluster Autoscaler?",
    "explanation": "It bypasses Node Groups. It looks at the Pending pods and provisions the *exact* right instance type (e.g., Spot, GPU) directly via cloud API. Faster and cheaper packing."
  },
  {
    "id": 56044,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "API Priority and Fairness",
    "content": "How does APF protect the Control Plane?",
    "explanation": "It prevents a flood of requests (e.g., from a buggy controller) from starving critical system components. It queues requests into FlowSchemas with priorities."
  },
  {
    "id": 56045,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Informers / SharedInformer",
    "content": "How do Controllers watch resources efficiently?",
    "explanation": "They use **Informers** with a local Cache. Instead of polling the API server, they subscribe to streams of events (Watch). `SharedInformer` allows multiple controllers to share the same cache, reducing API load."
  },
  {
    "id": 56046,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Lease Object",
    "content": "What is the Lease object used for?",
    "explanation": "Lightweight leader election and Node heartbeats. Nodes update their Lease object to prove they are alive. Much cheaper than updating the huge Node status object."
  },
  {
    "id": 56047,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Image Tag Mutability",
    "content": "Why use Digest (`@sha256:...`) instead of Tags in Prod?",
    "explanation": "Tags are mutable. `v1.0` can be overwritten with bad code. Digests are immutable content hashes. Guarantees exact reproducibility."
  },
  {
    "id": 56048,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "OOM Score Adj",
    "content": "How does QoS class affect OOM Kill order?",
    "explanation": "**Guaranteed** pods have lower `oom_score_adj` (protected). **BestEffort** pods have high score (killed first). K8s tells the Linux Kernel who to kill when RAM is low."
  },
  {
    "id": 56049,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Startup Probe",
    "content": "Why add a Startup Probe if you have Liveness?",
    "explanation": "Liveness kills the pod if it fails. If a legacy app takes 5 mins to boot, Liveness kills it at minute 1. **Startup Probe** disables Liveness checks until the app successfully starts once."
  },
  {
    "id": 56050,
    "category": "Kubernetes Advanced",
    "difficulty": "Principal",
    "title": "Kubernetes Federation (KubeFed)",
    "content": "What is KubeFed?",
    "explanation": "Coordinating multiple clusters. Syncing resources (ConfigMaps, Deployments) across US-East and EU-West clusters for global consistency."
  }
  ,
  {
    "id": 57001,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Data Plane vs Control Plane",
    "content": "What is the difference between the Data Plane and Control Plane in Istio?",
    "explanation": "**Data Plane**: The Sidecar Proxies (Envoy) that intercept and route actual traffic. **Control Plane** (Istiod): The brain that configures the proxies, manages certs, and enforces policies."
  },
  {
    "id": 57002,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "mTLS Implementation",
    "content": "How does a Service Mesh transparently upgrade HTTP to mTLS?",
    "explanation": "The Sidecar A intercepts outbound HTTP traffic, encrypts it (TLS), and sends it to Sidecar B. Sidecar B decrypts it and forwards HTTP to App B. The Apps don't know encryption happened."
  },
  {
    "id": 57003,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Traffic Splitting",
    "content": "How do you implement a Canary Release (1% traffic) using Service Mesh?",
    "explanation": "Define a `VirtualService`. Set weights: `v1: 99`, `v2: 1`. The Sidecar uses a probabilistic counter to route 1% of requests to the v2 subset, completely independent of the replica count."
  },
  {
    "id": 57004,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Circuit Breaking (Mesh vs Polly)",
    "content": "Why use Mesh Circuit Breakers over Code (Polly)?",
    "explanation": "Mesh is **Language Agnostic**. It works for Java, Go, and C# services identically. It detects 'Network' level failures. Code (Polly) is better for 'Business Logic' failures or complex fallback logic the network layer can't see."
  },
  {
    "id": 57005,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Fault Injection",
    "content": "How can you test resilience without killing pods?",
    "explanation": "Use **Fault Injection**. Configure the Mesh to inject artificial delays (5s latency) or aborts (HTTP 500) for 10% of requests. Verify if the calling application handles it gracefully."
  },
  {
    "id": 57006,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Observability (Golden Signals)",
    "content": "What observability do you get 'for free' with a Mesh?",
    "explanation": "The Sidecar measures every Request/Response. You get **Latency, Error Rate, and Throughput** (RED metrics) and Distributed Tracing spans for every hop, without modifying application code."
  },
  {
    "id": 57007,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Sidecar Latency Overhead",
    "content": "Does a Service Mesh slow down requests?",
    "explanation": "Yes. Every hop adds ~2-5ms (double proxying: Client->Sidecar->Network->Sidecar->Server). For most apps, the security/observability benefits outweigh this. For HFT, it might be too much."
  },
  {
    "id": 57008,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Ingress Gateway vs Mesh",
    "content": "What is the role of the Istio Ingress Gateway?",
    "explanation": "It controls traffic *entering* the mesh (North-South). It performs Edge termination (SSL), authentication, and routing before handing traffic off to the internal sidecars (East-West)."
  },
  {
    "id": 57009,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Linkerd vs Istio",
    "content": "Why choose Linkerd over Istio?",
    "explanation": "Linkerd focuses on **Simplicity** and **Performance** (written in Rust, specialized micro-proxy). Istio is feature-rich (Envoy based) but complex to manage. Linkerd is often 'install and forget'."
  },
  {
    "id": 57010,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Retries and Timeouts",
    "content": "Where should Retries be configured in a Mesh?",
    "explanation": "In the `VirtualService`. You can specify `attempts: 3` and `perTryTimeout: 2s`. The Sidecar handles the retry loop. If it fails, the app receives a single 503."
  },
  {
    "id": 57011,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Outlier Detection",
    "content": "What is Outlier Detection (Passive Health Check)?",
    "explanation": "The Mesh monitors real traffic. If a specific pod returns 5xx errors consistently (Outlier), the Mesh **ejects** it from the load balancing pool for a distinct period (e.g., 5 mins)."
  },
  {
    "id": 57012,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Authorization Policies",
    "content": "How to enforce Service-to-Service AuthZ?",
    "explanation": "Define `AuthorizationPolicy`. \"Service A can only GET /api/v1 from Service B\". The Sidecar enforces this at the network level based on the mTLS identity (SPIFFE ID)."
  },
  {
    "id": 57013,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "SPIFFE / SPIRE",
    "content": "What is SPIFFE?",
    "explanation": "Secure Production Identity Framework For Everyone. Standard for service identity. It assigns a URI (`spiffe://cluster/ns/default/sa/frontend`) to workloads, encoded in the mTLS certificate."
  },
  {
    "id": 57014,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Traffic Mirroring (Shadowing)",
    "content": "What is Traffic Mirroring?",
    "explanation": "Sending a *copy* of live production traffic to a v2 (Shadow) service. The response from v2 is discarded. Allows testing v2 with real data/load without affecting users."
  },
  {
    "id": 57015,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Destination Rule",
    "content": "What does a DestinationRule configure?",
    "explanation": "It configures what happens *after* routing. Load Balancing algorithms (Round Robin, Least Request), Connection Pool settings, and Outlier Detection logic."
  },
  {
    "id": 57016,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Locality Load Balancing",
    "content": "How does a Mesh save cross-zone costs?",
    "explanation": "It prioritizes routing traffic to a pod in the **Same Zone/Region**. Only if local pods are unhealthy does it failover to another zone."
  },
  {
    "id": 57017,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Egress Gateway",
    "content": "Why route outbound traffic through an Egress Gateway?",
    "explanation": "To enforce policies on traffic *leaving* the mesh (e.g., \"Only allow calls to `api.stripe.com`\"). It provides a static exit IP and centralized auditing for external calls."
  },
  {
    "id": 57018,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Mixer (Deprecated)",
    "content": "Why was Istio Mixer removed?",
    "explanation": "It was a bottleneck. All telemetry/policy checks went to a central Mixer component. Modern Istio pushes this logic into the Envoy sidecars (Wasm extensions) for better performance."
  },
  {
    "id": 57019,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Envoy Proxy",
    "content": "What is Envoy?",
    "explanation": "A high-performance C++ proxy. It is the data plane implementation for Istio, Consul, and others. It handles the low-level byte shoveling and protocol parsing."
  },
  {
    "id": 57020,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Ambient Mesh (Istio)",
    "content": "What is Ambient Mesh?",
    "explanation": "Sidecar-less architecture. It uses a per-node Layer 4 proxy (Ztunnel) for mTLS and a Layer 7 proxy (Waypoint) only when needed. Reduces resource overhead and upgrade complexity."
  },
  {
    "id": 57021,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Service Entry",
    "content": "How to register an external DB in the Mesh?",
    "explanation": "Create a `ServiceEntry`. It adds the external endpoint (e.g., RDS DNS) to the Mesh's internal service registry, allowing you to apply policies/routing to it like a local service."
  },
  {
    "id": 57022,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "VirtualService vs DestinationRule",
    "content": "Difference?",
    "isGood": true,
    "explanation": "**VirtualService**: Routing (How to get there? Path matching, Splitting). **DestinationRule**: Policy (What to do when you arrive? LB algo, Circuit Breaker)."
  },
  {
    "id": 57023,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Headless Services in Mesh",
    "content": "Does Mesh load balancing work with Headless Services?",
    "explanation": "Typically No. Headless services rely on DNS to return all IPs, and the Client picks one. The Mesh usually load balances requests itself. Be careful mixing them."
  },
  {
    "id": 57024,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "JWT Validation at Edge",
    "content": "Can the Mesh validate JWTs?",
    "explanation": "Yes. `RequestAuthentication` policy. The Sidecar validates the JWT signature (using JWKS) before passing the request to the app. Offloads crypto from the app."
  },
  {
    "id": 57025,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Distributed Tracing Integration",
    "content": "Does the Mesh generate traces automatically?",
    "explanation": "It generates *spans* for the network hops, BUT the application must propagate the headers (`b3` or `traceparent`). If the app drops headers, the trace is broken."
  },
  {
    "id": 57026,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Rate Limiting",
    "content": "Global vs Local Rate Limiting.",
    "isGood": true,
    "explanation": "**Local**: Per-instance limit. **Global**: Cluster-wide limit (requires a shared counter service/Redis). Global is more accurate but adds latency."
  },
  {
    "id": 57027,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Wasm Extensions",
    "content": "How do you add custom logic to Envoy?",
    "explanation": "Write a WebAssembly (Wasm) filter. Envoy executes the Wasm sandbox in the request path. Allows custom header manipulation or complex logic without recompiling Envoy."
  },
  {
    "id": 57028,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Multi-Cluster Mesh",
    "content": "How to connect services across two K8s clusters?",
    "explanation": "Istio Multi-Cluster. The East-West gateway routes traffic between clusters securely over mTLS. Service A in Cluster 1 can talk to Service B in Cluster 2 seamlessly."
  },
  {
    "id": 57029,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Sticky Sessions",
    "content": "Does Mesh support Sticky Sessions?",
    "explanation": "Yes, usually via Hash-based load balancing (Source IP or Cookie). `DestinationRule` -> `trafficPolicy` -> `loadBalancer` -> `consistentHash`."
  },
  {
    "id": 57030,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Control Plane Failure",
    "content": "What happens if Istiod goes down?",
    "explanation": "Existing proxies continue working (they have cached config). New pods cannot start (sidecar injection fails) and configuration changes cannot be pushed."
  },
  {
    "id": 57031,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "CNI Integration",
    "content": "Why use Istio CNI plugin?",
    "explanation": "It replaces the `init-container` requirement. `init-containers` need `NET_ADMIN` privileges to modify iptables. CNI handles this at node level, improving security."
  },
  {
    "id": 57032,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Debugging Proxy",
    "content": "How to debug Envoy config?",
    "explanation": "`istioctl proxy-config`. Inspects the raw Listener, Route, and Cluster configurations dumped from the active pod's Envoy."
  },
  {
    "id": 57033,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Consul Connect",
    "content": "What is Consul's approach to Service Mesh?",
    "explanation": "Consul uses its existing Service Discovery agent. It spawns Envoy sidecars that query the local Consul agent for routing/mTLS info."
  },
  {
    "id": 57034,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "TCP vs HTTP Traffic",
    "content": "Can Mesh handle raw TCP (DB traffic)?",
    "explanation": "Yes, but with fewer features. You get mTLS and TCP metrics (bytes sent). You don't get HTTP-specific features like Header-based routing or Retries on 503."
  },
  {
    "id": 57035,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Protocol Detection",
    "content": "How does Istio know it's HTTP?",
    "explanation": "It sniffs the first few bytes. If ambiguous, it falls back to TCP. You should explicit name ports `http-80` to avoid sniffing overhead/errors."
  },
  {
    "id": 57036,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Certificate Rotation",
    "content": "How does Mesh simplify cert rotation?",
    "explanation": "It's automatic. The Control Plane mints short-lived certificates (e.g., 1 hour). The Sidecar agent rotates them seamlessly. No manual intervention."
  },
  {
    "id": 57037,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "PeerAuthentication",
    "content": "How to enforce mTLS strictly?",
    "explanation": "Set `PeerAuthentication` mode to `STRICT`. The sidecar will reject any plain-text traffic. Default is often `PERMISSIVE` to allow migration."
  },
  {
    "id": 57038,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Smart DNS",
    "content": "What is Smart DNS in Linkerd?",
    "explanation": "The sidecar intercepts DNS queries. It returns the VIP, but also primes its internal load balancer with the actual endpoint IPs, ready for traffic."
  },
  {
    "id": 57039,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Canary Analysis (Flagger)",
    "content": "How does Flagger automate Canary with Mesh?",
    "explanation": "It talks to the Mesh (to shift weights) and Prometheus (to check metrics). It increments traffic 5% -> 10%. If error rate rises, it commands the Mesh to revert weights to 0%."
  },
  {
    "id": 57040,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Mesh Federation",
    "content": "Connecting Istio and Linkerd?",
    "explanation": "Very hard. Requires a Gateway bridge. Usually better to stick to one Mesh technology per organization."
  },
  {
    "id": 57041,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Request Timeout",
    "content": "App Timeout vs Mesh Timeout.",
    "isGood": true,
    "explanation": "The stricter one wins. If Mesh timeout is 5s and App timeout is 10s, client sees 504 Gateway Timeout at 5s."
  },
  {
    "id": 57042,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Init Container Race",
    "content": "App starts before Sidecar is ready.",
    "isGood": false,
    "explanation": "App tries to connect to DB and fails because Sidecar networking isn't up. Fix: Use `holdApplicationUntilProxyStarts` config."
  },
  {
    "id": 57043,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "External Authorization",
    "content": "Delegating Auth to OPA.",
    "isGood": true,
    "explanation": "Envoy supports `ext_authz` filter. It pauses the request, calls an external OPA service for a decision, and then proceeds or rejects."
  },
  {
    "id": 57044,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Telemetry Customization",
    "content": "Adding custom dimensions.",
    "isGood": true,
    "explanation": "You can configure Envoy to extract specific HTTP headers (e.g., `x-customer-id`) and add them as tags to the Prometheus metrics it generates."
  },
  {
    "id": 57045,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Soft Multitenancy",
    "content": "Is Mesh enough for isolation?",
    "explanation": "No. It provides traffic segmentation, but it runs on shared kernel/hardware. For hard isolation, you need separate clusters/nodes."
  },
  {
    "id": 57046,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Failsafe",
    "content": "What if the sidecar crashes?",
    "explanation": "Traffic stops. K8s restarts the container. The Pod is effectively down during the restart."
  },
  {
    "id": 57047,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Envoy Filter",
    "content": "Using `EnvoyFilter` CRD.",
    "isGood": true,
    "explanation": "**Advanced**. Allows patching the generated Envoy configuration directly. Powerful but fragile (can break on Istio upgrades)."
  },
  {
    "id": 57048,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Access Log format",
    "content": "Structured logs.",
    "isGood": true,
    "explanation": "Configure Mesh to output Access Logs in JSON format instead of text. Makes ingestion into ELK/Splunk much easier."
  },
  {
    "id": 57049,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "Gateway Topology",
    "content": "Shared vs Dedicated Gateway.",
    "isGood": true,
    "explanation": "Dedicated Gateway per team/domain avoids 'Noisy Neighbor' config issues where one team's bad config breaks ingress for everyone."
  },
  {
    "id": 57050,
    "category": "Service Mesh",
    "difficulty": "Principal",
    "title": "The Cost of Mesh",
    "content": "Resource usage.",
    "isGood": true,
    "explanation": "Sidecars consume CPU/RAM. In a cluster with 1000 pods, you have 1000 Envoy instances. This can consume 10-20% of cluster resources. Optimize resource limits."
  }
  ,
  {
    "id": 58001,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Terraform State Locking",
    "content": "Why is State Locking critical in a team environment?",
    "explanation": "Terraform State is a JSON file mapping real resources to config. If two engineers run `apply` simultaneously, they might corrupt the state file or create conflicting resources. Locking (via DynamoDB/Azure Blob) ensures serialized execution."
  },
  {
    "id": 58002,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Module Versioning",
    "content": "How do you safely update a shared Terraform Module used by 50 teams?",
    "explanation": "**Semantic Versioning**. Tag the module repo (v1.0, v1.1). Consumers reference specific tags `source = \"git::...ref=v1.0\"`. Never point to `master` branch in production code, or a breaking change in the module will break all 50 teams instantly."
  },
  {
    "id": 58003,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Drift Detection",
    "content": "What is Infrastructure Drift and how do you handle it?",
    "explanation": "Drift occurs when resources are modified manually (ClickOps) outside of IaC. Run `terraform plan` on a schedule. If it detects changes, alert the team. Strict remediation involves auto-applying the plan to revert the manual changes (Immutable Infrastructure)."
  },
  {
    "id": 58004,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Secrets in State File",
    "content": "Terraform outputs a Database Password. Is it secure?",
    "explanation": "**(Security Risk).** No. Terraform stores all resource attributes, including secrets, in **Plain Text** in the `terraform.tfstate` file. You must secure the Backend (S3/Azure) with encryption and strict RBAC. Ideally, generate secrets outside Terraform or use a Provider that supports ephemeral credentials."
  },
  {
    "id": 58005,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Count vs For_Each",
    "content": "Why is `for_each` preferred over `count` for creating lists of resources?",
    "explanation": "`count` relies on list index (0, 1, 2). If you remove item 0, Terraform shifts all subsequent items (1 becomes 0), forcing a **Destroy/Recreate** of *all* resources. `for_each` uses map keys (stable identifiers), so removing one key only destroys that specific resource."
  },
  {
    "id": 58006,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Sentinel / OPA Policies",
    "content": "What is Policy as Code?",
    "explanation": "Automated guardrails. Before `apply`, the code is checked against rules. \"S3 buckets must not be public\", \"VMs must not be larger than Large\". OPA (Open Policy Agent) or Sentinel enforces this compliance in the pipeline."
  },
  {
    "id": 58007,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Data Sources",
    "content": "When should you use a Data Source instead of a Resource?",
    "explanation": "**Resource**: You want to *manage* the lifecycle (Create/Update/Delete). **Data Source**: You want to *read* information about an existing resource managed by someone else (e.g., look up the ID of the shared VPC). Data Sources are Read-Only."
  },
  {
    "id": 58008,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Provider Architecture",
    "content": "How does Terraform talk to AWS/Azure?",
    "explanation": "Via **Providers**. A Provider is a plugin (Go binary) that translates HCL configuration into API calls for the specific cloud vendor. The Core engine handles the graph/state; the Provider handles the CRUD operations."
  },
  {
    "id": 58009,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Importing Resources",
    "content": "How do you bring existing manual infrastructure under Terraform control?",
    "explanation": "Use `terraform import`. It maps the real-world ID (AWS ARN) to your configuration block in the state file. You must then write the matching HCL code manually (or use tools like `terraformer` to generate it)."
  },
  {
    "id": 58010,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Bicep Decompilation",
    "content": "Can you convert an existing ARM template to Bicep?",
    "explanation": "Yes. `az bicep decompile --file template.json`. It attempts to convert verbose JSON ARM templates into clean Bicep syntax. Cleanup is usually required."
  },
  {
    "id": 58011,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Dependency Graph",
    "content": "How does Terraform know the order to create resources?",
    "explanation": "It builds a **Directed Acyclic Graph (DAG)** based on implicit dependencies (interpolation `var.vpc_id`) and explicit dependencies (`depends_on`). It walks the graph to execute independent nodes in parallel."
  },
  {
    "id": 58012,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Workspaces",
    "content": "When should you use Terraform Workspaces vs Separate Directories?",
    "explanation": "Use Workspaces for identical environments (Dev/Stage/Prod) with the *exact same* config structure. Use Separate Directories for different architectural components (Network vs App). Workspaces share the same backend config, which can be risky."
  },
  {
    "id": 58013,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Immutable vs Mutable Infrastructure",
    "content": "Does IaC imply Immutable Infrastructure?",
    "explanation": "Not strictly, but it enables it. **Mutable**: Ansible updating packages on a live VM (Drift risk). **Immutable**: Packer + Terraform building a new VM Image and replacing the old one. Immutable is preferred for reliability."
  },
  {
    "id": 58014,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Tainted Resources",
    "content": "What is a 'Tainted' resource?",
    "explanation": "A resource that failed to provision correctly (partial state). Terraform marks it as tainted. On the next apply, Terraform will force-destroy and recreate it to ensure a clean state."
  },
  {
    "id": 58015,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Dynamic Blocks",
    "content": "When to use `dynamic` blocks in Terraform?",
    "explanation": "To generate nested blocks (like `ingress` rules in a Security Group) based on a list or map variable. Prevents copy-pasting the same block 10 times."
  },
  {
    "id": 58016,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Local Exec Provisioner",
    "content": "Why are Provisioners (`local-exec`) considered a last resort?",
    "explanation": "They break the declarative model. They run arbitrary scripts that Terraform cannot track. If the script fails, Terraform might think the resource was created successfully. Use `user_data` or Cloud-Init instead."
  },
  {
    "id": 58017,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Terragrunt",
    "content": "What problem does Terragrunt solve?",
    "explanation": "It reduces boilerplate (DRY) in Terraform wrapper code. It manages remote state configuration automatically and allows executing commands across multiple modules/environments at once."
  },
  {
    "id": 58018,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Module Composition",
    "content": "Should modules contain providers?",
    "explanation": "**(Anti-Pattern).** No. Modules should inherit providers from the root configuration. Hardcoding providers prevents the user from customizing the provider (e.g., setting a different region or alias)."
  },
  {
    "id": 58019,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "State Splitting",
    "content": "Why split state files into Network, Data, and App layers?",
    "explanation": "To reduce **Blast Radius**. If the App deployment fails, it shouldn't risk deleting the VNET or Database. It also speeds up `plan` execution by checking fewer resources."
  },
  {
    "id": 58020,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Sensitive Input Variables",
    "content": "How to hide variable values in CLI output?",
    "explanation": "Mark the variable as `sensitive = true`. Terraform will redact the value (`<sensitive>`) in the `plan` and `apply` output logs. Note: It is still visible in the state file."
  },
  {
    "id": 58021,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Conditional Resource Creation",
    "content": "How to create a resource only if `var.create_db` is true?",
    "explanation": "Use `count = var.create_db ? 1 : 0`. If false, count is 0, and nothing is created. This is the standard pattern for optional resources."
  },
  {
    "id": 58022,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Pulumi vs Terraform",
    "content": "Why choose Pulumi?",
    "explanation": "Pulumi uses real programming languages (C#, TS, Python) instead of HCL. Allows using loops, classes, and debugging tools. Great for devs, but HCL is often preferred by Ops for its declarative simplicity."
  },
  {
    "id": 58023,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Terraform Graph",
    "content": "How to visualize dependencies?",
    "explanation": "`terraform graph | dot -Tpng`. Generates a visual dependency graph. Useful for debugging circular dependencies or understanding initialization order."
  },
  {
    "id": 58024,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Lock ID",
    "content": "How to break a stuck Terraform lock?",
    "explanation": "`terraform force-unlock <LOCK_ID>`. Only do this if you are absolutely sure the process holding the lock (e.g., a crashed CI job) is dead. Otherwise, you risk state corruption."
  },
  {
    "id": 58025,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Bicep modules",
    "content": "How to consume a Bicep module from a private registry?",
    "explanation": "Publish the module to an Azure Container Registry (ACR). Reference it using `br:myregistry.azurecr.io/module:v1` syntax. Supports versioning and access control."
  },
  {
    "id": 58026,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Refactoring State",
    "content": "How to move a resource to a module without destroying it?",
    "explanation": "Use `terraform state mv`. It moves the resource in the state file (`aws_instance.web` -> `module.server.aws_instance.web`). Terraform sees it as a rename, not a destroy/create."
  },
  {
    "id": 58027,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Ephemeral Environments",
    "content": "How to automate creating/destroying environments for PRs?",
    "explanation": "Use a unique Workspace or State Key per PR (e.g., `app-pr-123`). CI applies the infra, runs tests, then runs `terraform destroy`. Requires strict isolation (no shared global names)."
  },
  {
    "id": 58028,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Null Resource",
    "content": "What is `null_resource` used for?",
    "explanation": "A dummy resource that does nothing but allows running Provisioners or triggering lifecycle events based on triggers (e.g., running a script whenever a config file changes)."
  },
  {
    "id": 58029,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Validation Blocks",
    "content": "How to enforce variable format constraints?",
    "explanation": "Use a `validation` block inside the `variable`. `condition = length(var.name) > 3`. `error_message = \"Name too short\"`. Fails fast before hitting the cloud API."
  },
  {
    "id": 58030,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Prevent Destroy",
    "content": "How to protect the production database from accidental `terraform destroy`?",
    "explanation": "Use `lifecycle { prevent_destroy = true }`. Terraform will error out if a plan attempts to destroy this resource. Must be removed manually to allow deletion."
  },
  {
    "id": 58031,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Remote Backend vs Local",
    "content": "Why never use Local Backend in a team?",
    "explanation": "Local state is stored on your laptop. Teammates cannot see it. CI cannot see it. Leads to conflicts and overwrites. Always use Remote (S3/Azure/Consul)."
  },
  {
    "id": 58032,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "ARM Template Deployment Mode",
    "content": "Incremental vs Complete.",
    "isGood": true,
    "explanation": "**Incremental**: Adds/Updates resources in the template. Leaves others alone. **Complete**: Deletes *everything* in the Resource Group that is NOT in the template. Dangerous but ensures clean state."
  },
  {
    "id": 58033,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Terraform Console",
    "content": "What is it?",
    "explanation": "Interactive shell to test interpolations and expressions (`terraform console`). Useful for debugging complex variable logic before running a plan."
  },
  {
    "id": 58034,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Dynamic Provider configuration",
    "content": "Can you iterate over Providers?",
    "explanation": "No. Providers must be static blocks. You cannot use `for_each` on a Provider block to deploy to 50 regions dynamically. You must generate the HCL (via script) or use a wrapper tool."
  },
  {
    "id": 58035,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Sentinel Policies",
    "content": "Enforcing compliance.",
    "isGood": true,
    "explanation": "Enterprise feature. Policies run between Plan and Apply. \"If `plan.resource.cost > $100`, require manager approval\". \"If `sg.ingress == 0.0.0.0/0`, hard fail\"."
  },
  {
    "id": 58036,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Terraform Refresh",
    "content": "What does `refresh` do?",
    "explanation": "Updates the state file with the real-world status of resources. It does not modify infrastructure. `plan` and `apply` run refresh automatically unless disabled."
  },
  {
    "id": 58037,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "AzAPI Provider",
    "content": "What is the AzAPI Terraform provider?",
    "explanation": "A thin layer over the ARM REST API. Allows managing Azure resources that the official AzureRM provider doesn't support yet (Day 0 support). Uses JSON bodies."
  },
  {
    "id": 58038,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Cross-Stack References",
    "content": "How to reference a VPC ID created in another Terraform stack?",
    "explanation": "Use `terraform_remote_state` data source. It reads the read-only outputs from the other stack's state file. Decouples the stacks."
  },
  {
    "id": 58039,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "CDK (Cloud Development Kit)",
    "content": "What is CDKTF?",
    "explanation": "Cloud Development Kit for Terraform. Generate Terraform JSON using TypeScript/Python/C# instead of HCL. Compiles code to HCL/JSON."
  },
  {
    "id": 58040,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Self-Service Infrastructure",
    "content": "Pattern.",
    "isGood": true,
    "explanation": "Platform team builds Terraform Modules. Product teams consume them via a Service Catalog. Developers provision vetted infrastructure without being cloud experts."
  },
  {
    "id": 58041,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Versioning State",
    "content": "Why enable versioning on the S3 bucket holding State?",
    "explanation": "To recover from a corrupted state file. If a bad `apply` or manual error destroys the state, you can rollback to the previous version of the file in S3."
  },
  {
    "id": 58042,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Override Files",
    "content": "What is `override.tf`?",
    "explanation": "Terraform loads files in alphabetical order. `override.tf` is loaded last and merges/overrides settings in other files. Used for local dev customization without changing checked-in code."
  },
  {
    "id": 58043,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Targeted Apply",
    "content": "When to use `-target`?",
    "explanation": "Emergency fixes. `terraform apply -target=aws_instance.db`. Updates *only* that resource and its dependencies. Discouraged for normal workflows as it can leave state inconsistent."
  },
  {
    "id": 58044,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Module Sources",
    "content": "Can you reference a module from a private GitHub repo?",
    "explanation": "Yes. `source = \"git::ssh://git@github.com/org/repo.git//modules/vpc\"`. Requires SSH keys available in the executing environment."
  },
  {
    "id": 58045,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Terraform Cloud/Enterprise",
    "content": "Key benefits?",
    "explanation": "Remote execution (runs on their servers, not laptop), Sentinel Policy enforcement, Private Registry, and Collaborative State Management (locking UI)."
  },
  {
    "id": 58046,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "HCL Interpolation",
    "content": "String templates.",
    "isGood": true,
    "explanation": "`\"Hello ${var.name}\"`. Allows dynamic value injection. Used heavily for User Data scripts and configuration files."
  },
  {
    "id": 58047,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Cloud-Init",
    "content": "Bootstrap.",
    "isGood": true,
    "explanation": "Standard method to bootstrap Linux VMs. Terraform passes a script via `user_data`. The VM runs it on first boot to install software/agents."
  },
  {
    "id": 58048,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Sensitive Output",
    "content": "Suppressing output.",
    "isGood": true,
    "explanation": "`output \"db_password\" { value = ...; sensitive = true }`. Prevents the password from being printed to the CLI at the end of apply. (Still in state file though!)"
  },
  {
    "id": 58049,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "Locals",
    "content": "When to use `locals` block?",
    "explanation": "To define calculated values or helper variables used multiple times within the module. Keeps code DRY and readable compared to complex inline expressions."
  },
  {
    "id": 58050,
    "category": "Infrastructure as Code",
    "difficulty": "Principal",
    "title": "The Registry",
    "content": "Should you write your own VPC module?",
    "explanation": "Usually No. Use the official/verified modules from the Terraform Registry. They handle edge cases, multiple AZs, and best practices better than a scratch script."
  }
  ,
  {
    "id": 59001,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Cold Start Latency",
    "content": "What causes a Cold Start in .NET Azure Functions?",
    "explanation": "The platform must: 1. Allocate a worker. 2. Download your code. 3. Start the host process. 4. JIT compile the .NET assemblies. .NET has higher JIT overhead than Node/Python. Mitigation: Premium Plan (Pre-warmed), ReadyToRun (AOT-ish)."
  },
  {
    "id": 59002,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Connection Exhaustion",
    "content": "Why does high-scale Serverless crash SQL Databases?",
    "explanation": "Each Function invocation might open a new SQL connection. If you scale to 1000 concurrent functions, you hit 1000 connections, exhausting the DB pool. **Fix:** Use a Proxy (RDS Proxy / PgBouncer) or Serverless-friendly DB (Dynamo/Cosmos)."
  },
  {
    "id": 59003,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Vendor Lock-in",
    "content": "How to mitigate Vendor Lock-in in Serverless?",
    "explanation": "Avoid using vendor-specific triggers deeply in business logic. Use the **Hexagonal Architecture**. The Function Trigger (Azure/AWS) is just an adapter that calls your Core Logic. This makes porting easier (though infrastructure config is still locked)."
  },
  {
    "id": 59004,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "State Management",
    "content": "Since Functions are stateless, how do you handle stateful workflows?",
    "explanation": "Use **Durable Functions** (Azure) or **Step Functions** (AWS). They persist state in a backing store (Storage Table/History Table) and abstract the checkpoint/replay mechanism, allowing long-running stateful orchestrations."
  },
  {
    "id": 59005,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Idempotency in Triggers",
    "content": "Queue triggers guarantee 'At Least Once'. How does your code handle duplicates?",
    "explanation": "The function *will* run twice for the same message occasionally. You must implement **Idempotency**. Check if `MessageID` was already processed in a DB table before executing side effects."
  },
  {
    "id": 59006,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Fan-Out Limitations",
    "content": "What limits the Fan-Out scale of an Azure Function consuming a Queue?",
    "explanation": "Batch Size (`batchSize`) and `maxPollingInterval`. Also the **Scale Controller** heuristics. If downstream systems (SQL) are slow, scaling out too fast will just DDoS your own database."
  },
  {
    "id": 59007,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Ephemeral Storage",
    "content": "Can you use the local file system (`/tmp`) in a Function?",
    "explanation": "Yes, but it is **Ephemeral**. It disappears when the execution finishes or the instance recycles. Do not store persistent data there. Use it only for temp processing (e.g., unzip before upload)."
  },
  {
    "id": 59008,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Execution Time Limit",
    "content": "What happens if a Function exceeds the 10-minute timeout?",
    "explanation": "The platform hard-kills the process. `finally` blocks might not run. DB connections might remain open (until TCP timeout). Design functions to be short. For long tasks, use Durable Functions or Batch."
  },
  {
    "id": 59009,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Dependency Injection Scope",
    "content": "What is the lifetime of a Singleton service in a Function App?",
    "explanation": "It lives as long as the **Host Instance**. If the host stays warm for hours, the Singleton stays. If the host recycles, it dies. Do not assume Singletons are truly 'Global' across all executions (scaling creates multiple hosts)."
  },
  {
    "id": 59010,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Event Sourcing Triggers",
    "content": "How does CosmosDB Change Feed trigger work?",
    "explanation": "It maintains a **Lease** (pointer) in a separate collection. It polls for changes. If the function crashes, the lease is not updated, and a new instance picks up from the last checkpoint. Guarantees in-order processing per partition."
  },
  {
    "id": 59011,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Cost Traps",
    "content": "Why might Serverless be more expensive than VM?",
    "explanation": "High volume, consistent load. Serverless charges per GB-second. If you have a CPU running 24/7 at 100%, a Reserved Instance VM is much cheaper. Serverless is optimized for **Bursty** traffic."
  },
  {
    "id": 59012,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Security: Least Privilege",
    "content": "How granular should Function permissions be?",
    "explanation": "Identity-based. Each Function App should have its own Managed Identity. Grant access only to the specific Storage Container or Queue it needs. Avoid sharing one 'Admin' identity across all functions."
  },
  {
    "id": 59013,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Observability Challenges",
    "content": "Why is distributed tracing harder in Serverless?",
    "explanation": "You don't control the agent/host. You rely on the platform (App Insights/X-Ray). Context propagation between trigger types (HTTP -> Queue -> Function) must be manually handled or supported by the SDK to stitch traces together."
  },
  {
    "id": 59014,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Warm-up Strategies",
    "content": "How to keep functions warm without Premium plan?",
    "explanation": "Use a `TimerTrigger` that runs every 5 minutes (Ping). This keeps *one* instance alive. It does not help if you suddenly scale to 10 instances; the new 9 will still cold start."
  },
  {
    "id": 59015,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Function Chaining",
    "content": "Why is Func A calling Func B via HTTP bad?",
    "explanation": "**Double Billing**. Func A waits (idle but billed) for Func B. **Port Exhaustion**. **Latency**. Use a Queue between them (A -> Queue -> B) for async decoupling and resilience."
  },
  {
    "id": 59016,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Bindings vs SDK",
    "content": "When to use SDK code instead of Input Bindings?",
    "explanation": "Bindings are simple/declarative but rigid. Use SDK if you need dynamic control (e.g., calculating the Blob path at runtime, handling specific error codes, or advanced retry logic)."
  },
  {
    "id": 59017,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Isolated Process Model (Worker)",
    "content": "Difference between In-Process and Isolated Process in .NET Functions?",
    "explanation": "**In-Process**: Runs as a DLL inside the host process. Faster, but version locked to Host .NET version. **Isolated**: Runs as a separate console app. Full control over DI/Middleware and .NET version. Isolated is the future."
  },
  {
    "id": 59018,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Split Trigger",
    "content": "One function handling multiple triggers?",
    "explanation": "**Anti-Pattern**. Violates SRP. Hard to scale (different triggers have different loads). Hard to debug. Split into separate functions. Shared logic goes into a shared service class."
  },
  {
    "id": 59019,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Poison Queue Automatic Handling",
    "content": "Does Azure Functions handle poison messages?",
    "explanation": "Yes. For Queue/ServiceBus triggers, after 5 failed attempts (default), the platform automatically moves the message to the `-poison` queue or `$DeadLetterQueue`."
  },
  {
    "id": 59020,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Concurrency Control",
    "content": "How to limit parallelism in a Function App?",
    "explanation": "Configure `host.json`. Set `batchSize` (messages per loop) and `newBatchThreshold`. Or set `functionAppScaleLimit` to cap the number of instances."
  },
  {
    "id": 59021,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Testing Serverless",
    "content": "How to unit test a Function?",
    "explanation": "Functions are just classes with a method. Mock the dependencies (`ILogger`, Services) and call the method directly in xUnit. Integration testing requires the local runtime emulator (Azurite)."
  },
  {
    "id": 59022,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Deploying Zip vs Container",
    "content": "When to deploy Functions as Docker Containers?",
    "explanation": "When you need OS-level dependencies (ImageMagick, specific drivers) or need strict parity between Dev/Prod. Trade-off: You manage the OS patch level (unless creating custom base image)."
  },
  {
    "id": 59023,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Webhooks validation",
    "content": "How to secure an HTTP Trigger receiving a generic webhook?",
    "explanation": "Validate the signature (HMAC) in headers. Use a secret stored in KeyVault. Do not rely on 'Function Key' in URL if the sender doesn't support it."
  },
  {
    "id": 59024,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Durable Entities",
    "content": "What are Durable Entities?",
    "explanation": "Actor Model implementation. Stateful objects with an ID. You signal them (`SignalEntityAsync`) to modify state. Good for aggregating data (e.g., IoT Device State) without concurrency locks."
  },
  {
    "id": 59025,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Middleware in Functions",
    "content": "Can you use Middleware in Azure Functions?",
    "explanation": "Only in the **Isolated Process** model. You can register middleware for Auth, Logging, Validation similar to ASP.NET Core. In-Process model relies on Filters (preview) or manual code."
  },
  {
    "id": 59026,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "VNET Integration",
    "content": "How to access a private SQL DB from a Consumption Plan?",
    "explanation": "Use **VNET Integration**. It tunnels traffic from the function into the VNET. Note: Consumption plan VNET support is limited/new; Premium Plan handles this natively."
  },
  {
    "id": 59027,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Logic Apps Integration",
    "content": "When to mix Logic Apps with Functions?",
    "explanation": "Use Logic Apps for **Orchestration** and connectors (Salesforce, Outlook). Use Functions for **Compute** (Parsing, Math). Logic App calls Function step."
  },
  {
    "id": 59028,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Throttling Downstream",
    "content": "Serverless scales infinitely, but SQL doesn't. Solution?",
    "explanation": "Use a Queue. The Queue acts as a buffer. Limit the concurrency of the Function processing the queue to match the database capacity."
  },
  {
    "id": 59029,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Blue/Green for Functions",
    "content": "How to safe deploy?",
    "explanation": "Use **Deployment Slots**. Deploy to Staging Slot. Swap. If Trigger-based, be careful: Staging slot might start processing production queue messages unless configured otherwise (`sticky` settings)."
  },
  {
    "id": 59030,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Static Web Apps",
    "content": "What is Azure Static Web Apps?",
    "explanation": "Hosting for SPA (React/Blazor) + Managed Functions API. Deploys from GitHub. Global distribution. Simplifies full-stack serverless."
  },
  {
    "id": 59031,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Retry Policy Configuration",
    "content": "Fixed Delay vs Exponential Backoff.",
    "isGood": true,
    "explanation": "Always use Exponential Backoff for external dependencies to avoid thundering herd. Use Fixed Delay only for very short, local transient checks."
  },
  {
    "id": 59032,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Singleton Listener",
    "content": "Ensuring only one instance processes a trigger.",
    "isGood": true,
    "explanation": "Use `[Singleton]` attribute (WebJobs SDK) or implement a distributed lock blob lease. Useful for sequential processing requirements."
  },
  {
    "id": 59033,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "External File Trigger",
    "content": "Triggering on SFTP upload.",
    "isGood": true,
    "explanation": "Native Blob trigger is best. For SFTP, use Logic Apps or Event Grid to bridge the event to the Function. Polling SFTP is inefficient."
  },
  {
    "id": 59034,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Custom Handlers",
    "content": "Running Go/Rust in Azure Functions.",
    "isGood": true,
    "explanation": "Allows any executable to run as a Function. The host sends events via HTTP to the custom web server. Enables languages not natively supported."
  },
  {
    "id": 59035,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Scale to Zero",
    "content": "Impact on pricing.",
    "isGood": true,
    "explanation": "If no events, you pay nothing. Ideal for intermittent workloads (e.g., nightly jobs). Premium/AppService plans do not scale to zero (always paying for 1 instance)."
  },
  {
    "id": 59036,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Managed Dependencies",
    "content": "PowerShell Functions requirements.",
    "isGood": true,
    "explanation": "Allows defining modules in `requirements.psd1`. The platform installs them automatically. Increases cold start time significantly."
  },
  {
    "id": 59037,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Key Vault integration",
    "content": "Secret rotation.",
    "isGood": true,
    "explanation": "Use Key Vault references. If secret rotates, App Service usually caches it for 24h. Restart app or use code-based retrieval (`SecretClient`) for immediate updates."
  },
  {
    "id": 59038,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Response Compression",
    "content": "Enabling Gzip.",
    "isGood": true,
    "explanation": "Not on by default for HTTP Triggers. Configure inside `host.json` or use a CDN in front to handle compression."
  },
  {
    "id": 59039,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "CORS in Functions",
    "content": "Configuration.",
    "isGood": true,
    "explanation": "Handled by the Host, not your code. Configure Allowed Origins in the Azure Portal / CLI. `Access-Control-Allow-Credentials` needed for cookies."
  },
  {
    "id": 59040,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Application Settings vs Host.json",
    "content": "Difference?",
    "isGood": true,
    "explanation": "**App Settings**: Environment variables (Conn strings). **Host.json**: Runtime config (Logging levels, extension behaviors). Host.json is checked into Git; App Settings are not."
  },
  {
    "id": 59041,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Timer Trigger CRON",
    "content": "Timezone issues.",
    "isGood": true,
    "explanation": "CRON defaults to UTC. To use local time, set `WEBSITE_TIME_ZONE` app setting. Critical for \"Run at 9 AM\" jobs."
  },
  {
    "id": 59042,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Durable Fan Out Limit",
    "content": "Max concurrent activities.",
    "isGood": true,
    "explanation": "Controlled by `maxConcurrentActivityFunctions`. If orchestrator schedules 1000 tasks, the worker processes them in chunks to avoid OOM/throttling."
  },
  {
    "id": 59043,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Azure Storage Dependency",
    "content": "Why does Function App need storage?",
    "explanation": "It stores the function code (zip), triggers state (receipts), and Durable Task history. If storage is slow/down, the Function App fails."
  },
  {
    "id": 59044,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Proxies (Legacy)",
    "content": "Replacement for Azure Function Proxies.",
    "isGood": true,
    "explanation": "Deprecated in v4. Use **Azure API Management** or code-based routing. Proxies were useful for simple URL rewrites/mocks."
  },
  {
    "id": 59045,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Function Filters",
    "content": "AOP in Functions.",
    "isGood": true,
    "explanation": "Use `IFunctionFilter`. Allows executing logic before/after every function invocation (logging, validation). Only available in .NET Isolated process."
  },
  {
    "id": 59046,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Slots and State",
    "content": "Sticky settings.",
    "isGood": true,
    "explanation": "Mark settings as \"Deployment Slot Setting\" (Sticky) to prevent them from swapping. e.g., the Staging DB connection string should stay with the Staging Slot."
  },
  {
    "id": 59047,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Startup Class",
    "content": "DI Registration.",
    "isGood": true,
    "explanation": "Use `FunctionsStartup` (In-process) or `Program.cs` (Isolated). Register services here. Do NOT do heavy IO in startup or cold start suffers."
  },
  {
    "id": 59048,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Graceful Shutdown",
    "content": "Cancellation Token.",
    "isGood": true,
    "explanation": "Accept `CancellationToken` in your function signature. The host signals it when shutting down/scaling in. Use it to close connections cleanly."
  },
  {
    "id": 59049,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "Traffic Routing (Canary)",
    "content": "Routing traffic to slots.",
    "isGood": true,
    "explanation": "You can route x% of traffic to the Staging slot via configuration `x-ms-routing-name`. Useful for A/B testing or gradual rollout."
  },
  {
    "id": 59050,
    "category": "Serverless Architecture",
    "difficulty": "Principal",
    "title": "The Future of Serverless",
    "content": "WebAssembly?",
    "isGood": true,
    "explanation": "Wasm modules (WASI) start in microseconds and are language-neutral. This is the next generation of serverless compute, potentially replacing containers for lightweight tasks."
  },
  {
    "id": 27051,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Rate Limiting Algorithms",
    "content": "In a distributed rate limiter, why might you choose the 'Sliding Window Log' algorithm over 'Fixed Window', and what is the trade-off?",
    "explanation": "**Fixed Window** allows bursts at boundary edges (e.g., 100 reqs at 12:00:59 and 100 at 12:01:01 means 200 reqs in 2 seconds, violating the rate). **Sliding Window Log** is precise and prevents this boundary burst issue. **Trade-off:** Sliding Window Log requires storing a timestamp for *every* request, consuming significantly more memory and calculation time compared to Fixed Window's simple counter."
  },
  {
    "id": 27052,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Token Bucket vs Leaky Bucket",
    "content": "When designing an API throttling system, when would you prefer the 'Token Bucket' algorithm over 'Leaky Bucket'?",
    "explanation": "Use **Token Bucket** when you want to allow **Bursts** of traffic. Users can accumulate tokens during idle periods and consume them rapidly. Use **Leaky Bucket** when you need to enforce a strictly **Constant Outflow Rate** (smoothing traffic) to protect a sensitive downstream service that crashes under sudden spikes."
  },
  {
    "id": 27053,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Rate Limiting Race Conditions",
    "content": "How do you handle race conditions in a distributed rate limiter using Redis without locking the entire key?",
    "explanation": "Use a **Lua Script**. Redis executes Lua scripts atomically. The script can `GET` the current counter, check if it's below the limit, and `INCR` it in a single operation. This avoids the race condition where two nodes read '99', both think they are allowed, and both increment to '100' and '101'."
  },
  {
    "id": 27054,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Consistent Hashing: Adding Nodes",
    "content": "In a Consistent Hashing ring, what happens to the keys when a new node is added, and how does this differ from `Key % N` hashing?",
    "explanation": "In Consistent Hashing, adding a node only affects the keys that fall in the range immediately *preceding* the new node on the ring. Roughly `K/N` keys are remapped to the new node. In standard `Key % N`, changing `N` causes nearly **100% of keys** to remap, causing massive cache thrashing."
  },
  {
    "id": 27055,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Consistent Hashing: Hotspots",
    "content": "How do 'Virtual Nodes' solve the problem of uneven data distribution (hotspots) in a Consistent Hashing ring?",
    "explanation": "Physical nodes might be assigned uneven ranges on the ring by chance. **Virtual Nodes** map a single physical server to multiple positions (e.g., 100) scattered randomly around the ring. This statistically ensures a more uniform distribution of keys and load across all physical servers."
  },
  {
    "id": 27056,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database Sharding: Range vs Hash",
    "content": "What is the primary disadvantage of 'Range Based Sharding' (e.g., A-M on Shard 1, N-Z on Shard 2) compared to 'Hash Based Sharding'?",
    "explanation": "**Hotspots**. Range sharding often leads to uneven load if data is sequential (e.g., sharding by Date means all writes today hit only one shard). Hash sharding distributes writes evenly but makes 'Range Queries' (Give me all users A-C) expensive as they must fan-out to all shards."
  },
  {
    "id": 27057,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Directory Based Sharding",
    "content": "What is 'Directory Based Sharding' and when is it a better choice than algorithmic sharding?",
    "explanation": "A **Lookup Service** maintains a map of `Key -> Shard ID`. It allows total flexibility: you can move individual tenants/keys between shards without changing the sharding algorithm. **Trade-off:** The lookup service becomes a single point of failure and a bottleneck (must be highly cached)."
  },
  {
    "id": 27058,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Global Unique IDs: Ticket Server",
    "content": "What is the 'Ticket Server' pattern for generating unique IDs (like Flickr), and what is its main weakness?",
    "explanation": "A centralized database table using `AUTO_INCREMENT` is used solely to generate IDs. Clients connect, insert a row (replace), and get the ID. **Weakness:** It is a **Single Point of Failure (SPOF)** and a write bottleneck. If the ticket server goes down, no new content can be created anywhere."
  },
  {
    "id": 27059,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Geo-DNS vs Anycast",
    "content": "What is the difference between Geo-DNS and Anycast IP for routing users to the nearest data center?",
    "explanation": "**Geo-DNS** resolves the domain name to a *different IP* based on the user's location. It relies on the DNS resolver's location (which might be inaccurate) and is subject to TTL caching. **Anycast** announces the *same IP* from all locations. BGP routing directs packets to the topologically nearest server. Anycast is faster and handles failover better."
  },
  {
    "id": 27060,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Thundering Herd: Cache",
    "content": "How does 'Request Coalescing' (or Singleflight) solve the Thundering Herd problem when a hot cache item expires?",
    "explanation": "When 1000 requests miss the cache simultaneously, **Request Coalescing** ensures only the *first* request goes to the database. The other 999 requests wait on the same pending task/promise. When the first request returns, the result is served to all 1000 waiters and populated in the cache."
  },
  {
    "id": 27061,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Write-Through vs Write-Back Caching",
    "content": "In a Write-Back (Write-Behind) caching strategy, what is the risk of data loss and how do you mitigate it?",
    "explanation": "In Write-Back, the app writes to Cache and returns success immediately; the DB is updated asynchronously. **Risk:** If the Cache crashes before flushing to DB, data is lost forever. **Mitigation:** Use a persistent message queue (Kafka) as the write buffer instead of a volatile cache, or use replicated caching (Redis AOF/Cluster)."
  },
  {
    "id": 27062,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Cache Eviction: LFU vs LRU",
    "content": "Why might you choose Least Frequently Used (LFU) over Least Recently Used (LRU) for a Content Delivery Network (CDN)?",
    "explanation": "LRU is vulnerable to 'scans'a one-time viral event can flush out long-term popular content. **LFU** tracks popularity over time. A video watched 1000 times yesterday shouldn't be evicted just because a new, rarely watched video was accessed 1 second ago. LFU preserves the 'long-term working set'."
  },
  {
    "id": 27063,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Bloom Filters",
    "content": "How can a Bloom Filter reduce unnecessary database lookups for non-existent keys?",
    "explanation": "A Bloom Filter is a probabilistic structure that tells you if a key is \"Definitely Not in Set\" or \"Maybe in Set\". Put a Bloom Filter in front of the DB. If it returns \"Definitely Not\", return 404 immediately without hitting the disk. Prevents **Cache Penetration** attacks."
  },
  {
    "id": 27064,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: L4 vs L7",
    "content": "Why is Layer 4 (TCP) load balancing faster than Layer 7 (HTTP), but less flexible?",
    "explanation": "**Layer 4** forwards packets based on IP/Port without decrypting TLS or inspecting content. It's extremely fast (packet switching). **Layer 7** must decrypt TLS, parse HTTP headers, and re-encrypt. L7 is slower but allows smart routing (e.g., `/api` to Service A, `/images` to Service B)."
  },
  {
    "id": 27065,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "SPOF (Single Point of Failure)",
    "content": "In a master-slave database architecture, how do you handle the Single Point of Failure of the Master node?",
    "explanation": "Implement **Automatic Failover**. Use a tool (like Sentinel for Redis, or Patroni/Orchestrator for SQL) that monitors the Master. If it dies, it promotes a Replica to Master and updates the application connection string or DNS to point to the new Master."
  },
  {
    "id": 27066,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database Replication: Async vs Sync",
    "content": "What is the trade-off between Synchronous and Asynchronous replication in a database?",
    "explanation": "**Synchronous**: Writes must be confirmed by Master + Replica. Guarantees Zero Data Loss (RPO=0) but increases Latency (write speed = slowest node). **Asynchronous**: Master confirms write immediately. Faster, but if Master crashes before syncing, recent writes are lost (Non-zero RPO)."
  },
  {
    "id": 27067,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Quorum Consistency",
    "content": "In a distributed DB like Cassandra, how does `R + W > N` guarantee strong consistency?",
    "explanation": "If N=3 (3 Replicas), and you Write to 2 (`W=2`) and Read from 2 (`R=2`), then `2+2 > 3`. This guarantees that the Read set *must* overlap with the Write set by at least one node. You will always see the latest write."
  },
  {
    "id": 27068,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Partition Tolerance (CAP)",
    "content": "According to CAP theorem, if a network partition occurs, what choice must a system make?",
    "explanation": "It must choose between **Availability** (keep accepting writes but risk divergence/conflicts) or **Consistency** (reject writes/reads until the network is healed to ensure data correctness). You cannot have both during a partition."
  },
  {
    "id": 27069,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Gossip Protocol",
    "content": "How does the Gossip Protocol allow a cluster to detect failed nodes without a central master?",
    "explanation": "Each node randomly talks to a few neighbors every second, sharing its known state (\"I am alive\", \"Node A is suspect\"). This information spreads exponentially (like a virus). If enough nodes mark Node A as 'suspect', it is effectively marked dead by the cluster consensus."
  },
  {
    "id": 27070,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "QuadTree vs Geohash",
    "content": "Why might you choose a QuadTree over Geohash for a location-based service like Uber?",
    "explanation": "**QuadTrees** can dynamically subdivide based on density (e.g., fewer grids in rural areas, tiny grids in Times Square). **Geohashes** are fixed grids. QuadTrees are more efficient for unevenly distributed data, but harder to store in a standard DB key-value structure compared to Geohash strings."
  },
  {
    "id": 27071,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Read Repair",
    "content": "What is 'Read Repair' in a distributed database like Cassandra?",
    "explanation": "When a client reads data, the coordinator queries multiple replicas. If it detects that one replica has stale data (based on timestamps/vector clocks), it returns the latest data to the client AND asynchronously updates the stale replica in the background."
  },
  {
    "id": 27072,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Vector Clocks",
    "content": "How do Vector Clocks help resolve conflicts in a Multi-Master system?",
    "explanation": "They track the causal history of an object (e.g., `[NodeA:1, NodeB:2]`). If two versions have conflicting vector clocks (neither dominates the other), it indicates a **Concurrent Write**. The system can flag this conflict to the client or use a strategy like Last-Writer-Wins (LWW) or custom merge logic."
  },
  {
    "id": 27073,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Log-Structured Merge-Tree (LSM)",
    "content": "Why are LSM Trees (used in Cassandra/RocksDB) faster for Write-Heavy workloads than B-Trees?",
    "explanation": "LSM Trees treat all writes as **Append-Only** (Sequential I/O) to an in-memory buffer (MemTable) and then flush to disk (SSTable). B-Trees require Random I/O to insert/update in place on disk. Sequential I/O is vastly faster on HDDs and reduces write amplification on SSDs."
  },
  {
    "id": 27074,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "SSTable Compaction",
    "content": "What is the purpose of Compaction in an LSM-Tree database?",
    "explanation": "Since writes are append-only, updates/deletes create duplicate records. Compaction runs in the background to merge multiple SSTables, remove deleted (tombstoned) records, and keep only the latest version of each key, reclaiming disk space and improving read speed."
  },
  {
    "id": 27075,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Push vs Pull Technology",
    "content": "In a Chat Application, why is Long Polling considered inferior to WebSockets?",
    "explanation": "**Long Polling** involves opening a connection, waiting for data, closing it, and immediately reopening it. This creates massive Header overhead, latency, and server load. **WebSockets** maintain a single persistent bi-directional connection, allowing instant low-overhead pushes."
  },
  {
    "id": 27076,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Server-Sent Events (SSE)",
    "content": "When would you choose Server-Sent Events (SSE) over WebSockets?",
    "explanation": "Use **SSE** when the data flow is **One-Way** (Server -> Client), e.g., Stock Tickers or News Feeds. SSE runs over standard HTTP, handles reconnection automatically, and passes through firewalls easier than WebSockets. Use WebSockets only if you need bi-directional communication (e.g., Gaming)."
  },
  {
    "id": 27077,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Transactions: 2PC",
    "content": "What is the main drawback of the Two-Phase Commit (2PC) protocol in microservices?",
    "explanation": "It is a **Blocking Protocol**. It holds locks on resources across multiple services until the transaction completes. If the Coordinator fails, resources remain locked. It reduces availability and scales poorly. Sagas are preferred."
  },
  {
    "id": 27078,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Saga Pattern: Choreography vs Orchestration",
    "content": "What is the difference between Choreography and Orchestration in the Saga pattern?",
    "explanation": "**Choreography**: Decentralized. Service A publishes \"OrderCreated\", Service B subscribes and does \"ReserveStock\". Hard to trace workflow. **Orchestration**: Centralized. An Orchestrator Service (e.g., Step Functions) tells Service A to do X, then Service B to do Y. Easier to manage state and timeouts."
  },
  {
    "id": 27079,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Compensating Transaction",
    "content": "In a Saga, what is a Compensating Transaction?",
    "explanation": "Since Sagas don't use ACID locks, you can't \"Rollback\". You must execute a logical \"Undo\". If \"Charge Payment\" succeeds but \"Ship Item\" fails, you must run a Compensating Transaction: \"Refund Payment\"."
  },
  {
    "id": 27080,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Idempotency Keys in API",
    "content": "How does an Idempotency Key in a POST request prevent double-charging a customer during a network timeout?",
    "explanation": "The client generates a unique key (`UUID`) for the transaction. If the network times out, the client retries with the *same* key. The server checks: \"Have I processed this Key?\" If yes, it returns the *stored* success response instead of executing the charge again."
  },
  {
    "id": 27081,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CDN: Push vs Pull",
    "content": "What is the difference between 'Push CDN' and 'Pull CDN' zones?",
    "explanation": "**Pull CDN**: The CDN fetches content from your Origin server on the first user request (Lazy). Good for dynamic/large sites. **Push CDN**: You manually upload content to the CDN bucket. Good for huge files (Game Patches) to ensure availability before users request them."
  },
  {
    "id": 27082,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CDN Cache Invalidation",
    "content": "Why is 'Versioning' preferred over 'Invalidation' for updating CDN content?",
    "explanation": "Invalidation takes time (minutes to hours) and doesn't guarantee consistency (some edges update faster than others). **Versioning** (`app.v2.js`) forces an immediate update because the URL changes, bypassing the cache entirely. It is atomic and instant."
  },
  {
    "id": 27083,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed ID: UUID vs INT",
    "content": "Why might you choose a 64-bit Integer ID (Snowflake) over a 128-bit UUID for a Database Primary Key?",
    "explanation": "UUIDs are random and 128-bit. They cause **Index Fragmentation** (Page Splits) in B-Trees and consume more storage/RAM. 64-bit Snowflake IDs are roughly chronological (Time-Sortable), half the size, and prevent fragmentation, keeping the DB index healthy."
  },
  {
    "id": 27084,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Heavy Hitters (Top K)",
    "content": "How does the Count-Min Sketch algorithm optimize finding 'Top K' elements in a massive stream?",
    "explanation": "It is a probabilistic data structure. Instead of storing a counter for every single item (massive RAM), it uses multiple Hash Functions to increment counters in a small fixed-size table. It provides approximate counts with low memory, perfect for \"Trending Topics\"."
  },
  {
    "id": 27085,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Batch Processing vs Stream Processing",
    "content": "When should you use Lambda/Kappa architecture (Stream) over simple Batch processing?",
    "explanation": "Use **Stream** (Kappa) when you need low-latency insights (Seconds/Minutes). Use **Batch** when you need high-precision, complex joins across massive historical datasets, and latency (Hours/Days) is acceptable. Modern 'Unified' engines (Flink/Spark) try to do both."
  },
  {
    "id": 27086,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Backpressure",
    "content": "What happens if a Producer sends data faster than a Consumer can process, and how does Backpressure fix it?",
    "explanation": "The Consumer's buffer fills up and crashes (OOM). **Backpressure** is a feedback mechanism where the Consumer signals the Producer to \"Slow Down\" (e.g., TCP Window Size 0, HTTP 503, or Reactive Streams `request(n)`). It prevents system collapse."
  },
  {
    "id": 27087,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Bulkhead Pattern",
    "content": "How does the Bulkhead pattern prevent a failure in one service from taking down the entire application?",
    "explanation": "It isolates resources (Thread Pools, Connection Pools) per dependency. If the 'Image Service' is slow and exhausts its thread pool, the 'User Service' thread pool remains unaffected. It prevents cascading failures."
  },
  {
    "id": 27088,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Circuit Breaker: Half-Open",
    "content": "What is the purpose of the 'Half-Open' state in a Circuit Breaker?",
    "explanation": "After the circuit is Open (Broken) for a timeout duration, it switches to **Half-Open**. It allows a *limited* number of test requests to pass through. If they succeed, the circuit closes (Healed). If they fail, it opens again. It prevents flooding a recovering service."
  },
  {
    "id": 27089,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Graceful Degradation",
    "content": "How would you design a Netflix homepage to handle a failure in the 'Personalized Recommendations' service?",
    "explanation": "Use **Graceful Degradation**. If the Recommendations service times out, do not crash the page. Instead, fallback to a cached 'Top 10 Global' list or a static list of genres. The user still gets a working page."
  },
  {
    "id": 27090,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Gateway: Aggregation",
    "content": "How does the API Gateway Aggregation pattern improve mobile client performance?",
    "explanation": "Instead of the mobile app making 5 calls (User, Orders, Invoices, Recs), it makes 1 call to the Gateway. The Gateway makes the 5 calls internally (low latency backend network), aggregates the JSON, and sends one response. Saves battery and bandwidth."
  },
  {
    "id": 27091,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Sidecar Pattern",
    "content": "In Kubernetes, what functions are typically offloaded to a Sidecar container?",
    "explanation": "Cross-cutting concerns: **Logging** (shipping logs), **Monitoring** (metrics scraping), **Proxying** (Service Mesh / mTLS), and **Configuration** (watching for config changes). This keeps the main application logic pure."
  },
  {
    "id": 27092,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Ambassador Pattern",
    "content": "What is the Ambassador Pattern used for in containerized environments?",
    "explanation": "An Ambassador is a sidecar proxy specifically for **outbound** connections. The app connects to `localhost`. The Ambassador handles the complexity of connecting to the external world (e.g., Sharding logic for Redis, or Auth/Retry logic for a 3rd party API)."
  },
  {
    "id": 27093,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Leader Election: Split Brain",
    "content": "How does a 'Quorum' prevent Split Brain in a Leader Election scenario?",
    "explanation": "Split Brain happens when network partition creates two disconnected sub-clusters. **Quorum** requires `N/2 + 1` votes to become Leader. It is mathematically impossible for two sub-clusters to both have a majority. The minority side stops accepting writes."
  },
  {
    "id": 27094,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Replication: Multi-Leader",
    "content": "What is the main challenge of Multi-Leader (Active-Active) replication?",
    "explanation": "**Write Conflicts**. If User A updates a record in US-East and User B updates the same record in EU-West simultaneously, the data diverges. You need conflict resolution strategies: Last Writer Wins (LWW), Vector Clocks, or CRDTs."
  },
  {
    "id": 27095,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Search: Inverted Index",
    "content": "How does an Inverted Index allow Elasticsearch to search millions of documents instantly?",
    "explanation": "It maps `Word -> List of Document IDs`. Instead of scanning every document for the word \"Apple\", it looks up \"Apple\" in the index (Hash/Tree) and gets the list of IDs immediately. It converts search from O(N) to O(1) or O(Log N)."
  },
  {
    "id": 27096,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Columnar Storage",
    "content": "Why is Columnar Storage (e.g., Parquet/Cassandra) better for Analytics queries than Row-based storage?",
    "explanation": "Analytics queries usually select a few columns for all rows (`SELECT AVG(Age) FROM Users`). Columnar storage keeps all 'Age' values contiguous on disk. The engine reads only the 'Age' blocks, ignoring Name/Address, resulting in massive I/O savings and compression."
  },
  {
    "id": 27097,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Tracing: Sampling",
    "content": "Why is 'Head-Based Sampling' a limitation in Distributed Tracing and how does 'Tail-Based Sampling' fix it?",
    "explanation": "**Head-Based** decides to trace at the *start* (e.g., 1% of requests). You might miss the one specific error that happened. **Tail-Based** collects all traces but decides *at the end* whether to keep them (e.g., \"Keep if Error or Slow\"). Ensures you capture interesting anomalies."
  },
  {
    "id": 27098,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Power of Two Choices",
    "content": "How does the 'Power of Two Choices' load balancing algorithm improve upon Round Robin?",
    "explanation": "Instead of picking the absolute best node (expensive to track), pick **Two** nodes at random and choose the better one (least connections). This simple randomization drastically reduces the chance of 'Herding' behavior and provides near-optimal balancing with minimal overhead."
  },
  {
    "id": 27099,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: News Feed",
    "content": "In a News Feed system, when would you use 'Pull Model' (Fan-out on Load) vs 'Push Model' (Fan-out on Write)?",
    "explanation": "**Push** (Write): Better for read latency. When user posts, push ID to all followers' feeds. Hard for celebrities (10M pushes). **Pull** (Load): Better for write latency. When user reads feed, query friends' recent posts. **Hybrid**: Push for normal users, Pull for celebrities."
  },
  {
    "id": 27100,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Availability Patterns",
    "content": "What is the difference between Active-Passive and Active-Active failover configurations?",
    "explanation": "**Active-Passive**: One node handles traffic. The other waits (hot standby). Failover takes time (detection + switch). Resource waste. **Active-Active**: Both nodes handle traffic. Complex conflict resolution needed. Zero downtime if one fails, as traffic simply routes to the survivor."
  },
  {
    "id": 27101,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database Isolation Levels: Phantom Reads",
    "content": "In a SQL database, which Isolation Level is required to prevent 'Phantom Reads', and what is the performance cost of enabling it?",
    "explanation": "**Serializable** (or Snapshot Isolation in some DBs). Phantom Reads occur when a transaction reads a set of rows matching a condition, but another transaction inserts a *new* row matching that condition before the first transaction finishes. Preventing this requires Range Locks or Multi-Version Concurrency Control (MVCC) validation, which significantly increases lock contention and transaction rollback rates."
  },
  {
    "id": 27102,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Optimistic Locking vs Pessimistic Locking",
    "content": "When designing a ticket booking system, why might you choose Optimistic Locking over Pessimistic Locking for the seat reservation phase?",
    "explanation": "**Optimistic Locking** (using a version column) is better when contention is low to medium. It avoids holding database locks while the user is thinking or network is slow. It creates a better user experience (no UI freezing) and higher throughput. Pessimistic Locking (`SELECT FOR UPDATE`) holds a physical DB lock, which can bring the database to a halt if clients are slow/crash."
  },
  {
    "id": 27103,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Transactions: TCC Pattern",
    "content": "What is the 'Try-Confirm-Cancel' (TCC) pattern in distributed transactions, and how does it differ from Sagas?",
    "explanation": "TCC is a Reservation-based pattern. **Try**: Reserve resources (e.g., freeze funds). **Confirm**: Execute business logic (transfer funds). **Cancel**: Release reservation (unfreeze). Unlike Sagas which rely on *Compensating Actions* (undoing a completed action), TCC relies on *Reservations* (locking resources before committing). TCC is stricter but harder to implement."
  },
  {
    "id": 27104,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Search: TF-IDF vs BM25",
    "content": "Why is BM25 generally preferred over raw TF-IDF for full-text search ranking?",
    "explanation": "**BM25** improves upon TF-IDF by introducing **Term Saturation**. In TF-IDF, if a document repeats the word 'computer' 100 times, its score skyrockets linearly. In BM25, the score boost plateaus after a few occurrences. This prevents spamming keywords from gaming the ranking and handles document length normalization better."
  },
  {
    "id": 27105,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Message Queue vs Event Streaming",
    "content": "What is the fundamental architectural difference between RabbitMQ (Message Queue) and Kafka (Event Stream) regarding consumer state?",
    "explanation": "In **RabbitMQ (Queue)**, the *Broker* manages state. Once a message is ACKed, it is deleted. The Broker tracks who consumed what. In **Kafka (Stream)**, the *Consumer* manages state (Offset). Messages are persisted on the Broker (Log). Consumers can rewind and replay history. RabbitMQ is 'Smart Broker, Dumb Consumer'; Kafka is 'Dumb Broker, Smart Consumer'."
  },
  {
    "id": 27106,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Geo-Partitioning: Data Residency",
    "content": "How do you design a database schema to support strict Data Residency requirements (e.g., German data stays in Germany, US data in US)?",
    "explanation": "Use **Geo-Partitioning**. Add a `RegionID` column to the Sharding Key. Configure the distributed database (e.g., CockroachDB, Spanner, CosmosDB) to pin specific partitions to specific physical data centers based on that `RegionID`. Application routing logic must direct users to the correct regional gateway."
  },
  {
    "id": 27107,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Versioning Strategy",
    "content": "Why might you choose 'Header Versioning' (`Accept: application/vnd.myapi.v2+json`) over 'URL Versioning' (`/v2/resource`)?",
    "explanation": "**Header Versioning** preserves the resource identity (RESTful principle). The URL `/resource/123` always represents that resource; the header negotiates the *representation*. However, **URL Versioning** is more pragmatic: it's easier to cache via CDNs, easier to browse in a browser, and makes breaking changes explicit in the routing layer."
  },
  {
    "id": 27108,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Reverse Proxy vs API Gateway",
    "content": "What is the distinction between a simple Reverse Proxy (Nginx) and an API Gateway (Kong/Apigee)?",
    "explanation": "A **Reverse Proxy** handles request forwarding, load balancing, and SSL termination. An **API Gateway** adds business-aware features: Authentication/Authorization (OAuth), Rate Limiting (User-based), Response Transformation, Analytics, and Developer Portals. A Gateway is essentially a \"Smart\" Reverse Proxy."
  },
  {
    "id": 27109,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Service Mesh: Sidecar Pattern",
    "content": "What overhead does the Sidecar Pattern introduce in a Service Mesh, and how can it be mitigated?",
    "explanation": "It introduces **Latency** (two extra network hops per request: App -> Local Sidecar -> Network -> Remote Sidecar -> Remote App) and **Resource Usage** (CPU/RAM for the sidecar agent per pod). Mitigation: Use lightweight proxies (Envoy), optimize config to reduce memory footprint, or use eBPF-based \"Sidecar-less\" meshes (like Cilium/Istio Ambient) to push logic to the node level."
  },
  {
    "id": 27110,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Caching: Thundering Herd (DB)",
    "content": "How does 'Probabilistic Early Expiration' (X-Fetch) prevent the Thundering Herd problem?",
    "explanation": "Instead of waiting for a cache item to strictly expire (TTL=0), the client checks: `if (CurrentTime + RandomGap > Expiry)`. If true, **one** client volunteers to recompute the cache value *before* it actually expires, while other clients continue to serve the slightly stale value. This smooths out the re-computation spike."
  },
  {
    "id": 27111,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database Sharding: Directory Based",
    "content": "When using Directory-Based Sharding, what is the main bottleneck and how do you solve it?",
    "explanation": "The **Lookup Table** (Directory) becomes the bottleneck and SPOF. Every query must check \"Where does User X live?\". **Solution:** Cache the lookup table aggressively in the Application layer (Smart Client) or a distributed cache. Only hit the Directory Service on cache miss or migration events."
  },
  {
    "id": 27112,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Power of Two Choices",
    "content": "Why is the 'Power of Two Choices' algorithm preferred over 'Least Connections' in large-scale distributed load balancing?",
    "explanation": "Querying *all* nodes to find the absolute 'Least Connections' is expensive (O(N) chatter). Picking **Two** nodes at random and choosing the better one provides a mathematically near-optimal balance with only O(1) overhead. It avoids the 'Herding' effect where all traffic flocks to the single idle node."
  },
  {
    "id": 27113,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Blob Storage: Multipart Upload",
    "content": "How does Multipart Upload improve reliability for large file uploads?",
    "explanation": "It breaks a 10GB file into 1000 10MB chunks. Chunks are uploaded in parallel. If one chunk fails, only that chunk is retried, not the whole 10GB. The server reassembles the file at the end. It improves throughput and resilience against network instability."
  },
  {
    "id": 27114,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Search: N-Grams vs Edge N-Grams",
    "content": "What is the difference between N-Grams and Edge N-Grams for autocomplete?",
    "explanation": "**N-Grams**: Splits \"Apple\" into `[Ap, pp, pl, le]`. Good for \"Contains\" search (finding \"Apple\" when typing \"pl\"). **Edge N-Grams**: Anchors to the start: `[A, Ap, App, Appl]`. Good for \"Starts With\" autocomplete. Edge N-Grams produce a much smaller index."
  },
  {
    "id": 27115,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Tracing: Span Context",
    "content": "How is 'Span Context' propagated across different protocols (HTTP, gRPC, Kafka) in a distributed trace?",
    "explanation": "Via Headers (Metadata). For HTTP: `traceparent` (W3C Standard). For Kafka: Message Headers. For gRPC: Metadata. The instrumentation libraries automatically inject these headers on the sender side and extract them on the receiver side to link the 'Child Span' to the 'Parent Span'."
  },
  {
    "id": 27116,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Rate Limiting: Distributed Counter",
    "content": "Why is using a simple Redis `INCR` for a 'Fixed Window' rate limiter strictly accurate but potentially unfair?",
    "explanation": "It suffers from the **Boundary Issue**. If the limit is 100/min, a user can make 100 requests at 12:00:59 and 100 requests at 12:01:01. The counter resets at 12:01:00. The user effectively made 200 requests in 2 seconds, violating the *intent* of the limit. Sliding Window solves this."
  },
  {
    "id": 27117,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CDN: Origin Shield",
    "content": "What is an 'Origin Shield' layer in a CDN architecture?",
    "explanation": "An extra caching layer between the Edge PoPs (Points of Presence) and your Origin Server. If 100 Edge locations miss the cache for the same file, they all hit the Origin Shield instead of your server. The Origin Shield fetches it once from you. Drastically reduces load on the Origin."
  },
  {
    "id": 27118,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "WebSocket Scalability",
    "content": "Why is scaling a WebSocket server harder than a REST API server?",
    "explanation": "WebSockets are **Stateful**. A connection is tied to a specific server memory/socket. You cannot simply round-robin load balance requests. You need **Sticky Sessions** or a specialized L7 LB. Also, pushing messages to a user requires knowing *which* server they are connected to (requiring a Pub/Sub Backplane)."
  },
  {
    "id": 27119,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Data Deduplication: CDC",
    "content": "How does 'Content Defined Chunking' (CDC) improve deduplication efficiency over fixed-size chunking?",
    "explanation": "Fixed-size chunking breaks if a single byte is inserted at the start of the file (shifting all subsequent boundaries). **CDC** uses a rolling hash (Rabin fingerprint) to find 'anchor points' in the data content itself. Boundaries move with the data, preserving deduplication for the rest of the file."
  },
  {
    "id": 27120,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "DNS: CNAME Flattening",
    "content": "What is CNAME Flattening and why is it needed for the root domain (`example.com`)?",
    "explanation": "DNS specs forbid a CNAME at the root (Apex) record (it conflicts with SOA/MX records). **CNAME Flattening** (or ALIAS/ANAME) allows the DNS provider to resolve the CNAME internally and return the A (IP) records to the client. This allows pointing the root domain to a dynamic CDN/Load Balancer hostname."
  },
  {
    "id": 27121,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Authentication: Bearer Token vs Reference Token",
    "content": "What is the security trade-off between using a JWT (Bearer) vs a Reference Token?",
    "explanation": "**JWT**: Stateless, fast verification. Hard to revoke immediately. **Reference Token**: A random string pointer to state in the IdP. Requires a database lookup (latency) for every API call, but allows **Immediate Revocation**. Use Reference Tokens for high-security, low-latency-revocation scenarios."
  },
  {
    "id": 27122,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Availability: Active-Active",
    "content": "What is the hardest challenge to solve in an Active-Active Multi-Region Database deployment?",
    "explanation": "**Conflict Resolution**. If a user modifies the same record in US-East and EU-West simultaneously, which write wins? Strategies include Last-Writer-Wins (LWW) based on clocks (requires synchronized time), CRDTs (Conflict-free Replicated Data Types), or application-level merge logic."
  },
  {
    "id": 27123,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Design: Idempotency",
    "content": "Why isn't `POST` idempotent by default, and how do you make it idempotent?",
    "explanation": "`POST` implies \"Create New\". Sending it twice creates two resources. Make it idempotent by having the client send a unique **Idempotency Key** (UUID) in the header. The server checks a look-aside table: if key exists, return the cached previous response; otherwise, process and save the key."
  },
  {
    "id": 27124,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Architecture: Lambda Architecture",
    "content": "What is the Lambda Architecture for Big Data processing?",
    "explanation": "A design that handles massive data by having two layers: 1. **Batch Layer** (Hadoop/Spark) provides comprehensive, accurate views on historical data (high latency). 2. **Speed Layer** (Storm/Flink) provides real-time, approximate views on recent data. Queries merge results from both."
  },
  {
    "id": 27125,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Video Streaming: HLS vs DASH",
    "content": "What do HLS (HTTP Live Streaming) and DASH (Dynamic Adaptive Streaming over HTTP) have in common regarding delivery?",
    "explanation": "Both break the video into small **Chunks** (e.g., 2-10 second files: `.ts` or `.m4s`) and provide a **Manifest File** (`.m3u8` or `.mpd`) indexing them. This allows standard HTTP servers/CDNs to host the video, and the client player switches quality levels by requesting different chunks."
  },
  {
    "id": 27126,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Least Response Time",
    "content": "How does the 'Least Response Time' load balancing algorithm work?",
    "explanation": "The Load Balancer tracks the time taken for the backend to reply to previous requests. It routes the next request to the server that is currently responding fastest. This accounts for server load *and* network latency implicitly, often outperforming Round Robin."
  },
  {
    "id": 27127,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Resilience: Fallback Pattern",
    "content": "What is the 'Fallback Pattern' in microservices and when should it be used?",
    "explanation": "When a dependent service fails (or Circuit Breaker opens), execute alternative logic instead of throwing an error. E.g., if the 'Recommendation Service' is down, fallback to returning a cached list of 'Top 10 Global Best Sellers'. It degrades functionality gracefully."
  },
  {
    "id": 27128,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: WAL (Write-Ahead Log)",
    "content": "Why is the Write-Ahead Log (WAL) critical for database durability (ACID)?",
    "explanation": "Changes are written to the append-only WAL on disk *before* they are applied to the actual data files (B-Tree/Heap). If the database crashes mid-operation (power loss), it can replay the WAL on startup to restore the database to a consistent state, guaranteeing Durability."
  },
  {
    "id": 27129,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Log Aggregation",
    "content": "Why is centralized log aggregation (ELK/Splunk) mandatory for microservices?",
    "explanation": "A single user request might traverse 10 different services running on 50 different containers. SSH-ing into a server to read a log file is impossible. Aggregation collects all logs into one searchable place, allowing tracing via **Correlation IDs** across the entire distributed transaction."
  },
  {
    "id": 27130,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Network: BGP (Border Gateway Protocol)",
    "content": "What role does BGP play in global internet routing?",
    "explanation": "BGP is the protocol used by ISPs and Data Centers to exchange routing information. It determines the most efficient path for data to travel across the internet's autonomous systems. BGP misconfigurations are a common cause of massive, global outages."
  },
  {
    "id": 27131,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Scalability: Stateless Architecture",
    "content": "Why is a Stateless architecture easier to scale horizontally than a Stateful one?",
    "explanation": "In **Stateless**, any request can be handled by any server instance. You can add 100 new servers and the Load Balancer can immediately route traffic to them. In **Stateful**, a specific user *must* be routed to the specific server holding their session data, making scaling, failover, and deployment complex."
  },
  {
    "id": 27132,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: HMAC",
    "content": "How does HMAC (Hash-Based Message Authentication Code) ensure data integrity?",
    "explanation": "It hashes the message *combined with a secret key*. An attacker can modify the message, but they cannot generate a valid hash for the modified message without knowing the secret key. The receiver re-computes the HMAC; if it matches, the message is authentic and unaltered."
  },
  {
    "id": 27133,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "NoSQL: Document vs Column Family",
    "content": "When would you choose a Column Family store (Cassandra) over a Document store (MongoDB)?",
    "explanation": "Choose **Cassandra** for massive write throughput, time-series data, or scenarios needing extreme write availability (AP system). Choose **MongoDB** for flexible schemas, complex queries (secondary indexes), and when the data model maps well to JSON objects (Documents)."
  },
  {
    "id": 27134,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Observability: Metrics vs Logs",
    "content": "When should you use Metrics instead of Logs for monitoring?",
    "explanation": "Use **Metrics** for aggregatable numeric data (CPU usage, Request Count, Latency). They are cheap to store and fast to query over time. Use **Logs** for high-cardinality, descriptive events (Error stack traces, specific Transaction IDs) needed for debugging specific failures."
  },
  {
    "id": 27135,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Deployment: Canary vs Blue/Green",
    "content": "What is the key difference between Canary and Blue/Green deployment strategies?",
    "explanation": "**Blue/Green**: Two identical environments. Switch 100% of traffic from Old (Blue) to New (Green) instantly. Fast rollback, requires 2x resources. **Canary**: Gradually shift small % of traffic (1% -> 5% -> 100%) to the new version. Lower risk blast radius, but takes longer to fully deploy."
  },
  {
    "id": 27136,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Connection Pooling",
    "content": "Why is Connection Pooling critical for application performance?",
    "explanation": "Establishing a TCP connection and SSL handshake with a database is expensive (~ms to seconds). **Connection Pooling** keeps a pool of open connections alive. The app borrows a connection, uses it, and returns it. Eliminates handshake overhead for every query."
  },
  {
    "id": 27137,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API: Pagination Strategies",
    "content": "Why is 'Keyset Pagination' (Seek Method) faster than 'Offset Pagination' for deep pages?",
    "explanation": "**Offset** (`OFFSET 10000 LIMIT 10`) forces the DB to fetch and discard 10,000 rows. Complexity O(N). **Keyset** (`WHERE ID > Last_Seen_ID LIMIT 10`) uses the index to jump directly to the correct row. Complexity O(1) regardless of page depth."
  },
  {
    "id": 27138,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: Unique ID (UUIDv4 vs UUIDv7)",
    "content": "Why is UUIDv7 often preferred over UUIDv4 for database primary keys?",
    "explanation": "**UUIDv4** is fully random. Inserting it into a B-Tree causes random page access and fragmentation (slow). **UUIDv7** includes a timestamp component at the start. It is monotonic (time-ordered), ensuring new inserts happen at the 'end' of the B-Tree index, improving write performance."
  },
  {
    "id": 27139,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Cache: Read-Through vs Cache-Aside",
    "content": "What is the difference between Read-Through and Cache-Aside caching patterns?",
    "explanation": "**Cache-Aside**: The Application talks to Cache. If miss, App talks to DB, then populates Cache. **Read-Through**: The Application *only* talks to the Cache. The Cache (library or proxy) knows how to fetch from the DB on a miss. Read-Through simplifies app code but requires a smarter cache client."
  },
  {
    "id": 27140,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Messaging: Dead Letter Queue (DLQ)",
    "content": "What is the purpose of a Dead Letter Queue (DLQ) and when should a message be sent there?",
    "explanation": "A DLQ holds messages that **cannot be processed** successfully after max retries. Prevents a 'Poison Message' from blocking the queue forever (infinite retry loop). Allows engineers to inspect, fix, and manually replay the bad message later."
  },
  {
    "id": 27141,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Storage: Block vs File vs Object",
    "content": "When should you use Object Storage (S3) instead of Block Storage (EBS)?",
    "explanation": "Use **Object Storage** for unstructured, write-once-read-many data (Images, Backups, Logs) accessed via HTTP API. It scales infinitely and is cheaper. Use **Block Storage** for high-performance, low-latency RW operations required by OS boots or Databases."
  },
  {
    "id": 27142,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Rate Limiting: Distributed Counter",
    "content": "Why is Redis a good choice for a distributed rate limiter backend?",
    "explanation": "It is fast (in-memory), supports atomic operations (`INCR`, `Lua`), and supports Key Expiration (`EXPIRE`). Multiple servers can check/increment the rate limit counter for a specific UserID safely and with low latency."
  },
  {
    "id": 27143,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CDN: Edge Computing",
    "content": "What is 'Edge Computing' (e.g., Cloudflare Workers) and use cases?",
    "explanation": "Running lightweight code (JS/WASM) on the CDN servers physically closest to the user. Use cases: Custom Authentication logic, A/B Testing routing, Image Resizing on-the-fly, or geo-specific content modification without hitting the origin server."
  },
  {
    "id": 27144,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Hot vs Cold Data",
    "content": "How does separating Hot and Cold data optimize database costs?",
    "explanation": "**Hot Data** (Recent, Frequently accessed) lives on expensive, fast storage (NVMe SSD / RAM). **Cold Data** (Old, Rarely accessed) moves to cheap, slower storage (HDD / S3 Glacier). DB engines like Elasticsearch or SQL Server Hyperscale automate this tiering."
  },
  {
    "id": 27145,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Consistency: Strong vs Eventual",
    "content": "Why do social media feeds typically use Eventual Consistency?",
    "explanation": "Scale and Availability. It is acceptable if a user sees a post 2 seconds later than their friend. Enforcing Strong Consistency (locking) for billions of reads/writes would make the system unbearably slow and fragile to network partitions."
  },
  {
    "id": 27146,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Health Checks",
    "content": "What is the difference between Shallow and Deep Health Checks?",
    "explanation": "**Shallow**: \"Is the HTTP process running?\" (Returns 200 OK instantly). Good for fast failure detection. **Deep**: \"Can the app connect to the DB and Cache?\" Checks dependencies. Good for ensuring functionality, but can cause cascading failures if the DB slows down (all apps mark themselves unhealthy)."
  },
  {
    "id": 27147,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Strangler Fig Pattern",
    "content": "How does the Strangler Fig pattern assist in migrating a Monolith to Microservices?",
    "explanation": "You place a Proxy in front of the Monolith. You build *new* features as microservices. The Proxy routes specific URLs to the new services and defaults the rest to the Monolith. Over time, you migrate existing features one by one until the Monolith is empty ('strangled')."
  },
  {
    "id": 27148,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: Zero Trust",
    "content": "What is the core principle of Zero Trust architecture?",
    "explanation": "**\"Never Trust, Always Verify.\"** Assume the internal network is compromised. Do not trust traffic just because it comes from inside the firewall. Every request, service-to-service or user-to-service, must be Authenticated, Authorized, and Encrypted."
  },
  {
    "id": 27149,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: Search",
    "content": "Why is 'Fuzzy Search' expensive in terms of performance?",
    "explanation": "Fuzzy search (handling typos like \"Appl\" -> \"Apple\") relies on Edit Distance (Levenshtein) calculations. It expands the search term into a massive `OR` query of all possible variations (automata), scanning significantly more terms in the Inverted Index."
  },
  {
    "id": 27150,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Scalability: Stateless",
    "content": "Why is storing Session State in the application memory an anti-pattern for scalability?",
    "explanation": "It forces **Sticky Sessions** (a user must always hit Server A). If Server A crashes, the user loses their session. It prevents easy auto-scaling (can't just kill idle servers). **Fix:** Store session state in a shared Distributed Cache (Redis) so any server can handle any user."
  },
  {
    "id": 27151,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CQRS: Read/Write Latency",
    "content": "In a CQRS system, how do you handle the 'Stale Read' problem where a user updates data but immediately sees the old data on the screen?",
    "explanation": "This is the **Eventual Consistency** lag between the Write Model and Read Model. **Solutions:** 1. **Optimistic UI:** Update the UI immediately with JavaScript, assuming success. 2. **Read-Your-Writes:** Pin the user to the Write Database for a short window (e.g., 2 seconds) after an update. 3. **Versioned Read:** The client sends the 'Last Known Version' token; the Read API waits until its replica catches up to that version before responding."
  },
  {
    "id": 27152,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Event Sourcing: Snapshotting",
    "content": "Why is Snapshotting critical for performance in an Event Sourcing system, and when should it be triggered?",
    "explanation": "Replaying 1 million events to rebuild an aggregate's state is too slow (O(N)). **Snapshots** store the calculated state at a specific version (e.g., every 100 events). To load the aggregate, you load the latest Snapshot and replay only the *subsequent* events (O(1) + O(small)). Trigger snapshots asynchronously based on event count or time."
  },
  {
    "id": 27153,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Consensus: Raft",
    "content": "In the Raft consensus algorithm, what is the role of the 'Log Replication' step for data consistency?",
    "explanation": "The Leader receives a command, appends it to its log, and replicates it to Followers. The command is only **Committed** (applied to the state machine) once a **Majority (Quorum)** of followers have acknowledged receiving it. This guarantees that committed data survives even if the Leader fails."
  },
  {
    "id": 27154,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Partitioning Strategy",
    "content": "What is the difference between Vertical Partitioning and Horizontal Partitioning (Sharding)?",
    "explanation": "**Vertical Partitioning**: Splitting columns. E.g., moving the massive `Bio` text column to a separate table/blob storage to keep the main `User` table row size small and fast. **Horizontal Partitioning (Sharding)**: Splitting rows. E.g., Users A-M go to DB 1, N-Z go to DB 2. Vertical optimizes single-node IO; Horizontal scales across multiple nodes."
  },
  {
    "id": 27155,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Gateway: Aggregator Pattern",
    "content": "How does the Aggregator Pattern in an API Gateway reduce latency for mobile clients?",
    "explanation": "Instead of the mobile app making 5 sequential HTTP calls over a slow 4G network (5 x RTT), it makes **one** call to the Gateway. The Gateway performs the 5 calls to backend microservices in parallel (fast internal network) and combines the results into a single JSON response. Saves bandwidth and battery."
  },
  {
    "id": 27156,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Caching: Cache Aside vs Read Through",
    "content": "In a heavy-read system, why might you choose 'Read-Through' caching over 'Cache-Aside'?",
    "explanation": "**Read-Through** simplifies application code. The app treats the Cache as the *only* data store. The Cache (or a library) handles the complexity of fetching from the DB on a miss. This prevents logic duplication across multiple services and ensures consistent caching policies (TTL, Eviction) are applied centrally."
  },
  {
    "id": 27157,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Search: ElasticSearch Routing",
    "content": "Why is using a custom 'Routing Key' (e.g., TenantId) recommended for multi-tenant Elasticsearch indices?",
    "explanation": "By default, ES queries *all* shards and merges results (Scatter-Gather). If you route by `TenantId`, all data for that tenant lives on a **Single Shard**. Queries with `routing=TenantId` hit only that one shard. This drastically reduces cluster load and improves latency for tenant-specific queries."
  },
  {
    "id": 27158,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Metrics: Histogram vs Summary",
    "content": "In Prometheus, when should you use a Histogram instead of a Summary for latency metrics?",
    "explanation": "Use **Histogram** when you need to aggregate data across multiple instances (e.g., \"Global P99 Latency\"). Histograms expose bucket counts that can be summed. **Summaries** calculate the percentile on the *client-side* (application) and cannot be mathematically aggregated across multiple pods."
  },
  {
    "id": 27159,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Consistent Hashing Ring",
    "content": "What is the 'Cascading Failure' risk in a standard Consistent Hashing ring without Virtual Nodes?",
    "explanation": "If a node fails, its entire load shifts to its **Immediate Neighbor** on the ring. This doubles the neighbor's load, potentially causing it to crash too, passing *triple* load to the next neighbor. **Virtual Nodes** mitigate this by spreading the failed node's load across many different physical nodes."
  },
  {
    "id": 27160,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Message Queue: Ordered Delivery",
    "content": "How do you guarantee message ordering in Kafka if you have multiple consumers?",
    "explanation": "Kafka only guarantees order **within a Partition**. To preserve order, you must use a **Partition Key** (e.g., `OrderId`) so all events for that ID go to the same partition. A Partition is consumed by *only one* consumer instance in a group, ensuring sequential processing for that specific ID."
  },
  {
    "id": 27161,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Lock: Fencing Token",
    "content": "What is a 'Fencing Token' and how does it prevent data corruption when a Distributed Lock expires prematurely?",
    "explanation": "If a GC pause lasts longer than the lock lease, Client A loses the lock, Client B acquires it, and then Client A wakes up and writes (corrupting B's work). A **Fencing Token** is a monotonic number (1, 2, 3...) returned by the Lock Service. The storage layer checks: \"Is this token higher than the last write?\" If not, it rejects Client A's write."
  },
  {
    "id": 27162,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Materialized View",
    "content": "Why use a Materialized View for a dashboard instead of a standard SQL View?",
    "explanation": "A Standard View runs the complex query *every time* it is accessed (high CPU). A **Materialized View** pre-computes the result and stores it physically on disk. Reading it is O(1). It trades **Data Freshness** (it must be refreshed) for **Read Performance**."
  },
  {
    "id": 27163,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Rate Limiting: Sliding Window Counter",
    "content": "How does the Sliding Window Counter algorithm improve accuracy over Fixed Window?",
    "explanation": "Fixed Window allows bursts at boundaries (2x limit in split second). Sliding Window Counter tracks the *weighted count* of the previous window and the current window. `Rate = PreviousCount * (1 - TimeInCurrentWindow) + CurrentCount`. It approximates the rolling rate smoothly with low memory overhead."
  },
  {
    "id": 27164,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Architecture: Cell-Based",
    "content": "How does Cell-Based Architecture (bulkheads) limit the blast radius of a failure?",
    "explanation": "The entire stack (Gateway, App, DB, Queue) is replicated into isolated **Cells**. Each Cell handles a fixed shard of users (e.g., 100k). If a bad deployment or bug crashes Cell 1, only those 100k users are affected. The other 90% of users in other Cells remain completely unaffected."
  },
  {
    "id": 27165,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CDN: Dynamic Content Acceleration",
    "content": "Can a CDN help with dynamic, uncacheable API content?",
    "explanation": "Yes, via **Route Optimization** (DSA). The CDN ingests the request at a local Edge POP and sends it over its optimized private fiber backbone to the Origin, bypassing the slower/congested public internet BGP routes. It also keeps persistent TCP connections (Keep-Alive) open to the Origin."
  },
  {
    "id": 27166,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Write Amplification",
    "content": "What is Write Amplification in SSDs and databases like RocksDB?",
    "explanation": "When 1 logical write from the application results in multiple physical writes to the disk. In LSM Trees (RocksDB), compaction processes repeatedly re-write data to merge levels. High write amplification reduces disk lifespan and consumes I/O bandwidth."
  },
  {
    "id": 27167,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Circuit Breaker Thresholds",
    "content": "Why should Circuit Breakers trigger on 'Consecutive Failures' rather than just 'Error Rate' for low-traffic services?",
    "explanation": "For low-traffic services, **Error Rate** is noisy (1 error in 2 requests = 50% rate). **Consecutive Failures** (e.g., 5 in a row) is a more reliable indicator that the service is truly down, preventing accidental tripping during sparse traffic."
  },
  {
    "id": 27168,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: TinyURL Collision",
    "content": "In a URL Shortener, how do you handle hash collisions if you use MD5 truncated to 7 characters?",
    "explanation": "Collisions are inevitable with truncation. **Strategy 1**: Check DB for existence; if exists, append a salt and re-hash (slower). **Strategy 2 (Preferred)**: Don't hash. Use a pre-generated or auto-incrementing ID converted to Base62. Guarantees uniqueness by design."
  },
  {
    "id": 27169,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Cache: Near Cache (L1/L2)",
    "content": "What is the 'Near Cache' pattern and what is its main consistency challenge?",
    "explanation": "**Near Cache** keeps hot data in the application's local RAM (L1) while backing it with Redis (L2). It eliminates network latency for super-hot items. **Challenge**: Invalidation. When one server updates Redis, all other servers have stale L1 data. Requires a Pub/Sub mechanism (Redis Keyspace Notifications) to broadcast invalidations."
  },
  {
    "id": 27170,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Design: HATEOAS",
    "content": "Why is HATEOAS (Hypermedia) rarely adopted in high-performance internal microservices?",
    "explanation": "It adds significant **Payload Overhead** (links in every response) and **Complexity** (clients must traverse links dynamically). In internal microservices, contracts are usually strict (gRPC/Swagger) and compiled. The flexibility of HATEOAS isn't worth the performance cost."
  },
  {
    "id": 27171,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Resilience: Bulkhead Pattern",
    "content": "How does the Bulkhead pattern differ from a Circuit Breaker?",
    "explanation": "**Circuit Breaker**: Stops calling a *down* service to let it recover. **Bulkhead**: Isolates resources so *one* slow service doesn't kill the whole app. e.g., Thread Pool A for 'Payments', Thread Pool B for 'Comments'. If Comments are slow, Payments keep working."
  },
  {
    "id": 27172,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Columnar vs Row",
    "content": "Why is Row-Oriented storage (Postgres/MySQL) better for OLTP than Column-Oriented?",
    "explanation": "OLTP involves writing/reading complete entities (User Profile). Row storage keeps all fields of one record contiguous on disk, allowing single-seek retrieval. Column storage requires seeking to multiple locations to reconstruct one row, which is too slow for transactional workloads."
  },
  {
    "id": 27173,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "GraphQL: Query Complexity Analysis",
    "content": "How do you protect a GraphQL API from 'Resource Exhaustion' attacks via deeply nested queries?",
    "explanation": "Implement **Query Complexity Analysis**. Assign a 'cost' to every field. Before execution, calculate the total cost of the incoming query AST. If Cost > MaxLimit, reject the query immediately. Simple Depth Limiting isn't enough (wide queries can also be heavy)."
  },
  {
    "id": 27174,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Systems: Clock Drift",
    "content": "Why can't you rely on `DateTime.Now` for ordering events across different servers?",
    "explanation": "Server clocks are synchronized via NTP but can still drift by milliseconds or seconds. You cannot guarantee that Event A on Server 1 happened before Event B on Server 2 based on wall-clock time. Use **Logical Clocks** (Lamport timestamps) or Vector Clocks for causality."
  },
  {
    "id": 27175,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Session Affinity",
    "content": "When is Session Affinity (Sticky Sessions) absolutely required?",
    "explanation": "When the application stores session state in **Local Memory** (RAM) instead of a Distributed Cache (Redis). The user *must* return to the same server to retrieve their cart/login state. This is an anti-pattern for cloud-native scaling."
  },
  {
    "id": 27176,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: OAuth2 State Parameter",
    "content": "What attack does the `state` parameter in OAuth2 prevent?",
    "explanation": "**CSRF (Cross-Site Request Forgery)**. The client generates a random string (`state`) before redirecting to the IdP. The IdP returns it. The client verifies it matches. Without it, an attacker could trick a user into binding the *attacker's* account to the user's session."
  },
  {
    "id": 27177,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Soft Delete Performance",
    "content": "What is the performance impact of Soft Deletes (`IsDeleted = 1`) on Database Indexes?",
    "explanation": "Indexes grow indefinitely because 'deleted' rows remain. Unique Indexes must include the `IsDeleted` column (or be Filtered Indexes) to allow re-using identifiers. Queries must strictly include `WHERE IsDeleted = 0`, or they might return 'zombie' data."
  },
  {
    "id": 27178,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Observability: High Cardinality",
    "content": "Why is it dangerous to add `IP_Address` as a tag in Prometheus metrics?",
    "explanation": "**High Cardinality Explosion**. Prometheus creates a new time series for every unique tag combination. Since there are billions of IPs, this will consume all RAM on the Prometheus server and crash it. Use high-cardinality data in **Logs**, not Metrics."
  },
  {
    "id": 27179,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Deployment: Shadow Deployment",
    "content": "What is a 'Shadow Deployment' (Dark Launch) and when is it useful?",
    "explanation": "Deploying version v2 alongside v1. Incoming traffic is duplicated (mirrored) to v2 asynchronously. v2 processes the request, but the response is discarded. Useful for testing v2's performance and error rates under **real production load** without impacting users."
  },
  {
    "id": 27180,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: Notification Fanout",
    "content": "In a Twitter-like system, why is 'Pull Model' better for Justin Bieber (100M followers) than 'Push Model'?",
    "explanation": "**Push Model**: Writing a tweet requires inserting 100 million rows into follower timelines (Slow). **Pull Model**: When a user views their timeline, they query 'Get tweets from people I follow'. For celebrities, Pull is better (fetch their tweets at read time) to avoid the massive write amplification."
  },
  {
    "id": 27181,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Infrastructure: Immutable Infrastructure",
    "content": "What is the main security benefit of Immutable Infrastructure (replacing VMs instead of patching)?",
    "explanation": "It eliminates **Configuration Drift** and **Persistent Malware**. If a server is compromised (APT), it is destroyed and replaced with a clean image during the next deployment. Attackers cannot maintain a foothold. Patching live servers leaves artifacts and potential backdoors."
  },
  {
    "id": 27182,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Connection Multiplexing",
    "content": "How does a database proxy like PgBouncer or ProxySQL improve scalability?",
    "explanation": "It creates a small pool of persistent connections to the DB. Thousands of client apps connect to the Proxy. The Proxy **Multiplexes** the client queries onto the few DB connections. This prevents the DB from spending CPU on managing thousands of idle TCP connections."
  },
  {
    "id": 27183,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API: Webhooks vs Polling",
    "content": "Why are Webhooks preferred over Polling for event notifications?",
    "explanation": "**Efficiency**. Polling wastes resources checking for updates (\"Are we there yet?\") that usually aren't there. Webhooks are **Event-Driven**: the server pushes data only when something happens. Reduces network traffic and latency."
  },
  {
    "id": 27184,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Search: Stop Words",
    "content": "Why do search engines remove 'Stop Words' (the, and, is) from the index?",
    "explanation": "They appear in almost every document. They provide near-zero relevance information but consume massive space in the Inverted Index. Removing them significantly reduces index size and improves query speed."
  },
  {
    "id": 27185,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Systems: Split Brain",
    "content": "How does a 'Quorum' prevent Split Brain in a database cluster?",
    "explanation": "If a cluster splits into two partitions, only the side with `> 50%` of nodes (Quorum) can elect a leader and accept writes. The minority side knows it lacks Quorum and steps down (becomes Read-Only). This prevents two divergent histories."
  },
  {
    "id": 27186,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Cache: Cache Penetration",
    "content": "What is Cache Penetration and how do you solve it?",
    "explanation": "Malicious users querying non-existent keys (e.g., `User ID -1`). The cache misses, the DB misses (and doesn't write to cache). The DB gets hammered. **Solution**: Cache `Null` objects with a short TTL, or use a **Bloom Filter** to reject invalid keys before checking the cache."
  },
  {
    "id": 27187,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Data Sovereignty",
    "content": "How do you handle Data Sovereignty (GDPR) in a global microservices architecture?",
    "explanation": "Data must stay in the user's region. **Solution**: Shard databases by Region (EU DB, US DB). The application logic must route the user's request to the correct regional data center based on their profile. Do not replicate EU data to US backup buckets."
  },
  {
    "id": 27188,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Resilience: Retry Jitter",
    "content": "Why add 'Jitter' (Randomness) to Exponential Backoff?",
    "explanation": "To prevent **Synchronization**. If 1000 clients fail at once and all retry exactly 1s later, they create a new spike (Thundering Herd). Jitter spreads the retries out (e.g., 0.8s - 1.2s), flattening the load curve."
  },
  {
    "id": 27189,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Write Skew",
    "content": "What is the 'Write Skew' anomaly in Snapshot Isolation?",
    "explanation": "Two concurrent transactions read overlapping data, make a decision based on it, and update *disjoint* data. Example: Two doctors on call. Both try to leave. Both check \"Is there another doctor? Yes\". Both leave. Now zero doctors are on call. Requires **Serializable** isolation or explicit locking to prevent."
  },
  {
    "id": 27190,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: Salt vs Pepper",
    "content": "What is the difference between a Salt and a Pepper in password hashing?",
    "explanation": "**Salt**: Random, stored *with* the hash in the DB. Unique per user. Defends against Rainbow Tables. **Pepper**: Secret key, stored *separately* (e.g., KeyVault). Shared across users. Defends against DB dumps (attacker gets hash+salt but not pepper)."
  },
  {
    "id": 27191,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Architecture: Event-Driven vs Request-Response",
    "content": "When should you choose Request-Response over Event-Driven architecture?",
    "explanation": "Use **Request-Response** when the caller needs an immediate answer or confirmation (e.g., User Login, Search). Use **Event-Driven** for side effects, decoupling, and eventual consistency (e.g., Send Email, Update Analytics). Mixing them up leads to latency (waiting for events) or coupling (synchronous chains)."
  },
  {
    "id": 27192,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: DNS Round Robin",
    "content": "Why is DNS Round Robin insufficient for high-availability load balancing?",
    "explanation": "DNS caching (TTL). If a server dies, the DNS server can remove the IP, but clients/ISPs might cache the old IP for minutes/hours. Users effectively get routed to a dead server. A hardware/software Load Balancer (behind a VIP) detects health instantly."
  },
  {
    "id": 27193,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Scalability: Shard Key Monotonicity",
    "content": "Why is using a monotonically increasing Shard Key (e.g., Timestamp) often a bad idea?",
    "explanation": "It creates **Hot Spots**. All new writes go to the *last* shard (the one covering the current time). The other shards sit idle. You want to distribute writes evenly. Use a hash of ID or composite key (Region+Timestamp)."
  },
  {
    "id": 27194,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API: Rate Limiting Algorithms",
    "content": "How does the 'Leaky Bucket' algorithm smooth out traffic compared to 'Token Bucket'?",
    "explanation": "**Token Bucket** allows bursts (if you have tokens saved up, you can spend them all at once). **Leaky Bucket** enforces a constant output rate. It queues bursts and processes them at a fixed speed. Use Leaky Bucket to protect slow consumers/databases."
  },
  {
    "id": 27195,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Denormalization",
    "content": "Why would you intentionally denormalize a database for a read-heavy application?",
    "explanation": "To avoid **Joins**. Joining 5 tables (User, Address, Orders...) is CPU intensive. By duplicating the 'User Name' into the 'Orders' table, you can fetch the Order Details with a single `SELECT`, drastically improving read performance at the cost of write complexity."
  },
  {
    "id": 27196,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Systems: Idempotency",
    "content": "How do you ensure a 'Payment Processing' consumer is idempotent?",
    "explanation": "Track processed message IDs in a separate table (or Redis) within a transaction. Before processing, check `if (Processed.Exists(MsgID)) return`. If the consumer crashes after charging but before committing, the replay will detect the ID and skip charging again."
  },
  {
    "id": 27197,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: TLS Termination",
    "content": "Why terminate TLS at the Load Balancer/Gateway instead of the App Server?",
    "explanation": "Performance and Management. Decrypting TLS is CPU intensive; specialized LBs handle this efficiently. It allows the internal network to inspect traffic (IDS/IPS). It simplifies certificate management (install cert on 1 LB vs 100 App Servers)."
  },
  {
    "id": 27198,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: Short Polling",
    "content": "Why is Short Polling generally discouraged for real-time apps?",
    "explanation": "It spams the server. 99% of requests return \"No new data\". It wastes bandwidth, CPU, and battery life. Use Long Polling, SSE, or WebSockets to wait for data push."
  },
  {
    "id": 27199,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Cache: Key Eviction Policies",
    "content": "When would you use `volatile-lru` vs `allkeys-lru` in Redis?",
    "explanation": "**volatile-lru**: Only evicts keys that have an **Expiry (TTL)** set. Useful if you store both persistent data (no TTL) and cache data (TTL) in the same instance. **allkeys-lru**: Evicts *any* key. Best for pure caching scenarios where everything is transient."
  },
  {
    "id": 27200,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Database Per Service",
    "content": "What is the primary motivation for the 'Database per Service' pattern?",
    "explanation": "**Decoupling**. If Service A and Service B share a DB, Service A cannot change its schema without breaking Service B. They become a distributed monolith. Private databases force services to communicate via API contracts, allowing independent evolution/deployment."
  },
  {
    "id": 27201,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Design: Rate Limiting Scope",
    "content": "Why is rate limiting by IP address insufficient for a public API with mobile users?",
    "explanation": "Mobile users are often behind Carrier NAT (CGNAT). Thousands of users might share the same public IP. Blocking one IP blocks all of them. **Solution:** Rate limit by API Key, User ID (token), or Device Fingerprint, and use IP limiting only as a fallback for unauthenticated traffic."
  },
  {
    "id": 27202,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Storage: Erasure Coding",
    "content": "How does Erasure Coding (e.g., Reed-Solomon) optimize storage costs compared to standard 3x Replication?",
    "explanation": "3x Replication stores 3 full copies (200% overhead). **Erasure Coding** breaks data into fragments (Data + Parity). You might store 1.5x the data (50% overhead) but still survive the loss of multiple drives/nodes. It trades **CPU** (calculation) for **Disk Space**."
  },
  {
    "id": 27203,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Systems: Clock Synchronization",
    "content": "Why is Google Spanner's 'TrueTime' API significant for distributed transactions?",
    "explanation": "Standard NTP has drift. You cannot order events reliably across nodes. **TrueTime** (using Atomic Clocks/GPS) creates a time window with bounded uncertainty. This allows Spanner to guarantee **External Consistency** (Linearizability) across the globe without locking the entire universe."
  },
  {
    "id": 27204,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "CDN: Cache Hit Ratio",
    "content": "How does 'Tiered Caching' improve the Cache Hit Ratio in a CDN?",
    "explanation": "Instead of every Edge POP hitting the Origin on a miss, they hit a regional **Mid-Tier** cache. The Mid-Tier aggregates requests from many Edges. This shielding protects the Origin and increases the likelihood that content is cached closer to the user."
  },
  {
    "id": 27205,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: B-Tree Fragmentation",
    "content": "Why do random GUID inserts cause B-Tree index fragmentation and poor performance?",
    "explanation": "B-Trees are sorted. A random GUID insert usually belongs in the *middle* of an existing full page, forcing a **Page Split**. The page is split into two half-empty pages. This increases disk IO (writing new pages) and wastes storage space (fragmentation). **UUIDv7** (Time-sorted) solves this."
  },
  {
    "id": 27206,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Connection Draining",
    "content": "What is Connection Draining (Deregistration Delay) and why is it critical during deployments?",
    "explanation": "When removing a server from the Load Balancer, existing in-flight requests must complete. Draining stops sending *new* traffic but keeps the connection open for existing requests for a timeout (e.g., 30s). Without it, users see 502 Errors during every deployment."
  },
  {
    "id": 27207,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Data Duplication",
    "content": "Why might you intentionally duplicate 'Product Name' into the 'Order Item' service database?",
    "explanation": "To decouple the services. If the Order service needs to display an invoice, it shouldn't query the Product service (temporal coupling). Also, **Historical Accuracy**: If the product is renamed later, the Invoice should still show the name *at the time of purchase*."
  },
  {
    "id": 27208,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Search: Faceted Search",
    "content": "What is Faceted Search and how is it efficiently implemented?",
    "explanation": "Navigating by categories (e.g., Amazon sidebar: 'Color: Red (5)', 'Brand: Nike (2)'). Implemented using **Aggregations** (Elasticsearch buckets). It counts documents matching the current query grouped by specific fields. Pre-computing counts is often required for scale."
  },
  {
    "id": 27209,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Network: TCP Head-of-Line Blocking",
    "content": "How does HTTP/3 (QUIC) solve TCP Head-of-Line Blocking?",
    "explanation": "In TCP (HTTP/2), one lost packet stalls *all* streams because TCP guarantees order. **QUIC (UDP)** manages streams independently. A lost packet only stalls the specific stream it belongs to; other streams (images/CSS) continue loading."
  },
  {
    "id": 27210,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Scalability: Sharding vs Partitioning",
    "content": "Is there a difference between Sharding and Partitioning?",
    "explanation": "Often used interchangeably, but strictly: **Partitioning** splits a table within the *same* database instance (e.g., by Date). **Sharding** splits data across *different* physical database instances/servers. Sharding allows infinite scale; Partitioning manages manageability."
  },
  {
    "id": 27211,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Systems: Leasing",
    "content": "What is the 'Lease' pattern in distributed locking?",
    "explanation": "A lock that auto-expires after a time (TTL). If the client holding the lock crashes, they cannot release it. The Lease ensures the lock becomes available again eventually. Clients must send **Heartbeats** to renew the lease if they are still working."
  },
  {
    "id": 27212,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Messaging: At-Most-Once Delivery",
    "content": "When is 'At-Most-Once' message delivery acceptable?",
    "explanation": "For non-critical telemetry (e.g., IoT sensor updating temperature every second). If one packet is lost, it doesn't matter because a new one arrives instantly. It prioritizes **Throughput** over **Reliability**."
  },
  {
    "id": 27213,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Index Selectivity",
    "content": "Why is indexing a 'Gender' column usually a bad idea?",
    "explanation": "**Low Selectivity**. If a column has only 2 values (M/F), the index returns 50% of the table. The DB engine will likely ignore the index and do a Full Table Scan because seeking back-and-forth between the index and table is slower than sequential reading."
  },
  {
    "id": 27214,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: News Feed Fan-out",
    "content": "How do you optimize the 'Fan-out on Load' (Pull) model for high read latency?",
    "explanation": "Reading from all friends' DB partitions is slow. **Optimization:** Use a dedicated **Cache Layer (Redis)**. Store the pre-computed 'Home Timeline' in a Redis List for active users. The DB is only used for backing storage or inactive users."
  },
  {
    "id": 27215,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: Salt Rotation",
    "content": "Do you need to rotate Password Salts?",
    "explanation": "No. Salts are not secrets; they just ensure uniqueness. You *do* need to rotate **Peppers** (Application-wide secret keys) if compromised. Rotating a Pepper requires re-hashing all passwords (or supporting dual-key verification during transition)."
  },
  {
    "id": 27216,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API: GraphQL vs REST Caching",
    "content": "Why is caching harder in GraphQL than REST?",
    "explanation": "REST uses URL as the key (`GET /users/1`). GraphQL uses a single URL (`POST /graphql`) with a complex body. CDNs cannot cache POSTs easily. **Solution:** Use **Persisted Queries** (send a hash ID via GET) to enable CDN caching for GraphQL."
  },
  {
    "id": 27217,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Data Warehouse: Star Schema",
    "content": "What is the purpose of Fact vs Dimension tables in a Star Schema?",
    "explanation": "**Fact Table**: Contains metrics and foreign keys (e.g., Sales, Revenue, DateID, ProductID). Massive. **Dimension Table**: Contains descriptive attributes (e.g., Product Name, Category). Small. This structure creates efficient joins for analytics queries."
  },
  {
    "id": 27218,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Deployment: Feature Toggles",
    "content": "How do Feature Toggles decouple Deployment from Release?",
    "explanation": "**Deployment**: Installing binary code on the server (Technical risk). **Release**: Turning the feature on for users (Business risk). Toggles allow you to deploy code safely (disabled) and release it gradually to users (10% -> 50% -> 100%) later."
  },
  {
    "id": 27219,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Distributed Systems: Leader Election",
    "content": "Why is a randomized timeout used in the Raft Leader Election process?",
    "explanation": "If two nodes start an election at the exact same time, they will split the votes and neither wins (Split Vote). Randomized timeouts ensure one node times out *slightly* earlier, requests votes, and wins before the others wake up."
  },
  {
    "id": 27220,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Availability: Multi-Cloud",
    "content": "What is the primary argument *against* a Multi-Cloud strategy for availability?",
    "explanation": "**Complexity**. The abstraction layer (Terraform/K8s) required to run seamlessly on AWS and Azure effectively reduces you to the 'Lowest Common Denominator' of features. It often introduces more human error/outage risk than the risk of a single cloud provider going completely dark."
  },
  {
    "id": 27221,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Resilience: Chaos Engineering",
    "content": "What is the goal of Chaos Engineering (Simian Army)?",
    "explanation": "To inject failures (kill VMs, latency, packet loss) *intentionally* in production to verify that the system degrades gracefully and auto-heals. It shifts resilience verification from 'Theory' to 'Practice'."
  },
  {
    "id": 27222,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Polyglot Persistence",
    "content": "What is Polyglot Persistence?",
    "explanation": "Using the right DB for the right job within the same system. e.g., SQL for Orders (ACID), Mongo for Product Catalog (Flexible Schema), Redis for Session (Speed), Neo4j for Recommendations (Graph). Avoids the 'Golden Hammer' anti-pattern."
  },
  {
    "id": 27223,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Scaling: Database Federation",
    "content": "What is Database Federation?",
    "explanation": "Splitting tables by function into different databases. e.g., `Users` DB, `Products` DB, `Forums` DB. It scales writes but destroys the ability to perform Joins (ACID transactions) across domains."
  },
  {
    "id": 27224,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API Gateway: Token Translation",
    "content": "How does an API Gateway facilitate legacy authentication support?",
    "explanation": "The Gateway accepts a modern OAuth2 JWT from the mobile app. It validates it, then generates a legacy Session Cookie or Basic Auth header to forward to the legacy backend. The backend never knows it's being called by a modern app."
  },
  {
    "id": 27225,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Observability: Semantic Logging",
    "content": "Why are structured logs (JSON) superior to plain text logs for debugging?",
    "explanation": "You can query fields. `Logs.Where(l => l.Duration > 500 && l.UserID == '123')`. Text logs require Regex parsing which is slow and brittle. Structured logs enable aggregations and visualizations in tools like Splunk/Datadog."
  },
  {
    "id": 27226,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Cache: Dogpile Effect",
    "content": "How is the Dogpile Effect different from Thundering Herd?",
    "explanation": "Often used interchangeably. Strictly, **Dogpile** refers to cache expiration causing parallel regeneration. **Thundering Herd** can also refer to 'Waking Up' too many threads/processes to handle a single event (e.g., Socket Select)."
  },
  {
    "id": 27227,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: DNS TTL",
    "content": "Why is a low DNS TTL (Time To Live) important for high availability?",
    "explanation": "If a Load Balancer IP fails, you update DNS. If TTL is 24 hours, users are sent to the dead IP for 24 hours. A low TTL (e.g., 60s) ensures traffic shifts to the backup IP quickly."
  },
  {
    "id": 27228,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Covering Index",
    "content": "How does a Covering Index eliminate Key Lookups (Bookmark Lookup)?",
    "explanation": "If the Index contains *all* the columns requested in the `SELECT` list (using `INCLUDE`), the DB engine can answer the query purely from the Index B-Tree. It never has to jump to the Clustered Index (Table Heap) to fetch the actual row data."
  },
  {
    "id": 27229,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: Unique ID (Sorting)",
    "content": "Why is K-Sortability important for Primary Keys in distributed systems?",
    "explanation": "It keeps data roughly ordered by time on disk. This improves **Cache Locality** (recent data is accessed together) and reduces **Index Fragmentation**. Completely random keys (UUIDv4) scatter writes across the entire disk, killing IOPS."
  },
  {
    "id": 27230,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Smart Endpoints",
    "content": "What does 'Smart Endpoints, Dumb Pipes' mean in Microservices?",
    "explanation": "Logic should live in the Microservice (Endpoint), not the Message Bus (Pipe). Avoid ESBs (Enterprise Service Buses) that contain business rules. Use simple queues (RabbitMQ/Kafka) just for transport."
  },
  {
    "id": 27231,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Consistency: Monotonic Read",
    "content": "What is Monotonic Read consistency?",
    "explanation": "It guarantees that if a user sees a piece of data, they will never see an *older* version of that data in the future. Prevents the 'Time Travel' glitch where refreshing the page reverts an update because the request hit a lagging replica."
  },
  {
    "id": 27232,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Network: Anycast",
    "content": "How does Anycast routing handle DDoS attacks?",
    "explanation": "It spreads the attack traffic across *all* global data centers. Because the same IP is announced everywhere, the attack traffic is routed to the nearest POP. No single server gets overwhelmed; the global capacity absorbs the flood."
  },
  {
    "id": 27233,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Clustered Index",
    "content": "Why can a table have only one Clustered Index?",
    "explanation": "The Clustered Index *is* the table. It determines the physical order of data on the disk. You cannot physically sort the same file in two different ways simultaneously."
  },
  {
    "id": 27234,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API: Webhooks vs WebSockets",
    "content": "When to use Webhooks vs WebSockets for server-to-client updates?",
    "explanation": "**Webhooks**: Server-to-Server. Async. Robust (can retry). **WebSockets**: Server-to-Browser. Real-time. Ephemeral (connection loss). Use Webhooks for backend integration (Stripe); WebSockets for UI updates (Chat)."
  },
  {
    "id": 27235,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: SQL Injection Defense",
    "content": "Why is Input Sanitization insufficient compared to Parameterized Queries for SQL Injection?",
    "explanation": "Sanitization is a 'Cat and Mouse' game (hackers find new bypasses). **Parameterized Queries** treat input as *Data*, not *Code*. The DB engine never interprets the input as SQL commands, making injection impossible by design."
  },
  {
    "id": 27236,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Availability: Multi-Region",
    "content": "What is the 'Split Brain' risk in Multi-Region Active-Active deployment?",
    "explanation": "If the transatlantic cable is cut, US and EU both accept writes. When the cable comes back, the data is divergent. You need conflict resolution logic or must accept data loss (Last Writer Wins) to merge."
  },
  {
    "id": 27237,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: URL Shortener Redirect",
    "content": "Why use HTTP 301 vs 302 for a URL Shortener redirect?",
    "explanation": "**301 (Permanent)**: Browser caches the redirect. Reduces server load, but you lose analytics (you don't know if they clicked again). **302 (Temporary)**: Browser always hits your server. Higher load, but guarantees analytics tracking."
  },
  {
    "id": 27238,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Infrastructure: Blue/Green Database",
    "content": "How do you handle Database Schema changes in a Blue/Green deployment?",
    "explanation": "Changes must be **Backwards Compatible**. Phase 1: Add new column (don't use it). Phase 2: Deploy Green code that writes to it. Phase 3: Backfill old rows. Phase 4: Remove old column. 'Expand and Contract' pattern."
  },
  {
    "id": 27239,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Observability: Tracing Sampling",
    "content": "What is 'Adaptive Sampling' in Distributed Tracing?",
    "explanation": "The system adjusts the sampling rate dynamically based on traffic. During low traffic, keep 100%. During high traffic, drop to 1% to save costs. It also prioritizes sampling *error* traces to ensure debugging data is kept."
  },
  {
    "id": 27240,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Cache: Negative Caching",
    "content": "What is Negative Caching and when is it useful?",
    "explanation": "Caching the fact that a *record does not exist*. Prevents repeated DB hits for a missing key (Cache Penetration). Usually done with a short TTL (e.g., 1 minute)."
  },
  {
    "id": 27241,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Microservices: Orchestrator vs Choreography",
    "content": "Which pattern is better for complex workflows: Orchestration or Choreography?",
    "explanation": "**Orchestration**: Better for complex flows with many steps and error handling. You have a central view of the state. **Choreography**: Better for simple, event-driven flows where services don't need to know about each other. Orchestration is easier to debug."
  },
  {
    "id": 27242,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Isolation Levels",
    "content": "What is the 'Read Committed' isolation level?",
    "explanation": "You only see data that has been committed. Prevents Dirty Reads. However, **Non-Repeatable Reads** are possible (if you read a row twice in a transaction, it might change between reads if someone else commits)."
  },
  {
    "id": 27243,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Resilience: Jitter",
    "content": "Why do we add Jitter to retry intervals?",
    "explanation": "To desynchronize clients. If 1000 clients fail at 12:00:00, and all retry exactly at 12:00:01, they DDoS the server again. Jitter spreads the retries (12:00:01.1, 12:00:01.5), smoothing the load."
  },
  {
    "id": 27244,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Design: Chat App",
    "content": "How do you handle 'Last Seen' status efficiently in a Chat App?",
    "explanation": "Do not write to the DB on every heartbeat. Use an in-memory store (Redis). Update the heartbeat timestamp in Redis. Only flush to the persistent DB periodically (e.g., on disconnect or every 5 mins)."
  },
  {
    "id": 27245,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Load Balancing: Sticky Sessions",
    "content": "Why are Sticky Sessions bad for auto-scaling?",
    "explanation": "They bind a user to a specific server. If you want to scale down (remove a server), you disrupt all users stuck to that server. It creates uneven load distribution (one server might have all the heavy users)."
  },
  {
    "id": 27246,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Security: CSRF",
    "content": "Does a SPA using LocalStorage for tokens need CSRF protection?",
    "explanation": "Generally **No**. CSRF exploits the browser automatically sending Cookies. LocalStorage requires explicit JavaScript code to attach the token. However, LocalStorage is vulnerable to **XSS**."
  },
  {
    "id": 27247,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Database: Foreign Keys",
    "content": "Why might you disable Foreign Keys in a high-throughput sharded database?",
    "explanation": "Foreign Key checks require querying the parent table. In a sharded system, the parent might live on a different physical server. Cross-shard checks are prohibitively slow. Integrity is enforced by the Application layer instead."
  },
  {
    "id": 27248,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "System Architecture: Event Sourcing",
    "content": "What is the 'Replay' capability in Event Sourcing?",
    "explanation": "The ability to discard the current state (Database) and rebuild it from scratch by re-processing all historical events. Allows fixing bugs in business logic retroactively or creating new Read Models."
  },
  {
    "id": 27249,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "API: GraphQL Schema Federation",
    "content": "What is GraphQL Federation?",
    "explanation": "Splitting a single monolithic GraphQL schema across multiple microservices. A Gateway composes them into one unified graph. Allows teams to own their specific slice of the graph (Users, Products) independently."
  },
  {
    "id": 27250,
    "category": "System Design",
    "difficulty": "Principal",
    "title": "Infrastructure: Serverless Cold Start",
    "content": "How does 'Provisioned Concurrency' mitigate Serverless Cold Starts?",
    "explanation": "It keeps a specific number of function instances initialized and warm (running) at all times, ready to serve requests. You pay for this idle capacity, but it eliminates the latency of the initial boot."
  },
  {
    "id": 44051,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskCompletionSource: RunContinuationsAsynchronously",
    "content": "Why is it often critical to pass `TaskCreationOptions.RunContinuationsAsynchronously` to a `TaskCompletionSource` constructor?",
    "explanation": "Without it, the continuation (the code after `await`) runs synchronously on the thread that calls `SetResult`. If `SetResult` is called inside a lock or a critical hot path, the continuation might do heavy work or try to acquire the same lock, causing a **Deadlock** or **Thread Starvation**. Forcing async continuations dispatches them to the ThreadPool, breaking the synchronous chain."
  },
  {
    "id": 44052,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SpinLock: Owner Tracking",
    "content": "Why does `SpinLock` disable thread-owner tracking in Release mode by default, and what is the risk?",
    "explanation": "Tracking ownership is expensive. In Release mode, `SpinLock` is a raw primitive for speed. **Risk:** If a thread tries to acquire a `SpinLock` it already holds (Recursion), it will spin forever (Deadlock) because it doesn't know it owns it. Always use `SpinLock` in a `try/finally` block and ensure no recursion."
  },
  {
    "id": 44053,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Monitor.Wait vs Thread.Sleep",
    "content": "What is the fundamental difference between `Monitor.Wait(lockObj)` and `Thread.Sleep()` inside a locked block?",
    "explanation": "`Thread.Sleep` holds onto the lock while sleeping, blocking all other threads. `Monitor.Wait` **releases the lock** atomically and puts the thread to sleep in the 'Waiting Queue'. When signaled, it re-acquires the lock before returning. Essential for Producer/Consumer patterns."
  },
  {
    "id": 44054,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Volatile: Optimization Prevention",
    "content": "How does the `volatile` keyword affect the JIT compiler's optimization of a loop `while (!stop) {}`?",
    "explanation": "Without `volatile`, the JIT might hoist the read of `stop` out of the loop (caching it in a register), assuming it never changes within the loop body. This creates an infinite loop even if another thread sets `stop = true`. `volatile` forces a memory read on every iteration."
  },
  {
    "id": 44055,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Interlocked: Memory Fences",
    "content": "Do `Interlocked` operations like `Increment` act as a Full Memory Fence?",
    "explanation": "Yes. On x86/x64, `Interlocked` operations emit a hardware `LOCK` prefix which acts as a Full Fence (StoreLoad barrier). It ensures all previous reads/writes are committed before the operation, and prevents subsequent reads/writes from moving before it. This guarantees sequential consistency."
  },
  {
    "id": 44056,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim: Release Count",
    "content": "What happens if you call `SemaphoreSlim.Release(2)` when `CurrentCount` is already near `MaxCount`?",
    "explanation": "It throws a `SemaphoreFullException` if the release count would exceed the `MaxCount` defined in the constructor. This strict accounting helps detect bugs where a semaphore is released more times than it was entered (unbalanced pairing)."
  },
  {
    "id": 44057,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread vs Task Abstraction",
    "content": "Why is creating a new `Thread` manually considered an anti-pattern in modern .NET apps?",
    "explanation": "Threads are expensive (~1MB stack + OS kernel object). Creating/destroying them is slow. The **ThreadPool** (used by Task) recycles threads, avoiding this overhead. Manual threads also bypass the ThreadPool's sophisticated injection/throttling logic (Hill Climbing), potentially oversubscribing the CPU."
  },
  {
    "id": 44058,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "CancellationToken: ThrowIfCancellationRequested",
    "content": "Does `token.ThrowIfCancellationRequested()` generate a stack trace snapshot?",
    "explanation": "Yes, it throws an `OperationCanceledException` which captures the stack. In extremely tight loops (Millions/sec), this exception handling overhead is significant. For performance-critical paths, check `IsCancellationRequested` property and return gracefully instead of throwing."
  },
  {
    "id": 44059,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool: Worker vs IO Threads",
    "content": "What is the distinction between Worker Threads and I/O Completion Threads in the .NET ThreadPool?",
    "explanation": "**Worker Threads** execute CPU-bound code (Task callbacks). **I/O Threads** are specialized native threads managed by the Windows I/O Completion Port (IOCP) mechanism. They purely handle the notification that a network/disk operation finished, then usually dispatch the continuation to a Worker Thread."
  },
  {
    "id": 44060,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Barrier: Post-Phase Action",
    "content": "What is the use case for the `postPhaseAction` delegate in the `Barrier` constructor?",
    "explanation": "It executes *once* after all participants reach the barrier, but *before* they are unblocked for the next phase. Useful for aggregating results from the parallel threads (e.g., MapReduce: wait for all Maps, run Reduce in post-action, then release threads)."
  },
  {
    "id": 44061,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ReaderWritLockSlim: Recursion",
    "content": "Why is enabling `LockRecursionPolicy.SupportsRecursion` generally discouraged in `ReaderWriterLockSlim`?",
    "explanation": "Recursion adds significant tracking overhead (checking thread IDs on every access) and introduces complex Deadlock scenarios (e.g., upgrading a read lock to a write lock while another thread is waiting). It is safer and faster to structure code to avoid nested locks."
  },
  {
    "id": 44062,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Delay Precision",
    "content": "Why is `Task.Delay(1)` rarely exactly 1ms on Windows?",
    "explanation": "It relies on the system clock interrupt rate, which defaults to **15.6ms** on Windows. `Task.Delay(1)` typically waits 15ms. You can force higher precision using `timeBeginPeriod` (winmm.dll) or use spinning strategies for microsecond precision."
  },
  {
    "id": 44063,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Parallel.Invoke vs Task.WhenAll",
    "content": "When should you use `Parallel.Invoke` over `Task.WhenAll`?",
    "explanation": "**Parallel.Invoke** is for blocking, CPU-bound code. It attempts to inline execution on the current thread to save overhead. **Task.WhenAll** is for asynchronous operations. Using `Parallel.Invoke` for I/O is wasteful (blocks threads); using `Task` for tiny CPU ops adds allocation overhead."
  },
  {
    "id": 44064,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lazy<T> Thread Safety",
    "content": "What is the difference between `LazyThreadSafetyMode.ExecutionAndPublication` and `PublicationOnly`?",
    "explanation": "**ExecutionAndPublication** (Default): Locks to ensure the factory runs only once. Safe but blocks concurrent threads. **PublicationOnly**: Allows multiple threads to run the factory concurrently, but only the *first* successful result is stored; others are discarded. Faster if the factory is side-effect free."
  },
  {
    "id": 44065,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channel: Dropping Items",
    "content": "How do `BoundedChannelFullMode.DropOldest` and `DropWrite` help in high-throughput telemetry?",
    "explanation": "In telemetry, losing data is better than crashing the app. **DropOldest** discards the buffered message to make room for the new one (prioritizing fresh data). **DropWrite** rejects the new message (prioritizing processed data). This implements non-blocking Backpressure."
  },
  {
    "id": 44066,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Stack vs Heap: Async State Machine",
    "content": "Where are the local variables of an `async` method stored during an `await`?",
    "explanation": "They are moved from the **Stack** to the **Heap**. The compiler generates a State Machine class (or struct) and promotes locals to fields in that class. This ensures variables survive when the thread returns to the pool during the await."
  },
  {
    "id": 44067,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.MemoryBarrier vs Volatile",
    "content": "Is `Thread.MemoryBarrier()` stronger than `volatile`?",
    "explanation": "Yes. `volatile` applies `Acquire/Release` semantics to specific variables. `Thread.MemoryBarrier()` is a **Full Fence**. It prevents *any* memory access (read or write) from crossing the barrier in either direction. It is a heavier hammer for enforcing ordering."
  },
  {
    "id": 44068,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentBag Performance",
    "content": "Why is `ConcurrentBag` optimized for scenarios where the same thread adds and removes items?",
    "explanation": "It uses **Thread-Local Storage**. If Thread A calls `Add` then `Take`, it accesses its local list (lock-free). Locking only occurs if Thread A tries to `Take` but its local list is empty (it must 'steal' from Thread B's list). Perfect for object pooling."
  },
  {
    "id": 44069,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool: Local vs Global Queues",
    "content": "How does the ThreadPool use Local Queues to improve cache locality?",
    "explanation": "When a Worker Thread queues a new Task (e.g., nested `Task.Run`), it goes into its **Local Queue** (LIFO). This improves CPU cache locality because the data is likely still hot. Other idle threads 'steal' work from the tail of this queue (FIFO) to load balance."
  },
  {
    "id": 44070,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ManualResetEventSlim vs ManualResetEvent",
    "content": "Why does 'Slim' save kernel transitions?",
    "explanation": "**ManualResetEvent** wraps a Windows Kernel Event handle (expensive syscalls). **ManualResetEventSlim** spins in user-mode for a short time waiting for the signal. It only allocates a kernel event if the wait is long. Much faster for short synchronizations."
  },
  {
    "id": 44071,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Streams: Cancellation",
    "content": "How do you pass a CancellationToken to `await foreach`?",
    "explanation": "Use the `.WithCancellation(token)` extension method. The `IAsyncEnumerable` implementation must accept the token via the `[EnumeratorCancellation]` attribute to pass it correctly to the iterator state machine."
  },
  {
    "id": 44072,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.WhenAll Exception Aggregation",
    "content": "If multiple tasks in `Task.WhenAll` fail, how do you access all exceptions?",
    "explanation": "`await Task.WhenAll` throws only the *first* exception. To see all of them, you must inspect the `Task.Exception` property of the returned task, which contains an `AggregateException` holding the full list of failures."
  },
  {
    "id": 44073,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "False Sharing Detection",
    "content": "How can you detect False Sharing in a running application?",
    "explanation": "Use Hardware Performance Counters (PMC). Look for **L1 Cache Misses** or **Cache Coherency Traffic** (HITM - Hit Modified). High rates of these events in a specific memory range indicate cores are fighting over cache lines."
  },
  {
    "id": 44074,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Run vs ThreadPool.QueueUserWorkItem",
    "content": "When might you prefer `ThreadPool.QueueUserWorkItem` over `Task.Run`?",
    "explanation": "For **Fire-and-Forget** scenarios where you absolutely do not need to track completion, handle exceptions, or compose results. It avoids the allocation of the `Task` object overhead. In modern .NET, `Task.Run` is usually preferred for safety despite the small cost."
  },
  {
    "id": 44075,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "AsyncLocal Context Flow",
    "content": "Does `AsyncLocal<T>` flow to a new Thread created via `new Thread()`?",
    "explanation": "No. `AsyncLocal` flows via `ExecutionContext`. The `Task` infrastructure captures and restores this context automatically. Raw `new Thread()` does not capture the context by default unless you manually capture `ExecutionContext.Capture()` and run it."
  },
  {
    "id": 44076,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Monitor.PulseAll",
    "content": "When should you use `PulseAll` instead of `Pulse`?",
    "explanation": "When state changes in a way that *might* unblock *any* waiter, but you don't know which one. E.g., \"Resource Available\". If multiple threads are waiting for different conditions on the same lock, `Pulse` might wake the wrong one (who checks and sleeps again), leaving the right one sleeping forever (Deadlock). `PulseAll` wakes everyone to check."
  },
  {
    "id": 44077,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Cancellation: Register Callback",
    "content": "Why is `token.Register(callback)` risky if not disposed?",
    "explanation": "The registration returns an `IDisposable`. The `CancellationTokenSource` holds a reference to your callback. If the CTS is long-lived (e.g., global app token) and you don't dispose the registration, your object stays in memory (Leak) until the CTS is cancelled."
  },
  {
    "id": 44078,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ValueTask: Multiple Await",
    "content": "Why is it unsafe to await a `ValueTask` twice?",
    "explanation": "`ValueTask` is designed to wrap a reusable underlying object (`IValueTaskSource`) to save allocations. Once awaited, that object might be reset and reused for a *new* operation. Awaiting it twice might read corrupted state or race with the new operation."
  },
  {
    "id": 44079,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Static vs Async Local",
    "content": "Why does `[ThreadStatic]` fail in async methods?",
    "explanation": "Async methods pause and resume. The resumption might happen on a *different thread*. `[ThreadStatic]` data stays on the old thread. The continuation on the new thread sees null/default. `AsyncLocal` is designed to solve this by hopping threads."
  },
  {
    "id": 44080,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Wait vs GetAwaiter().GetResult()",
    "content": "What is the difference in Exception handling between `.Wait()` and `.GetAwaiter().GetResult()`?",
    "explanation": "`.Wait()` wraps exceptions in an `AggregateException`. `.GetAwaiter().GetResult()` unwraps the AggregateException and throws the original exception directly. The latter is preferred for cleaner try/catch blocks in sync-over-async scenarios (though both are bad)."
  },
  {
    "id": 44081,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "PLINQ: Merge Options",
    "content": "How does `WithMergeOptions(ParallelMergeOptions.NotBuffered)` affect PLINQ output?",
    "explanation": "It configures how results are yielded. **NotBuffered** yields results immediately as they are computed (lowest latency). **FullyBuffered** waits for the entire query to finish before yielding (highest throughput/sort integrity). Default is AutoBuffered."
  },
  {
    "id": 44082,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free: ABA Solution",
    "content": "How does the 'Tagged Pointer' approach solve the ABA problem?",
    "explanation": "Instead of storing just a pointer, store `[Pointer | Counter]`. Every time you modify the pointer, increment the counter. Even if the pointer value returns to 'A', the counter will have changed (A1 -> B2 -> A3), causing the CAS to fail as expected."
  },
  {
    "id": 44083,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "WaitHandle: SignalAndWait",
    "content": "What atomic operation does `WaitHandle.SignalAndWait(a, b)` perform?",
    "explanation": "It signals handle 'A' and waits on handle 'B' as a single atomic operation. This is crucial for handshaking scenarios to prevent a context switch between signaling and waiting where a signal might be missed."
  },
  {
    "id": 44084,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Timer vs Thread.Sleep",
    "content": "Why is `System.Threading.Timer` more efficient than `Thread.Sleep` for periodic tasks?",
    "explanation": "`Thread.Sleep` blocks a real thread, wasting 1MB RAM and a ThreadPool slot. `Timer` uses the system's thread pool to queue a callback only when the time elapses. Millions of timers can run on a single thread."
  },
  {
    "id": 44085,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentQueue Snapshots",
    "content": "Is `ConcurrentQueue.Count` an expensive operation?",
    "explanation": "Yes. To get the count, it must freeze all internal segments (linked list of arrays) and sum their counts. It represents a momentary snapshot. In high-concurrency loops, checking `.IsEmpty` is vastly cheaper than checking `.Count > 0`."
  },
  {
    "id": 44086,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Interruption",
    "content": "Why is `Thread.Abort` obsolete in .NET Core?",
    "explanation": "It raises a `ThreadAbortException` at an arbitrary instruction pointer. This could interrupt a static constructor, a `finally` block, or a critical native handle release, corrupting the process state irrevocably. Cooperative cancellation is the only safe alternative."
  },
  {
    "id": 44087,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskScheduler: SynchronizationContext",
    "content": "How does `TaskScheduler.FromCurrentSynchronizationContext()` affect UI performance?",
    "explanation": "It creates a scheduler that queues work onto the UI Message Pump. If you overuse this for CPU-heavy tasks, you freeze the UI. Use it only for the final update step (e.g., setting a TextBox value)."
  },
  {
    "id": 44088,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Starvation: 64-bit vs 32-bit",
    "content": "Why is ThreadPool starvation more dangerous in 32-bit processes?",
    "explanation": "Address Space exhaustion. Each thread stack consumes 1MB of virtual memory. In 32-bit (2GB limit), ~2000 threads will crash the process with `OutOfMemoryException` even if RAM is available. 64-bit can handle significantly more threads."
  },
  {
    "id": 44089,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Single-Threaded SynchronizationContext",
    "content": "Why does `await` deadlock in a Single-Threaded SynchronizationContext (like WinForms) if you block waiting for it?",
    "explanation": "The `await` tries to Post the continuation back to the Context (UI Thread). But the UI Thread is blocked waiting for the Task to finish (`.Result`). The Task can't finish until the UI Thread is free. Classic Deadlock."
  },
  {
    "id": 44090,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channel: Unbounded Memory Risk",
    "content": "What is the primary risk of `Channel.CreateUnbounded`?",
    "explanation": "If the Producer is faster than the Consumer, the channel grows infinitely until the process crashes with OOM. Always prefer `CreateBounded` to apply backpressure (blocking the producer) when the system is saturated."
  },
  {
    "id": 44091,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Amortized Cost of Resizing",
    "content": "How does `ConcurrentDictionary` handle resizing during concurrent writes?",
    "explanation": "It locks all buckets to allocate a new, larger table and rehash items. This causes a massive latency spike for all writers during the resize. Setting `concurrencyLevel` and `capacity` correctly at startup mitigates this."
  },
  {
    "id": 44092,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ReaderWritLockSlim: Upgradable Read",
    "content": "What is the purpose of `EnterUpgradeableReadLock`?",
    "explanation": "It allows a thread to read, but promises it *might* write later. Only one thread can be in Upgradeable mode. It prevents the deadlock of two Read locks trying to upgrade to Write simultaneously (waiting for each other)."
  },
  {
    "id": 44093,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Parallel.ForEach vs Parallel.For",
    "content": "Why is `Parallel.For` generally faster than `Parallel.ForEach` for arrays?",
    "explanation": "`Parallel.For` uses integer indexing, which is trivial to partition. `Parallel.ForEach` must use an Enumerator, which involves interface calls (`MoveNext`, `Current`) and object allocation unless the partitioner is optimized for that specific collection."
  },
  {
    "id": 44094,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Interlocked.Exchange vs CompareExchange",
    "content": "When would you use `Exchange` instead of `CompareExchange`?",
    "explanation": "Use `Exchange` when you don't care about the previous value's state, you just want to set a new value and know what was there before (Blind update). `CompareExchange` (CAS) is for conditional updates (\"Update only if value is X\")."
  },
  {
    "id": 44095,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "PriorityInversion",
    "content": "What is Priority Inversion in threading?",
    "explanation": "A Low-Priority thread holds a lock. A High-Priority thread waits for that lock. The OS runs a Medium-Priority thread (because it's higher than Low), starving the Low thread. The High thread is effectively blocked by the Medium thread."
  },
  {
    "id": 44096,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lazy Initialization Race",
    "content": "In `Lazy<T>`, what happens if the factory delegate throws an exception?",
    "explanation": "By default, the exception is cached. All future access to `.Value` will re-throw the *same* exception. If you want it to retry the factory, you must use `LazyThreadSafetyMode.PublicationOnly` (or manually handle the reset)."
  },
  {
    "id": 44097,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "CancellationTokenSource: Memory",
    "content": "Why is it important to Dispose `CancellationTokenSource` if using a Timer?",
    "explanation": "CTS uses a Kernel Timer for time-based cancellation (`CancelAfter`). If not disposed, these kernel handles leak until the GC finalizer runs, which can exhaust system timer resources in high-throughput apps."
  },
  {
    "id": 44098,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Yield vs Task.Delay(0)",
    "content": "Is there a difference between `Task.Yield` and `Task.Delay(0)`?",
    "explanation": "Yes. `Delay(0)` is often optimized to a no-op if the delay is zero, continuing synchronously. `Yield` forces a continuation to be scheduled, guaranteeing the method returns and yields the thread. Use `Yield` to break synchronous execution loops."
  },
  {
    "id": 44099,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim: Wait vs WaitAsync",
    "content": "When should you use `Wait()` (Sync) on a `SemaphoreSlim`?",
    "explanation": "Rarely. `Wait()` blocks the thread. `WaitAsync()` yields the thread. Use `Wait()` only inside synchronous code paths where you cannot use `await` (e.g., `Dispose` or legacy interfaces), but beware of thread pool starvation."
  },
  {
    "id": 44100,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free: Garbage Collection",
    "content": "Why does .NET's GC make lock-free programming easier than C++?",
    "explanation": "In C++, you must solve the **Memory Reclamation** problem (when can I delete a node if other threads might be reading it?). .NET GC handles this automatically. You can just swap the pointer; the GC ensures the old object lives as long as any thread references it."
  },
  {
    "id": 44101,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TPL Dataflow: ActionBlock Concurrency",
    "content": "How do you control the parallelism of an `ActionBlock<T>` to ensure it processes multiple items simultaneously?",
    "explanation": "By default, `ActionBlock` processes 1 item at a time (Sequential). To enable parallelism, you must set `ExecutionDataflowBlockOptions.MaxDegreeOfParallelism` to a value > 1. This allows the block to spin up multiple tasks to process the input buffer concurrently."
  },
  {
    "id": 44102,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentDictionary: GetOrAdd Atomicity",
    "content": "Is the value factory delegate in `ConcurrentDictionary.GetOrAdd(key, factory)` guaranteed to run only once?",
    "explanation": "No. The lock is not held while the factory runs (to prevent deadlocks). If multiple threads call `GetOrAdd` simultaneously for the same key, the factory might run multiple times. However, only *one* result will be added to the dictionary, and all threads will receive that same winning value."
  },
  {
    "id": 44103,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "BlockingCollection: GetConsumingEnumerable",
    "content": "Why is `foreach (var item in bc.GetConsumingEnumerable())` preferred over a `while` loop with `Take()`?",
    "explanation": "`GetConsumingEnumerable` returns an iterator that blocks when the collection is empty and **automatically breaks** the loop when `bc.CompleteAdding()` is called. A manual `while` loop requires complex `try/catch` logic to handle the `InvalidOperationException` thrown when the collection is completed and empty."
  },
  {
    "id": 44104,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskCreationOptions.LongRunning",
    "content": "What does `TaskCreationOptions.LongRunning` actually do to the ThreadPool?",
    "explanation": "It hints to the TaskScheduler that the task will block for a long time. The Default Scheduler creates a **New Dedicated Thread** for this task instead of using a ThreadPool worker thread. This prevents ThreadPool starvation / saturation."
  },
  {
    "id": 44105,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Interlocked.Add vs Increment",
    "content": "Why would you use `Interlocked.Add(ref i, 1)` instead of `Interlocked.Increment(ref i)`?",
    "explanation": "Functionally they are the same for adding 1. However, `Add` allows adding any value (e.g., +5). `Increment` is a specialized, often slightly more optimized hardware instruction (`INC` vs `ADD`) for the specific case of +1."
  },
  {
    "id": 44106,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "PLINQ: WithExecutionMode",
    "content": "When should you use `WithExecutionMode(ParallelExecutionMode.ForceParallelism)` in PLINQ?",
    "explanation": "PLINQ analyzes the query overhead. If it thinks the work is too small, it might run sequentially to avoid threading overhead. `ForceParallelism` overrides this heuristic, forcing it to use multiple threads. Use it when you know the per-item cost is high but PLINQ misjudges it."
  },
  {
    "id": 44107,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.ContinueWith Risks",
    "content": "Why is `await` generally preferred over `Task.ContinueWith` in modern C#?",
    "explanation": "`ContinueWith` is low-level. It does not automatically capture the `SynchronizationContext` (you must pass `TaskScheduler.FromCurrentSynchronizationContext()`). It also has confusing default error handling (exceptions are wrapped in AggregateException and passed to the continuation, rather than thrown). `await` handles context and errors naturally."
  },
  {
    "id": 44108,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.Join",
    "content": "What does `thread.Join()` do?",
    "explanation": "It blocks the *calling* thread until the `thread` instance terminates. It is the synchronization primitive for waiting on a raw Thread to finish work. Equivalent to `Task.Wait()` but for OS threads."
  },
  {
    "id": 44109,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Mutex: System-Wide",
    "content": "How do you use a `Mutex` to prevent multiple instances of an application from running?",
    "explanation": "Create a **Named Mutex** (`new Mutex(false, \"Global\\MyAppName\")`). Named mutexes are visible across the entire Operating System (cross-process). If `mutex.WaitOne(0)` returns false, another instance already holds it."
  },
  {
    "id": 44110,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SynchronizationContext.SetSynchronizationContext",
    "content": "Can you install a custom SynchronizationContext in a Console Application?",
    "explanation": "Yes. By default, Console apps have `null` context (ThreadPool). You can implement a custom `SingleThreadedSynchronizationContext` (like `AsyncContext` in Nito.AsyncEx) and install it using `SetSynchronizationContext` to force async continuations to run on a specific thread (e.g., for Main loop)."
  },
  {
    "id": 44111,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "IProgress<T>",
    "content": "How does `IProgress<T>` ensuring thread safety when reporting progress from a background task?",
    "explanation": "The `Progress<T>` implementation captures the `SynchronizationContext` at creation. When `Report(value)` is called from a background thread, it automatically marshals the invocation back to the captured context (e.g., UI thread), preventing cross-thread exceptions."
  },
  {
    "id": 44112,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channel: TryWrite vs WriteAsync",
    "content": "When should you use `TryWrite` instead of `WriteAsync` on a Channel?",
    "explanation": "Use `TryWrite` for **non-blocking** attempts. If the channel is bounded and full, `TryWrite` returns `false` immediately (synchronous). `WriteAsync` would suspend the method execution (await) until space is available. `TryWrite` is useful for \"Drop if full\" logic."
  },
  {
    "id": 44113,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ExecutionContext.SuppressFlow",
    "content": "Why would you call `ExecutionContext.SuppressFlow()`?",
    "explanation": "To prevent `AsyncLocal` data from flowing to child tasks. This is an optimization. If you are spawning a background task that doesn't need the current RequestID/UserContext, suppressing flow saves the overhead of copying the execution context."
  },
  {
    "id": 44114,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Parallel.ForEach LoopState",
    "content": "What is the difference between `LoopState.Stop()` and `LoopState.Break()`?",
    "explanation": "**Stop**: Tells the loop to terminate as soon as possible. No guarantees about which iterations run. **Break**: Guarantees that all iterations with indices *lower* than the current one will complete, but no iterations *higher* than the current one will start. Break is for searching (find first match)."
  },
  {
    "id": 44115,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Volatile.Read vs Thread.VolatileRead",
    "content": "Is there a difference between `Volatile.Read` and `Thread.VolatileRead`?",
    "explanation": "Functionally similar, but `Volatile.Read` (introduced later) is generic and often better optimized by the JIT. `Thread.VolatileRead` is older and slower. Both emit memory barriers (acquire semantics)."
  },
  {
    "id": 44116,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Object Header Bits",
    "content": "What information is stored in the Object Header word?",
    "explanation": "The **SyncBlock Index** (for locking), the **HashCode** (cached after first access), and **GC Flags** (Pinned bit, Mark bit). Locking an object repurposes these bits, which is why locking affects the object's header state."
  },
  {
    "id": 44117,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SpinWait.SpinOnce",
    "content": "What does `SpinWait.SpinOnce()` do?",
    "explanation": "It performs a single spin. It intelligently chooses between a CPU loop (`PAUSE` instruction) and a Thread Yield/Sleep based on how many times it has been called. It automatically escalates from spinning to yielding to prevent CPU burning."
  },
  {
    "id": 44118,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentStack vs ConcurrentQueue",
    "content": "Which is more contention-friendly: ConcurrentStack or ConcurrentQueue?",
    "explanation": "**ConcurrentStack**. It uses a lock-free CAS on a single Head pointer. **ConcurrentQueue** is more complex (segments, head/tail pointers). However, Stack reverses order (LIFO). If LIFO is acceptable, Stack often scales better under high contention."
  },
  {
    "id": 44119,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Monitor.TryEnter",
    "content": "Why use `Monitor.TryEnter(obj, timeout)` instead of `lock(obj)`?",
    "explanation": "To prevent **Deadlocks** or indefinitely hung threads. If the lock cannot be acquired within the timeout (e.g., 1000ms), you can abort the operation, log a warning, or retry later, keeping the application responsive."
  },
  {
    "id": 44120,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim Dispose",
    "content": "What happens if you use a `SemaphoreSlim` after it has been Disposed?",
    "explanation": "It throws an `ObjectDisposedException`. Unlike some lightweight primitives, `SemaphoreSlim` uses a `ManualResetEvent` internally (WaitHandle) for waiting, which is an unmanaged resource that must be closed."
  },
  {
    "id": 44121,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Factory.FromAsync",
    "content": "What is `Task.Factory.FromAsync` used for?",
    "explanation": "It wraps legacy APM (Asynchronous Programming Model) `BeginX/EndX` methods into a `Task`. This allows you to await old APIs (like `FileStream.BeginRead`) that haven't been updated to TAP (Task-based Async Pattern)."
  },
  {
    "id": 44122,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ImmutableInterlocked",
    "content": "What is `ImmutableInterlocked`?",
    "explanation": "A helper class for atomically updating Immutable Collections. E.g., `ImmutableInterlocked.Update(ref list, l => l.Add(item))`. It performs the read-modify-write loop using CAS logic for you, ensuring thread safety without locks."
  },
  {
    "id": 44123,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.WaitAll vs Task.WhenAll",
    "content": "What is the key difference between `WaitAll` and `WhenAll`?",
    "explanation": "**WaitAll**: Blocking (Synchronous). Blocks the calling thread until tasks finish. Returns `void`. **WhenAll**: Non-Blocking (Asynchronous). Returns a `Task` that completes when tasks finish. Always use `await WhenAll` to avoid blocking threads."
  },
  {
    "id": 44124,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ParallelOptions.MaxDegreeOfParallelism",
    "content": "Why defaults `MaxDegreeOfParallelism` to -1?",
    "explanation": "-1 means \"Unbounded\" (or rather, governed by the scheduler, typically aiming for CPU count). If your loop is I/O bound (downloading files), you should set this higher (e.g., 50) to utilize waiting time. If CPU bound, keep it at -1 or core count."
  },
  {
    "id": 44125,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "RegisteredWaitHandle",
    "content": "What is `ThreadPool.RegisterWaitForSingleObject` used for?",
    "explanation": "It allows a ThreadPool thread to execute a callback when a `WaitHandle` (like a Kernel Event) is signaled. It is efficient because one ThreadPool thread can monitor *many* handles using `WaitForMultipleObjects`, reducing the need for dedicated waiter threads."
  },
  {
    "id": 44126,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "AsyncLocal ValueChangedHandler",
    "content": "What is the purpose of the `valueChangedHandler` callback in `AsyncLocal`?",
    "explanation": "It notifies you when the value changes (due to a setter or context switch). Useful for tracing libraries to track when context enters/leaves a scope or is cleared."
  },
  {
    "id": 44127,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TPL Dataflow: BroadcastBlock",
    "content": "How does `BroadcastBlock<T>` handle slow consumers?",
    "explanation": "It broadcasts the message to all linked targets. If a target is slow/full, `BroadcastBlock` **drops the message** for that target (if configured) or waits. By default, it overwrites the current message with the newest one, ensuring consumers always get the *latest* data even if they missed intermediate ones."
  },
  {
    "id": 44128,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free: ABA Solved by GC?",
    "content": "Does the .NET GC solving the ABA problem automatically?",
    "explanation": "Yes, mostly. In C++, ABA happens because memory is freed and re-allocated at the same address. In .NET, the GC moves objects and allocates new ones at new addresses. An object reference `A` remains unique as long as you hold a reference to it, so it won't be recycled into a \"New A\" while you are looking at it."
  },
  {
    "id": 44129,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Safety of Random",
    "content": "Is `System.Random` thread-safe?",
    "explanation": "No. Calling `.Next()` modifies internal state (seed array). Concurrent calls will corrupt the state, leading to flat-zero output or infinite loops. Use `Random.Shared` (in .NET 6+) or a `ThreadLocal<Random>` instance."
  },
  {
    "id": 44130,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "HttpClient Thread Safety",
    "content": "Is `HttpClient` instance members thread-safe?",
    "explanation": "Yes. Methods like `GetAsync`, `PostAsync` are thread-safe and designed to be called concurrently. Only properties like `BaseAddress` or headers should be set during initialization, not modified concurrently."
  },
  {
    "id": 44131,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Immutable Collections Thread Safety",
    "content": "Are Immutable Collections (e.g., `ImmutableList`) thread-safe?",
    "explanation": "Yes, inherently. Since they cannot change, read operations are safe. \"Write\" operations return a *new* collection, leaving the old one untouched. However, swapping the *reference* to the list (e.g., `list = list.Add(x)`) is NOT thread-safe and requires `Interlocked` or locking."
  },
  {
    "id": 44132,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.FromCanceled",
    "content": "How do you create a Task that is already in the Canceled state?",
    "explanation": "`Task.FromCanceled<T>(cancellationToken)`. Returning `null` or throwing exception is incorrect for `Task` return types. Use this helper to return a task representing a cancellation that happened before the method started."
  },
  {
    "id": 44133,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "CancellationToken.None Optimization",
    "content": "Is `CancellationToken.None` checked by `ThrowIfCancellationRequested`?",
    "explanation": "No. The check `CanBeCanceled` returns false for `None`. The method returns immediately without any volatile reads or checks. It is highly optimized."
  },
  {
    "id": 44134,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "RecursiveTask",
    "content": "What is the danger of `async` recursion?",
    "explanation": "Each recursive step allocates a State Machine and a Task object. Deep recursion blows up the Heap (OOM) even if it doesn't blow the Stack. Use iteration or `Task.Factory.StartNew` (Tail Call) techniques if deep recursion is needed."
  },
  {
    "id": 44135,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "WaitHandle.WaitOne vs Task.Wait",
    "content": "Difference between waiting on a WaitHandle and a Task?",
    "explanation": "WaitHandle blocks the thread in the OS Kernel (Context Switch). Task.Wait blocks via a lightweight event or spin-wait (Hybrid). Task wait is generally more efficient, but WaitHandle is needed for inter-process synchronization."
  },
  {
    "id": 44136,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool.UnsafeQueueUserWorkItem",
    "content": "What makes `UnsafeQueueUserWorkItem` unsafe?",
    "explanation": "It does **not** propagate the ExecutionContext (Security, Culture, AsyncLocals). It is faster because it skips the context capture/restore. Safe only if the work item doesn't rely on ambient context."
  },
  {
    "id": 44137,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channel: SingleReader/SingleWriter",
    "content": "Why set `SingleReader = true` in Channel options?",
    "explanation": "It allows the Channel implementation to remove locks/interlocked operations needed for multiple readers. It optimizes the internal queue for a 1:1 scenario, improving throughput."
  },
  {
    "id": 44138,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.FromResult",
    "content": "When should you use `Task.FromResult`?",
    "explanation": "When you need to return a `Task<T>` from a method that completed synchronously (e.g., cached value) and you are *not* using `async/await` syntax. If using `async`, `return val;` handles this automatically."
  },
  {
    "id": 44139,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Volatile.Write",
    "content": "What does `Volatile.Write` ensure?",
    "explanation": "Release Semantics. It ensures that any memory writes *before* this call are committed and visible to other threads *before* the value is written. Prevents the CPU from reordering a 'flag = true' write before the data it protects is ready."
  },
  {
    "id": 44140,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TPL Dataflow: BufferBlock",
    "content": "What acts as a FIFO buffer in TPL Dataflow?",
    "explanation": "`BufferBlock<T>`. It stores messages and allows consumers to take them asynchronously. It's essentially an Async Queue with Dataflow linking capabilities."
  },
  {
    "id": 44141,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SpinWait.SpinUntil",
    "content": "When to use `SpinWait.SpinUntil(condition)`?",
    "explanation": "When waiting for a condition that is expected to become true *very* quickly (microseconds). Avoids the cost of a kernel wait event. If the condition takes longer, it automatically yields/sleeps."
  },
  {
    "id": 44142,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.Priority",
    "content": "Does changing `Thread.Priority` guarantee CPU time?",
    "explanation": "No. The OS scheduler decides. Higher priority makes it *more likely* to run, but if the system is starved or higher-priority kernel threads are running, it still waits. Use sparingly; `Highest` priority can starve the UI or GC threads."
  },
  {
    "id": 44143,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Delay(0)",
    "content": "What is the optimization of `Task.Delay(0)`?",
    "explanation": "It returns `Task.CompletedTask` immediately. It does not queue a timer or context switch. It is a no-op efficiently handled by the runtime."
  },
  {
    "id": 44144,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim.AvailableWaitHandle",
    "content": "What is `AvailableWaitHandle` on SemaphoreSlim?",
    "explanation": "It exposes a `WaitHandle` that is signaled when the semaphore count > 0. Allows mixing `SemaphoreSlim` with legacy `WaitHandle.WaitAll` logic."
  },
  {
    "id": 44145,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ReaderWriterLockSlim Dispose",
    "content": "What happens if you don't Dispose `ReaderWriterLockSlim`?",
    "explanation": "Usually nothing (it uses mostly managed state), BUT it might hold a kernel event if it had to wait. Best practice is to Dispose it, but it's less critical than `FileStream`."
  },
  {
    "id": 44146,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool.SetMinThreads",
    "content": "Why is increasing `MinThreads` a common fix for startup timeouts?",
    "explanation": "The ThreadPool creates threads slowly (throttling). If app startup blasts 100 DB queries in parallel, the pool takes 50-100s to grow. Setting `MinThreads` pre-allocates them, handling the burst instantly."
  },
  {
    "id": 44147,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentDictionary.GetEnumerator",
    "content": "Is iterating a ConcurrentDictionary thread-safe?",
    "explanation": "Yes. It returns a **Moment-in-Time** snapshot (or a tolerant iterator). It does not throw `InvalidOperationException` if the dictionary is modified during iteration. However, the data might change *while* you iterate."
  },
  {
    "id": 44148,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskContinuationOptions.ExecuteSynchronously",
    "content": "What does `ExecuteSynchronously` do?",
    "explanation": "It tries to run the continuation on the *same thread* that completed the antecedent task. Saves a context switch. Dangerous if the antecedent completes holding a lock or on a UI thread (could block/deadlock)."
  },
  {
    "id": 44149,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Dispose",
    "content": "How does `IAsyncDisposable` work with `using`?",
    "explanation": "`await using (var x = new AsyncRes()) { ... }`. The compiler generates a `try/finally` block that calls `await x.DisposeAsync()` at the end. Essential for flushing streams asynchronously before closing."
  },
  {
    "id": 44150,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Name",
    "content": "Can you change a Thread's name after starting it?",
    "explanation": "In .NET Framework: No (Write-once). In .NET Core/.NET 5+: Yes, the property is settable multiple times. Useful for updating the name to reflect the current unit of work (e.g., \"Worker-Request-123\")."
  },
  {
    "id": 44151,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Hardware Intrinsics: Vector.IsHardwareAccelerated",
    "content": "Why must you check `Vector.IsHardwareAccelerated` before using SIMD?",
    "explanation": "If false, SIMD operations run in software fallback mode (scalar execution), which is often *slower* than standard loops due to the overhead of the vector objects. Always check this flag or use `Avx2.IsSupported` to ensure the CPU supports the instructions."
  },
  {
    "id": 44152,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Pool: MinThreads",
    "content": "Why is increasing `MinThreads` dangerous if set too high?",
    "explanation": "It forces the ThreadPool to create many threads instantly on startup/burst. Each thread consumes 1MB Stack (Virtual Memory) and kernel resources. Excessive threads lead to **Context Switching thrashing**, where the CPU spends more time switching threads than executing code, degrading throughput."
  },
  {
    "id": 44153,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "AsyncVoidMethodBuilder",
    "content": "What generates the state machine for `async void` methods?",
    "explanation": "`AsyncVoidMethodBuilder`. Unlike `AsyncTaskMethodBuilder`, it does not return a Task to the caller. If an exception occurs, it captures the `SynchronizationContext` to throw the exception on the original context (crashing the process if unhandled)."
  },
  {
    "id": 44154,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Monitor.IsEntered",
    "content": "When is `Monitor.IsEntered(obj)` useful?",
    "explanation": "For defensive coding or assertions. `Debug.Assert(Monitor.IsEntered(lockObj))` ensures a method is only called by a thread that already holds the lock. Useful when refactoring complex synchronized code."
  },
  {
    "id": 44155,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock Convoy Problem",
    "content": "How does a 'Fair Lock' cause a Lock Convoy?",
    "explanation": "A fair lock wakes up the *longest waiting* thread. This requires a context switch to that specific thread (which might be sleeping/cold). Unfair locks (like `Monitor`) allow an active thread to 'steal' the lock immediately, keeping the CPU hot and throughput high. Fairness often kills performance."
  },
  {
    "id": 44156,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Parallel.ForEachAsync (.NET 6)",
    "content": "How does `Parallel.ForEachAsync` differ from `Task.WhenAll` with a `Select`?",
    "explanation": "`Parallel.ForEachAsync` enforces a `MaxDegreeOfParallelism` (concurrency limit) automatically. `Task.WhenAll` starts *all* tasks immediately. For 10,000 items, `WhenAll` will flood the system/network, whereas `ForEachAsync` processes them in controlled batches (e.g., 5 at a time)."
  },
  {
    "id": 44157,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "OperationCanceledException Handling",
    "content": "Should you catch `OperationCanceledException` inside a Task?",
    "explanation": "Generally, let it bubble up. The Task status becomes `Canceled`. If you catch and swallow it (returning a result), the Task status becomes `RanToCompletion`. This confuses the caller who cancelled the token and expects a cancellation status."
  },
  {
    "id": 44158,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Local Storage (TLS) Slots",
    "content": "Why is `[ThreadStatic]` faster than `ThreadLocal<T>`?",
    "explanation": "`[ThreadStatic]` compiles to a direct offset access in the TLS block (via FS/GS segment registers). `ThreadLocal<T>` is a wrapper object that performs dictionary lookups/registration logic. Use `[ThreadStatic]` for raw speed in static contexts."
  },
  {
    "id": 44159,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "BlockingCollection.Add vs TryAdd",
    "content": "What happens if you call `bc.Add()` on a full bounded collection?",
    "explanation": "It **blocks** the calling thread indefinitely until space becomes available. This can cause the Producer thread to hang. `TryAdd` returns false immediately or waits for a specified timeout, allowing you to handle backpressure gracefully."
  },
  {
    "id": 44160,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Iterator Cancellation",
    "content": "Why is the `[EnumeratorCancellation]` attribute required in `IAsyncEnumerable` methods?",
    "explanation": "Because the `CancellationToken` passed to the *method* must be forwarded to the `GetAsyncEnumerator` call generated by the compiler. Without this attribute, the token passed by `WithCancellation` is ignored by the iterator body."
  },
  {
    "id": 44161,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool.BindHandle",
    "content": "What is `ThreadPool.BindHandle(SafeHandle)` used for?",
    "explanation": "It binds an OS Handle (File/Socket) to the ThreadPool's IO Completion Port. This tells the OS to notify the ThreadPool whenever an async I/O operation on this handle completes. Essential for implementing custom I/O sources."
  },
  {
    "id": 44162,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free: Memory Reclamation",
    "content": "Why can't you just `free()` a node in a C# lock-free linked list?",
    "explanation": "Trick question: You don't `free()` in C#. The GC handles reclamation. In unmanaged languages (C++), deleting a node while another thread is traversing it causes a Segfault (ABA/Use-After-Free). The .NET GC's reachability graph solves this major complexity automatically."
  },
  {
    "id": 44163,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Tasks vs Threads: Stack Size",
    "content": "How much stack memory does a Task consume compared to a Thread?",
    "explanation": "A **Task** itself has no stack; it's a small object on the heap. It runs on a ThreadPool thread (reusing that thread's 1MB stack). A **Thread** reserves 1MB of stack space (on Windows) immediately upon creation. 1000 Threads = 1GB RAM; 1000 Tasks = tiny RAM."
  },
  {
    "id": 44164,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ValueTask: IValueTaskSource",
    "content": "When should you implement `IValueTaskSource` manually?",
    "explanation": "Only for high-performance library authors (like Kestrel/Channels) implementing custom pooling of async operation objects. It allows `ValueTask` to be backed by a pooled, reusable token instead of allocating a `Task` object for every async call."
  },
  {
    "id": 44165,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.WhenAll: List vs Array",
    "content": "Why is `Task.WhenAll` optimized for arrays but not `List<Task>`?",
    "explanation": "`WhenAll` takes `params Task[]`. Passing a `List<Task>` triggers a `.ToArray()` copy, allocating a new array. For hot paths, create the array directly or use `Enumerable.ToArray()` once before calling `WhenAll`."
  },
  {
    "id": 44166,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ReaderWritLockSlim: Dispose",
    "content": "Why does `ReaderWriterLockSlim` need disposal while `object` (Monitor) doesn't?",
    "explanation": "`ReaderWriterLockSlim` uses an event handle (kernel object) for waiting when contention is high. Kernel handles are limited resources. `Monitor` uses the object header and internal CLR structures that are managed automatically."
  },
  {
    "id": 44167,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channel: Unbounded vs DropNewest",
    "content": "When is `BoundedChannelFullMode.DropNewest` appropriate?",
    "explanation": "For real-time telemetry where old data is more valuable than new burst data (e.g., preserving the 'Cause' of an event burst), OR when you simply prefer skipping frames (like video streaming) to keep latency low. It discards the *incoming* item."
  },
  {
    "id": 44168,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Interlocked.MemoryBarrier",
    "content": "What does `Interlocked.MemoryBarrier()` do?",
    "explanation": "It creates a full hardware memory fence. It prevents the CPU from reordering reads/writes across the barrier. Useful when implementing custom lock-free flags without using `volatile` variables."
  },
  {
    "id": 44169,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskScheduler: Default vs Current",
    "content": "What is the difference between `TaskScheduler.Default` and `TaskScheduler.Current`?",
    "explanation": "**Default** is always the ThreadPool. **Current** is whatever scheduler is currently running the code. `Task.Factory.StartNew` uses `Current` by default, which is dangerous (can attach to UI scheduler). `Task.Run` always uses `Default`."
  },
  {
    "id": 44170,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "AsyncLocal: Copy on Write",
    "content": "How does `ExecutionContext` handle `AsyncLocal` changes in child tasks?",
    "explanation": "It uses **Copy-on-Write**. Child tasks inherit the parent's context. If the child modifies an `AsyncLocal`, it creates a *copy* of the context for itself. The parent's value remains unchanged. Changes do not flow upwards."
  },
  {
    "id": 44171,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.SpinWait vs SpinWait struct",
    "content": "What is the difference between `Thread.SpinWait` and the `SpinWait` struct?",
    "explanation": "`Thread.SpinWait(n)` emits a tight CPU loop (nop). The `SpinWait` struct is smarter: it mixes spinning, `Thread.Yield`, and `Thread.Sleep` (backoff) to avoid burning 100% CPU on a single core for too long."
  },
  {
    "id": 44172,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channels: Reader.WaitToReadAsync",
    "content": "Why use `WaitToReadAsync` in a loop instead of just `ReadAsync`?",
    "explanation": "`WaitToReadAsync` returns `true` when data is available. It allows checking for data without throwing an exception if the channel closes. It also allows efficient batching (check wait, then loop `TryRead` synchronously until empty)."
  },
  {
    "id": 44173,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentDictionary: Count Performance",
    "content": "Why is `ConcurrentDictionary.Count` slower than `Dictionary.Count`?",
    "explanation": "`ConcurrentDictionary.Count` must acquire locks on *all* buckets (or take a consistent snapshot) to sum the sizes accurately. It is an O(N) operation in terms of lock acquisition (though optimized). Standard Dictionary maintains a simple int field O(1)."
  },
  {
    "id": 44174,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim: MaxCount",
    "content": "What is the use of `MaxCount` in SemaphoreSlim?",
    "explanation": "It enforces a hard limit on concurrent access. Useful for throttling (e.g., \"Max 10 DB connections\"). If you initialize with `(0, 1)`, it acts as a binary mutex (locked initially). If `(5, 5)`, it acts as a pool of 5."
  },
  {
    "id": 44175,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Wait: Inlining",
    "content": "Does `Task.Wait()` always block the thread?",
    "explanation": "Not always. If the task has not started yet (is in the queue), the waiting thread might **Inline** the task (execute it itself) to save a context switch. This is an optimization of the ThreadPool scheduler."
  },
  {
    "id": 44176,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "CancellationToken: Linked Token Leak",
    "content": "How can `CreateLinkedTokenSource` cause a memory leak?",
    "explanation": "The linked source registers callbacks with the input tokens. If one input token is long-lived (e.g., Global Lifetime) and you create many linked tokens without Disposing them, the callbacks accumulate in the global token's list, leaking memory."
  },
  {
    "id": 44177,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Dispose: ConfigAwait",
    "content": "Should you use `ConfigureAwait(false)` in `DisposeAsync`?",
    "explanation": "Yes. `DisposeAsync` is library code. It should not deadlock or capture the UI context. Always use `await stream.DisposeAsync().ConfigureAwait(false)`."
  },
  {
    "id": 44178,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.MemoryBarrier vs Interlocked.MemoryBarrier",
    "content": "Are they the same?",
    "explanation": "Yes. `Interlocked.MemoryBarrier` (introduced later) just calls `Thread.MemoryBarrier`. It wraps the `mfence` (x86) or `dmb` (ARM) instruction."
  },
  {
    "id": 44179,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Delay vs Thread.Sleep Accuracy",
    "content": "Which is more accurate?",
    "explanation": "Neither guarantees exact timing (OS scheduler dependent). However, `Task.Delay` allows the thread to do other work. `Thread.Sleep` suspends the thread. Use `Task.Delay` for async workflows; accuracy is similar (limited by system timer resolution ~15ms)."
  },
  {
    "id": 44180,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "PLINQ: ForAll vs Foreach",
    "content": "Why use `ForAll` instead of iterating the PLINQ result?",
    "explanation": "`ForAll` executes the action concurrently on the worker threads as results are produced. Iterating (`foreach`) merges results back to the *calling* thread, making the consumption serial. `ForAll` is fully parallel."
  },
  {
    "id": 44181,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Monitor.Enter vs lock",
    "content": "What is the risk of using `Monitor.Enter` without `try/finally`?",
    "explanation": "If an exception occurs between `Enter` and `Exit`, the lock is **Leaked** (held forever). The `lock` keyword generates the `try/finally` block automatically, ensuring the lock is released even on crash."
  },
  {
    "id": 44182,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lazy<T>: Recursion",
    "content": "What happens if a Lazy initializer accesses the Lazy value itself?",
    "explanation": "`InvalidOperationException`. The default `ExecutionAndPublication` mode detects recursive initialization to prevent deadlocks or infinite loops."
  },
  {
    "id": 44183,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Lock-Free: CAS Loop Pattern",
    "content": "What is the standard pattern for Lock-Free updates?",
    "explanation": "1. `snapshot = current`. 2. `newValue = Calculate(snapshot)`. 3. `result = Interlocked.CompareExchange(ref target, newValue, snapshot)`. 4. `if (result != snapshot) goto 1`. Keeps trying until the value hasn't changed since the read."
  },
  {
    "id": 44184,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Channel: SingleWriter=true",
    "content": "How does `SingleWriter=true` optimize the Channel?",
    "explanation": "It removes the synchronization (locks/CAS) on the *Write* side. The implementation assumes only one thread calls `Write`. If you violate this contract (multiple writers), you corrupt the channel state."
  },
  {
    "id": 44185,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.WhenAll vs Task.WaitAll Exception",
    "content": "How do they differ in reporting exceptions?",
    "explanation": "`WaitAll` (blocking) throws an `AggregateException` containing *all* errors. `WhenAll` (async) returns a Task that faults. `await`ing that task unboxes and throws only the *first* exception."
  },
  {
    "id": 44186,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SynchronizationContext.Current null",
    "content": "When is `SynchronizationContext.Current` null?",
    "explanation": "In Console Apps, Windows Services, and .NET Core (usually). It means \"Use the ThreadPool\". In UI apps (WinForms/WPF), it is set to a context that marshals callbacks to the main thread."
  },
  {
    "id": 44187,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ConcurrentQueue: Snapshot",
    "content": "Is `ToArray()` on a ConcurrentQueue atomic?",
    "explanation": "Yes. It creates a point-in-time snapshot. It copies the elements as they exist at that moment. The queue can continue to be modified during the copy, but the array will represent a valid sequence state."
  },
  {
    "id": 44188,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Async Streams: ConfigureAwait",
    "content": "How do you configure await on an async stream?",
    "explanation": "`await foreach (var item in stream.ConfigureAwait(false))` . This ensures the `MoveNextAsync` calls do not try to capture the SynchronizationContext, improving performance in libraries."
  },
  {
    "id": 44189,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ManualResetEvent: Set vs Reset",
    "content": "What happens if you call `Set()` on an already signaled event?",
    "explanation": "Nothing. It remains signaled. `Reset()` makes it unsignaled. Threads waiting on a Signaled event pass through immediately without waiting."
  },
  {
    "id": 44190,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Interlocked.Read",
    "content": "Why is `Interlocked.Read` only available for `long` (64-bit)?",
    "explanation": "Reads of 32-bit `int` are inherently atomic on x86/x64. Reads of 64-bit `long` are *not* atomic on 32-bit OS (split into two 32-bit reads). `Interlocked.Read` ensures atomicity for 64-bit values on 32-bit systems."
  },
  {
    "id": 44191,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread.CurrentPrincipal",
    "content": "Does `Thread.CurrentPrincipal` flow to async tasks?",
    "explanation": "Yes, if flow is not suppressed. The `ExecutionContext` captures the Principal/Identity and restores it on the thread that runs the continuation."
  },
  {
    "id": 44192,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Parallel.ForEach: Exceptions",
    "content": "What happens if one iteration in `Parallel.ForEach` throws?",
    "explanation": "The loop stops starting *new* iterations. Currently running iterations finish. All exceptions are collected into an `AggregateException` which is thrown after all threads stop."
  },
  {
    "id": 44193,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Run(Func vs Action)",
    "content": "Why prefer `Task.Run(Func<Task>)` over `Task.Run(Action)` for async work?",
    "explanation": "If you pass an `async void` lambda (Action), `Task.Run` cannot track its completion. The Task completes immediately while the lambda keeps running (fire and forget). `Func<Task>` allows `Task.Run` to proxy the inner task correctly."
  },
  {
    "id": 44194,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "SemaphoreSlim: Wait vs AsyncWaitHandle",
    "content": "Why prefer `WaitAsync` over `AvailableWaitHandle.WaitOne`?",
    "explanation": "`WaitAsync` is efficient and non-blocking (awaitable). `AvailableWaitHandle` allocates a heavy kernel object. Use the handle only if you need to `WaitAny` with other kernel handles."
  },
  {
    "id": 44195,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Thread Static vs LocalInit",
    "content": "Does `[ThreadStatic]` initialize for every thread?",
    "explanation": "No! It initializes only for the *first* thread (or if initialized inline `static int x = 5`). On other threads, it will be `0` (default). You must check/init it manually in your code."
  },
  {
    "id": 44196,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TPL Dataflow: LinkTo",
    "content": "What is `LinkTo` used for?",
    "explanation": "Connects blocks to form a pipeline. `Downloader.LinkTo(Parser)`. When Downloader finishes an item, it pushes it to Parser automatically. Handles buffering and flow control."
  },
  {
    "id": 44197,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "TaskCanceledException vs OperationCanceledException",
    "content": "Are they the same?",
    "explanation": "`TaskCanceledException` inherits from `OperationCanceledException`. `Task` infrastructure throws the specific `TaskCanceledException`. Generally catch `OperationCanceledException` to handle both."
  },
  {
    "id": 44198,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "ThreadPool: SetMaxThreads",
    "content": "Should you lower `MaxThreads`?",
    "explanation": "Almost never. Limiting MaxThreads can cause artificial starvation / deadlock if all threads block. The ThreadPool is smart enough to manage the count. Limiting *concurrency* (Semaphore) is better than limiting threads."
  },
  {
    "id": 44199,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Interlocked.Exchange with Reference",
    "content": "Can you use `Interlocked.Exchange` on objects?",
    "explanation": "Yes. It swaps the **Reference** (address) atomically. `Interlocked.Exchange(ref myObj, newObj)`. It does not swap the *content* of the object."
  },
  {
    "id": 44200,
    "category": "Advanced Threading",
    "difficulty": "Principal",
    "title": "Task.Delay: Cancellation",
    "content": "Does cancelling `Task.Delay` throw?",
    "explanation": "Yes. `Task.Delay(1000, token)` throws `TaskCanceledException` immediately if the token is cancelled. This is used to wake up sleeping tasks early."
  },
  {
    "id": 12051,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Fat vs Thin Events",
    "content": "What is the trade-off between 'Fat Events' (Event-Carried State Transfer) and 'Thin Events' (Notification)?",
    "explanation": "**Fat Events** contain all changed data (e.g., full Customer object). Consumers can process them immediately without calling back. Trade-off: Larger payload, eventual consistency complexity. **Thin Events** contain only IDs (`Order 123 Changed`). Consumers must call the Producer API to get data. Trade-off: Generates read load on the Producer, higher coupling."
  },
  {
    "id": 12052,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Saga: Pivot Transaction",
    "content": "In a Saga, what is the 'Pivot Transaction'?",
    "explanation": "The point of no return. Steps *before* the Pivot can be compensated (undone). Steps *after* the Pivot **cannot** fail (or must be retried indefinitely until success). The Pivot transaction itself determines if the Saga succeeds or rolls back. Identifying this critical step is key to Saga design."
  },
  {
    "id": 12053,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Transactional Outbox: Log Tailing",
    "content": "Why is 'Log Tailing' (CDC) preferred over 'Polling Publisher' for implementing the Transactional Outbox pattern?",
    "explanation": "**Polling** (SELECT * FROM Outbox) adds load to the database and introduces latency (poll interval). **Log Tailing** (Debezium reading WAL/Transaction Log) has near-zero overhead on the DB CPU and provides real-time event streaming. It is more complex to set up but scales better."
  },
  {
    "id": 12054,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "BFF: Multiple BFFs",
    "content": "Why would you create separate BFFs (Backends for Frontends) for the iOS App vs the Public API?",
    "explanation": "Different clients have different needs. The iOS app might need small payloads (battery/bandwidth) and specific authentication (Apple ID). The Public API might need standard OAuth2 and verbose hypermedia responses. Decoupling them allows each API to evolve at the speed of its specific client without breaking the other."
  },
  {
    "id": 12055,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Customer/Supplier Pattern",
    "content": "In DDD Context Mapping, what defines a 'Customer/Supplier' relationship?",
    "explanation": "A relationship where the Upstream team (Supplier) can succeed independently, but the Downstream team (Customer) depends entirely on the Upstream. The Downstream team must negotiate requirements. If the relationship is hostile (Supplier doesn't care), the Downstream team might need an **Anti-Corruption Layer (ACL)**."
  },
  {
    "id": 12056,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Static Stability",
    "content": "What is 'Static Stability' in a distributed system?",
    "explanation": "The ability of a system to keep working even if its dependencies fail or control planes go down. Example: If the Config Server dies, the application should continue running with the last known good configuration cached in memory, rather than crashing on startup or reload."
  },
  {
    "id": 12057,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Service Mesh vs Library",
    "content": "Why choose a Service Mesh (Sidecar) over a Resilience Library (e.g., Polly) for inter-service communication?",
    "explanation": "**Language Agnosticism**. A Mesh (Envoy) handles retries/circuit breaking for Java, Go, and C# services identically. A library must be re-implemented for every language. However, a library allows finer-grained control over business logic fallbacks that the network layer cannot see."
  },
  {
    "id": 12058,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Distributed Locking: Lease Renewal",
    "content": "Why must a client holding a distributed lock renew its lease periodically?",
    "explanation": "To handle crashes. If the client crashes while holding the lock, the lock must eventually auto-expire (TTL) so others can acquire it. However, if the client is *alive* but slow (GC pause), it must renew the lease to prevent the lock from expiring mid-operation, which would cause a split-brain write."
  },
  {
    "id": 2059,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Gateway: Fan-out",
    "content": "How does API Gateway Fan-out improve performance?",
    "explanation": "The Gateway receives one request (`GET /dashboard`). It executes calls to `UserService`, `OrderService`, and `NotificationService` **in parallel**. It aggregates the results and returns one response. This reduces the total latency to the duration of the slowest service, rather than the sum of all sequential calls."
  },
  {
    "id": 12060,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Data Consistency: Linearizability",
    "content": "What is Linearizability in a distributed database?",
    "explanation": "The strongest consistency model. It guarantees that once a write completes, all subsequent reads (from any node) will see that value. It makes the distributed system appear as if it were a single machine. Achieving this usually requires a consensus algorithm (Raft/Paxos) and affects latency."
  },
  {
    "id": 12061,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Canary Analysis",
    "content": "What metrics are critical to monitor during a Canary release?",
    "explanation": "Compare the **Error Rate**, **Latency (P99)**, and **Saturation** (CPU/Memory) of the Canary pods vs the Baseline (Production) pods. If the Canary deviates significantly (e.g., error rate spikes from 0.1% to 1%), the deployment should be automatically rolled back."
  },
  {
    "id": 12062,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Partnership",
    "content": "When is a 'Partnership' context map appropriate?",
    "explanation": "When two teams are working on closely related features and success depends on mutual cooperation. They synchronize schedules and integrate frequently. It requires high-bandwidth communication. If communication fails, it degrades into a Customer/Supplier relationship."
  },
  {
    "id": 12063,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Idempotency: Database Constraints",
    "content": "How can a Database Unique Constraint implement idempotency?",
    "explanation": "Create a table `ProcessedMessages` with a Unique Index on `MessageId`. Insert the ID at the start of the transaction. If the transaction runs a second time (duplicate message), the insert throws a 'Duplicate Key' exception, and you can safely return 'Success' (or 'Already Processed') without re-running the logic."
  },
  {
    "id": 12064,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Migration: Dual Write",
    "content": "Why is the 'Dual Write' pattern (writing to old and new DB) dangerous during migration?",
    "explanation": "It lacks atomicity. If write to DB1 succeeds and DB2 fails, data is inconsistent. It is hard to detect and fix. **Better:** Write to the Old DB, and use CDC (Change Data Capture) to replicate changes asynchronously to the New DB. Verify consistency using a background checker."
  },
  {
    "id": 12065,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Testing: Contract Testing",
    "content": "What problem does Contract Testing (Pact) solve that Integration Testing does not?",
    "explanation": "Integration tests require spinning up both services (slow, flaky). Contract tests verify that the Provider supports the messages the Consumer sends *without* running them together. It allows independent deployment: if the Provider passes the contract check, it is safe to deploy even if the Consumer isn't tested against it live."
  },
  {
    "id": 12066,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "GraphQL: Schema Federation",
    "content": "In GraphQL Federation, what is the role of the Gateway?",
    "explanation": "It acts as the single entry point. It parses the client query, breaks it down into sub-queries for each relevant Subgraph (User, Product, Review), executes them, and merges the results into the final JSON response. It handles the 'Join' logic of the distributed graph."
  },
  {
    "id": 12067,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Chaos Engineering: Game Days",
    "content": "What is the purpose of a 'Game Day' simulation?",
    "explanation": "A scheduled event where engineers intentionally inject failures (e.g., \"Simulate a Zone outage\" or \"Inject 500ms latency on DB\") into the staging/prod environment. The team practices their incident response: detecting the alert, diagnosing the root cause, and executing the runbook."
  },
  {
    "id": 12068,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "gRPC: Backward Compatibility",
    "content": "How do you handle breaking changes in a gRPC service?",
    "explanation": "You cannot change existing field numbers. You cannot rename fields (if JSON mapping is used). To break changes, you must create a new package version (`package v2;`) and run both v1 and v2 services side-by-side until all clients migrate."
  },
  {
    "id": 12069,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Value Object Persistence",
    "content": "How should Value Objects be persisted in a Relational Database?",
    "explanation": "Typically using **Flattening** (Embedded). A `Money` Value Object (Amount, Currency) is stored as two columns: `Price_Amount` and `Price_Currency` in the parent Entity's table. In EF Core, this is `OwnsOne`."
  },
  {
    "id": 12070,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Observability: Correlation ID",
    "content": "How does a Correlation ID assist in debugging a microservice error?",
    "explanation": "It links logs across services. If a user gets a 500 error, you search the Correlation ID in the centralized logging tool. You can see the full trace: Request entered Gateway -> Called Service A (Success) -> Called Service B (Success) -> Called Service C (Error: DB Timeout). It pinpoints the exact point of failure."
  },
  {
    "id": 12071,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "CAP Theorem: PACELC",
    "content": "How does PACELC extend the CAP theorem?",
    "explanation": "CAP only discusses Partition (P) scenarios. PACELC adds: \"Else (E) (when no partition), choose between Latency (L) and Consistency (C)\". Even in a healthy network, replicating data to ensure strong consistency takes time (Latency). You often trade Latency for Consistency."
  },
  {
    "id": 12072,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Ambassador",
    "content": "What is the Ambassador Pattern?",
    "explanation": "A sidecar proxy specifically for outbound connections. It handles client-side complexity like sharding, service discovery, retries, and auth for external services. Example: A generic `Redis-Ambassador` that handles sharding logic so the main app just talks to `localhost:6379`."
  },
  {
    "id": 12073,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Shared Kernel Risks",
    "content": "Why is the Shared Kernel pattern often discouraged in large systems?",
    "explanation": "It creates tight coupling. Any change to the Shared Kernel (e.g., modifying the `User` class) requires all dependent teams to update and redeploy. It creates a coordination bottleneck. It is often better to duplicate code or use a Published Language (contracts) instead."
  },
  {
    "id": 12074,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Scaling: Database Sharding",
    "content": "What is the 'Cross-Shard Join' problem in sharded databases?",
    "explanation": "If User A is on Shard 1 and User B is on Shard 2, you cannot join their data in a single SQL query. You must perform the join in the Application Layer (fetch from Shard 1, fetch from Shard 2, combine in memory), which is complex and slow."
  },
  {
    "id": 12075,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Zero Trust Network",
    "content": "How does mTLS enforce Zero Trust networking?",
    "explanation": "It ensures that *every* connection between services is authenticated and encrypted. Service A presents a certificate to Service B. Service B verifies the cert signature against the internal CA. Access is granted based on identity (SPIFFE ID), not IP address or network location."
  },
  {
    "id": 12076,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Bulkhead vs Rate Limiter",
    "content": "When would you use a Bulkhead instead of a Rate Limiter?",
    "explanation": "**Rate Limiter** protects the service from *external* load (Too many requests). **Bulkhead** protects the service from *internal* failure propagation. If one downstream dependency hangs, the Bulkhead ensures only a portion of the service's threads are consumed waiting for it, leaving threads available for other healthy features."
  },
  {
    "id": 12077,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Aggregate Root",
    "content": "Why must external objects only reference the Aggregate Root?",
    "explanation": "To enforce **Consistency Boundaries**. The Aggregate Root is responsible for validating all invariants within the aggregate. If you modify a child entity directly (bypassing the Root), you might leave the aggregate in an invalid state."
  },
  {
    "id": 12078,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Strangler Fig Data Sync",
    "content": "In a Strangler Fig migration, how do you handle data synchronization?",
    "explanation": "When intercepting writes to the new service, you must also write back to the old monolith's database (Dual Write or CDC) so legacy read paths still work. Once all reads are migrated to the new service, you can break the sync and decommission the old DB."
  },
  {
    "id": 12079,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Blue/Green Database",
    "content": "How do you handle schema changes in a Blue/Green deployment?",
    "explanation": "Schema changes must be **Backward Compatible** (Expand/Contract pattern). 1. Add new column (nullable). 2. Deploy Green app (writes to new column). 3. Migrate Blue app. 4. Backfill data. 5. Remove old column. You cannot make breaking schema changes when two versions of the app are running."
  },
  {
    "id": 12080,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Performance: N+1 Microservices",
    "content": "What is the distributed N+1 problem?",
    "explanation": "Fetching a list of orders (1 call), then for each order, calling the User Service to get the name (N calls). Network latency makes this disastrous. **Fix:** Batching (GetUsersByIds) or Data Duplication (store User Name in the Order record)."
  },
  {
    "id": 12081,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Open Host Service",
    "content": "What is the Open Host Service (OHS) pattern?",
    "explanation": "When a subsystem serves many downstream consumers, it defines a standard, public protocol (API) for access. It does not tailor its API for each consumer (which would be Conformist). It publishes a contract, and consumers adapt to it."
  },
  {
    "id": 12082,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Token Exchange",
    "content": "What is the OAuth 2.0 Token Exchange flow used for?",
    "explanation": "When a Gateway receives a token for 'User', but needs to call an internal Microservice that requires a different scope/audience. The Gateway exchanges the original token with the Identity Provider for a new downstream token representing the same user but scoped for the internal service."
  },
  {
    "id": 12083,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Scaling: Stateful Services",
    "content": "Why is scaling stateful services (like a WebSocket chat server) difficult?",
    "explanation": "Connections are persistent. You cannot easily rebalance active connections. If you add a new server, existing users stay on the old servers. You need a rebalancing strategy (force reconnect) and a Backplane (Redis) to route messages between users on different servers."
  },
  {
    "id": 12084,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Adaptive Concurrency Control",
    "content": "What is Adaptive Concurrency Control?",
    "explanation": "Instead of static limits (Max 100 threads), the system monitors its own latency/queue depth. If latency spikes, it automatically reduces the concurrency limit to shed load. If latency recovers, it increases the limit. It adapts to the real-time health of the system."
  },
  {
    "id": 12085,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Domain Event vs Integration Event",
    "content": "Why separate Domain Events from Integration Events?",
    "explanation": "**Domain Events**: Internal to the domain/service (In-Memory). Detailed, coupling-heavy. **Integration Events**: Public, for other microservices (Message Bus). Schema must be stable and decoupled. Often, a Domain Event triggers the publishing of a cleaner/simpler Integration Event."
  },
  {
    "id": 12086,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Architecture: Event Sourcing Projections",
    "content": "What is a 'Projection' in Event Sourcing?",
    "explanation": "The process of consuming the event stream to build a specialized Read Model (e.g., a SQL table for reporting). Since events are the source of truth, you can destroy and rebuild Projections at any time by replaying the events, enabling new views of old data."
  },
  {
    "id": 12087,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Log Tracing Sampling",
    "content": "Why use 'Tail-Based Sampling' for distributed tracing?",
    "explanation": "Head-based sampling (random 1%) might miss the one error trace you care about. Tail-based sampling collects *all* traces in a buffer, checks if they contain errors/latency, and *then* decides to persist them. It guarantees you capture the interesting failures."
  },
  {
    "id": 12088,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Anti-Corruption Layer (ACL)",
    "content": "How does an ACL protect your domain model?",
    "explanation": "It translates the messiness of an external system's model into your clean internal model. It prevents the external system's poor design decisions from leaking into and corrupting your domain logic. It acts as a firewall and adapter."
  },
  {
    "id": 12089,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Database: Distributed ID Generation",
    "content": "Why use Snowflake IDs (Twitter) instead of DB Auto-Increment?",
    "explanation": "Auto-Increment requires a central DB write (bottleneck). Snowflake IDs are generated locally by application nodes using Time + MachineID + Sequence. They are unique, time-sortable, and require no network coordination, allowing high-scale distributed writes."
  },
  {
    "id": 12090,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Jitter",
    "content": "How does 'Jitter' prevent the Thundering Herd problem on retry?",
    "explanation": "If 1000 services fail and retry exactly 1s later, they hit the server simultaneously again. Jitter adds randomness (0.8s - 1.2s). This spreads the requests out over time, smoothing the load and giving the server a chance to recover."
  },
  {
    "id": 12091,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Ubiquitous Language",
    "content": "Why is Ubiquitous Language critical for preventing bugs?",
    "explanation": "If developers say \"User\" but business says \"Account Holder\", translation errors occur in requirements. Code, Tests, and Conversation must use the *exact same* vocabulary. If the business changes a term, the code should be refactored to match."
  },
  {
    "id": 12092,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: IDOR",
    "content": "What is an IDOR (Insecure Direct Object Reference) vulnerability?",
    "explanation": "When an API allows access to an object based solely on the ID in the URL (`/orders/123`), without checking if the current user *owns* that object. Attackers can iterate IDs to scrape data. Fix: Always validate ownership (`Order.UserId == CurrentUserId`)."
  },
  {
    "id": 12093,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Architecture: CQRS Complexity",
    "content": "What is the biggest hidden cost of adopting CQRS?",
    "explanation": "**Complexity of Consistency**. You must handle the lag between Write and Read. You need infrastructure for synchronization. You lose the simplicity of 'Read your own Writes' (unless handled explicitly). Debugging across two models is harder."
  },
  {
    "id": 12094,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Decomposition Strategies",
    "content": "What is 'Decomposition by Subdomain'?",
    "explanation": "Breaking a monolith based on business boundaries (DDD Subdomains) like 'Billing', 'Shipping', 'Catalog'. This is superior to 'Decomposition by Technical Layer' (UI/Logic/DB) because it groups related business logic together, minimizing cross-service chatter."
  },
  {
    "id": 12095,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Claim Check",
    "content": "When should you use the Claim Check pattern in messaging?",
    "explanation": "When the message payload is too large (e.g., a PDF document). Store the payload in Blob Storage. Send a message with the **Reference** (URL/ID) to the queue. The consumer uses the reference to download the payload. Keeps the message bus fast and light."
  },
  {
    "id": 12096,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Circuit Breaker State",
    "content": "What happens in the 'Half-Open' state of a Circuit Breaker?",
    "explanation": "The circuit allows a *limited* number of test requests to pass through. If they succeed, it assumes the external service has recovered and closes the circuit (Normal). If they fail, it immediately re-opens the circuit (Failure) without waiting for a full timeout."
  },
  {
    "id": 12097,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Database: Polyglot Persistence",
    "content": "What is the maintenance risk of Polyglot Persistence?",
    "explanation": "**Operational Complexity**. Running 5 different DB types (SQL, Mongo, Redis, Neo4j, Cassandra) requires expertise in backing up, tuning, and patching 5 different systems. It fragments team knowledge. Only introduce a new DB tech if the use case strictly demands it."
  },
  {
    "id": 12098,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Scaling: Caching Strategies",
    "content": "What is the risk of a long TTL (Time To Live) in a cache?",
    "explanation": "**Stale Data**. Users see outdated information. Cache Invalidation is one of the hardest problems in CS. Short TTLs (e.g., 5 mins) naturally self-heal stale data. Long TTLs require a robust, event-driven invalidation mechanism."
  },
  {
    "id": 12099,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Principle of Least Privilege",
    "content": "How do you apply Least Privilege to Microservice Database Access?",
    "explanation": "Each service should have its own DB User. That user should only have permissions for the specific tables/schema that service owns. It should not be 'db_owner'. This limits the blast radius if a service is compromised via SQL Injection."
  },
  {
    "id": 12100,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API: Idempotent Consumer",
    "content": "How do you make a consumer idempotent if the database doesn't support transactions (e.g., calling an external API)?",
    "explanation": "Check the state first. \"Is this order already shipped?\" If yes, skip. If no, ship. Note: This has a race condition. A better approach is using a distributed lock or storing the 'Processed Message ID' in a separate transactional store before the side effect."
  },
  {
    "id": 6051,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index Seek vs Scan: Tipping Point",
    "content": "Why might the SQL Optimizer choose a Clustered Index Scan over a Non-Clustered Index Seek even if a valid index exists?",
    "explanation": "If the query selects many columns not present in the Non-Clustered Index (requiring Key Lookups), and the number of rows returned exceeds the **Tipping Point** (typically 25-33% of the table), the Optimizer determines it is cheaper to scan the entire table sequentially (Sequential I/O) rather than perform thousands of random Key Lookups (Random I/O)."
  },
  {
    "id": 6052,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Page Splits",
    "content": "What is a 'Page Split' in a B-Tree index and why is it detrimental to write performance?",
    "explanation": "When you insert a row into a full Index Page, the engine must split the page in half, move 50% of rows to a new page, and update pointers. This is an expensive, logged operation that causes **Logical Fragmentation** (pages are no longer sequential on disk) and locks the page during the split, reducing concurrency."
  },
  {
    "id": 6053,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Fill Factor",
    "content": "When and why would you configure a Fill Factor of 80% on an index instead of the default 100%?",
    "explanation": "On a **Write-Heavy** table with random inserts (e.g., UUID keys or updates that increase row size), setting Fill Factor to 80% leaves 20% free space on each page. This reserve space absorbs new rows/expansions without triggering immediate Page Splits, trading storage space for write performance and reduced fragmentation."
  },
  {
    "id": 6054,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Statistics: Histograms",
    "content": "How do stale Statistics lead to poor query plans?",
    "explanation": "The Optimizer uses the **Histogram** in the statistics object to estimate how many rows match a predicate (Cardinality Estimation). If stats are stale (e.g., thinking a table has 100 rows when it has 1M), the Optimizer might choose a Nested Loop Join (good for small data) instead of a Hash Join (good for large data), causing a massive performance regression."
  },
  {
    "id": 6055,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Parameter Sniffing",
    "content": "What is 'Parameter Sniffing' and how can it cause sporadic timeouts?",
    "explanation": "SQL Server compiles a stored procedure plan based on the *first* value passed (e.g., `Country='US'` returns 1M rows -> Scan). If the next call passes `Country='MT'` (10 rows), the cached Scan plan is terribly inefficient. Conversely, a Seek plan compiled for 'MT' would be disastrous for 'US'. Fix with `OPTION (RECOMPILE)` or local variable masking."
  },
  {
    "id": 6056,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Filtered Indexes",
    "content": "What is a Filtered Index and what is its primary use case?",
    "explanation": "An index with a `WHERE` clause (e.g., `WHERE IsProcessed = 0`). It is much smaller and faster to update than a full index. Ideal for **Queue Patterns** where you only query a small subset of active rows in a massive table of historical data."
  },
  {
    "id": 6057,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Deadlocks: Circular Wait",
    "content": "How do you analyze a Deadlock Graph to identify the root cause?",
    "explanation": "Look for the **Circular Wait** pattern. Process A owns Lock X (Key/Page) and wants Lock Y. Process B owns Lock Y and wants Lock X. The solution usually involves ensuring all transactions access tables/resources in the **Same Order**, or adding covering indexes to prevent Process B from needing Lock X (Key Lookup)."
  },
  {
    "id": 6058,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Update Locks (UPDLOCK)",
    "content": "Why does the pattern `SELECT ...; IF NULL INSERT;` cause Conversion Deadlocks under load?",
    "explanation": "Two threads concurrently `SELECT` (acquiring Shared Locks). Both see null. Both try to `INSERT` (acquiring Exclusive Locks). Neither can upgrade to Exclusive because the other holds a Shared Lock. **Fix:** Use `WITH (UPDLOCK, SERIALIZABLE)` on the select to eagerly acquire an Update Lock, serializing the intent to modify."
  },
  {
    "id": 6059,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "TempDB Contention",
    "content": "What causes TempDB allocation contention (PAGELATCH_UP) and how is it resolved?",
    "explanation": "Heavy creation of temp tables (`#table`) requires allocating pages in TempDB. If there is only one data file, all threads fight for the allocation bitmap pages (GAM/SGAM). **Resolution:** Create multiple TempDB data files (usually matching the number of CPU cores) to spread the allocation load."
  },
  {
    "id": 6060,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Snapshot Isolation Overhead",
    "content": "What is the performance penalty of enabling Read Committed Snapshot Isolation (RCSI)?",
    "explanation": "RCSI writes previous versions of updated rows to the **Version Store** in TempDB. This increases write I/O overhead (copy-on-write behavior) and TempDB usage. It trades disk I/O and CPU for massively improved concurrency (Readers don't block Writers)."
  },
  {
    "id": 6061,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: AsSplitQuery Consistency",
    "content": "What is the data consistency risk when using `.AsSplitQuery()` in EF Core?",
    "explanation": "`AsSplitQuery` executes multiple SQL commands to load related data (preventing Cartesian Explosion). However, if the database is modified *between* the commands, the in-memory object graph might be inconsistent (e.g., Parent loaded, Child deleted). To guarantee consistency, you must wrap the call in a **Serializable Transaction**."
  },
  {
    "id": 6062,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Compiled Models",
    "content": "How do EF Core Compiled Models improve startup performance?",
    "explanation": "Normally, EF scans `DbSet` properties and calculates the model mapping graph at startup (expensive Reflection). **Compiled Models** generate C# code for the model during the build process (`dotnet ef dbcontext optimize`). At runtime, EF skips the scanning phase, reducing startup time for large contexts significantly."
  },
  {
    "id": 6063,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "TagWith Debugging",
    "content": "How can you correlate a slow SQL query in the logs back to the specific C# code that generated it?",
    "explanation": "Use `.TagWith(\"MyMethodName\")` in the LINQ query. EF Core inserts a SQL comment (`-- MyMethodName`) at the top of the generated SQL. This tag appears in SQL Profiler, Query Store, and Slow Query logs, making identification instant."
  },
  {
    "id": 6064,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Bulk Updates",
    "content": "Why is `ExecuteUpdate` (EF 7+) preferred over standard change tracking for bulk operations?",
    "explanation": "Standard EF loads entities into memory (Change Tracker), modifies them, and sends individual `UPDATE` statements (or batched). `ExecuteUpdate` compiles to a single SQL `UPDATE ... WHERE` statement that executes entirely on the database server, avoiding the network round-trip for data fetching and the overhead of tracking objects."
  },
  {
    "id": 6065,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Value Comparers",
    "content": "Why does EF Core sometimes mark unchanged complex properties (like List<T> or JSON) as Modified?",
    "explanation": "EF Core uses reference equality check for mutable types by default. If you use a custom type (like a JSON object), EF doesn't know how to compare the *content*. It assumes it *might* have changed or fails to detect changes. You must register a **ValueComparer** to define deep-comparison logic."
  },
  {
    "id": 6066,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Shadow Properties",
    "content": "When should you use Shadow Properties in EF Core?",
    "explanation": "For infrastructure fields like `LastUpdated` or `IsDeleted` that you want to track in the database but **do not** want cluttering your C# Domain Entities. They are defined in the `DbContext` configuration and accessed via the `ChangeTracker` API, keeping the domain model pure."
  },
  {
    "id": 6067,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Global Query Filters Impact",
    "content": "Does a Global Query Filter (e.g., Soft Delete) affect index usage?",
    "explanation": "Yes. EF appends `WHERE IsDeleted = 0` to *every* query. If your indexes do not include `IsDeleted` (either as a key or filter), the database might perform suboptimal scans. You should generally include the soft-delete column in your primary indexes."
  },
  {
    "id": 6068,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "TPH vs TPT Performance",
    "content": "Why is Table Per Hierarchy (TPH) generally faster than Table Per Type (TPT)?",
    "explanation": "**TPH** stores all subclasses in one table. Queries require no joins, just a discriminator filter. **TPT** splits data across multiple tables. Fetching a polymorphic list requires `LEFT JOIN`ing every subclass table, which scales poorly as the hierarchy grows."
  },
  {
    "id": 6069,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "DbContext Pooling State",
    "content": "What is the danger of using `AddDbContextPool` with stateful services?",
    "explanation": "Pooled contexts are reused. If you modify a property on the `DbContext` itself (e.g., changing the Connection String dynamically or setting a tenant ID field) and fail to reset it, the next request might get a dirty context with the wrong tenant's data. Use `IDbContextFactory` or careful resetting."
  },
  {
    "id": 6070,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Cartesian Explosion",
    "content": "How does `Include(Orders).ThenInclude(Items)` cause a Cartesian Explosion in SQL?",
    "explanation": "SQL returns a flat result set. If a user has 10 Orders, and each Order has 10 Items, a single query returns 100 rows, duplicating User data 100 times and Order data 10 times. This creates massive network bandwidth waste. Fix with `AsSplitQuery()`."
  },
  {
    "id": 6071,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Columnstore Indexes",
    "content": "When should you switch from Rowstore to Columnstore Indexes?",
    "explanation": "For **OLAP / Analytical** workloads involving aggregation of millions of rows (e.g., `SUM(Sales)`). Columnstore compresses data column-wise (10x-50x compression) and loads only the specific columns needed into memory, avoiding reading the entire row."
  },
  {
    "id": 6072,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Table Partitioning",
    "content": "Does Table Partitioning improve query performance for single-row lookups?",
    "explanation": "Generally **No**. It might even degrade it slightly due to metadata overhead. Partitioning is primarily for **Manageability** (Sliding Window: deleting old data instantly via `SWITCH PARTITION`) and for optimizing range scans that target a specific partition (Partition Elimination)."
  },
  {
    "id": 6073,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Table Variables vs Temp Tables",
    "content": "Why prefer `#TempTables` over `@TableVariables` for large datasets?",
    "explanation": "`@TableVariables` do not maintain Statistics. The optimizer assumes they contain **1 row**. This leads to terrible execution plans (e.g., Nested Loops) if the variable actually holds 100,000 rows. `#TempTables` support statistics and indexes."
  },
  {
    "id": 6074,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "CTE Performance",
    "content": "Is a Common Table Expression (CTE) executed once and cached?",
    "explanation": "No. A CTE is syntactic sugar (like a view or subquery). If you reference the CTE twice in the main query, it is executed **twice** (unless the optimizer is smart enough to spool it, which is rare). It does not persist data like a Temp Table."
  },
  {
    "id": 6075,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Scalar UDFs",
    "content": "Why are Scalar User-Defined Functions (UDFs) considered performance killers?",
    "explanation": "They force the engine to execute **Row-By-Row** (RBAR), preventing set-based operations and parallel execution plans. They act as a black box to the optimizer. Use **Inline Table-Valued Functions (iTVF)** instead, which are macro-expanded into the main query."
  },
  {
    "id": 6076,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Cursor Types",
    "content": "If you must use a Cursor, which type is generally fastest?",
    "explanation": "**FAST_FORWARD** (Forward-only, Read-only). It is optimized for a single pass through the data. Static/Keyset cursors add significant overhead by copying data to TempDB."
  },
  {
    "id": 6077,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Forwarded Records",
    "content": "What are Forwarded Records in a Heap (Table without Clustered Index)?",
    "explanation": "In a Heap, if you update a row and increase its size so it no longer fits on the page, it moves to a new page, leaving a **Forwarding Pointer** behind. Future reads must jump to the original page, read the pointer, then jump to the new page (Double I/O). Fix: Add a Clustered Index."
  },
  {
    "id": 6078,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Latches vs Locks",
    "content": "What is the difference between a Latch and a Lock in SQL Server?",
    "explanation": "**Lock**: Logical protection of transaction integrity (Rows/Tables). Held for transaction duration. **Latch**: Lightweight synchronization of in-memory structures (Pages/Buffers). Held for microseconds while reading/writing a memory page. High Latch contention indicates CPU/Memory bottlenecks."
  },
  {
    "id": 6079,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Checkpoints & Lazy Writer",
    "content": "What is the role of the Lazy Writer process?",
    "explanation": "It scans the Buffer Pool for 'dirty' pages (modified in memory but not on disk) and ages them out. If memory is low, it flushes them to disk to free up RAM. **Checkpoints** ensure all dirty pages are written to disk periodically to minimize recovery time."
  },
  {
    "id": 6080,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Transaction Log Truncation",
    "content": "Why does the Transaction Log grow indefinitely in Full Recovery Mode?",
    "explanation": "In Full Recovery, the log is preserved until a **Log Backup** occurs. If you never back up the log, it cannot be truncated (reused). The file grows until it fills the disk. Switch to Simple mode or schedule Log Backups."
  },
  {
    "id": 6081,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "PAGEIOLATCH_SH",
    "content": "What does a high `PAGEIOLATCH_SH` wait type indicate?",
    "explanation": "The CPU is waiting for a page to be read from **Disk** into Memory (SH = Shared, for reading). It indicates **Disk I/O pressure**. The Buffer Pool is insufficient (need more RAM), or queries are scanning too much data (need better indexes)."
  },
  {
    "id": 6082,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "CXPACKET",
    "content": "Does high `CXPACKET` always mean parallelism is bad?",
    "explanation": "No. `CXPACKET` means threads are waiting for parallel work to finish. It is often accompanied by the benign `CXCONSUMER` wait. It is only a problem if accompanied by high CPU use or skewed distribution (one thread doing all the work). Lower `MAXDOP` only if justified."
  },
  {
    "id": 6083,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "LCK_M_IX",
    "content": "What does an `LCK_M_IX` wait usually suggest?",
    "explanation": "Intent Exclusive Lock wait. A transaction wants to modify a row but is blocked by another transaction holding a lock on the table or page hierarchy. Common in blocking scenarios where readers block writers (without Snapshot Isolation)."
  },
  {
    "id": 6084,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Implicit Conversions",
    "content": "Why does comparing a `VARCHAR` column to an `NVARCHAR` parameter kill performance?",
    "explanation": "NVARCHAR has higher precedence. SQL Server implicitly converts the **Column** (every single row) to NVARCHAR to compare it. This prevents Index Seek (SARGability) and forces a full Index Scan / Table Scan."
  },
  {
    "id": 6085,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Filtered Index Risk",
    "content": "Why might a Filtered Index not be used by the optimizer?",
    "explanation": "If the query uses variables (`WHERE IsActive = @p`), the optimizer doesn't know if `@p` will match the filter definition (`IsActive = 1`). It plays safe and ignores the filtered index. Use `OPTION (RECOMPILE)` or literal values to force usage."
  },
  {
    "id": 6086,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Indexed Views Limitations",
    "content": "What is the write penalty of an Indexed View?",
    "explanation": "Every time you update the base table, the engine must synchronously update the View's index. If the View aggregates millions of rows, a single row update can be expensive. Use sparingly on write-heavy tables."
  },
  {
    "id": 6087,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Row-Level Security (RLS) Performance",
    "content": "How does RLS affect query plans?",
    "explanation": "RLS injects a predicate function (`WHERE TenantId = X`) into every query. If the predicate function is complex (lookups, joins), it runs for every row, killing performance. RLS predicates must be highly optimized and indexed."
  },
  {
    "id": 6088,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Change Tracking vs CDC",
    "content": "Difference between Change Tracking and Change Data Capture?",
    "explanation": "**Change Tracking (CT)**: Lightweight. Tells you *which* rows changed (Primary Key), but not the historical data. **CDC**: reads the Transaction Log. Captures the actual data before/after the change. Use CT for sync; CDC for audit/history."
  },
  {
    "id": 6089,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Temporal Tables",
    "content": "How does querying 'AS OF' a past date affect performance in Temporal Tables?",
    "explanation": "Current data is in the main table (Clustered Index). Historical data is in the History Table. An `AS OF` query might need to scan the History Table (often unclustered or heap-like) to reconstruct the state. History tables need proper indexing for time-travel performance."
  },
  {
    "id": 6090,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "In-Memory OLTP Limitations",
    "content": "Why can't you simply migrate every table to Memory-Optimized (Hekaton)?",
    "explanation": "They consume expensive RAM. They have limitations on surface area (no Foreign Keys in some versions, limited ALTER support). They require `NATIVE_COMPILATION` stored procedures for max speed. Best for specific high-contention latch-free scenarios."
  },
  {
    "id": 6091,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "OPTION (RECOMPILE)",
    "content": "When is `OPTION (RECOMPILE)` a good fix?",
    "explanation": "When **Parameter Sniffing** is causing erratic performance and the cost of compiling the query is low compared to the execution time. It forces a fresh plan generation for every execution using the *current* parameter values."
  },
  {
    "id": 6092,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "MAXDOP Configuration",
    "content": "What is the recommended MAXDOP setting for a 64-core server?",
    "explanation": "Usually **8**. Allowing a query to use all 64 cores creates massive `CXPACKET` wait times (coordination overhead). Limiting Max Degree of Parallelism to 8 (or the number of cores in a NUMA node) balances parallelism and overhead."
  },
  {
    "id": 6093,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Query Store: Plan Forcing",
    "content": "What is Plan Forcing in Query Store?",
    "explanation": "If a query regression occurs (a new 'bad' plan is chosen), you can force the engine to use a specific 'good' plan id from history. It acts as a safety net for performance stability."
  },
  {
    "id": 6094,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "sp_whoisactive",
    "content": "What crucial information does `sp_whoisactive` provide that Activity Monitor misses?",
    "explanation": "It shows the **Wait Info** (why is it stuck?), **TempDB allocations**, **Open Transaction count**, and the exact SQL text and execution plan XML in a single view. Essential for live troubleshooting."
  },
  {
    "id": 6095,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Buffer Pool Extension",
    "content": "When is Buffer Pool Extension (BPE) useful?",
    "explanation": "When you have maxed out RAM but have fast local SSDs. BPE uses the SSD as an L2 cache between RAM and HDD. It is slower than RAM but faster than spinning disk."
  },
  {
    "id": 6096,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Auto-Growth Events",
    "content": "Why are frequent Auto-Growth events bad for performance?",
    "explanation": "Auto-growth pauses database writes while the OS zeros out new disk space (unless IFI is on). It also causes file fragmentation on the disk. Pre-allocate file sizes to avoid this."
  },
  {
    "id": 6097,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Instant File Initialization",
    "content": "How does Instant File Initialization (IFI) speed up growth?",
    "explanation": "It skips the zeroing-out of new disk space. The OS trusts SQL Server to overwrite the old data eventually. Makes file growth and database creation/restore nearly instantaneous."
  },
  {
    "id": 6098,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Connection Pooling Fragmentation",
    "content": "How does using different connection strings cause Pool Fragmentation?",
    "explanation": "The pool is keyed by the *exact* connection string. If you have 10 variations (`App=A`, `App=B`), you create 10 separate pools. This wastes memory and connections on the SQL server. Standardize connection strings."
  },
  {
    "id": 6099,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core Interceptors",
    "content": "What is a `DbCommandInterceptor` used for in performance tuning?",
    "explanation": "It intercepts the SQL before it is sent to the DB. Useful for **Logging slow queries**, adding **Query Hints** dynamically, or implementing **Soft Timeout** logic globally."
  },
  {
    "id": 6100,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "AsNoTracking Identity Resolution",
    "content": "Why is `AsNoTracking` faster, and what feature do you lose?",
    "explanation": "It bypasses the **Change Tracker** and **Identity Map**. It doesn't fix up navigation properties (duplicates objects if the same ID appears twice in the result set). Faster/Lower memory, but read-only."
  },
  {
    "id": 6101,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Nested Loop vs Hash Join",
    "content": "Why does the Optimizer choose a Hash Join over a Nested Loop Join for large datasets?",
    "explanation": "**Nested Loop** is O(N*M). It is fast only if one input is tiny (Outer table). **Hash Join** creates an in-memory hash table of the smaller input and probes it. It is O(N+M), making it vastly more scalable for two large inputs, though it requires more memory (Grant)."
  },
  {
    "id": 6102,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Key Lookup Cost",
    "content": "Why is a Key Lookup (Bookmark Lookup) considered expensive in an execution plan?",
    "explanation": "It performs **Random I/O**. For every matching row in the Non-Clustered Index, the engine must jump to the Clustered Index (Heap) to fetch missing columns. If you match 10,000 rows, that is 10,000 random seeks. A Clustered Index Scan (Sequential I/O) is often faster."
  },
  {
    "id": 6103,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index Intersection",
    "content": "What is Index Intersection and when does the Optimizer use it?",
    "explanation": "When you have `WHERE A=1 AND B=2` but no composite index `(A,B)`. The engine might seek Index A (get RowIDs), seek Index B (get RowIDs), and join the two lists. It is a fallback strategy; a single Composite Index `(A,B)` is usually much faster."
  },
  {
    "id": 6104,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Sort Spill to TempDB",
    "content": "What causes a 'Sort' operator to show a warning 'Spill to TempDB'?",
    "explanation": "Memory Grant insufficient. The Optimizer guessed the sort would need 10MB RAM, but it actually needed 20MB. The engine runs out of assigned memory and pages the intermediate sort data to disk (`TempDB`). This kills performance. Fix stats or increase grant."
  },
  {
    "id": 6105,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Ghost Records",
    "content": "What are Ghost Records and how do they affect scan performance?",
    "explanation": "When you delete a row, it is simply marked as 'Ghosted' (not physically removed immediately) to allow rollback/snapshot isolation. A Ghost Cleanup task runs later. If you delete 1M rows, a Table Scan still reads the 1M ghosted rows until cleanup runs, wasting I/O."
  },
  {
    "id": 6106,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Bitmap Filter",
    "content": "What is a 'Bitmap' operator in an execution plan?",
    "explanation": "An optimization for Hash Joins (Star Schema). The engine builds a bitmap (bloom filter) of keys from the dimension table and pushes it down to the fact table scan. Rows in the fact table that don't match the bitmap are discarded *before* the join, saving CPU."
  },
  {
    "id": 6107,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Stream Aggregate vs Hash Aggregate",
    "content": "Why does Stream Aggregate require sorted input?",
    "explanation": "**Stream Aggregate** requires data sorted by the Group By columns. It processes row-by-row, emitting a group as soon as the key changes (Low memory). **Hash Aggregate** builds a hash table in memory (High memory, blocking). The Optimizer picks Stream if an index already provides sorted order."
  },
  {
    "id": 6108,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Trivial Plan",
    "content": "What is 'Simple Parameterization' (Trivial Plan) in SQL Server?",
    "explanation": "For very simple queries (`SELECT * FROM T WHERE ID = 1`), the Optimizer skips the full optimization process (cost-based analysis) and generates a Trivial Plan. It auto-parameterizes the literal '1'. Complicated queries require full optimization."
  },
  {
    "id": 6109,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Lock Escalation",
    "content": "What triggers Lock Escalation (Row -> Table) and why is it dangerous?",
    "explanation": "When a transaction holds too many row locks (usually > 5,000), the engine escalates to a **Table Lock** to save memory overhead. This blocks *all* other users from accessing the table. Break large updates into smaller batches to prevent this."
  },
  {
    "id": 6110,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Async_Network_IO",
    "content": "What does a high `ASYNC_NETWORK_IO` wait type usually imply?",
    "explanation": "**The Application is Slow**. SQL Server has sent the data, but the client application isn't consuming it fast enough (processing row-by-row, slow network, or blocked thread). The DB is waiting on the App to ask for the next packet."
  },
  {
    "id": 6111,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: AsSplitQuery Limit",
    "content": "Does `AsSplitQuery` work with `Skip/Take` (Pagination)?",
    "explanation": "Yes, but be careful. The pagination (`OFFSET/FETCH`) is applied to the root query. The split queries for children join on the *IDs* resulting from that root page. This ensures data consistency for the page loaded."
  },
  {
    "id": 6112,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: DbContextPool Lease",
    "content": "Why must you return a pooled DbContext to the pool quickly?",
    "explanation": "Pooled contexts are stateful but reset on return. If you hold a reference to a Context in a Singleton or Background Service, you starve the pool and potentially reuse a 'dirty' context across unrelated scopes. Always use `using` or `CreateDbContext()`."
  },
  {
    "id": 6113,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Filtered Index vs Indexed View",
    "content": "When to use a Filtered Index vs an Indexed View?",
    "explanation": "**Filtered Index**: Best for subsetting data (`WHERE IsActive=1`). Lightweight. **Indexed View**: Best for pre-aggregating data (`SUM(Total)`). Heavy write penalty. Use Filtered Index for optimizing queues; Indexed View for reporting."
  },
  {
    "id": 6114,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Query Store: Regressed Queries",
    "content": "How does Query Store identify a 'Regressed Query'?",
    "explanation": "It tracks execution history. If a query's recent average duration is significantly higher than its historical baseline (Standard Deviation), it flags it. You can compare the Plans (e.g., Plan A used Seek, Plan B used Scan) and force Plan A."
  },
  {
    "id": 6115,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Raw SQL Composition",
    "content": "Can you compose LINQ operators on top of `FromSqlInterpolated`?",
    "explanation": "Yes. `context.Users.FromSql($\"SELECT * FROM Users\").Where(u => u.Active)` works! EF Core wraps the raw SQL in a Subquery `SELECT * FROM (RawSql) WHERE Active = 1`. This allows safe, composable raw queries."
  },
  {
    "id": 6116,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Forwarding Pointer (Heap)",
    "content": "How do you fix a Heap with too many Forwarding Pointers?",
    "explanation": "Rebuild the Table (`ALTER TABLE REBUILD`). This reorganizes the data pages, removes fragmentation, and eliminates forwarding pointers. Ideally, add a Clustered Index to prevent them entirely."
  },
  {
    "id": 6117,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Batch Mode Execution",
    "content": "What is 'Batch Mode' execution in SQL Server?",
    "explanation": "Traditionally for Columnstore, now available for Rowstore (SQL 2019+). It processes rows in batches (vectors of ~900 rows) instead of one by one. Drastically reduces CPU overhead for aggregations and sorts."
  },
  {
    "id": 6118,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Implicit Transactions (EF Core)",
    "content": "Does EF Core's `SaveChanges` use a transaction?",
    "explanation": "Yes. If no transaction is active, `SaveChanges` creates a transaction, sends all INSERT/UPDATE commands, and commits. If one fails, all roll back. It guarantees Atomicity for the batch."
  },
  {
    "id": 6119,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Schema-Stability Lock (Sch-S)",
    "content": "What is a `Sch-S` lock and why does it block DDL?",
    "explanation": "Every query takes a Schema-Stability (`Sch-S`) lock to ensure the table structure doesn't change while reading. DDL operations (like `ALTER TABLE`) need a Schema-Modification (`Sch-M`) lock. `Sch-M` blocks `Sch-S`. Long running reports block deployments."
  },
  {
    "id": 6120,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Guid Comb",
    "content": "What is the 'Guid Comb' strategy for Primary Keys?",
    "explanation": "Combines a Random GUID with the current Date/Time at the end (Sequential). This allows SQL Server to insert new rows at the *end* of the B-Tree page chain, preventing random page splits while maintaining GUID uniqueness."
  },
  {
    "id": 6121,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Query Folding",
    "content": "What is Query Folding in the context of PowerBI/OData/GraphQL?",
    "explanation": "Pushing logic to the source. If you filter `Date > 2023`, 'Folding' means the filter is translated to SQL `WHERE` clause. 'Breaking Folding' means downloading the whole table and filtering in memory. Always ensure filters Fold."
  },
  {
    "id": 6122,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Include vs ThenInclude",
    "content": "What happens if you miss `ThenInclude` in an EF Core query chain?",
    "explanation": "You cannot access the nested property. `Include(User).Include(Posts)` attempts to load User and *User's* Posts (error if User doesn't have Posts prop). `Include(User).ThenInclude(Posts)` correctly navigates down the relationship tree."
  },
  {
    "id": 6123,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Latch Contention: Page",
    "content": "What causes `PAGELATCH_EX` on the last page of an index?",
    "explanation": "**Last Page Insert Contention**. If you use `IDENTITY` keys, all inserts hit the last page. In high-concurrency systems, threads wait for the Latch on that one page. Fix: Use Hash Partitioning or non-sequential keys (if read performance allows)."
  },
  {
    "id": 6124,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Table Spool",
    "content": "Is a 'Table Spool' operator good or bad?",
    "explanation": "Usually bad. **Eager Spool**: Reads entire input and saves to tempDB (Blocking). **Lazy Spool**: Caches rows for reuse (e.g., inside a nested loop). Spools often indicate missing indexes or complex query logic that forces the engine to buffer data."
  },
  {
    "id": 6125,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Client vs Server Evaluation",
    "content": "Does EF Core 3.0+ allow Client Evaluation in the Where clause?",
    "explanation": "**No**. It throws a runtime exception. Previous versions logged a warning and pulled data into memory (dangerous). Now, if a function cannot be translated to SQL, the query fails explicitly to prevent performance bombs."
  },
  {
    "id": 6126,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Recursive Common Table Expression (CTE)",
    "content": "What is the max recursion limit for a CTE?",
    "explanation": "Default **100**. If your hierarchy (e.g., Org Chart) is deeper, the query fails. Use `OPTION (MAXRECURSION 0)` to remove the limit (dangerous infinite loops) or set a specific safe number."
  },
  {
    "id": 6127,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Multi-Statement TVF",
    "content": "Why prefer Inline TVF over Multi-Statement TVF (MSTVF)?",
    "explanation": "MSTVF creates a table variable, populates it (logic), and returns it. It is a black box with cardinality 1. **Inline TVF** is just a macro; the optimizer merges the inner query into the outer query, enabling index usage and correct stats."
  },
  {
    "id": 6128,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Optimistic Concurrency: RowVersion",
    "content": "How does `RowVersion` (timestamp) prevent lost updates in EF Core?",
    "explanation": "EF adds `WHERE RowVersion = OriginalRowVersion` to the UPDATE statement. If the row changed, `RowsAffected` is 0. EF throws `DbUpdateConcurrencyException`. You catch it, reload the entity, merge changes, and retry."
  },
  {
    "id": 6129,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Deadlock Priority",
    "content": "How does SQL Server choose a Deadlock Victim?",
    "explanation": "It kills the transaction that is **cheapest to rollback** (least log bytes generated). You can override this with `SET DEADLOCK_PRIORITY HIGH/LOW`. Setting Low volunteers your process to be the victim."
  },
  {
    "id": 6130,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Context Factory",
    "content": "Why use `IDbContextFactory` in Blazor Server?",
    "explanation": "Blazor Server components live for a long time. Injecting `DbContext` (Scoped) keeps it alive for the user session, accumulating tracking info (memory leak). Use Factory to create short-lived contexts per operation."
  },
  {
    "id": 6131,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index Fragmentation",
    "content": "Does Index Fragmentation affect SSDs?",
    "explanation": "Less than HDDs (no seek head latency), but still **Yes**. Fragmented indexes waste **Pages** (empty space), reducing buffer pool efficiency (RAM caches less data) and increasing the number of I/O requests needed to read the table."
  },
  {
    "id": 6132,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Soft Delete: Unique Constraint",
    "content": "How do you enforce a Unique Email constraint with Soft Deletes?",
    "explanation": "You cannot use a simple Unique Constraint on `Email` (it would block re-registering a deleted email). Use a **Filtered Unique Index**: `CREATE UNIQUE INDEX IX_Email ON Users(Email) WHERE IsDeleted = 0`."
  },
  {
    "id": 6133,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Varchar vs NVarchar Storage",
    "content": "How much space does `NVARCHAR(100)` consume?",
    "explanation": "It uses **2 bytes per character** (UCS-2/UTF-16). `VARCHAR` uses 1 byte (ASCII). Use `VARCHAR` for internal codes/IDs to save 50% space. Use `NVARCHAR` for user names/addresses (Unicode support)."
  },
  {
    "id": 6134,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Connection Resilience",
    "content": "What does `EnableRetryOnFailure()` do in EF Core?",
    "explanation": "It configures the internal execution strategy to catch transient exceptions (Timeout, Network Packet Loss, Deadlock) and retry the command automatically. Essential for Cloud Databases (Azure SQL)."
  },
  {
    "id": 6135,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Temporal Tables History",
    "content": "How does SQL Server manage the history table size?",
    "explanation": "It doesn't automatically. The history table grows forever. You must implement a retention policy (e.g., partitioning or a nightly job) to delete history older than X years."
  },
  {
    "id": 6136,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index Merge Strategy",
    "content": "When does SQL Server use Index Merge?",
    "explanation": "When you have `WHERE A=1 OR B=2` and indexes on both. It seeks Index A, seeks Index B, and Unions the RowIDs. While clever, usually creating a specific index covering the query is better."
  },
  {
    "id": 6137,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: HiLo Algorithm",
    "content": "What is the benefit of HiLo key generation?",
    "explanation": "The client reserves a range of IDs (e.g., 100) from the server. It can then insert 100 rows locally knowing their IDs *without* a DB round-trip for each one. Reduces network latency for bulk inserts."
  },
  {
    "id": 6138,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Foreign Key: No Index",
    "content": "What happens if you delete a parent row and the child Foreign Key column is not indexed?",
    "explanation": "The DB must scan the **Entire Child Table** to verify no orphans exist. This causes a table lock on the child table and massive I/O. Always index Foreign Key columns."
  },
  {
    "id": 6139,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "T-SQL: Union vs Union All",
    "content": "Why is `UNION ALL` faster?",
    "explanation": "`UNION` performs a `DISTINCT` sort to remove duplicates. `UNION ALL` just concatenates the result sets. Unless you specifically need deduplication, always use `UNION ALL`."
  },
  {
    "id": 6140,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Computed Column Persistence",
    "content": "When can you index a Computed Column?",
    "explanation": "Only if it is **Deterministic** (always returns same result for same inputs) and precise. You should often mark it `PERSISTED` to store the value physically, avoiding recalculation at query time."
  },
  {
    "id": 6141,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "JSON in SQL Performance",
    "content": "Is querying JSON in SQL Server efficient?",
    "explanation": "`JSON_VALUE` parses the text at runtime (CPU heavy). If you query a JSON property frequently, create a **Computed Column** for that property and **Index** it. This bridges NoSQL flexibility with SQL speed."
  },
  {
    "id": 6142,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Transaction Isolation: Repeatable Read",
    "content": "What does Repeatable Read guarantee?",
    "explanation": "If you read a row, it stays locked (Shared Lock) until the end of the transaction. Nobody can update it. Prevents Non-Repeatable Reads. However, it does *not* prevent **Phantom Reads** (new rows appearing)."
  },
  {
    "id": 6143,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Batching",
    "content": "How does EF Core handle `SaveChanges` for 1000 entities?",
    "explanation": "It automatically batches the INSERT statements (e.g., sending 42 rows per round-trip). This drastically improves performance compared to sending 1000 individual INSERT commands."
  },
  {
    "id": 6144,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Wide Tables vs Narrow Tables",
    "content": "What is the I/O impact of a very wide table (e.g., 200 columns)?",
    "explanation": "Fewer rows fit on an 8KB data page. A table scan requires reading many more pages (IOPS). It also reduces Buffer Pool efficiency. Vertical Partitioning (splitting seldom-used columns) can help."
  },
  {
    "id": 6145,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Materialization Point",
    "content": "In LINQ, what triggers Materialization?",
    "explanation": "`ToList()`, `ToArray()`, `First()`, `Count()`, or `foreach`. Until one of these is called, the query is just an Expression Tree description. `AsEnumerable()` switches from SQL translation to C# memory execution."
  },
  {
    "id": 6146,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Non-Clustered Index: Include",
    "content": "What is the benefit of `INCLUDE` columns in an index?",
    "explanation": "They store data at the leaf level of the index but do not affect the sorting/tree structure. Allows the query to be **Covered** (served entirely from index) without adding overhead to the index B-Tree navigation."
  },
  {
    "id": 6147,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Raw SQL Projection",
    "content": "Can `FromSql` return a DTO instead of an Entity?",
    "explanation": "Yes (in EF Core 8+ using `Database.SqlQuery<Dto>`). Before that, `FromSql` required Keyless Entity Types registered in `OnModelCreating`. Now you can project raw SQL directly to unmapped types."
  },
  {
    "id": 6148,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Wait Statistics: SOS_SCHEDULER_YIELD",
    "content": "What does `SOS_SCHEDULER_YIELD` indicate?",
    "explanation": "CPU pressure. The thread exhausted its 4ms quantum and yielded the CPU voluntarily, but is ready to run again. If high, you have CPU-bound queries (spins) rather than I/O waiting."
  },
  {
    "id": 6149,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: HasConversion",
    "content": "Does `HasConversion` break SQL translation?",
    "explanation": "It depends. Simple conversions (Enum to String) are translatable. Complex value converters (JSON object to String) usually break translation for contents *inside* the object (e.g., filtering by a JSON property)."
  },
  {
    "id": 6150,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Snapshot Isolation: Update Conflict",
    "content": "What happens if two Snapshot transactions update the same row?",
    "explanation": "The first one commits. The second one attempts to commit, detects the row version changed, and throws an **Update Conflict** error (exception). The application must handle this (retry)."
  },
  {
    "id": 6151,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "VLF Fragmentation",
    "content": "What is Virtual Log File (VLF) Fragmentation and how does it impact transaction performance?",
    "explanation": "If the Transaction Log grows in tiny increments (e.g., 1MB), SQL Server creates thousands of small VLFs. This causes slow database startup, slow backups, and slow insert performance due to log management overhead. **Fix:** Pre-size the log file and set Auto-Growth to a large value (e.g., 500MB)."
  },
  {
    "id": 6152,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index Spool (Eager)",
    "content": "What does an 'Eager Index Spool' operator indicate in a query plan?",
    "explanation": "It means the optimizer decided to build a temporary index *on the fly* during query execution because no suitable index existed. This is a massive performance hit (blocking operation). It strongly suggests a missing Non-Clustered Index."
  },
  {
    "id": 6153,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Compiled Query",
    "content": "When should you use `EF.CompileQuery`?",
    "explanation": "For extremely high-frequency, low-latency paths (e.g., Auth check called 10k times/sec). It caches the translation from LINQ-to-SQL, skipping the hash lookup and expression tree traversal overhead. For standard web APIs, the built-in query cache is usually sufficient."
  },
  {
    "id": 6154,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Row-Overflow Storage",
    "content": "What happens if a row exceeds the 8KB page limit in SQL Server?",
    "explanation": "If variable-length columns (`VARCHAR`) push the row size over 8060 bytes, SQL Server moves the overflowing columns to **Row-Overflow** pages. This requires extra I/O to fetch a single row. `LOB` data (Text/Image) is stored separately by default."
  },
  {
    "id": 6155,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Halloween Protection",
    "content": "What is 'Halloween Protection' in SQL updates?",
    "explanation": "A mechanism to prevent an update loop. If you update a column that is also part of the index used to find the rows, the row might move in the index and be encountered/updated again. The engine adds a blocking operator (Spool/Sort) to isolate the read phase from the write phase."
  },
  {
    "id": 6156,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Filtered Index: Nulls",
    "content": "How can a Filtered Index optimize a sparse column?",
    "explanation": "If a column is NULL for 99% of rows, creating an index `WHERE Col IS NOT NULL` creates a tiny, efficient index containing only the 1% of relevant data. Queries filtering for non-null values will be instant."
  },
  {
    "id": 6157,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Lock Partitioning",
    "content": "How does SQL Server handle locking on a 64-core machine to prevent Spinlock contention?",
    "explanation": "It uses **Lock Partitioning**. It creates separate lock hash tables for each NUMA node or CPU group. Threads acquire locks on their local partition, reducing cross-core memory invalidation and spinlock contention on the lock manager itself."
  },
  {
    "id": 6158,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: StateManager Overhead",
    "content": "Why does adding 10,000 entities to the DbContext slow down progressively?",
    "explanation": "The **Change Tracker** (StateManager) complexity is roughly linear or `O(N)` for lookups (checking for duplicates). As the context grows, `Add()` takes longer. **Fix:** Use `ChangeTracker.AutoDetectChangesEnabled = false` during bulk insertion blocks."
  },
  {
    "id": 6159,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Implicit vs Explicit Transactions Log Usage",
    "content": "Does wrapping 1000 INSERTs in a single Transaction improve performance?",
    "explanation": "Yes, massively. Without an explicit transaction, each INSERT waits for a log flush to disk (WAL commit). With a transaction, the log is flushed only once at `COMMIT`. Reduces I/O latency by 1000x."
  },
  {
    "id": 6160,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Optimize for Ad Hoc Workloads",
    "content": "What does the 'Optimize for Ad Hoc Workloads' server setting do?",
    "explanation": "It prevents Plan Cache bloating. On the first execution of a unique query, it stores a small 'stub' instead of the full plan. Only if the query runs a second time is the full plan compiled and cached. Saves RAM for one-off queries."
  },
  {
    "id": 6161,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Split Query on Collections",
    "content": "Why is `AsSplitQuery` recommended for collections but not for single references?",
    "explanation": "Loading a single parent-child (`User->Profile`) does not duplicate data. Loading a collection (`User->Orders`) duplicates User data for every Order. `AsSplitQuery` is specifically designed to fix the data duplication performance issue of One-to-Many joins."
  },
  {
    "id": 6162,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Covering Index vs Include",
    "content": "Is there a performance difference between adding a column to the Key vs `INCLUDE`?",
    "explanation": "Yes. Key columns are part of the B-Tree sort order (increasing index size and sort overhead). `INCLUDE` columns are just payloads at the leaf level. Only put columns in the **Key** if you need to Filter (`WHERE`) or Sort (`ORDER BY`) on them."
  },
  {
    "id": 6163,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Guid vs Int Identity: Page Density",
    "content": "How does key size (4 bytes vs 16 bytes) affect Buffer Pool efficiency?",
    "explanation": "A 16-byte GUID reduces the number of rows that fit on an 8KB page. This lowers **Page Density**. The Buffer Pool (RAM) can store fewer rows, leading to more frequent disk I/O and lower cache hit ratios compared to 4-byte Integers."
  },
  {
    "id": 6164,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Deadlock: Reader-Writer",
    "content": "Can a Deadlock occur between a Reader and a Writer?",
    "explanation": "Yes, without Snapshot Isolation. Reader holds Shared Lock (S), wants to read next page. Writer holds Exclusive Lock (X) on next page, wants to update Reader's page. Classic cycle. Snapshot Isolation eliminates the Reader's participation in this deadlock."
  },
  {
    "id": 6165,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Find vs FindAsync",
    "content": "Is `FindAsync` always better than `Find`?",
    "explanation": "Not if the entity is already tracked. Both methods check the cache first. If the entity is in memory, `Find` returns immediately (fast). `FindAsync` incurs the overhead of allocating a Task for a synchronous result. However, for DB hits, `FindAsync` is mandatory to avoid thread blocking."
  },
  {
    "id": 6166,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Adaptive Joins",
    "content": "What is an Adaptive Join in modern SQL Server?",
    "explanation": "The engine defers the choice between Nested Loop and Hash Join until runtime. It looks at the actual row count of the first input. If small -> Nested Loop. If large -> Hash Join. Prevents plan regression due to bad cardinality estimates."
  },
  {
    "id": 6167,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Soft Delete: Cascade",
    "content": "How do you handle Cascading Soft Deletes in EF Core?",
    "explanation": "The DB `ON DELETE CASCADE` doesn't work (since row isn't deleted). You must manually iterate and soft-delete children, or use a trigger/stored proc. In EF Core, you can override `SaveChanges` to traverse navigations and set `IsDeleted=true` on related entities."
  },
  {
    "id": 6168,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "TempDB Spill: Hash Warning",
    "content": "What does a 'Hash Warning' (Spill) indicate during a Join?",
    "explanation": "The Hash Table built for the join was too large for the allocated memory grant. Portions were written to disk (TempDB). This turns a fast memory operation into a slow disk operation. Update stats or simplify the join."
  },
  {
    "id": 6169,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Plan Regression",
    "content": "Why would a query suddenly pick a bad plan after running fine for months?",
    "explanation": "**Data Distribution Change**. The table grew, or a specific value became skew-heavy (e.g., 'Unknown' status has 1M rows). The stats updated, and the Optimizer decided a Scan is now safer than a Seek. Or 'Parameter Sniffing' occurred on a non-representative value."
  },
  {
    "id": 6170,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Last-Page Insert Latch",
    "content": "How does 'Optimizie for Sequential Key' fix Last-Page Latch contention?",
    "explanation": "SQL Server 2019+ feature. It detects contention on the tail page of an index (e.g., Identity insert). It allocates multiple threads to handle the inserts and helps schedule them to reduce latch thrashing, improving throughput for sequential inserts."
  },
  {
    "id": 6171,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Vacuum / Ghost Cleanup",
    "content": "Why is 'Vacuuming' (Postgres) or 'Ghost Cleanup' (SQL Server) necessary?",
    "explanation": "MVCC databases store old versions of rows for active transactions. When those transactions finish, the old versions are 'Dead Tuples'. Cleanup processes must run to reclaim that disk space and prevent table bloat, which slows down scans."
  },
  {
    "id": 6172,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Any vs Count",
    "content": "Why is `.Any()` vastly superior to `.Count() > 0`?",
    "explanation": "`.Any()` generates `IF EXISTS (SELECT 1 ...)` which stops scanning as soon as it finds **one** match. `.Count()` generates `SELECT COUNT(*)` which must find and tally **every** match in the table before returning."
  },
  {
    "id": 6173,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Sharding: Scatter-Gather",
    "content": "What is the performance impact of a Scatter-Gather query?",
    "explanation": "If a query does not include the Shard Key, it must be sent to **All Shards** in parallel. The coordinator waits for the slowest shard to reply, then merges results. Latency is determined by the slowest node (P99 latency), scaling poorly."
  },
  {
    "id": 6174,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "RBAR (Row By Agonizing Row)",
    "content": "What SQL constructs typically lead to RBAR performance?",
    "explanation": "Cursors, Scalar UDFs in the SELECT list, and loops in T-SQL. They force the engine to execute logic once per row instead of acting on the set of data as a whole."
  },
  {
    "id": 6175,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Cartographic Projection",
    "content": "Why is `Select` (Projection) better than fetching Entities?",
    "explanation": "Entities are tracked (overhead). Entities fetch *all* columns (`SELECT *`). Projections (`Select(x => new { x.Name })`) fetch only needed columns and skip the Change Tracker. Always project for Read-Only operations."
  },
  {
    "id": 6176,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index Consolidation",
    "content": "Why might having 20 indexes on a table slow it down?",
    "explanation": "Every `INSERT/UPDATE/DELETE` must maintain *every* index. 20 indexes means 20 extra writes per row modification. It also increases the chance of deadlocks. Remove unused or redundant (overlapping) indexes."
  },
  {
    "id": 6177,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Deferred Name Resolution",
    "content": "How does Deferred Name Resolution affect deployment scripts?",
    "explanation": "You can create a Stored Procedure that references a table that *doesn't exist yet*. SQL Server checks existence at execution time, not creation time. Allows flexibility in deployment order (Creating Tables vs Procs)."
  },
  {
    "id": 6178,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "SQL Injection: Second Order",
    "content": "What is Second Order SQL Injection?",
    "explanation": "The attacker inserts malicious data (e.g., `' DROP TABLE`) into the database successfully (perhaps validly). Later, a *different* process reads that data and uses it in a dynamic SQL query, triggering the payload. Input validation is not enough; output usage must be safe."
  },
  {
    "id": 6179,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: TransactionScope",
    "content": "Does EF Core support `TransactionScope` for distributed transactions?",
    "explanation": "Yes. It automatically enlists. However, if you connect to multiple databases, it escalates to MSDTC (Distributed Transaction Coordinator), which is slow and often unsupported in Cloud/Linux environments."
  },
  {
    "id": 6180,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Sort Warning",
    "content": "How does a missing `ORDER BY` in a subquery affect the result?",
    "explanation": "SQL sets are unordered. Unless there is a top-level `ORDER BY`, the database is free to return rows in *any* order (often index order or allocation order). Never rely on 'natural' order."
  },
  {
    "id": 6181,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Columnstore: Segment Elimination",
    "content": "How does Columnstore Segment Elimination speed up queries?",
    "explanation": "Columnstore tracks the Min/Max value for each segment (1M rows). If you query `WHERE Year = 2020`, the engine skips all segments where the Max Year < 2020. Similar to partition elimination but automatic."
  },
  {
    "id": 6182,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Query Store: Regression",
    "content": "How does Query Store help after a SQL Server upgrade?",
    "explanation": "Upgrades often change the Cardinality Estimator (CE). This can break plans. Query Store allows you to compare performance Before/After upgrade and force the 'Old' plan on the 'New' server compatibility level."
  },
  {
    "id": 6183,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: ConventionHelpers",
    "content": "What is the risk of relying on default EF string mapping (`nvarchar(max)`)?",
    "explanation": "`nvarchar(max)` cannot be indexed efficiently (key limit 900/1700 bytes). It consumes more storage handling. Always configure `HasMaxLength` for string columns to enable proper indexing and storage sizing."
  },
  {
    "id": 6184,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Locking: Intent Lock",
    "content": "What is the purpose of an Intent Lock (IS/IX)?",
    "explanation": "It's a flag at the Table level saying \"I have locks down below on specific rows\". If another transaction wants to Lock the **Whole Table**, it checks the Intent Lock. If IX exists, it knows it can't lock the table, without scanning every row to check for locks."
  },
  {
    "id": 6185,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Window Functions vs Group By",
    "content": "Why use `COUNT(*) OVER()` instead of `GROUP BY`?",
    "explanation": "`OVER()` allows you to keep the individual rows while adding an aggregate column (e.g., \"Sales Amount\" next to \"Total Sales\"). `GROUP BY` collapses the rows, losing the detail data."
  },
  {
    "id": 6186,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "TempDB Configuration",
    "content": "Why should TempDB files be pre-sized and equal in size?",
    "explanation": "SQL Server uses a Round-Robin algorithm to allocate pages across files. If files are different sizes, one fills up first, breaking the round-robin efficiency and causing contention. Pre-sizing prevents auto-growth pauses."
  },
  {
    "id": 6187,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Distributed Cache: Serialization Cost",
    "content": "Why is caching large object graphs in Redis expensive for the App Server?",
    "explanation": "The bottleneck is often **Serialization/Deserialization** (JSON/Protobuf) CPU cost, not the network. Fetching a 1MB JSON blob requires parsing it into C# objects every time. In-Memory caching (L1) avoids this cost."
  },
  {
    "id": 6188,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Single vs Split Query default",
    "content": "Why did EF Core change the default from Split to Single in 3.0, and then offer options?",
    "explanation": "Single Query ensures consistency but risks Cartesian Explosion. Split Query avoids explosion but risks inconsistency. There is no perfect default. You must choose per query based on data shape."
  },
  {
    "id": 6189,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Locking: Sp_getapplock",
    "content": "When should you use `sp_getapplock`?",
    "explanation": "To implement a **Distributed Lock** using the SQL Server. Useful if you don't have Redis. You can lock a named resource string \"MyCriticalJob\" ensuring only one app instance runs it."
  },
  {
    "id": 6190,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Index: Included Columns update",
    "content": "Does updating an `INCLUDE` column cause index maintenance?",
    "explanation": "Yes. The Non-Clustered index contains a copy of that column. If the value changes, the index must be updated (delete old, insert new entry), increasing write overhead."
  },
  {
    "id": 6191,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Memory Grant: Gateway",
    "content": "What is the 'Resource Semaphore' wait type?",
    "explanation": "The query is waiting for Memory Grant execution memory. The server is out of query workspace memory. Queries are queued. Indicates severe memory pressure or bad plans requesting huge grants."
  },
  {
    "id": 6192,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Nullable Bool logic",
    "content": "How does `bool?` affect the SQL `WHERE` clause?",
    "explanation": "C# `b == false` implies `b` is not null. SQL `b = 0` excludes `NULL`. EF Core generates `(b = 0) OR (b IS NULL)` depending on setting. Be aware of 3-valued logic (True, False, Null)."
  },
  {
    "id": 6193,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "DBCC CHECKDB",
    "content": "Why must you run DBCC CHECKDB regularly?",
    "explanation": "To detect **Physical Corruption** (Bit rot, disk errors). If corruption occurs, backups might be corrupted too. Detect early to restore from a good backup."
  },
  {
    "id": 6194,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Heap vs Clustered Insert speed",
    "content": "Is inserting into a Heap faster than a Clustered Index?",
    "explanation": "Ideally yes (no sort order). But in practice, Heaps suffer from PFS contention (finding free pages) and Forwarding Pointers. A Clustered Index on `Identity` (Sequential) is usually optimal for insert throughput."
  },
  {
    "id": 6195,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Log Shipping Latency",
    "content": "What determines the data loss window in Log Shipping?",
    "explanation": "The frequency of the Transaction Log Backup job. If you backup every 15 mins, you risk 15 mins of data loss (RPO). Replication/Availability Groups offer lower RPO."
  },
  {
    "id": 6196,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Database Snapshots (Copy-on-Write)",
    "content": "How do Database Snapshots work without duplicating the whole DB?",
    "explanation": "It creates a sparse file. When a page in the main DB is modified, the *original* version is copied to the Snapshot file (Copy-on-Write). Reads from snapshot read the original page or the live DB page if unchanged."
  },
  {
    "id": 6197,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Merge Join requirements",
    "content": "What does a Merge Join require from its inputs?",
    "explanation": "Both inputs must be **Sorted** on the join key. If they are not indexed, the engine must add a Sort operator (expensive). If they are indexed, Merge Join is extremely fast."
  },
  {
    "id": 6198,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "EF Core: Query Tags",
    "content": "How do Query Tags help in Cloud monitoring?",
    "explanation": "Cloud insights (Azure SQL Insights) aggregate stats by Query Hash. Tags allow you to group queries logically (\"Report_DailySales\") rather than by hash, making performance tuning easier."
  },
  {
    "id": 6199,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Filegroups",
    "content": "Why split tables into different Filegroups?",
    "explanation": "To spread I/O across different physical disks. Also allows **Partial Backups** (backup only the Read-Write filegroup, skip the Read-Only Archive filegroup) to speed up maintenance."
  },
  {
    "id": 6200,
    "category": "Database Performance",
    "difficulty": "Principal",
    "title": "Foreign Key: Untrusted",
    "content": "What is a `WITH NOCHECK` Foreign Key and why is it bad for performance?",
    "explanation": "It means existing data was not validated. The Optimizer **cannot trust** the constraint for query simplifications (e.g., eliminating a join). It treats the constraint as non-existent for optimization purposes."
  },
  {
    "id": 12101,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Service Mesh: Traffic Splitting",
    "content": "How does a Service Mesh (like Istio) implement percentage-based traffic splitting for Canary releases without modifying the application code?",
    "explanation": "The Sidecar Proxy (Envoy) intercepts all outbound traffic. The Control Plane configures the proxy with a routing rule: \"Send 5% of requests for Service B to the v2 subset, and 95% to v1\". The application just calls `http://service-b`, unaware of the split."
  },
  {
    "id": 12102,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Saga: Choreography vs Orchestration Error Handling",
    "content": "Why is error handling generally harder in Choreography-based Sagas than Orchestration?",
    "explanation": "In **Choreography**, no single service knows the global state. If step 4 fails, the service must emit a `Failed` event, and *every previous participant* must subscribe to it to trigger rollback. In **Orchestration**, the central coordinator handles the failure and commands specific compensations, making the rollback logic centralized and explicit."
  },
  {
    "id": 12103,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Distributed Tracing: Baggage",
    "content": "What is the 'Baggage' concept in OpenTelemetry and how is it different from Span Tags?",
    "explanation": "**Span Tags** allow searching/filtering traces (e.g., `http.status=500`). **Baggage** carries data *inside* the context header across service boundaries (e.g., `TenantID=5`). Service A can add baggage, and Service D (3 hops away) can read it, even if intermediate Service B and C don't know about it."
  },
  {
    "id": 12104,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Blue/Green Database",
    "content": "In a Blue/Green deployment, how do you handle database schema changes that break the 'Blue' (Old) version?",
    "explanation": "You cannot make breaking changes. You must use the **Expand-and-Contract** pattern. 1. Add new column (nullable). 2. Deploy Green (writes to both). 3. Switch traffic. 4. Decommission Blue. 5. Contract (remove old column/code). Both versions must be compatible with the intermediate DB schema."
  },
  {
    "id": 12105,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Sidecar Configuration",
    "content": "How does the Sidecar pattern enable 'Hot Reloading' of configuration without restarting the main application container?",
    "explanation": "The Sidecar watches the configuration source (ConfigMap/Consul). When it changes, the Sidecar updates the shared file volume or calls a `/_reload` endpoint on the main app (localhost). The main app doesn't need to know *how* to fetch updates, only how to reload them."
  },
  {
    "id": 12106,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: SPIFFE/SPIRE",
    "content": "What problem does SPIFFE solve in microservice security?",
    "explanation": "**Service Identity**. It assigns a unique, verifiable identity (SVID) to every workload based on *what* it is (image hash, k8s service account), not *where* it is (IP address). This enables mTLS between services in dynamic environments where IPs change constantly."
  },
  {
    "id": 12107,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Anti-Corruption Layer (ACL) Implementation",
    "content": "Where physically should an Anti-Corruption Layer live?",
    "explanation": "It can be a **Service Wrapper** (a class inside your domain that adapts the external model) OR a standalone **Microservice** (Facade) if the transformation is complex or resource-heavy. The goal is to ensure the core domain never references the external system's types directly."
  },
  {
    "id": 12108,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Scaling: Database Sharding Key",
    "content": "Why is choosing a low-cardinality Sharding Key (e.g., 'State/Province') a bad idea?",
    "explanation": "It creates **Unbalanced Shards** (Data Skew). 'California' might have 50 million users, while 'Wyoming' has 500k. The 'California' shard becomes a hotspot that cannot be split further. High-cardinality keys (UserID, OrderID) ensure even distribution."
  },
  {
    "id": 12109,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Testing: Consumer-Driven Contracts",
    "content": "In Pact testing, who writes the contract: the Consumer or the Provider?",
    "explanation": "The **Consumer**. They define \"I expect `GET /user` to return `{ 'name': string }`\". The Provider (API) runs this contract as a unit test. This prevents the Provider from deploying changes (e.g., renaming `name` to `fullName`) that would break specific consumers."
  },
  {
    "id": 12110,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Retry Budget",
    "content": "What is a 'Retry Budget' and why is it preferred over infinite retries?",
    "explanation": "A **Retry Budget** limits the *percentage* of requests that can be retried (e.g., \"Max 10% of total traffic\"). If the failure rate exceeds this, retries are disabled. This prevents **Retry Storms** (amplification attacks) from taking down a struggling service."
  },
  {
    "id": 12111,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Micro Frontends: Composition",
    "content": "What is 'Build-time' vs 'Run-time' composition in Micro Frontends?",
    "explanation": "**Build-time**: Components are published as npm packages and compiled into a single bundle. Tight coupling, ensuring consistency. **Run-time**: The host app loads bundles (JS) dynamically from URLs at runtime. Decoupled deployment, allowing teams to release independently."
  },
  {
    "id": 12112,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Event Sourcing: Schema Evolution",
    "content": "How do you handle changing the schema of an Event (e.g., renaming a field) in Event Sourcing?",
    "explanation": "Events are immutable. You cannot change the store. **Upcasting**: Create a transformer (Upcaster) that reads the old V1 event and converts it to V2 object in memory during the replay. The application code only ever deals with the V2 structure."
  },
  {
    "id": 12113,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Gateway: Token Translation",
    "content": "Why might an API Gateway convert an Opaque Token to a JWT before forwarding to microservices?",
    "explanation": "This is the **Phantom Token** pattern. The public client holds an opaque reference token (safe, revocable). The Gateway exchanges it for a stateless JWT containing claims (User ID, Roles) to pass to internal services, offloading the lookup/validation work from the microservices."
  },
  {
    "id": 12114,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Domain Service vs Application Service",
    "content": "If `TransferMoney` involves `Account` and `ExchangeRate`, where does the logic belong?",
    "explanation": "**Domain Service**. It contains business logic that spans multiple entities (`Account`) but doesn't belong to any single one. **Application Service** orchestrates the transaction: Load Accounts, Call Domain Service, Save, Email User. It should not contain the business rules of the transfer."
  },
  {
    "id": 12115,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Observability: Golden Signals",
    "content": "Why is 'Saturation' a critical Golden Signal that Latency/Errors might miss?",
    "explanation": "**Saturation** measures how 'full' the system is (Queue depth, Thread pool usage, CPU). A system might have low latency and zero errors but be at 99% saturation. One small spike will cause catastrophic failure. Saturation warns of *imminent* breaking points."
  },
  {
    "id": 12116,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Distributed Systems: Leader Election",
    "content": "Why is 'Fencing' required after a new Leader is elected?",
    "explanation": "The old leader might be in a 'Zombie' state (GC pause, network partition) and think it is still leader. If it tries to write, it could corrupt data. **Fencing** ensures the storage layer rejects writes from the old leader (e.g., by checking a monotonically increasing Epoch/Term number)."
  },
  {
    "id": 12117,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Decompose by Strangler Fig",
    "content": "When applying the Strangler Fig pattern, why is it risky to migrate the Database *before* the Code?",
    "explanation": "Moving the data first requires the Monolith to connect to a new (external) DB, often creating distributed monolith performance issues (joins across network). **Strategy:** Migrate Code first (Service calls Monolith DB), then extract Data ownership later when the service is stable."
  },
  {
    "id": 12118,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Data Consistency: Read-Your-Writes",
    "content": "How do you implement 'Read-Your-Writes' consistency in an eventually consistent system?",
    "explanation": "After a user writes, record the timestamp (or Vector Clock) in the session. For subsequent reads, route the user to the Primary replica (or check if the Replica is caught up to that timestamp) for a short duration. Ensures the user sees their own updates immediately."
  },
  {
    "id": 12119,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Message Queue: Dead Letter Queue (DLQ) Handling",
    "content": "What is the operational process for handling messages in a DLQ?",
    "explanation": "It's not enough to just store them. You need **Tooling** to: 1. View the payload/error. 2. Fix the bug in the consumer or the data. 3. **Replay** (Redrive) the message back to the main queue. Without a Replay capability, a DLQ is just a graveyard."
  },
  {
    "id": 12120,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Log Structured Merge (LSM) vs B-Tree",
    "content": "Why are databases using LSM Trees (Cassandra/RocksDB) preferred for high-ingestion logging services?",
    "explanation": "LSM Trees optimize for **Write Throughput** by appending data sequentially to disk (Log). B-Trees require random I/O to update indexes in place, which is slower for massive write loads. Logging services are typically write-heavy and read-rarely."
  },
  {
    "id": 12121,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Testing: Chaos Monkey",
    "content": "Why should Chaos Engineering be run in Production and not just Staging?",
    "explanation": "Staging never perfectly mimics Production traffic patterns, data volume, or network latency. Chaos in Prod (controlled) verifies the *actual* system resilience. Start with small blast radius (1% of non-critical services) during business hours."
  },
  {
    "id": 12122,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Architecture: Hexagonal Architecture",
    "content": "What is the primary benefit of Hexagonal Architecture (Ports and Adapters) for testing?",
    "explanation": "It isolates the **Domain Logic** from Infrastructure. You can test the core business rules without spinning up a Web Server, Database, or Message Bus. You just plug in 'Mock Adapters' (In-Memory DB, Test Publisher) into the Ports."
  },
  {
    "id": 12123,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Service Discovery: Client-Side vs Server-Side",
    "content": "What is the trade-off between Client-Side Discovery (Eureka) and Server-Side Discovery (AWS ELB/K8s Service)?",
    "explanation": "**Client-Side**: The client knows all available instances and load balances intelligently (e.g., using round-robin). Fast, no extra hop. Coupling to registry. **Server-Side**: Client calls a VIP (Load Balancer). Simple client. Extra network hop. The LB is a potential bottleneck/SPOF."
  },
  {
    "id": 12124,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: OAuth2 Scope Granularity",
    "content": "Why is 'Coarse-Grained' scope (e.g., `read`, `write`) often insufficient for microservices?",
    "explanation": "It doesn't define *resource* ownership. A token with `read` scope allows reading *any* user's data. You often need **Fine-Grained Authorization** (Policy-based) inside the service or a token with resource-specific claims (e.g., `read:user:123`) which can cause token bloat."
  },
  {
    "id": 12125,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Bulkhead Isolation",
    "content": "How does the Bulkhead pattern apply to Database Connection Pools?",
    "explanation": "If Service A and Service B share a single DB Connection Pool, and Service A's queries slow down, it can exhaust the pool, blocking Service B. **Bulkhead**: Create two distinct Connection Pools. Service A's exhaustion will not affect Service B's connectivity."
  },
  {
    "id": 12126,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Rolling Update vs Recreate",
    "content": "When would you choose 'Recreate' strategy (Downtime) over 'Rolling Update' in Kubernetes?",
    "explanation": "When the application version transition involves a **Breaking Database Schema Change** or cannot handle running two versions simultaneously (e.g., processing the same queue). Recreate kills v1 fully before starting v2, ensuring only one version is active."
  },
  {
    "id": 12127,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Bounded Context Integration",
    "content": "In DDD, what is a 'Conformist' relationship between two contexts?",
    "explanation": "When the Downstream team has no influence over the Upstream team. The Upstream provides no backward compatibility or tailored API. The Downstream team decides to strictly adhere to the Upstream's model to simplify integration, accepting the coupling risk."
  },
  {
    "id": 12128,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Distributed Transaction Rollback",
    "content": "Why is 'Rollback' a misnomer in Sagas?",
    "explanation": "You cannot 'roll back' time. You are applying **Compensating Transactions** (new transactions that reverse the effect). This means the system passes through an inconsistent state visible to users (e.g., Money deducted then refunded). It is not atomic isolation."
  },
  {
    "id": 12129,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Gateway: Rate Limiting Algorithms",
    "content": "Why is 'Distributed Rate Limiting' using Redis harder than local rate limiting?",
    "explanation": "Race conditions. 'Read-Then-Write' logic (`GET count` -> `SET count+1`) fails under concurrency. You must use **Atomic Operations** (Redis `INCR`) or **Lua Scripts**. Also, network latency to Redis adds overhead to every API request."
  },
  {
    "id": 12130,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "System Design: Idempotency Key Storage",
    "content": "How long should you store Idempotency Keys?",
    "explanation": "At least as long as the maximum possible retry window (e.g., 24-48 hours). If a key is evicted and the client retries, the server processes it as a new request (Duplicate). Use a TTL (Time To Live) on the Redis keys."
  },
  {
    "id": 12131,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Architecture: CQRS Projection Lag",
    "content": "How do you monitor 'Projection Lag' in a CQRS system?",
    "explanation": "Compare the 'Position' (Sequence Number/Timestamp) of the Event Store vs the Read Model. The difference is the Lag. Alert if Lag > Threshold (e.g., 5 seconds), as it degrades User Experience (stale data)."
  },
  {
    "id": 12132,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "gRPC: Stream Processing",
    "content": "What is the benefit of Bidirectional Streaming in gRPC for a chat application?",
    "explanation": "It allows persistent, two-way communication over a single HTTP/2 connection. The client can send messages and the server can push updates instantly without polling or opening new connections. Lower latency and overhead than REST polling."
  },
  {
    "id": 12133,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Database: Polyglot Persistence overhead",
    "content": "What is the 'Operational Overhead' of Polyglot Persistence?",
    "explanation": "Each DB technology (SQL, Mongo, Neo4j) requires distinct knowledge for: Backup strategies, HA/Failover configuration, Monitoring metrics, and Security patching. Adding a new DB type significantly increases the burden on the DevOps/DBA team."
  },
  {
    "id": 12134,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Event Driven: Event Schema Evolution",
    "content": "How do you handle 'Forward Compatibility' in Event Schemas?",
    "explanation": "Old consumers must be able to read New events. **Rule:** Never rename or remove existing fields. Only add new optional fields. The Consumer's serializer must be configured to ignore unknown properties (tolerant reader pattern)."
  },
  {
    "id": 12135,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Cloud Native: 12-Factor App",
    "content": "What is the 'Backing Services' factor in 12-Factor App methodology?",
    "explanation": "Treat backing services (DB, Queue, Cache) as **Attached Resources**. The app should connect via URL/Credentials provided in config. You should be able to swap a local MySQL for an AWS RDS instance without changing code."
  },
  {
    "id": 12136,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Load Balancing: Layer 7 Routing",
    "content": "How does Layer 7 Load Balancing enable 'Tenant Sharding'?",
    "explanation": "The LB inspects the HTTP Header (`X-Tenant-ID`) or Path. It routes `TenantA` requests to `Cluster A` and `TenantB` to `Cluster B`. This allows isolating high-value tenants onto dedicated hardware at the routing layer."
  },
  {
    "id": 12137,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Timeouts",
    "content": "Why is 'No Timeout' (Infinite) the worst default for an HttpClient?",
    "explanation": "If the server hangs (black hole), the client thread waits forever. This consumes resources (Threads/sockets). Eventually, the client runs out of threads and crashes. Always set an aggressive Timeout to fail fast and recover."
  },
  {
    "id": 12138,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Shared Database View",
    "content": "Is it acceptable to share a Database VIEW between microservices?",
    "explanation": "It is a **Coupling Anti-Pattern**. The View schema becomes a shared contract. If the owning service changes the table structure, the View breaks, and the dependent service crashes. Prefer API aggregation or Data Replication (ETL) to a data warehouse."
  },
  {
    "id": 12139,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: mTLS Performance",
    "content": "Does mTLS introduce significant latency?",
    "explanation": "Only during the **Handshake** (CPU intensive). Once the connection is established, symmetric encryption (AES) is hardware-accelerated and very fast. Using **Keep-Alive** connections minimizes the handshake overhead."
  },
  {
    "id": 12140,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Backend for Frontend (BFF)",
    "content": "How does BFF improve security for SPA (Single Page Apps)?",
    "explanation": "The BFF (server-side) handles the OAuth tokens. It issues a **Secure HttpOnly Cookie** to the SPA. The SPA never sees the Access/Refresh tokens, making it immune to XSS token theft. The BFF acts as a Token Handler Proxy."
  },
  {
    "id": 12141,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Data Consistency: Conflict Resolution",
    "content": "In a Leaderless Replication system (Dynamo), what is 'Last Writer Wins' (LWW) and its risk?",
    "explanation": "LWW resolves conflicts by using the system timestamp. The write with the highest timestamp overwrites others. **Risk:** Clock Skew. If a server's clock is behind, its 'new' write might be discarded as 'old', causing silent data loss."
  },
  {
    "id": 12142,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Observability: Log Poisoning",
    "content": "What is 'Log Injection' (Poisoning) and how do you prevent it?",
    "explanation": "Attackers injecting newline characters (`\n`) into user input. If logged raw, it creates fake log entries (e.g., faking a 'Login Success' event). **Prevention:** Sanitize inputs (remove newlines) or use **Structured Logging** (JSON) which treats values as data, not text."
  },
  {
    "id": 12143,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Traffic Shadowing",
    "content": "When using Traffic Shadowing (Mirroring), what must you be careful of regarding side effects?",
    "explanation": "The Shadow version receives real traffic. If it executes non-idempotent side effects (e.g., 'Charge Credit Card' or 'Send Email'), users will be charged/emailed twice. You must **Mock** or **Disable** external side effects in the Shadow environment."
  },
  {
    "id": 12144,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Domain Events vs Change Data Capture (CDC)",
    "content": "Why use Domain Events if you have CDC?",
    "explanation": "CDC captures 'Data Changes' (Table rows). Domain Events capture 'Business Intent' (`OrderPlaced` vs `OrderAddressCorrected`). Domain Events carry context that raw data diffs often miss. CDC is better for replication; Domain Events for business logic integration."
  },
  {
    "id": 12145,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Local Development",
    "content": "Why is 'running everything local' non-scalable for microservices dev?",
    "explanation": "As services grow (20+), running them all on a laptop eats RAM/CPU. **Solution:** Run only the service you are editing locally. Connect it to a remote Dev Cluster (Telepresence / Bridge to Kubernetes) for dependencies. Hybrid local/remote development."
  },
  {
    "id": 12146,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Availability: Queue Buffering",
    "content": "How does a Queue improve availability during a Database outage?",
    "explanation": "The Web Server accepts the request and writes to the Queue (Async). Even if the Worker/Database is down, the Web Server returns 'Accepted'. The messages buffer in the queue. When the DB recovers, the Worker processes the backlog. Zero downtime for the user."
  },
  {
    "id": 12147,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API: GraphQL Schema Stitching",
    "content": "What is the main maintenance challenge of Schema Stitching?",
    "explanation": "It requires manual conflict resolution in the Gateway. If two subgraphs define the same type `User`, the stitching logic needs custom code to merge them. **Federation** solves this by defining standard directives (`@key`, `@extends`) to handle composition automatically."
  },
  {
    "id": 12148,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Token Binding",
    "content": "What is Token Binding (DPoP)?",
    "explanation": "Binding an Access Token to the underlying TLS connection or Client Certificate. Even if the token is stolen (XSS/MITM), it cannot be used on a different connection or by a different client. It prevents **Token Replay** attacks."
  },
  {
    "id": 12149,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Static Stability",
    "content": "How does 'caching config on startup' improve Static Stability?",
    "explanation": "If the Config Server is down when the App restarts, the App might crash. **Static Stability**: The app should cache the last known good config on disk. On restart, if Config Server is unreachable, load from disk. The system degrades (no new config) but stays available."
  },
  {
    "id": 12150,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "System Design: Webhook Retries",
    "content": "How should a Webhook Provider handle a failing Consumer (404/500)?",
    "explanation": "Implement **Exponential Backoff** retries. If it fails for 24 hours, disable the webhook and notify the user. Do not retry infinitely (waste of resources). Provide a UI for the user to 'Replay' failed webhooks manually."
  },
  {
    "id": 12151,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Service Mesh: Certificate Rotation",
    "content": "How does a Service Mesh improve security regarding Certificate Rotation compared to manual mTLS?",
    "explanation": "Manual mTLS requires managing cert expiry and reloading processes. A **Service Mesh** (like Istio/Linkerd) handles certificate minting and rotation automatically (often hourly). The sidecar proxy reloads the new cert without restarting the application, reducing the window of opportunity for compromised keys."
  },
  {
    "id": 12152,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Scatter-Gather",
    "content": "What is the 'Scatter-Gather' pattern and what is its primary latency risk?",
    "explanation": "A pattern where a request is broadcast to multiple services (Scatter), and the responses are aggregated (Gather). **Risk**: The response time is determined by the *slowest* service (P99 latency). If one service hangs, the entire request hangs. **Fix**: Implement aggressive timeouts and 'Partial Response' handling."
  },
  {
    "id": 12153,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: OAuth 2.0 Token Binding",
    "content": "What attack does Token Binding (or DPoP) prevent?",
    "explanation": "**Token Theft / Replay**. Standard Bearer tokens can be used by anyone who steals them. Token Binding cryptographically binds the token to the client's TLS connection or private key. If an attacker steals the token but doesn't have the client's private key/channel, the token is useless."
  },
  {
    "id": 12154,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Traffic Shadowing (Mirroring)",
    "content": "Why is Traffic Shadowing safer than Canary deployment for testing major refactors?",
    "explanation": "Canary affects real users (even if only 1%). Shadowing sends a copy of live traffic to the new version *asynchronously* and discards the response. It tests the new version under full production load with **Zero Risk** to users. If the shadow crashes, no user notices."
  },
  {
    "id": 12155,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Database: Shared Database Anti-Pattern",
    "content": "If two microservices must access the same data, why is a Shared Database considered an anti-pattern?",
    "explanation": "It creates **Coupling**. If Service A changes the schema, Service B breaks. It prevents independent deployment and scaling. It locks you into a single technology. **Solution**: Service B should ask Service A for data via API, or Service A should publish 'DataChanged' events that Service B consumes to build its own read model."
  },
  {
    "id": 12156,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Static Stability",
    "content": "What does 'Static Stability' mean in the context of Availability Zones?",
    "explanation": "The system keeps working even if the control plane or a Zone fails, without needing manual intervention or complex reconfiguration. Example: Pre-provisioning extra capacity in Zone B so that if Zone A fails, Zone B handles the load instantly without waiting for Auto-Scaling to spin up new VMs."
  },
  {
    "id": 12157,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Observability: High Cardinality Tracing",
    "content": "Why is 100% Trace Sampling often impossible in high-throughput systems?",
    "explanation": "Cost and Storage. Storing billions of traces requires massive disk space and network bandwidth. **Solution**: Use **Tail-Based Sampling** to keep only 'interesting' traces (Errors + High Latency) and discard the 99% of successful/fast traces."
  },
  {
    "id": 12158,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Bounded Context vs Microservice",
    "content": "Is a Bounded Context always one Microservice?",
    "explanation": "No. A Bounded Context is a *Logical* boundary (Language/Model). A Microservice is a *Physical* boundary (Deployment). One Bounded Context can be split into multiple Microservices (e.g., 'Shipping' context split into 'LabelGen Service' and 'Tracking Service') for scaling reasons, but they share the same Ubiquitous Language."
  },
  {
    "id": 12159,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Scaling: Pod Disruption Budget (PDB)",
    "content": "How does a Pod Disruption Budget protect availability during cluster upgrades?",
    "explanation": "It limits the number of pods that can be down simultaneously. `minAvailable: 2` ensures that even during a Node Drain (upgrade), Kubernetes will evict pods one by one, waiting for replacements to be Ready, guaranteeing service availability."
  },
  {
    "id": 12160,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Gateway: Request Aggregation Limits",
    "content": "What is the danger of excessive Request Aggregation in the API Gateway?",
    "explanation": "**Head-of-Line Blocking**. If the Gateway waits for 5 services, the response is as slow as the slowest service. It also increases memory usage on the Gateway (buffering responses). If one downstream service times out frequently, it can clog the Gateway's thread pool."
  },
  {
    "id": 12161,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Distributed Systems: Clock Skew",
    "content": "Why can't you use timestamps to order events across microservices?",
    "explanation": "Physical clocks drift (NTP isn't perfect). Service A might think it's 12:00:01 while Service B thinks it's 12:00:00. Event A (happened first) might appear to happen *after* Event B. Use **Logical Clocks** (Lamport/Vector) or a causal ID for ordering."
  },
  {
    "id": 12162,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Testing: Component Testing",
    "content": "What is Component Testing in Microservices?",
    "explanation": "Testing a single microservice in isolation with its dependencies (DB, Queue) mocked or running in containers. It verifies the service's internal logic and API contract without spinning up the entire distributed system (E2E)."
  },
  {
    "id": 12163,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Adaptive Load Shedding",
    "content": "How does Adaptive Load Shedding differ from Rate Limiting?",
    "explanation": "Rate Limiting is static (configured limit). **Adaptive Load Shedding** monitors the service's actual health (CPU, Latency). If the service starts struggling, it aggressively rejects low-priority traffic (e.g., background jobs) to preserve capacity for high-priority user requests."
  },
  {
    "id": 12164,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: JWT vs Opaque Token for External APIs",
    "content": "Why return Opaque Tokens to external public clients instead of JWTs?",
    "explanation": "**Information Hiding**. JWTs are decodable; they leak internal IDs, roles, and structure. Opaque Tokens reveal nothing. Also, Opaque Tokens allow **Revocation** (server-side check), whereas JWTs are valid until expiry."
  },
  {
    "id": 12165,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Sidecar Offloading",
    "content": "What is the benefit of offloading Authentication to a Sidecar?",
    "explanation": "Standardization. Every service gets Auth 'for free'. Developers don't implement JWT validation logic in every language/service. The Sidecar rejects invalid requests before they even reach the application container."
  },
  {
    "id": 12166,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Database: Schema Backward Compatibility",
    "content": "Why must database schema changes be backward compatible in microservices?",
    "explanation": "To allow **Zero-Downtime Deployment**. The Old Code and New Code will run simultaneously during the rolling update. The database schema must support *both* versions active at the same time (e.g., do not rename a column; add a new one and copy data)."
  },
  {
    "id": 12167,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Messaging: Idempotent Consumer Implementation",
    "content": "What is the most robust way to implement an Idempotent Consumer?",
    "explanation": "**Atomic De-duplication**. Store the Message ID in the *same transaction* as the business data change. `INSERT INTO Orders ...; INSERT INTO ProcessedMessages ...; COMMIT`. If the transaction fails, both rollback. If it succeeds, the ID is stored."
  },
  {
    "id": 12168,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Strangler Fig Routing",
    "content": "In Strangler Fig, how do you route traffic between Monolith and Microservice?",
    "explanation": "Use an **L7 Proxy / API Gateway**. Configure routing rules: \"Routes `/api/cart` go to new Microservice; everything else goes to Monolith\". As you extract features, you simply update the routing rules."
  },
  {
    "id": 12169,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Distributed Locking: Redlock Algorithm",
    "content": "How does Redlock achieve consensus for distributed locks?",
    "explanation": "It acquires locks on **multiple independent** Redis instances (e.g., 5). It succeeds only if it acquires the lock on the majority (3/5) within a validity time. This tolerates the failure of individual Redis nodes without a single point of failure."
  },
  {
    "id": 12170,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Design: Async Request-Reply",
    "content": "How do you implement Request-Reply over a Message Queue?",
    "explanation": "The Client sends a message with a `ReplyTo` queue name and a `CorrelationId`. The Server processes it and sends the response to the `ReplyTo` queue with the matching `CorrelationId`. The Client listens on that queue to match the response."
  },
  {
    "id": 12171,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Observability: Metrics Aggregation",
    "content": "Why does high label cardinality break metrics aggregation?",
    "explanation": "If you have 1000 pods and group by `PodIP`, you get 1000 time series. If you group by `UserID` (1M users), you get 1 million time series per metric. The TSDB cannot index/query this volume efficiently. Use consistent, low-cardinality labels (Region, Service, Status)."
  },
  {
    "id": 12172,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Shared Libraries",
    "content": "When is using a Shared Library acceptable in microservices?",
    "explanation": "For **Cross-Cutting Concerns** that rarely change (Logging standards, Auth middleware, Monitoring wrappers). **NOT** for Domain Logic. Sharing domain logic couples services; if the logic changes, all services must upgrade the library lock-step."
  },
  {
    "id": 12173,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Circuit Breaker Fallback",
    "content": "What is a 'Stubbed Fallback' in a Circuit Breaker?",
    "explanation": "When the circuit opens, instead of throwing an error, return a default/empty value or a cached stale value. Example: If the 'Inventory Service' fails, the Product Page might show \"In Stock\" (optimistic) or hide the stock count, allowing the user to proceed."
  },
  {
    "id": 12174,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Scaling: Stateless vs Stateful",
    "content": "Why is scaling stateless services easier than stateful ones?",
    "explanation": "Stateless services treat every request independently. You can add/remove instances instantly. Stateful services (Databases, WebSocket servers) hold context (memory/disk). Scaling down requires draining connections or re-sharding data."
  },
  {
    "id": 12175,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Secret Rotation",
    "content": "How do you handle zero-downtime database credential rotation?",
    "explanation": "1. Create new Credential B (Valid). 2. Update Application config to use B (Restart/Reload). 3. Wait for all apps to stop using Credential A. 4. Revoke Credential A. Requires the application to support dynamic config reloading."
  },
  {
    "id": 12176,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Gateway: Backend for Frontend (BFF)",
    "content": "Why does a BFF pattern reduce 'Overfetching' for mobile clients?",
    "explanation": "The Mobile BFF calls internal microservices and filters the data to return *only* the fields the mobile screen needs. This reduces the payload size over the slow cellular network compared to a generic public API."
  },
  {
    "id": 12177,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Aggregate Boundaries",
    "content": "Why should transactions never span multiple Aggregates?",
    "explanation": "Aggregates are the unit of consistency. Spanning transactions couples aggregates and creates performance bottlenecks (locking). If you need to update two aggregates, use **Eventual Consistency** (Domain Events) to update the second one asynchronously."
  },
  {
    "id": 12178,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Testing: Service Virtualization",
    "content": "What is Service Virtualization (Mountebank/WireMock)?",
    "explanation": "Simulating the behavior of dependencies (external APIs, Mainframes) that are unavailable or expensive to access in dev/test environments. It records and replays responses, allowing deterministic testing of edge cases (timeouts, errors)."
  },
  {
    "id": 12179,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Canary Release",
    "content": "What is the prerequisite for an effective Canary Release?",
    "explanation": "**High-Fidelity Monitoring**. You need automated metrics (Error Rate, Latency) to determine if the Canary is 'Healthy'. Without observability, you cannot know if the new version is safe to promote."
  },
  {
    "id": 12180,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Bulkhead Thread Pools",
    "content": "How do isolated Thread Pools (Bulkheads) prevent cascading failures?",
    "explanation": "If one feature (Image Upload) hangs, it consumes all threads in its dedicated pool. Other features (Login) running on a separate pool continue to function. Without isolation, the hung feature would consume *all* app threads, killing the whole service."
  },
  {
    "id": 12181,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Event Driven: Event Choreography",
    "content": "What is the visual complexity risk of Event Choreography?",
    "explanation": "**The Spaghetti Flow**. Since no central coordinator exists, it is hard to visualize the full business process just by looking at code. You must trace events across multiple services to understand the workflow. Debugging requires distributed tracing."
  },
  {
    "id": 12182,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: mTLS Key Management",
    "content": "How does a Service Mesh handle mTLS key distribution?",
    "explanation": "The Control Plane acts as a Certificate Authority (CA). It pushes short-lived certificates to the Sidecars. The Sidecars rotate these certs frequently (e.g., every hour). This automates the complex PKI management."
  },
  {
    "id": 12183,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Reporting",
    "content": "How do you perform reporting across distributed databases?",
    "explanation": "Do not query microservices directly (performance impact). ETL (Extract, Transform, Load) data from all services into a centralized **Data Warehouse** or **Data Lake**. Run complex analytics queries there."
  },
  {
    "id": 12184,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "API Design: Versioning",
    "content": "Why is 'Evolutionary Design' (GraphQL style) often preferred over explicit versioning?",
    "explanation": "Explicit versions (v1, v2) split the codebase and are hard to kill. Evolutionary design adds new fields and deprecates old ones *in place*. Clients upgrade incrementally. Requires strict backward compatibility discipline."
  },
  {
    "id": 12185,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Distributed Cache: Serialization",
    "content": "Why is choosing a serialization format (Protobuf vs JSON) important for distributed caching?",
    "explanation": "**Performance and Size**. JSON is CPU-intensive to parse and bloated. Protobuf/MessagePack is compact and fast. In high-throughput systems, the CPU time spent serializing cache objects can become the bottleneck."
  },
  {
    "id": 12186,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Transactional Outbox",
    "content": "What problem does the Transactional Outbox pattern solve?",
    "explanation": "**Dual Write**. Ensuring the Database update and the Message publish happen atomically. By writing the message to a DB table *in the same transaction*, you guarantee that if the DB write succeeds, the message exists and will eventually be published."
  },
  {
    "id": 12187,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Latency",
    "content": "How does breaking a monolith into microservices affect latency?",
    "explanation": "It **Increases** latency. In-process function calls (nanoseconds) are replaced by network calls (milliseconds). You must design for coarser-grained APIs and parallelism to mitigate this."
  },
  {
    "id": 12188,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Infrastructure: Service Discovery",
    "content": "How does Kubernetes DNS serve as Service Discovery?",
    "explanation": "K8s creates a DNS record for every Service (`my-svc.namespace.svc.cluster.local`). This DNS record resolves to the ClusterIP (VIP). The Kube-Proxy loads balance traffic from that VIP to the actual Pod IPs."
  },
  {
    "id": 12189,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Dependency Scanning",
    "content": "Why is SCA (Software Composition Analysis) critical in CI/CD?",
    "explanation": "To detect **Supply Chain Attacks** and known vulnerabilities in 3rd party libraries (e.g., Log4j). You scan dependencies *before* deployment to block insecure code from reaching production."
  },
  {
    "id": 12190,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Architecture: Serverless vs Containers",
    "content": "When to choose Containers (K8s) over Serverless (Functions)?",
    "explanation": "Choose **Containers** for long-running processes, predictable loads, legacy apps, or when you need total control over the environment. Choose **Serverless** for event-driven, bursty workloads where you want to pay only for execution time."
  },
  {
    "id": 12191,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Resilience: Timeout propagation",
    "content": "Why should you pass the 'Remaining Timeout' to downstream services?",
    "explanation": "If Service A has a 5s timeout and takes 4s to process, it should call Service B with a 1s timeout. Calling with a fresh 5s timeout is wasteful; Service A will give up before Service B finishes, wasting B's resources."
  },
  {
    "id": 12192,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "DDD: Context Mapping - Upstream/Downstream",
    "content": "What does 'Downstream' mean in Context Mapping?",
    "explanation": "The Downstream context consumes data/services from the Upstream. The Downstream team is dependent. Changes in Upstream can break Downstream. The mapping type (Conformist, ACL) defines how Downstream protects itself."
  },
  {
    "id": 12193,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Pattern: Competing Consumers",
    "content": "How does Competing Consumers enable scaling?",
    "explanation": "Multiple worker instances subscribe to the *same* queue. The message broker distributes messages among them. To scale processing power, you simply add more worker instances. The queue acts as a load balancer."
  },
  {
    "id": 12194,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Deployment: Immutable Infrastructure",
    "content": "Why is SSH access to production servers discouraged in Immutable Infrastructure?",
    "explanation": "Manual changes create **Configuration Drift** (Snowflake servers). If you fix a bug via SSH, that fix is lost when the server is replaced. Fixes should be committed to code, built into a new image, and deployed via pipeline."
  },
  {
    "id": 12195,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Distributed Caching",
    "content": "What is the 'Cache Stampede' risk in distributed caching?",
    "explanation": "When a hot cache key expires, thousands of concurrent requests miss the cache and hit the database simultaneously. **Fix:** Probabilistic early expiration (recompute before expiry) or Locking (one thread recomputes)."
  },
  {
    "id": 12196,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Observability: Log Retention",
    "content": "Why separate 'Hot' and 'Cold' log storage?",
    "explanation": "**Cost**. Storing logs in an indexed search engine (Elastic) is expensive. Keep 7 days 'Hot' for debugging. Move older logs to 'Cold' object storage (S3) for compliance/audit at a fraction of the cost."
  },
  {
    "id": 12197,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Security: Input Validation",
    "content": "Where should Input Validation happen: Gateway or Service?",
    "explanation": "**Both**. The Gateway performs structural validation (Schema, Auth headers) to reject bad traffic early (DDos protection). The Service performs business validation (Rules, Logic). Defense in Depth."
  },
  {
    "id": 12198,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "System Design: Asynchronous Request-Reply",
    "content": "How do you handle a long-running operation in a REST API?",
    "explanation": "Return `202 Accepted` immediately with a `Location` header pointing to a status endpoint (`/jobs/123`). The client polls the status endpoint. Alternatively, use Webhooks to notify the client upon completion."
  },
  {
    "id": 12199,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Event Sourcing: Command Sourcing",
    "content": "What is the difference between Event Sourcing and Command Sourcing?",
    "explanation": "**Event Sourcing** stores *Facts* (what happened: `OrderPlaced`). **Command Sourcing** stores *Intent* (what requested: `PlaceOrder`). Event Sourcing is preferred for state persistence because Commands can fail or be rejected."
  },
  {
    "id": 12200,
    "category": "Microservices",
    "difficulty": "Principal",
    "title": "Microservices: Complexity",
    "content": "What is the biggest disadvantage of Microservices?",
    "explanation": "**Operational Complexity**. You replace function calls with network calls. You need advanced DevOps, Observability, and fault tolerance mechanisms just to keep the system running. For small teams, a Monolith is often faster and safer."
  },
  {
    "id": 50051,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Factory Activation",
    "content": "Why would you implement `IMiddleware` instead of using the convention-based `InvokeAsync` method?",
    "explanation": "`IMiddleware` is **Factory Activated**. This means the middleware instance is created *per request* from the DI container (Scoped/Transient). Convention-based middleware is a **Singleton** (created once at startup). Use `IMiddleware` if you need to inject Scoped services (like DbContext) into the middleware's constructor safely."
  },
  {
    "id": 50052,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Scope Validation",
    "content": "What does the `ValidateScopes` option do in the Service Provider?",
    "explanation": "It checks if a **Scoped** service is being resolved from the **Root** (Singleton) provider. This is a common bug (Captive Dependency) that causes memory leaks and concurrency issues. It is enabled by default in Development but disabled in Release for performance."
  },
  {
    "id": 50053,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosting: IHost vs IWebHost",
    "content": "What is the difference between the Generic Host (`IHost`) and the Web Host (`IWebHost`)?",
    "explanation": "**Generic Host** (`IHost`) is the modern standard (since 3.0) for *all* .NET apps (Web, Worker, Console). It unifies DI, Logging, and Config. **Web Host** (`IWebHost`) is legacy (ASP.NET Core 2.x) and should no longer be used. Always use `Host.CreateDefaultBuilder()`."
  },
  {
    "id": 50054,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Transport Layer",
    "content": "How does Kestrel handle connections under the hood?",
    "explanation": "Kestrel uses `System.IO.Pipelines` and `SocketAsyncEventArgs` for high-performance, non-blocking I/O. It runs an event loop that accepts connections and dispatches requests to the ThreadPool. It avoids `SynchronizationContext` to maximize throughput on server cores."
  },
  {
    "id": 50055,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Filters: Result Filter vs Action Filter",
    "content": "When should you use a Result Filter instead of an Action Filter?",
    "explanation": "Action Filters run *around* the Action Method. Result Filters run *around* the Result Execution (e.g., View Rendering or JSON Formatting). Use **Result Filter** if you need to modify the HTTP response *after* the action has returned but *before* the body is written to the stream."
  },
  {
    "id": 50056,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: ReloadOnChange",
    "content": "How does `reloadOnChange: true` work in `appsettings.json`?",
    "explanation": "It uses a `FileSystemWatcher` to monitor the file. When the file changes, it triggers a token change. `IOptionsMonitor` subscribers receive the new values immediately without restarting the app. Note: This can cause race conditions if the file is read while being written."
  },
  {
    "id": 50057,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Endpoint Routing: Metadata",
    "content": "How can you access Endpoint Metadata (like `[Authorize]`) inside a Middleware?",
    "explanation": "Middleware placed *after* `UseRouting` but *before* `UseEndpoints` can call `context.GetEndpoint()`. This returns the selected endpoint object, allowing you to inspect its metadata (`endpoint.Metadata.GetMetadata<AuthorizeAttribute>()`) and make decisions before the controller runs."
  },
  {
    "id": 50058,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Response Caching: VaryByQueryKeys",
    "content": "Why must `VaryByQueryKeys` be set explicitly in Middleware rather than Attribute?",
    "explanation": "The `[ResponseCache]` attribute sets HTTP Headers. Headers cannot control server-side storage variance (query params). Middleware (or the new Output Caching in .NET 7) handles the server-side storage logic, so `VaryByQueryKeys` is a property of the server-side cache entry."
  },
  {
    "id": 50059,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Startup: ConfigureServices vs Configure",
    "content": "What is the strict responsibility difference between `ConfigureServices` and `Configure`?",
    "explanation": "**ConfigureServices**: Defines **Dependencies** (DI) and registers services. **Configure**: Defines the **Request Pipeline** (Middleware order). Services registered in the first step are available to be injected into the second step."
  },
  {
    "id": 50060,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Model Binding: FromServices",
    "content": "Why is `[FromServices]` generally discouraged in Controller Actions?",
    "explanation": "It hides dependencies. It effectively turns the Action method into a Service Locator pattern. It makes Unit Testing harder (you have to mock the container or parameter injection). Constructor Injection is preferred for transparency."
  },
  {
    "id": 50061,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Health Checks: Readiness vs Liveness",
    "content": "How do you configure separate Liveness and Readiness probes in .NET Core?",
    "explanation": "Use `MapHealthChecks`. Map `/health/live` with a predicate `check => check.Tags.Contains(\"live\")` (simple ping). Map `/health/ready` with `check.Tags.Contains(\"ready\")` (DB/Queue connectivity). K8s uses these to restart pods (Liveness) or route traffic (Readiness)."
  },
  {
    "id": 50062,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: Hub Lifetime",
    "content": "What is the lifetime of a SignalR Hub instance?",
    "explanation": "**Transient**. A new Hub instance is created for *every single invocation* (method call). Do not store state in the Hub class fields (like `List<User>`); it will be lost. Store state in a Singleton service, DB, or Redis."
  },
  {
    "id": 50063,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: Parameter Binding",
    "content": "How does Minimal API parameter binding differ from Controllers?",
    "explanation": "Minimal APIs use simpler, conventionally typed binding (no `[FromBody]` needed for complex types). They support `TryParse` and `BindAsync` static methods on custom types. They avoid the overhead of the MVC Filter pipeline, making binding significantly faster."
  },
  {
    "id": 50064,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosted Services: BackgroundService",
    "content": "What happens if `ExecuteAsync` in a `BackgroundService` throws an exception?",
    "explanation": "In .NET 6+, the default behavior is that the **Host Crashes** (stops the app). This is good (fail fast). In older versions, it might have silently stopped the service while the app kept running. You can configure `BackgroundServiceExceptionBehavior` to ignore/log instead."
  },
  {
    "id": 50065,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Data Protection: Key Ring",
    "content": "What happens if you deploy to a cluster without configuring Data Protection?",
    "explanation": "Each server generates its own Key Ring in RAM/Local Disk. Tokens/Cookies encrypted by Server A cannot be decrypted by Server B. Users get logged out randomly. **Fix:** Persist keys to a shared location (Redis/Blob) and protect them with a certificate/key."
  },
  {
    "id": 50066,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Logging: High Performance",
    "content": "Why use `LoggerMessage` delegates instead of `logger.LogInformation`?",
    "explanation": "`LoggerMessage` (and source-generated logging) pre-compiles the log message structure and avoids boxing value types or allocating arrays for `params`. It is significantly faster and allocates zero memory if the log level is disabled."
  },
  {
    "id": 50067,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Open Generics",
    "content": "How does the container resolve open generics like `IRepository<>`?",
    "explanation": "When you request `IRepository<User>`, the container looks for the registration of `typeof(IRepository<>)`. It then uses `MakeGenericType` to construct the concrete implementation `Repository<User>` dynamically. This allows one registration to serve all entities."
  },
  {
    "id": 50068,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: MaxConcurrentConnections",
    "content": "When should you limit `MaxConcurrentConnections` in Kestrel?",
    "explanation": "To prevent resource exhaustion (DoS) when not sitting behind a Reverse Proxy (which usually handles this). If Kestrel is edge-facing, limiting connections ensures the server remains responsive and doesn't run out of memory/handles."
  },
  {
    "id": 50069,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Request Body Rewind",
    "content": "Why can't you read `HttpContext.Request.Body` twice by default?",
    "explanation": "It is a forward-only `NetworkStream`. Once read, the bytes are gone. To read it multiple times (e.g., in Middleware logging + Controller), you must call `EnableBuffering()`. This buffers the stream to RAM or Disk (Threshold), allowing seek/rewind."
  },
  {
    "id": 50070,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Feature Management: Filter",
    "content": "What is a Feature Filter in `Microsoft.FeatureManagement`?",
    "explanation": "Logic that determines *if* a feature is enabled dynamically. Built-in filters include `PercentageFilter` (Rollout) and `TimeWindowFilter`. You can write custom filters (e.g., enable only for `InternalUsers`) to control feature release granularly."
  },
  {
    "id": 50071,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Problem Details: Customization",
    "content": "How do you customize the Problem Details response globally?",
    "explanation": "Use `ProblemDetailsFactory` or configure `ProblemDetailsOptions` (in .NET 7+). You can add custom extensions (like `traceId`) or change the default mapping of Exceptions to Status Codes centrally."
  },
  {
    "id": 50072,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Authentication: Schemes",
    "content": "Can you support both JWT and Cookies in the same API?",
    "explanation": "Yes. Register both schemes. Use `[Authorize(AuthenticationSchemes = \"Bearer,Cookies\")]` or set up a Policy Forwarder. The Forwarder checks the header; if `Authorization` exists, it selects JWT; otherwise, it selects Cookies."
  },
  {
    "id": 50073,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Rate Limiting: Partitioned",
    "content": "How does `PartitionedRateLimiter` work in .NET 7?",
    "explanation": "It creates a unique rate limit counter for each partition key (e.g., User ID, IP Address). This ensures one abusive user is throttled without affecting others. `GlobalRateLimiter` would throttle everyone together."
  },
  {
    "id": 50074,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Static Files: Caching",
    "content": "How do you cache-bust static files served by `UseStaticFiles`?",
    "explanation": "Use `asp-append-version=\"true\"` in Tag Helpers. This generates a URL with a query string hash `style.css?v=123`. The `StaticFileMiddleware` doesn't handle the hashing; the Razor View Engine generates the link."
  },
  {
    "id": 50075,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "TestHost: In-Memory",
    "content": "Does `TestServer` use a real network port?",
    "explanation": "No. It processes requests entirely in-memory using `HttpClient` directed at the internal pipeline. This makes Integration Tests extremely fast and reliable (no firewall/port conflict issues)."
  },
  {
    "id": 50076,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Service Descriptor",
    "content": "What is a `ServiceDescriptor`?",
    "explanation": "The raw definition of a service registration (`Type`, `Implementation`, `Lifetime`). `services.Add` creates these descriptors. The `IServiceProvider` is built from the collection of descriptors. You can inspect/remove descriptors before building to modify behavior."
  },
  {
    "id": 50077,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "HybridCache (.NET 9)",
    "content": "What problem does `HybridCache` solve that `IDistributedCache` does not?",
    "explanation": "**Stampede Protection**. `HybridCache` combines L1 (Memory) and L2 (Redis). It automatically handles the 'Stampede' (concurrent misses) by locking locally so only one request populates the cache, while others wait."
  },
  {
    "id": 50078,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Short-Circuiting",
    "content": "What does it mean to short-circuit the pipeline?",
    "explanation": "A middleware handles the request (writes response) and does **not** call `next()`. This stops the pipeline. Examples: Static Files (found file), Authentication (failed), Caching (hit)."
  },
  {
    "id": 50079,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "gRPC: Json Transcoding",
    "content": "What is gRPC JSON Transcoding?",
    "explanation": "It allows a gRPC service to be called as a RESTful JSON API. It uses annotations in the `.proto` file to map HTTP verbs/paths to RPC methods. The middleware translates JSON <-> Protobuf automatically."
  },
  {
    "id": 50080,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Controller: ApiController Attribute",
    "content": "What specific behaviors does `[ApiController]` enable?",
    "explanation": "1. Attribute Routing requirement. 2. Automatic HTTP 400 on validation errors. 3. Binding source inference (`[FromBody]` implied for complex types). 4. Problem Details responses."
  },
  {
    "id": 50081,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: Environment Variables Hierachy",
    "content": "How are double underscores `__` handled in Environment Variables?",
    "explanation": "They represent hierarchy (:) separators. `Logging__LogLevel__Default` maps to JSON `Logging: { LogLevel: { Default: ... } }`. This allows nested config override via flat env vars."
  },
  {
    "id": 50082,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Host: Graceful Shutdown",
    "content": "What happens when `IHost` receives a SIGTERM?",
    "explanation": "1. Trigger `IHostApplicationLifetime.ApplicationStopping`. 2. Stop `BackgroundService`s (cancel token). 3. Wait for `HostOptions.ShutdownTimeout` (default 5s) for services to drain. 4. Dispose container."
  },
  {
    "id": 50083,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "HTTP: HTTP/3 Support",
    "content": "Is HTTP/3 enabled by default in Kestrel?",
    "explanation": "In .NET 6/7, it required configuration. In .NET 8, it is enabled by default if the OS supports QUIC (Windows 11 / Linux with msquic). It requires configuring a UDP port."
  },
  {
    "id": 50084,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Output Caching: Tagging",
    "content": "How do you invalidate Output Cache entries?",
    "explanation": "Use **Tags**. When caching, tag the entry (`outputCacheContext.Tags.Add(\"tag1\")`). Later, call `outputCacheStore.EvictByTagAsync(\"tag1\")`. This allows invalidating a group of related pages (e.g., all product pages) at once."
  },
  {
    "id": 50085,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Keyed Services (.NET 8)",
    "content": "What are Keyed Services?",
    "explanation": "Allows registering multiple implementations of the same interface with a Key. `services.AddKeyedSingleton<ICache, RedisCache>(\"redis\")`. Inject using `[FromKeyedServices(\"redis\")]`. Replaces older hacks/delegates."
  },
  {
    "id": 50086,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Terminal Middleware",
    "content": "What is Terminal Middleware?",
    "explanation": "The last middleware in the pipeline. It handles the request and never calls `next()`. The `Run()` extension method adds terminal middleware. Endpoints (Controllers) are effectively terminal middleware."
  },
  {
    "id": 50087,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Validation: FluentValidation",
    "content": "Why use FluentValidation over Data Annotations?",
    "explanation": "Separation of concerns. Data Annotations clutter the DTO. FluentValidation keeps rules separate, supports complex logic (conditional validation, DB checks), and is easily testable."
  },
  {
    "id": 50088,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: Scaleout",
    "content": "What limitation does the default SignalR Hub have regarding scaling?",
    "explanation": "Connections are stateful on one server. If you have 2 servers, User A on Server 1 cannot message User B on Server 2. You need a **Backplane** (Redis) or **Azure SignalR Service** to route messages between servers."
  },
  {
    "id": 50089,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "CORS: Wildcard Security",
    "content": "When does `AllowAnyOrigin` fail?",
    "explanation": "If the client sends credentials (Cookies/Auth Headers), the browser **blocks** the request if Origin is `*`. You must specify the exact Origin in the header. The server middleware handles echoing the request origin if configured properly."
  },
  {
    "id": 50090,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosting: Windows Service",
    "content": "How do you run a .NET Core Worker as a Windows Service?",
    "explanation": "Add the `Microsoft.Extensions.Hosting.WindowsServices` package. Call `.UseWindowsService()` in `Program.cs`. This configures the lifetime to listen to Service Control Manager (Start/Stop) signals."
  },
  {
    "id": 50091,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Disposable Services",
    "content": "Who disposes services created by the DI container?",
    "explanation": "The Container. When the Scope (Request) ends, the Container calls `Dispose` on all Scoped/Transient objects created within it. **Warning:** If you resolve a Transient IDisposable in the Root scope, it is never disposed until app shutdown (Memory Leak)."
  },
  {
    "id": 50092,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: HTTP/2 Limits",
    "content": "What is `Http2.MaxStreamsPerConnection`?",
    "explanation": "Limits the number of concurrent requests on a single TCP connection. Default is 100. If exceeded, the client must queue or open a new connection. Protects against resource exhaustion (stream multiplexing overhead)."
  },
  {
    "id": 50093,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: Groups",
    "content": "What is `MapGroup` in Minimal APIs?",
    "explanation": "It allows grouping endpoints with a common prefix (`/api/users`), tags, or middleware (Auth). `var users = app.MapGroup(\"/users\").RequireAuthorization();`. Reduces repetition."
  },
  {
    "id": 50094,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "User Secrets: Production",
    "content": "Do User Secrets work in Production?",
    "explanation": "No. They are only for `Development` environment (stored in `%APPDATA%`). In Production, you must use Environment Variables, Key Vault, or `appsettings.json`. The User Secrets provider is usually not even registered in Prod."
  },
  {
    "id": 50095,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Forwarded Headers: Security",
    "content": "Why must you restrict `KnownNetworks` in ForwardedHeadersMiddleware?",
    "explanation": "If you trust headers from *any* IP, an attacker can spoof `X-Forwarded-For` to bypass IP rate limits or fake their location. Only trust headers coming from your known Load Balancer/Proxy IPs."
  },
  {
    "id": 50096,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Cookies: SameSite",
    "content": "What is the default `SameSite` mode in ASP.NET Core?",
    "explanation": "`Lax`. It sends cookies on top-level navigations (links) but blocks them on cross-site sub-requests (images/iframes/POSTs). This provides a good balance of CSRF protection and usability."
  },
  {
    "id": 50097,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Endpoint Filter (Minimal API)",
    "content": "What is the equivalent of Action Filters for Minimal APIs?",
    "explanation": "`AddEndpointFilter`. It wraps the endpoint delegate. Can intercept arguments, modify response, or short-circuit. `app.MapGet(...).AddEndpointFilter<MyValidationFilter>();`."
  },
  {
    "id": 50098,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Circular Dependency",
    "content": "How does the DI container handle circular dependencies (A depends on B, B depends on A)?",
    "explanation": "It throws an `InvalidOperationException` (Stack Overflow detection) during resolution. Fix: Redesign classes, use `Lazy<T>`, or inject `IServiceProvider` (Service Locator - use sparingly)."
  },
  {
    "id": 50099,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "HttpSys vs Kestrel",
    "content": "When should you use HttpSys instead of Kestrel?",
    "explanation": "When running on Windows and you need features Kestrel lacks (like Kernel-mode authentication, Port sharing, or direct exposure to internet without a reverse proxy). Kestrel is generally preferred for performance and cross-platform."
  },
  {
    "id": 50100,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Response Compression: Vulnerability",
    "content": "What is the BREACH attack risk with Response Compression?",
    "explanation": "If you compress HTTPS responses that contain both User Input and Secrets (CSRF token), an attacker can guess the secret by measuring the compressed size of different inputs. **Mitigation**: Disable compression for sensitive pages or mask secrets."
  },
  {
    "id": 50101,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DiagnosticSource vs EventSource",
    "content": "When should you use `DiagnosticSource` instead of `EventSource` for telemetry?",
    "explanation": "**DiagnosticSource** is for in-process subscription (e.g., Application Insights SDK listening to HttpClient requests). It supports passing complex objects. **EventSource** is for out-of-process tracing (ETW/LTTng) and only supports primitives. Use DiagnosticSource for library instrumentation intended for APM tools."
  },
  {
    "id": 50102,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosting: IHostApplicationLifetime",
    "content": "What is the correct way to run cleanup logic when the application stops?",
    "explanation": "Register a callback with `IHostApplicationLifetime.ApplicationStopping`. This token is cancelled when `SIGTERM` is received. Do not use `AppDomain.ProcessExit` reliably in containers as it might not fire if the shutdown timeout is exceeded."
  },
  {
    "id": 50103,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: Custom Provider",
    "content": "Why would you implement a custom `ConfigurationProvider`?",
    "explanation": "To read configuration from a non-standard source (e.g., a Database table, a proprietary Vault, or a remote config server). The provider pushes key-value pairs into the `IConfiguration` abstraction, making the source transparent to the rest of the app."
  },
  {
    "id": 50104,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: UseWhen vs MapWhen",
    "content": "What is the difference between `UseWhen` and `MapWhen`?",
    "explanation": "**MapWhen** branches the pipeline *permanently* (if predicate is true, it executes the branch and does NOT return to the main pipeline). **UseWhen** branches conditionally but *rejoins* the main pipeline afterwards. Use `MapWhen` for separate apps (e.g., `/api` vs `/admin`); use `UseWhen` for conditional logging."
  },
  {
    "id": 50105,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Factory Pattern",
    "content": "How do you implement a Typed Factory `Func<Type, IService>` using standard DI?",
    "explanation": "Register a delegate: `services.AddTransient<Func<Type, IService>>(provider => key => ...)` . This allows resolving services dynamically at runtime based on a key/type without injecting the entire `IServiceProvider` (Service Locator)."
  },
  {
    "id": 50106,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: MessagePack Protocol",
    "content": "Why enable the MessagePack protocol for SignalR?",
    "explanation": "MessagePack is binary serialization. It produces significantly smaller payloads than JSON, reducing network bandwidth and latency for high-frequency real-time updates. Both server and client must opt-in."
  },
  {
    "id": 50107,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Keep-Alive Pings",
    "content": "Does Kestrel send HTTP/2 PING frames automatically?",
    "explanation": "Yes. It sends PING frames to keep idle connections open and detect dead peers. You can configure the interval via `KestrelServerOptions.Limits.Http2.KeepAlivePingDelay`. Critical for preventing load balancers from dropping idle long-lived connections (gRPC)."
  },
  {
    "id": 50108,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Auth: Policy Providers",
    "content": "What is an `IAuthorizationPolicyProvider` used for?",
    "explanation": "It allows creating Authorization Policies dynamically at runtime. Instead of defining `[Authorize(Policy=\"Age>10\")]` strings in Startup, the provider parses the policy name string and constructs the Requirements on the fly. Used for complex, data-driven permission systems."
  },
  {
    "id": 50109,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Output Caching: Eviction",
    "content": "How does `OutputCache` handling of Resource Locking differ from `ResponseCache`?",
    "explanation": "`OutputCache` (server-side) supports resource locking to prevent Cache Stampede (executing the action multiple times for the same key). `ResponseCache` (client-side headers) does not; it relies on the client/proxy to respect the headers."
  },
  {
    "id": 50110,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: TypedResults",
    "content": "Why use `TypedResults.Ok()` instead of `Results.Ok()` in Minimal APIs?",
    "explanation": "`TypedResults` returns concrete types (e.g., `Ok<T>`) rather than `IResult`. This allows Unit Tests to assert the response type and content directly without casting/reflection, and helps OpenAPI generators produce better schemas."
  },
  {
    "id": 50111,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "HttpClient: SocketsHttpHandler.PooledConnectionLifetime",
    "content": "Why set `PooledConnectionLifetime` even if using `IHttpClientFactory`?",
    "explanation": "`IHttpClientFactory` rotates the *Handler*, but the underlying *Socket* might persist if not configured. Setting `PooledConnectionLifetime` on the handler ensures that sockets are closed periodically to respect DNS changes (e.g., Blue/Green failover)."
  },
  {
    "id": 50112,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Exceptions: DeveloperExceptionPage",
    "content": "Why must the Developer Exception Page be the *first* middleware?",
    "explanation": "Middleware catches exceptions from the *next* components in the pipeline. If `UseDeveloperExceptionPage` is placed after `UseRouting`, it cannot catch exceptions thrown inside the Routing middleware itself."
  },
  {
    "id": 50113,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Host: BackgroundServiceExceptionBehavior",
    "content": "What is the default behavior if a BackgroundService throws an unhandled exception in .NET 6+?",
    "explanation": "**StopHost**. The application crashes. This is a \"Fail Fast\" change from .NET Core 2/3 where it would ignore the error (leaving the service dead but the app running). You can revert this setting, but fixing the error is better."
  },
  {
    "id": 50114,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Data Protection: Ephemeral Keys",
    "content": "What happens if Data Protection uses ephemeral keys in a Kubernetes cluster?",
    "explanation": "If keys are not persisted to a shared volume/store, every pod restart invalidates all anti-forgery tokens and authentication cookies. Users get logged out, and form posts fail. Always configure a persistence store (Redis/Blob) for keys."
  },
  {
    "id": 50115,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Response Compression: MIME Types",
    "content": "Why doesn't Response Compression work for `application/json` by default?",
    "explanation": "It *does* work for JSON by default. However, it is disabled for HTTPS by default in older versions to prevent BREACH attacks. In modern .NET, it is enabled for HTTPS, but you must opt-in to specific MIME types if using custom formats."
  },
  {
    "id": 50116,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: BinderOptions",
    "content": "How do you enforce that all config properties must be present during binding?",
    "explanation": "Use `options.BindNonPublicProperties = true` or `ErrorOnUnknownConfiguration = true` in the binder options. This ensures the app fails to start if the `appsettings.json` structure mismatches the C# class."
  },
  {
    "id": 50117,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: MinRequestBodyDataRate",
    "content": "What is the purpose of `MinRequestBodyDataRate`?",
    "explanation": "It protects against Slowloris attacks. If a client sends data too slowly (below the byte/sec threshold), Kestrel terminates the connection to free up resources. Default is 240 bytes/sec."
  },
  {
    "id": 50118,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Scoped Service in Singleton",
    "content": "How do you *correctly* use a Scoped Service inside a Singleton?",
    "explanation": "Inject `IServiceScopeFactory`. Create a scope explicitly: `using (var scope = _scopeFactory.CreateScope()) { var svc = scope.ServiceProvider.GetRequiredService<T>(); ... }`. Never inject the scoped service directly into the constructor."
  },
  {
    "id": 50119,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: HttpContext.Response.OnStarting",
    "content": "When should you use `response.OnStarting` callback?",
    "explanation": "To set Headers just before the response headers are sent to the client. If you try to set headers after the first write to the Body, it throws an exception. `OnStarting` allows middleware to hook into this exact moment."
  },
  {
    "id": 50120,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosting: Startup Hooks",
    "content": "What is `HostingStartup` assembly?",
    "explanation": "An assembly attribute `[assembly: HostingStartup]` that allows an external library (like Azure App Insights or a Profiler) to inject services/middleware into the app startup sequence *without* modifying `Program.cs`. Used by hosting providers."
  },
  {
    "id": 50121,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Routing: Catch-All Parameters",
    "content": "What is the difference between `{*path}` and `{*path:nonfile}` constraints?",
    "explanation": "`{*path}` matches everything. `{*path:nonfile}` matches everything *except* request paths that look like file names (contain a dot). Useful for SPA fallback routing (serve `index.html` for unknown paths, but 404 for missing `.js` files)."
  },
  {
    "id": 50122,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Model Binding: Body vs Form",
    "content": "Can you bind both `[FromBody]` and `[FromForm]` in the same action?",
    "explanation": "Generally No. The Request Body stream can usually only be read once. `[FromBody]` (JSON) and `[FromForm]` (Multipart) require different parsers consuming the same stream."
  },
  {
    "id": 50123,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: Client Results",
    "content": "What are SignalR Client Results (.NET 7)?",
    "explanation": "The server can `await` a result from the client. `var result = await Clients.Client(id).InvokeAsync<string>(\"GetUserInput\");`. This enables Request-Response patterns over the WebSocket."
  },
  {
    "id": 50124,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: TryAddEnumerable",
    "content": "When should you use `TryAddEnumerable`?",
    "explanation": "When registering services that might be registered multiple times (like `IConfigureOptions` or `IHostedService`). It ensures that you don't add the *exact same implementation type* twice, but allows adding multiple *different* implementations of the interface."
  },
  {
    "id": 50125,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Testing: WebApplicationFactory Customization",
    "content": "How do you mock Authentication in `WebApplicationFactory`?",
    "explanation": "Configure `TestAuthHandler` (a custom AuthenticationScheme) in `ConfigureTestServices`. Set it as the default scheme. This allows the integration test to pass a 'Fake User' principal via headers without needing a real token."
  },
  {
    "id": 50126,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Health Checks: UI",
    "content": "Does `AspNetCore.HealthChecks.UI` store history?",
    "explanation": "Yes, if configured. It can store check history in a database (SQL/SQLite). This allows seeing the timeline of health status ('flapping' detection), not just the current snapshot."
  },
  {
    "id": 50127,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Endpoint Routing: Order",
    "content": "Does the order of `MapGet` calls matter in Endpoint Routing?",
    "explanation": "Yes. Routes are matched based on precedence. Literal matches (`/users/profile`) beat parameter matches (`/users/{id}`). However, ambiguous matches will throw an exception at startup or runtime."
  },
  {
    "id": 50128,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "gRPC: Metadata vs Trailers",
    "content": "What is the difference between Metadata and Trailers in gRPC?",
    "explanation": "**Metadata** (Headers) is sent *before* the message. **Trailers** are sent *after* the message stream closes. Trailers are useful for reporting execution stats (e.g., 'items processed') or error details computed during streaming."
  },
  {
    "id": 50129,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: Secret Manager",
    "content": "Is the Secret Manager tool secure for production?",
    "explanation": "No. It stores secrets in a JSON file in `%APPDATA%`. It is unencrypted. It is strictly for local development to keep secrets out of source control. Production must use Key Vault or Env Vars."
  },
  {
    "id": 50130,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Stream Copying",
    "content": "Why is `Stream.CopyToAsync` preferred over manual buffer loops in middleware?",
    "explanation": "It is optimized by the runtime (uses `Span`, avoids allocations). In .NET Core, `CopyToAsync` on `Response.Body` is often specialized to use internal pipe optimizations (zero-copy networking) where possible."
  },
  {
    "id": 50131,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Cookies: Chunking",
    "content": "Why does ASP.NET Core split large cookies?",
    "explanation": "Browsers limit cookie size (4KB). Large identity tokens often exceed this. The Cookie Authentication handler automatically 'chunks' the cookie (`.C1`, `.C2`) to fit, and reassembles them on the server."
  },
  {
    "id": 50132,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosting: ContentRoot vs WebRoot",
    "content": "Difference between ContentRoot and WebRoot?",
    "explanation": "**ContentRoot**: Where the application binaries and `appsettings.json` live. **WebRoot**: Where the static assets (`wwwroot`) live. `WebRoot` is usually a subdirectory of `ContentRoot`."
  },
  {
    "id": 50133,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: ServiceProviderIsService",
    "content": "What is `IServiceProviderIsService`?",
    "explanation": "An interface that allows checking *if* a service is registered without resolving it (avoiding exceptions). Used by optional dependency logic in framework components (e.g., checking if `ILogger` exists)."
  },
  {
    "id": 50134,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: AOT Limitations",
    "content": "Why does `MapControllerRoute` fail in Native AOT?",
    "explanation": "MVC Controllers rely heavily on Reflection and runtime code generation (emit). Minimal APIs use source generators and expressions, making them AOT-compatible (trim-safe)."
  },
  {
    "id": 50135,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Alt-Svc Header",
    "content": "What is the purpose of the `Alt-Svc` header sent by Kestrel?",
    "explanation": "It advertises support for HTTP/3 (QUIC). It tells the browser \"I am available on UDP port 443 via HTTP/3\". The browser then attempts the QUIC connection for future requests."
  },
  {
    "id": 50136,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Authorization: Resource-Based",
    "content": "How do you implement 'Resource-Based Authorization' (e.g., User owns this Document)?",
    "explanation": "Inject `IAuthorizationService`. Call `AuthorizeAsync(User, Document, \"EditPolicy\")`. The Authorization Handler receives the specific `Document` instance and checks properties (e.g., `doc.OwnerId == user.Id`)."
  },
  {
    "id": 50137,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: Stateful Reconnect",
    "content": "What happens if a SignalR WebSocket drops for 2 seconds?",
    "explanation": "The client attempts to reconnect. If `AutomaticReconnect` is enabled, it retries. However, messages sent *during* the disconnection are lost unless the server implements a buffer/ack mechanism (not default behavior)."
  },
  {
    "id": 50138,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: Key-Per-File",
    "content": "What is the Key-Per-File configuration provider used for?",
    "explanation": "Docker/Kubernetes Secrets. K8s mounts secrets as individual files in a directory (filename=key, content=value). The Key-Per-File provider reads this directory structure into the `IConfiguration`."
  },
  {
    "id": 50139,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Analysis",
    "content": "How do you measure the time taken by a specific middleware?",
    "explanation": "Wrap the `next()` call in a `Stopwatch`. Middleware is nested. `Start SW; await next(); Stop SW; Log;`. Be aware this measures the *entire* pipeline execution downstream, not just this middleware's logic."
  },
  {
    "id": 50140,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "HTTP Client: Propagation",
    "content": "Does `HttpClient` propagate Trace Context automatically?",
    "explanation": "Yes, `System.Net.Http` automatically injects W3C `traceparent` headers into outgoing requests if `Activity.Current` is set. This enables Distributed Tracing out of the box."
  },
  {
    "id": 50141,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Logging: Scope",
    "content": "What is a Logging Scope (`BeginScope`)?",
    "explanation": "It attaches context data to *all* logs written within the `using` block. \"Correlation ID\" or \"Transaction ID\" are common scopes. Structured loggers (Serilog) attach these as properties to every log event."
  },
  {
    "id": 50142,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Features: IFeatureCollection",
    "content": "What is `HttpContext.Features`?",
    "explanation": "A collection of interfaces representing HTTP capabilities (e.g., `IHttpConnectionFeature`, `IRequestBodyPipeFeature`). The Server (Kestrel) populates them. Middleware can inspect/modify them. It allows checking if the underlying server supports specific features (like Upgrade or Trailers)."
  },
  {
    "id": 50143,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: validateOnBuild",
    "content": "What is the downside of `validateOnBuild` in DI?",
    "explanation": "It builds the entire object graph at startup to check for missing dependencies. This increases startup time significantly for large apps. It catches configuration errors early but is expensive."
  },
  {
    "id": 50144,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Output Caching: Redis",
    "content": "Can .NET 8 Output Caching use Redis?",
    "explanation": "Yes. It supports `IOutputCacheStore`. You can register the Redis implementation to persist cached HTML/JSON responses in Redis, allowing them to survive app restarts and be shared across a web farm."
  },
  {
    "id": 50145,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Problem Details: Exception Mapping",
    "content": "How do you map a specific Exception type to a 400 Bad Request Problem Detail?",
    "explanation": "In .NET 8, `IExceptionHandler`. Implement `TryHandleAsync`. Check `if (exception is MyValidationException)`. Set `httpContext.Response.StatusCode = 400` and write the ProblemDetails JSON. Register it via `UseExceptionHandler`."
  },
  {
    "id": 50146,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Request Decompression",
    "content": "Does ASP.NET Core handle Gzip request bodies automatically?",
    "explanation": "Not by default. You must enable the **Request Decompression Middleware**. Browsers rarely send compressed requests, but APIs/Clients might."
  },
  {
    "id": 50147,
    "category": "NET Core",
    "difficulty": "Principal",
    "title": "Host: Systemd",
    "content": "How do you run .NET as a Systemd service?",
    "explanation": "Use `Microsoft.Extensions.Hosting.Systemd`. Call `.UseSystemd()` in `Program.cs`. It integrates with systemd's notification socket (Type=notify) to report healthy startup state."
  },
  {
    "id": 50148,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Static Files: Directory Browser",
    "content": "How to enable directory listing?",
    "explanation": "Use `UseDirectoryBrowser`. Requires `DirectoryBrowserOptions`. Security risk: Ensure you don't expose sensitive folders. Usually only for internal tools."
  },
  {
    "id": 50149,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Rate Limiting: Queue",
    "content": "What is the `QueueLimit` in Rate Limiting options?",
    "explanation": "If the rate limit is hit (e.g., 100 req/s), incoming requests are queued (up to `QueueLimit`). If the queue is full, they are rejected (503/429). Queuing smooths out bursts but adds latency."
  },
  {
    "id": 50150,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: MaxRequestHeaderSize",
    "content": "Why limit Header size?",
    "explanation": "To prevent DoS (Buffer Overflow/Allocation). Large headers (e.g., huge Cookies/JWTs) consume non-paged pool memory. Default limit is 32KB. If you send a 40KB header, Kestrel resets the connection."
  },
  {
    "id": 50151,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Handle Leak",
    "content": "What causes 'Too Many Open Files' in Kestrel on Linux?",
    "explanation": "Usually caused by not Disposing `HttpClient` or `Sockets`. In Linux, everything is a file. If you open thousands of outgoing connections without closing them (TIME_WAIT), you exhaust the file descriptor limit (ulimit). Fix with `IHttpClientFactory`."
  },
  {
    "id": 50152,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Request Decompression: Security",
    "content": "Why is the Request Decompression Middleware risky?",
    "explanation": "Zip Bombs. An attacker sends a 42KB gzip payload that expands to 10GB in memory, crashing the server. You must configure limits (`MaxDecompressedBodySize`) to prevent DoS attacks."
  },
  {
    "id": 50153,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: Chained Configuration",
    "content": "What happens if `appsettings.json` and Environment Variables both define the same key?",
    "explanation": "The **Last Provider Wins**. In the default builder, Environment Variables are added *after* JSON files, so Env Vars override `appsettings.json`. CLI arguments override everything."
  },
  {
    "id": 50154,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: ServiceProvider Validation",
    "content": "Does `ValidateOnBuild` check for missing configuration values?",
    "explanation": "No. It checks if all dependencies in the *constructors* of registered services can be resolved. It does not validate `IOptions` or configuration values unless you explicitly use `OptionsBuilder.ValidateOnStart()`."
  },
  {
    "id": 50155,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Hosting: Windows Service vs Systemd",
    "content": "How do you detect if the app is running as a Service?",
    "explanation": "Check `WindowsServiceHelpers.IsWindowsService()` or `SystemdHelpers.IsSystemdService()`. This allows conditional logic (e.g., logging to EventLog on Windows vs Console on Docker)."
  },
  {
    "id": 50156,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: Authorization Policy",
    "content": "How do you apply a policy to a group of endpoints in Minimal APIs?",
    "explanation": "Use `MapGroup`. `var adminGroup = app.MapGroup(\"/admin\").RequireAuthorization(\"AdminPolicy\");`. All endpoints defined on `adminGroup` inherit the policy."
  },
  {
    "id": 50157,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: JSON vs MessagePack Date",
    "content": "How does MessagePack handle dates differently than JSON in SignalR?",
    "explanation": "JSON sends dates as Strings (ISO 8601). MessagePack sends them as a native timestamp (Extension type). This is more efficient but requires ensuring both client and server agree on the version/format."
  },
  {
    "id": 50158,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Rewrite vs Redirect",
    "content": "What is the difference between URL Rewrite and Redirect middleware?",
    "explanation": "**Redirect** (301/302): Sends a response to the client telling *them* to request the new URL (Client sees change). **Rewrite**: The server changes the request path internally and processes it. Client sees original URL."
  },
  {
    "id": 50159,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Controller: Consumes Attribute",
    "content": "What does `[Consumes(\"application/xml\")]` do?",
    "explanation": "It restricts the Action to only accept requests with `Content-Type: application/xml`. If JSON is sent, it returns 415 Unsupported Media Type. Essential for APIs supporting multiple formats."
  },
  {
    "id": 50160,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Data Protection: App Isolation",
    "content": "Why can't two different apps decrypt each other's cookies by default?",
    "explanation": "Data Protection isolates keys by **Application Discriminator** (Content Root Path by default). Even if they share the keyring, App A cannot decrypt App B's payload. You must set `SetApplicationName(\"SharedApp\")` explicitly to allow sharing."
  },
  {
    "id": 50161,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "HTTP Client: Retry-After",
    "content": "Does `Polly` automatically handle the `Retry-After` header?",
    "explanation": "Not by default. The standard `WaitAndRetry` uses a fixed/exponential delay. You must write a custom policy that inspects the `HttpResponseMessage`, reads the `Retry-After` header, and sleeps for that specific duration."
  },
  {
    "id": 50162,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Globalization: InvariantCulture",
    "content": "When should you set `CultureInfo.DefaultThreadCurrentCulture = InvariantCulture`?",
    "explanation": "In **Backend Services** or APIs where data formats (Dates/Numbers) should be machine-readable (ISO/Dot decimal) regardless of the server's OS language region. Prevents \"1,000\" being parsed as 1 vs 1000."
  },
  {
    "id": 50163,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Auth: Claims Transformation Caching",
    "content": "Why should `IClaimsTransformation` be cached?",
    "explanation": "It runs on **Every Request**. If you query the database to add a 'Group' claim, you hit the DB on every HTTP call. Cache the transformed principal or the lookup data."
  },
  {
    "id": 50164,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "gRPC: Interceptors vs Middleware",
    "content": "Can you use ASP.NET Core Middleware for gRPC?",
    "explanation": "Yes, gRPC runs on the HTTP pipeline. Middleware (Auth, Logging) works. However, **Interceptors** are gRPC-specific and have access to the strongly-typed Request/Response messages, whereas Middleware only sees the raw HTTP stream."
  },
  {
    "id": 50165,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "TestServer: WebSocket Support",
    "content": "Does `TestServer` support WebSockets?",
    "explanation": "Yes. It creates an in-memory WebSocket pipe. You can test SignalR or raw WebSocket controllers using `server.CreateWebSocketClient()`."
  },
  {
    "id": 50166,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Output Caching: Policy",
    "content": "What is a Base Policy in Output Caching?",
    "explanation": "A default rule applied to all endpoints (e.g., \"Cache everything for 10s\"). You can override it per endpoint. Policies can define `VaryBy` rules and `Tag` generation logic centrally."
  },
  {
    "id": 50167,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: AsParameters",
    "content": "What is `[AsParameters]`?",
    "explanation": "It allows binding a single object (record/struct) from multiple sources (Route, Query, Header, Body). Reduces the argument list size of the handler delegate. `MapPost(\"/\", ([AsParameters] Request req) => ...)`."
  },
  {
    "id": 50168,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Limits.MaxRequestBodySize",
    "content": "If you set `MaxRequestBodySize` to null, is it unlimited?",
    "explanation": "Yes, but only for Kestrel. If running behind IIS (ANCM), IIS has its own limit (`maxAllowedContentLength`) which defaults to ~30MB. You must configure **Both**."
  },
  {
    "id": 50169,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Health Checks: Publisher",
    "content": "What is an `IHealthCheckPublisher`?",
    "explanation": "A background service that runs health checks periodically and **Pushes** the status to an external system (e.g., Application Insights or Datadog), rather than waiting for a Pull request to `/health`."
  },
  {
    "id": 50170,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: Factory scope",
    "content": "If a Singleton Factory creates a Scoped object, what is the object's scope?",
    "explanation": "**Detached/Singleton**. If you manually `new` an object or resolve it from a stored root provider inside a Singleton, it is not tracked by the current Request Scope. Use `IServiceScopeFactory` to link it to a scope."
  },
  {
    "id": 50171,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Logging: Redaction",
    "content": "How do you implement Redaction in .NET 8 Logging?",
    "explanation": "Use the `[LogProperties]` attribute and custom Redactors. Or `logger.LogInformation(\"User {User}\", user)`. If the User object has properties marked `[Redact]`, the logger automatically masks them (e.g., `****`)."
  },
  {
    "id": 50172,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: Server-to-Client Streaming",
    "content": "What is the benefit of SignalR Streaming?",
    "explanation": "The server can yield items one by one (`IAsyncEnumerable`) to the client. The client processes them as they arrive. Useful for real-time tickers or progress bars without blocking the Hub method."
  },
  {
    "id": 50173,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Cookies: Secure Flag",
    "content": "Why is `CookieSecurePolicy.Always` critical?",
    "explanation": "It forces the `Secure` flag on cookies. Without it, a browser might send the Session Cookie over plain HTTP if the user types `http://`, allowing a Man-in-the-Middle to steal the session."
  },
  {
    "id": 50174,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Configuration: reloadOnChange impact",
    "content": "Does `reloadOnChange` affect performance?",
    "explanation": "Slightly. It keeps a file handle open and monitors OS events. The bigger risk is **Concurrency**. If the config object changes *during* a request, one part of the request might see Old Config and another New Config. Use `IOptionsSnapshot` for consistency."
  },
  {
    "id": 50175,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Controller: Binding Source Inference",
    "content": "Why does `[ApiController]` disable binding form data to complex types by default?",
    "explanation": "It assumes JSON APIs. It infers `[FromBody]` for complex types. If you want to bind `multipart/form-data`, you must explicitly add `[FromForm]`."
  },
  {
    "id": 50176,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Rate Limiting: Token Bucket",
    "content": "What happens if `ReplenishmentPeriod` is too long?",
    "explanation": "If you get 10 tokens every 1 minute. A user consumes 10 tokens in 1 second. They are blocked for 59 seconds. This creates 'bursty' availability. Shorter periods (1 token every 6s) creates smoother flow."
  },
  {
    "id": 50177,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Middleware: Use vs Run",
    "content": "Can `Use()` act as a terminal middleware?",
    "explanation": "Yes, if it doesn't call `next()`. `Run()` is just a convention that does not expose a `next` parameter, enforcing terminal behavior."
  },
  {
    "id": 50178,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Header Propagation",
    "content": "What is the Header Propagation Middleware?",
    "explanation": "It automatically copies headers (like `x-correlation-id` or `x-user-language`) from the Incoming Request to the Outgoing `HttpClient` request. Essential for context flow in microservices."
  },
  {
    "id": 50179,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Host: Console Lifetime",
    "content": "What does `UseConsoleLifetime` do?",
    "explanation": "It listens for `Ctrl+C` (SIGINT) to trigger graceful shutdown. Without it, the app might kill the process instantly without running `ApplicationStopping` logic."
  },
  {
    "id": 50180,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Dependency Injection: Keyed Services Strategy",
    "content": "When should you use Keyed Services vs Factory Pattern?",
    "explanation": "Use **Keyed Services** (.NET 8) when the dependency is known at *registration time* or can be injected via attribute. Use **Factory** when the decision depends on *runtime* data (e.g., an HTTP header)."
  },
  {
    "id": 50181,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "SignalR: Azure Service Mode",
    "content": "Default vs Serverless vs Classic mode.",
    "isGood": true,
    "explanation": "**Default**: Your app hosts the hub logic; Azure handles connections. **Serverless**: Azure handles everything; you trigger it via API (Functions). **Classic**: Legacy mode, generally avoided."
  },
  {
    "id": 50182,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Socket Transport",
    "content": "Can you replace the Socket Transport in Kestrel?",
    "explanation": "Yes. Kestrel is transport-agnostic. You can plug in `QuicTransport` or even a custom In-Memory transport for ultra-fast testing."
  },
  {
    "id": 50183,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Validation: Short-Circuit",
    "content": "How to stop validation on first error in FluentValidation?",
    "explanation": "`RuleFor(x => x.Name).Cascade(CascadeMode.Stop).NotEmpty()...`. Prevents running expensive DB checks if basic null checks fail."
  },
  {
    "id": 50184,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Problem Details: Extensions",
    "content": "Is it safe to add Stack Trace to Problem Details?",
    "explanation": "Only in **Development**. In Production, it leaks internal implementation details (security risk). Use `builder.Environment.IsDevelopment()` to toggle it."
  },
  {
    "id": 50185,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Feature Management: Session Targeting",
    "content": "How to enable a feature for a specific user session?",
    "explanation": "Use `HttpContextTargetingContextAccessor`. The Feature Filter can check the current `HttpContext.User` claims to decide if the feature is On/Off for that specific request."
  },
  {
    "id": 50186,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Request Timeouts (.NET 8)",
    "content": "How does the Request Timeout Middleware work?",
    "explanation": "It sets a timer. If the request takes too long, it cancels the `HttpContext.RequestAborted` token and returns 504 Gateway Timeout. It cooperates with the controller (which must check the token)."
  },
  {
    "id": 50187,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Response Caching: Private",
    "content": "What does `[ResponseCache(Location = ResponseCacheLocation.Client)]` do?",
    "explanation": "Sets `Cache-Control: private`. Tells intermediate proxies (CDNs) **NOT** to cache it, but allows the user's browser to cache it. Used for user-specific data."
  },
  {
    "id": 50188,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Health Checks: Degraded Status",
    "content": "Can a Health Check return 'Degraded'?",
    "explanation": "Yes. `HealthStatus.Degraded`. The endpoint returns 200 OK (usually), but the JSON body indicates an issue. Useful for warning monitoring systems without removing the pod from the Load Balancer."
  },
  {
    "id": 50189,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: AOT Serialization",
    "content": "Why does System.Text.Json need `JsonSerializerContext` in AOT?",
    "explanation": "Reflection-based serialization is trimmed away in AOT. You must use the **Source Generator** (`JsonSerializerContext`) to generate the serialization code at compile time."
  },
  {
    "id": 50190,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Forwarded Headers: Loopback",
    "content": "Why ignore Forwarded Headers from localhost?",
    "explanation": "Security. If an attacker manages to send a request directly to Kestrel (bypassing Nginx), they can forge the headers. Only trust forwarded headers from the known IP of your Reverse Proxy."
  },
  {
    "id": 50191,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "User Secrets: ID",
    "content": "Where is the User Secret ID stored?",
    "explanation": "In the `.csproj` file: `<UserSecretsId>GUID</UserSecretsId>`. This GUID links the project to the folder in `%APPDATA%\\Microsoft\\UserSecrets\\<GUID>`."
  },
  {
    "id": 50192,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Host: System.CommandLine",
    "content": "What is `System.CommandLine`?",
    "explanation": "A library for building CLI apps with parsing, help text, and tab completion. It integrates with the Generic Host to support DI in console tools."
  },
  {
    "id": 50193,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "BackgroundService: Long Running",
    "content": "Why pass a `CancellationToken` to `ExecuteAsync`?",
    "explanation": "To detect shutdown. Your loop `while (!stoppingToken.IsCancellationRequested)` ensures the service stops gracefully when the Host shuts down, preventing forced kills."
  },
  {
    "id": 50194,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "OpenAPI: Multiple Versions",
    "content": "How to support multiple Swagger documents?",
    "explanation": "Register multiple Swagger Docs (`v1`, `v2`). Use `DocInclusionPredicate` to filter which API Actions belong to which document (usually based on `[ApiVersion]` attribute)."
  },
  {
    "id": 50195,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "gRPC: Exception Handling",
    "content": "How to return structured errors in gRPC?",
    "explanation": "Use `RpcException` with `Status` and `Trailers`. You can attach rich error details (like BadRequest field violations) in the Trailers using the Google `BadRequest` proto definition."
  },
  {
    "id": 50196,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "DI: ServiceProvider Dispose",
    "content": "Does `Dispose` on ServiceProvider dispose singletons?",
    "explanation": "Yes. Disposing the Root Container disposes **all** IDisposable Singletons created by it. This happens automatically on App Shutdown."
  },
  {
    "id": 50197,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Kestrel: Header Compression",
    "content": "What is HPACK?",
    "explanation": "HTTP/2 Header Compression. It compresses headers to reduce bandwidth. Kestrel handles the state table for HPACK automatically."
  },
  {
    "id": 50198,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Minimal API: Filters order",
    "content": "What is the order of Endpoint Filters?",
    "explanation": "FIFO (First In, First Out) for Request, LIFO (Last In, First Out) for Response. Similar to Middleware, they wrap the inner handler."
  },
  {
    "id": 50199,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "Authorization: Policy combining",
    "content": "What happens if an endpoint has 2 policies?",
    "explanation": "**Both** must pass. It is an AND operation. If Policy A succeeds but Policy B fails, Access is Denied."
  },
  {
    "id": 50200,
    "category": ".NET Core",
    "difficulty": "Principal",
    "title": "TestHost: Configuration Override",
    "content": "How to override config in `WebApplicationFactory`?",
    "explanation": "Use `ConfigureAppConfiguration`. You can add an `InMemoryCollection` to override specific keys (like ConnectionStrings) for the test context."
  },
  {
    "id": 41051,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Card Table",
    "content": "What is the 'Card Table' in the .NET Garbage Collector?",
    "explanation": "An optimization for Generational GC. When an object in an older generation (Gen 2) references a new object (Gen 0), the runtime sets a bit in the **Card Table**. During a Gen 0 collection, the GC scans only the 'dirty' cards to find roots from Gen 2, avoiding a full scan of the Gen 2 heap."
  },
  {
    "id": 41052,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: On-Stack Replacement (OSR)",
    "content": "What is On-Stack Replacement (OSR) in .NET Core?",
    "explanation": "It allows the JIT to switch from interpreted/unoptimized code to optimized code *while a method is running*. If a loop runs for a long time in a Tier 0 method, OSR patches the stack frame to jump into the Tier 1 (optimized) version mid-execution."
  },
  {
    "id": 41053,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "String Literal Deduplication",
    "content": "Where are String Literals stored in memory?",
    "explanation": "They are stored in the **intern pool** (a hash table in the High Frequency Heap). They are allocated once when the assembly loads and live until the process exits. They are unreachable by the standard GC, so over-interning causes memory leaks."
  },
  {
    "id": 41054,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Virtual Method Dispatch",
    "content": "How does the CLR execute a `virtual` method call internally?",
    "explanation": "It uses the **VTable** (Virtual Method Table). Every object has a pointer to its Type (MethodTable). The MethodTable contains a list of pointers to the actual function implementations. The CPU dereferences `Object -> MethodTable -> Slot[N]` to find the address to call (`callvirt` instruction)."
  },
  {
    "id": 41055,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Struct: Definite Assignment",
    "content": "Why does C# require all fields of a struct to be assigned in the constructor?",
    "explanation": "Structs are value types directly on the stack/heap. The runtime cannot guarantee they are zeroed out efficiently if fields are left uninitialized in custom constructors. The compiler enforces this to ensure deterministic state and prevent security issues with reading garbage memory."
  },
  {
    "id": 41056,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Concurrent Mark",
    "content": "What happens during the 'Concurrent Mark' phase of Gen 2 GC?",
    "explanation": "The GC walks the object graph to mark live objects *while the application threads are still running*. It uses a 'Write Barrier' to track changes made to the graph during the walk. This drastically reduces the 'Stop-The-World' pause time for Gen 2 collections."
  },
  {
    "id": 41057,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Tail Call Optimization",
    "content": "Does the C# compiler emit the `tail.` IL prefix?",
    "explanation": "Generally **No**. While the CLR supports tail calls, the C# compiler does not emit the prefix automatically (unlike F#). The 64-bit JIT *can* opportunistically optimize tail calls, but you cannot rely on it to prevent StackOverflow in deep C# recursion."
  },
  {
    "id": 41058,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread Static Memory",
    "content": "Where is `[ThreadStatic]` data stored?",
    "explanation": "In the **TLS (Thread Local Storage)** array managed by the OS/CLR. Each thread has a dedicated memory block. Accessing it is very fast (pointer offset from the Thread Environment Block), but it only works for static fields."
  },
  {
    "id": 41059,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Interface Dispatch: Stub",
    "content": "Why is Interface dispatch slower than Virtual dispatch?",
    "explanation": "Classes can implement multiple interfaces. The slot index of `Dispose()` in `IDisposable` might be different in `ClassA` vs `ClassB`. The CLR cannot use a fixed offset VTable. It uses **Interface Dispatch Stubs** (Inline Cache) to lookup the correct method dynamically."
  },
  {
    "id": 41060,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Large Object Heap: Fragmentation",
    "content": "Why doesn't the GC compact the LOH by default?",
    "explanation": "Moving large chunks (85KB+) of memory is **CPU and I/O expensive**. It effectively halts the application for a long time. The GC prefers to mark empty spaces in the LOH as 'Free' and reuse them for new large objects (Free List) rather than moving existing ones."
  },
  {
    "id": 41061,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Exception Handling Overhead",
    "content": "What makes throwing an exception expensive in .NET?",
    "explanation": "1. **Stack Walk**: The runtime must walk the stack to build the StackTrace string (resolving symbols). 2. **Context Transition**: User mode to Kernel mode transitions for SEH (Structured Exception Handling). 3. **Two-Pass**: The runtime searches for a handler (First Pass) and then unwinds the stack (Second Pass)."
  },
  {
    "id": 41062,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Boxed Value Type Mutability",
    "content": "What happens if you mutate a boxed struct?",
    "explanation": "You modify the *boxed copy* on the heap, not the original value or any other reference. This is a common bug. `((IMutable)myStruct).Value = 5;` updates the heap object, which is immediately discarded if not stored back."
  },
  {
    "id": 41063,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "ReadyToRun (R2R)",
    "content": "What is the trade-off of ReadyToRun compilation?",
    "explanation": "R2R images contain pre-compiled native code (reducing JIT time/startup). **Trade-off**: Larger file size (contains both IL and Native code) and potentially slightly slower execution than fully JIT-optimized code (because R2R cannot bake in hardware-specific instructions like AVX-512 for *all* CPUs)."
  },
  {
    "id": 41064,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Static Constructor Locks",
    "content": "How does the CLR ensure Static Constructors run only once?",
    "explanation": "It takes a **Global Loader Lock** (or domain-specific lock). If Thread A is running the static ctor and Thread B tries to access the class, Thread B blocks. If Thread A waits for Thread B inside the ctor, you get a **Deadlock**."
  },
  {
    "id": 41065,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Span: Interior Pointers",
    "content": "How can `Span<int>` point to the middle of an array safely?",
    "explanation": "It uses a **Managed Interior Pointer** (`ref int`). The GC is aware of these pointers. If a compaction moves the array, the GC updates the `Span`'s internal pointer to the new address automatically."
  },
  {
    "id": 41066,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Finalization Queue",
    "content": "What is the 'F-Reachable' Queue?",
    "explanation": "When an object with a Finalizer dies, it is moved from the Main Heap to the **F-Reachable Queue** (it is resurrected). The Finalizer Thread processes this queue. Only after the Finalizer runs is the object truly dead and collectible in the *next* GC."
  },
  {
    "id": 41067,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GCHandle Types",
    "content": "What is the difference between `GCHandleType.Pinned` and `GCHandleType.Normal`?",
    "explanation": "**Normal**: Prevents collection but allows the GC to *move* the object (handle updates automatically). **Pinned**: Prevents collection AND prevents movement. Required for passing memory to unmanaged code (C++ pointers), but causes fragmentation."
  },
  {
    "id": 41068,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Tiered Compilation: Quick JIT",
    "content": "What is Tier 0 vs Tier 1 code?",
    "explanation": "**Tier 0**: Generated quickly with minimal optimization (fast startup). Includes instrumentation. **Tier 1**: If Tier 0 code is executed frequently (hot), the JIT recompiles it in the background with full optimizations (slower compile, faster execution)."
  },
  {
    "id": 41069,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Method Inlining Rules",
    "content": "Why does the JIT refuse to inline methods with `try-catch` blocks (historically)?",
    "explanation": "Exception handling adds complex metadata/stack frame info. Inlining it complicated the stack walk logic. Modern .NET Core JIT *can* inline functions with try-catch blocks under specific conditions, but it's still less likely than simple methods."
  },
  {
    "id": 41070,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Object Header: SyncBlock",
    "content": "Where is the `lock(obj)` information stored?",
    "explanation": "In the **Object Header** (a 4-byte/8-byte word before the method table pointer). If locked, the header contains an index into the **SyncBlock Table**, which tracks the owning thread ID and recursion count."
  },
  {
    "id": 41071,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Delegate Allocation",
    "content": "Why does passing a method group `DoWork` to a LINQ query allocate memory?",
    "explanation": "`Enumerable.Select(DoWork)` creates a new **Delegate Instance** wrapping the method. Using a lambda `x => DoWork(x)` *might* be cached by the compiler if it doesn't capture variables, but a method group conversion always allocates a new delegate in older C# versions (improved in recent versions)."
  },
  {
    "id": 41072,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread vs Task Stack",
    "content": "Does a Task have its own Stack?",
    "explanation": "No. A Task is just a data structure. It runs on a ThreadPool thread, using *that* thread's stack. When an `async` method awaits, the stack frame is effectively 'saved' to the Heap (State Machine fields) and the stack is unwound for other work."
  },
  {
    "id": 41073,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Dynamic PGO",
    "content": "How does Dynamic PGO improve interface dispatch?",
    "explanation": "**Guarded Devirtualization**. If PGO sees that `IEnumerable` is almost always a `List<T>`, it inserts a check: `if (obj is List<T>) call List.GetEnumerator direct; else call interface`. This enables inlining for the hot path."
  },
  {
    "id": 41074,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Unsafe.Add",
    "content": "What is the danger of `Unsafe.Add(ref T, offset)`?",
    "explanation": "It bypasses bounds checking. You can advance the pointer beyond the array/object into unrelated memory. Reading/Writing there causes memory corruption or Access Violation crashes."
  },
  {
    "id": 41075,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Array Covariance",
    "content": "Why is `string[]` assignable to `object[]` but `List<string>` not assignable to `List<object>`?",
    "explanation": "C# Arrays are **Covariant** (legacy decision from Java). This is not type-safe for writing (you can try to put an `int` into the `object[]` which is actually a `string[]`, causing a runtime error). Generics fixed this by being Invariant."
  },
  {
    "id": 41076,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC Regions (Server GC)",
    "content": "How does Server GC handle heaps differently than Workstation GC?",
    "explanation": "Server GC creates **One Heap per CPU Core**. Each heap has its own allocation context and GC thread. Collections happen in parallel. This maximizes throughput but consumes significantly more memory overhead than Workstation GC."
  },
  {
    "id": 41077,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Reflection: MethodInfo.Invoke",
    "content": "Why is `MethodInfo.Invoke` slow?",
    "explanation": "It validates permissions, wraps arguments in an `object[]` (boxing), and performs a dynamic dispatch. Use **compiled Expression Trees** or **DynamicMethod** (IL Emit) to bypass this overhead for hot paths."
  },
  {
    "id": 41078,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "TypeHandle",
    "content": "What is a `RuntimeTypeHandle`?",
    "explanation": "An opaque handle (pointer) to the internal MethodTable structure in the CLR. `typeof(T).TypeHandle`. It's lightweight and stable, often used for caching or dictionary keys instead of the full `Type` object."
  },
  {
    "id": 41079,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "ConditionalWeakTable",
    "content": "How does `ConditionalWeakTable<Key, Value>` avoid memory leaks?",
    "explanation": "It holds the Key as a **Weak Reference**. However, it ensures the Value remains alive *as long as the Key is alive*. If the Key is collected, the Value is also automatically dropped. Perfect for attaching dynamic properties to objects."
  },
  {
    "id": 41080,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "AsyncLocal Implementation",
    "content": "How is `AsyncLocal` value propagated?",
    "explanation": "It is stored in the `ExecutionContext`. When a Task is created/scheduled, the current ExecutionContext is captured. When the Task runs, the context is restored, making the `AsyncLocal` value available."
  },
  {
    "id": 41081,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "String.FastAllocateString",
    "content": "What is the internal method `String.FastAllocateString`?",
    "explanation": "An internal runtime method that allocates a string *without* zeroing the memory or setting the content immediately. Used by `string.Create` to allow efficient in-place mutation during initialization before the string becomes immutable."
  },
  {
    "id": 41082,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Hardware Intrinsics (AVX)",
    "content": "What happens if you use `Avx2.Add` on a CPU that doesn't support it?",
    "explanation": "`PlatformNotSupportedException` (or Invalid Instruction crash if using raw intrinsics incorrectly). Always check `Avx2.IsSupported` before the call. The JIT eliminates the check branch if the CPU is known at compile time (AOT) or runtime (JIT)."
  },
  {
    "id": 41083,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Dependent Handle",
    "content": "What is a `DependentHandle` in the GC?",
    "explanation": "A specialized GC handle where the lifetime of a Secondary object depends on the Primary object. Used internally by `ConditionalWeakTable`. \"Keep B alive as long as A is alive.\""
  },
  {
    "id": 41084,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread Abort Prevention",
    "content": "Why was `Thread.Abort` removed in .NET Core?",
    "explanation": "It injected an exception at an arbitrary point (even inside `finally` blocks or critical sections). This corrupted shared state (broken locks) and made the process unstable. It is impossible to write safe code with `Thread.Abort` existing."
  },
  {
    "id": 41085,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Reference Counting",
    "content": "Does .NET use Reference Counting for GC?",
    "explanation": "No. It uses **Tracing** (Mark and Sweep). Reference Counting handles cycles poorly (A->B->A). Tracing GC handles cycles naturally because the whole island is unreachable from the Roots."
  },
  {
    "id": 41086,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC.KeepAlive",
    "content": "When do you need `GC.KeepAlive(obj)`?",
    "explanation": "When working with P/Invoke. If you pass a managed object to unmanaged code, the JIT might assume the object is unused after the call starts and collect it *while the unmanaged code is running*. `KeepAlive` extends the lifetime until that line."
  },
  {
    "id": 41087,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Array Memory Layout",
    "content": "What is the memory layout of an Array?",
    "explanation": "`[SyncBlock | MethodTable | Length | Element 0 | Element 1 ... ]`. Arrays have a length prefix. This allows the JIT to perform bounds check elimination loops by reading the length once."
  },
  {
    "id": 41088,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "NullReferenceException Mechanism",
    "content": "How does the hardware detect NullReferenceException?",
    "explanation": "The OS reserves the first 64KB of virtual memory (Null Page) as unmapped/protected. Any access to address `0x0` causes a **Hardware Access Violation**. The CLR catches this signal and converts it to a managed `NullReferenceException`."
  },
  {
    "id": 41089,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Allocating on POH",
    "content": "How do you allocate directly on the Pinned Object Heap?",
    "explanation": "Use `GC.AllocateArray<T>(length, pinned: true)`. This allocates the array in the POH, ensuring it never moves, and avoids the need for `fixed` blocks, which is better for long-lived interop buffers."
  },
  {
    "id": 41090,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Vector<T> Size",
    "content": "Is the size of `Vector<T>` fixed?",
    "explanation": "No. It is **Hardware Dependent**. On a machine with AVX2, it is 256 bits (8 floats). On SSE2, it is 128 bits. The JIT generates different code at runtime. You must write code that adapts to `Vector<T>.Count`."
  },
  {
    "id": 41091,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "ExecutionEngineException",
    "content": "What causes `ExecutionEngineException`?",
    "explanation": "Fatal internal error in the CLR (heap corruption, bug in JIT). The process is corrupted and must terminate. It cannot be caught. Often caused by unsafe P/Invoke calls corrupting memory."
  },
  {
    "id": 41092,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "System.Runtime.CompilerServices.Unsafe",
    "content": "What is the `Unsafe` class?",
    "explanation": "A magic class that the JIT recognizes. `Unsafe.Add`, `Unsafe.As`, `Unsafe.Read`. It allows C-style pointer manipulation and type casting in C# without the `unsafe` keyword constraints, used heavily by high-performance libraries (Span, Kestrel)."
  },
  {
    "id": 41093,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Memory Barrier: Interlocked",
    "content": "Does `Interlocked.Read` imply a memory barrier?",
    "explanation": "Yes. On x64, it implies a **Full Fence**. It ensures no reads/writes move across the instruction. `volatile` read is only Acquire-fence."
  },
  {
    "id": 41094,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Object Pooling Trade-offs",
    "content": "When does Object Pooling degrade performance?",
    "explanation": "If the object is cheap (small class), pooling adds synchronization overhead (Rent/Return locking) and cache misses (getting a cold object from the pool) that exceeds the cost of allocation. Pooling is for **Expensive** or **Large** objects only."
  },
  {
    "id": 41095,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Weak Event Pattern",
    "content": "Why do standard C# events cause memory leaks?",
    "explanation": "The Publisher holds a strong reference to the Subscriber's Delegate. If the Publisher lives longer (static), the Subscriber cannot be collected. **Weak Event Pattern** uses `WeakReference` to hold the subscriber, allowing GC."
  },
  {
    "id": 41096,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Method Table Pointer Swap",
    "content": "Can you change the Type of an object at runtime?",
    "explanation": "Technically yes, by hacking the MethodTable pointer in the object header (unsafe). But this is **Insane**. It breaks type safety, GC assumptions, and devirtualization. Never do this."
  },
  {
    "id": 41097,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Managed Identity: Under the hood",
    "content": "How does Managed Identity get a token?",
    "explanation": "The app makes an HTTP request to the **IMDS** (Instance Metadata Service) at `169.254.169.254`. This local endpoint (provided by Azure Hypervisor) validates the VM's identity and returns a JWT signed by Azure AD."
  },
  {
    "id": 41098,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "RuntimeHelpers.GetHashCode",
    "content": "What does `RuntimeHelpers.GetHashCode(obj)` return?",
    "explanation": "The default identity hash code (based on object address or internal counter), even if the object overrides `GetHashCode()`. Used to identify *instances* regardless of their value."
  },
  {
    "id": 41099,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Struct: Ref Field",
    "content": "What is a `ref` field inside a `ref struct`?",
    "explanation": "It holds a reference to a memory location (like `ref int`). It enables `Span<T>` to point to stack memory safely. The compiler ensures `ref struct` never escapes to the Heap to prevent dangling references."
  },
  {
    "id": 41100,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Workstation vs Server",
    "content": "Does Workstation GC ever use multiple threads?",
    "explanation": "Yes, if **Concurrent GC** is enabled (default). The background collection runs on a separate thread. However, allocation and foreground collection happen on the user thread, unlike Server GC which has dedicated threads."
  },
  {
    "id": 41101,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Mark Stack Overflow",
    "content": "What happens if the GC runs out of stack space while marking a deeply nested object graph?",
    "explanation": "If the recursion depth during the Mark phase exceeds the stack limit, the GC switches to an **Overflow** handling mechanism. It stops pushing to the mark stack and sets an 'Overflow' bit. After the initial mark pass, it must rescan the entire heap (or specific segments) to find the objects that were skipped, which significantly prolongs the pause time."
  },
  {
    "id": 41102,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Loop Cloning",
    "content": "What is Loop Cloning optimization performed by the JIT?",
    "explanation": "The JIT duplicates the loop body to eliminate bounds checks. It creates a 'Fast Path' (no checks) and a 'Slow Path' (with checks). It inserts a runtime check before the loop: `if (index < length) goto FastPath;`. This allows the hot loop to run without per-iteration bounds checking overhead."
  },
  {
    "id": 41103,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Loader Allocator",
    "content": "What is the role of the Loader Allocator in dynamic assemblies?",
    "explanation": "It manages the memory for dynamically generated code (`Reflect.Emit`). Unlike standard assemblies (which live until AppDomain unload), dynamic methods are allocated on a specific Loader Allocator heap. This allows collecting the generated code and its metadata *before* the AppDomain unloads, preventing memory leaks in dynamic proxies."
  },
  {
    "id": 41104,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "DispatchStubs",
    "content": "What is a 'Dispatch Stub' in the context of Interface Calls?",
    "explanation": "When an interface method is called, the call site initially points to a **Dispatch Stub**. On the first call, the stub looks up the correct method implementation in the object's MethodTable and updates the call site (Backpatching) or caches the destination (Monomorphic Inline Cache) to speed up future calls."
  },
  {
    "id": 41105,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread Suspension (GC)",
    "content": "How does the CLR suspend threads for a Stop-The-World GC?",
    "explanation": "It uses **Cooperative Suspension** (Hijacking). The JIT inserts 'Safe Points' (polling checks) in loops and method epilogues. The GC sets a global flag. Threads check this flag at the Safe Point and suspend themselves. If a thread is running unmanaged code (P/Invoke), the GC lets it run until it tries to return to managed code."
  },
  {
    "id": 41106,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "RVA (Relative Virtual Address)",
    "content": "What is an RVA field in .NET metadata?",
    "explanation": "It stands for **Relative Virtual Address**. It points to the actual data (e.g., the method body IL bytes or initial field values) inside the PE file image loaded in memory. The CLR resolves this relative offset to a real memory address at runtime."
  },
  {
    "id": 41107,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Static Field Memory Location",
    "content": "Are static fields stored on the Heap or the Stack?",
    "explanation": "On the **High Frequency Heap** (part of the AppDomain's loader heaps), specifically associated with the MethodTable of the Type. They are *not* on the thread stack and *not* on the standard GC heap (though they are GC roots)."
  },
  {
    "id": 41108,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Object Header: HashCode persistence",
    "content": "What happens to the HashCode stored in the Object Header if the object moves during compaction?",
    "explanation": "The HashCode (if calculated) is stored in the header bits. When the GC moves the object, it copies the header (including the hash) to the new location. This ensures `GetHashCode()` remains stable even if the object's address changes."
  },
  {
    "id": 41109,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Exception Filters: Two-Pass",
    "content": "Why are Exception Filters (`when`) faster than `catch-throw`?",
    "explanation": "Filters run during the **First Pass** (Search Phase) of exception handling, *before* the stack is unwound. If the filter returns false, the runtime continues searching. `catch` unwinds the stack (Second Pass) destroys frames, and then re-throws, which is destructive and expensive."
  },
  {
    "id": 41110,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "P/Invoke: Blittable Types",
    "content": "What is a Blittable Type and why does it matter for Interop?",
    "explanation": "A type that has the exact same memory representation in Managed and Unmanaged code (e.g., `int`, `byte`, `struct { int x; }`). The marshaller can pass a pointer directly (Zero Copy). Non-blittable types (`bool`, `string`, `char`) require allocating new memory and copying/converting data."
  },
  {
    "id": 41111,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Write Barrier: Card Bunches",
    "content": "How does the Write Barrier support multi-core scaling on 64-bit systems?",
    "explanation": "Instead of setting a single bit for every object update, it might update a byte in the Card Table representing a range (bunch) of memory. This reduces 'False Sharing' where two threads updating different objects fight over the same Card Table byte cache line."
  },
  {
    "id": 41112,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "MethodTable: Interface Map",
    "content": "What is the Interface Map inside the MethodTable?",
    "explanation": "A lookup table that maps `InterfaceMethodSlot -> ImplementationMethodSlot`. If `MyClass` implements `IDisposable`, the map says: \"IDisposable Slot 0 maps to MyClass Method #5\". This enables interface dispatch to find the correct implementation."
  },
  {
    "id": 41113,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "WeakReference: Short vs Long",
    "content": "What is the difference between a Short and Long WeakReference?",
    "explanation": "**Short**: Stops tracking the object as soon as it is claimed by GC (target becomes null). **Long**: Tracks the object even after finalization (during the resurrection phase). Used for advanced caching or finalizer coordination."
  },
  {
    "id": 41114,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Monitor.Enter: Thin Lock",
    "content": "What is a 'Thin Lock' optimization?",
    "explanation": "Initially, `lock(obj)` uses the Object Header to store the Thread ID (Thin Lock). No kernel object is allocated. Only if contention occurs (another thread tries to acquire it) does it 'inflate' into a 'Fat Lock' (SyncBlock with a kernel WaitHandle)."
  },
  {
    "id": 41115,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "AppDomain: Shared Domain",
    "content": "What code lives in the 'Shared Domain'?",
    "explanation": "Domain-neutral code, like `mscorlib` (System.String, System.Object). These types are loaded once and shared across all AppDomains (in .NET Framework) to save memory. In .NET Core (single AppDomain), this concept is simplified."
  },
  {
    "id": 41116,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Cross-Gen (R2R) Limitations",
    "content": "Why can't Cross-Gen code be fully optimized?",
    "explanation": "Cross-Gen (AOT) doesn't know the runtime environment memory layout (exact address of helper functions). It must use **Indirection Stubs** (jump tables) to call runtime helpers, which is slightly slower than JIT-compiled code where addresses are baked in."
  },
  {
    "id": 41117,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Volatile: Hardware vs Compiler",
    "content": "Does `volatile` emit a CPU instruction on x86?",
    "explanation": "On x86/x64, standard reads/writes are already ordered (Strong Memory Model). `volatile` mostly affects the **Compiler** (prevents register caching). It does not emit a `LOCK` prefix or `MFENCE` for reads, relying on the CPU's natural ordering guarantees."
  },
  {
    "id": 41118,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Demotion",
    "content": "Can an object be demoted from Gen 2 to Gen 1?",
    "explanation": "Generally **No**. Once promoted, objects stay or die. However, **Dynamic POH** (Pinned Object Heap) allows moving existing objects to the POH, which is technically a different generation area, but demotion in the SOH is not a standard mechanism."
  },
  {
    "id": 41119,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Type Loading: Lazy Loading",
    "content": "When is a Type's static constructor executed internally?",
    "explanation": "Precise timing depends on `beforefieldinit`. If marked (default), it runs *sometime* before the first access. If NOT marked (e.g., explicit static ctor), it runs *immediately* before the first access. The runtime holds a lock during execution."
  },
  {
    "id": 41120,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Exception Dispatch Info: Capture",
    "content": "What happens when you call `ExceptionDispatchInfo.Capture(ex)`?",
    "explanation": "It takes a snapshot of the current Stack Trace and stores it inside the Exception object's internal state. When you later call `.Throw()`, it appends the captured stack trace to the new stack trace, preserving the original error location."
  },
  {
    "id": 41121,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Struct Promotion",
    "content": "What is Struct Promotion?",
    "explanation": "The JIT decomposes a struct into its individual fields and stores them in CPU registers, eliminating the struct from the stack entirely. This is why small structs are extremely performant."
  },
  {
    "id": 41122,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Profiler API (ICorProfilerCallback)",
    "content": "How do APM tools like Dynatrace hook into .NET?",
    "explanation": "They use the **Profiling API** (Unmanaged). The CLR loads their DLL at startup. The profiler receives callbacks (`JITCompilationStarted`, `ExceptionThrown`) and can rewrite IL (Instrumentation) on the fly before JIT compilation."
  },
  {
    "id": 41123,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Code Pitching",
    "content": "What is Code Pitching?",
    "explanation": "Discarding JIT-compiled code to save memory. In .NET Compact Framework (Mobile), the JIT could throw away native code and re-JIT it later. Modern Server GC rarely pitches code unless under extreme memory pressure or tiered compilation replacement."
  },
  {
    "id": 41124,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Managed Pointers vs Unmanaged Pointers",
    "content": "What is the difference between `ref int` and `int*` in the CLR?",
    "explanation": "**`ref int` (Managed)**: Tracked by GC. If GC moves the object containing the int, the `ref` is updated. Safe. **`int*` (Unmanaged)**: A raw address. Not tracked. If GC moves the object, the pointer becomes invalid (dangling). Must be Pinned."
  },
  {
    "id": 41125,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Background vs Concurrent",
    "content": "Is Background GC the same as Concurrent GC?",
    "explanation": "Background GC (introduced in .NET 4) *replaced* Concurrent GC. Background GC allows Gen 0/1 collections (Foreground) to happen *while* a Gen 2 collection (Background) is running. Concurrent GC forced Gen 0/1 to wait until Gen 2 finished scanning."
  },
  {
    "id": 41126,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread.Suspend",
    "content": "Why is `Thread.Suspend` deprecated and dangerous?",
    "explanation": "It freezes the thread instantly. If that thread holds a Lock (e.g., malloc lock in C runtime, or a managed lock), and the GC tries to run, the GC might need that lock, causing a system-wide **Deadlock**."
  },
  {
    "id": 41127,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "DynamicMethod vs Delegate",
    "content": "Is `DynamicMethod` collected by GC?",
    "explanation": "Yes, unlike standard dynamic assemblies (which leak until AppDomain unload), a `DynamicMethod` (LCG) is garbage collected when the delegate referencing it becomes unreachable."
  },
  {
    "id": 41128,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "String Literal pooling cross-assembly",
    "content": "Are string literals shared across different assemblies?",
    "explanation": "Yes. The JIT interns string literals. If Assembly A has \"Hello\" and Assembly B has \"Hello\", they will point to the **same** memory object in the intern pool at runtime."
  },
  {
    "id": 41129,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "ValueType.Equals optimization",
    "content": "Why is `struct` equality slow by default?",
    "explanation": "The default `ValueType.Equals` uses Reflection to iterate fields. It has an optimization for 'blittable' structs (using `memcmp`), but if the struct contains any reference type or gaps, it falls back to slow Reflection. Always override `Equals` for structs."
  },
  {
    "id": 41130,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC.RegisterForFullGCNotification",
    "content": "What is the use case for `RegisterForFullGCNotification`?",
    "explanation": "For Load Balancers. It notifies the app *before* a full Gen 2 GC starts. The app can stop accepting new requests (redirecting traffic to other nodes) to avoid latency spikes during the collection."
  },
  {
    "id": 41131,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Object Finalization Order",
    "content": "Can you rely on Field A being finalized after Object B?",
    "explanation": "No. The order of finalization is **Non-Deterministic**. If Object B holds a reference to A, A might be finalized *before* B. Never access referenced managed objects in a Finalizer."
  },
  {
    "id": 41132,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Monitor Pulse Race Condition",
    "content": "What happens if you call `Pulse` when no one is Waiting?",
    "explanation": "The signal is **Lost**. Unlike a Semaphore which counts signals, a Monitor Pulse is transient. If the waiter arrives 1ns later, it will sleep forever (Deadlock). You need a state flag (`isSignaled`) to handle this."
  },
  {
    "id": 41133,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Stack Walking Security",
    "content": "How did CAS use Stack Walking?",
    "explanation": "Code Access Security (legacy) walked the stack to ensure *every* caller in the chain had the required permission. This was extremely slow and complex. Modern .NET Core uses Security Boundaries (Process/Container) instead."
  },
  {
    "id": 41134,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread Local vs Context Static",
    "content": "Difference between `[ThreadStatic]` and `[ContextStatic]`?",
    "explanation": "**ThreadStatic**: Specific to the OS thread. **ContextStatic**: Specific to the Remoting Context (legacy). In .NET Core, Contexts are mostly gone, so `ContextStatic` is rarely used. `AsyncLocal` is the modern logical equivalent."
  },
  {
    "id": 41135,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Delegate Trampoline",
    "content": "What is a Delegate Trampoline?",
    "explanation": "A small stub of code generated by the JIT. When you invoke a delegate, it jumps to the trampoline, which sets up the `this` pointer (Target) and jumps to the actual method. It abstracts the difference between static and instance calls."
  },
  {
    "id": 41136,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Tiered Compilation: OSR Limitation",
    "content": "Why does OSR not work for methods with loops inside `try/catch` blocks?",
    "explanation": "Patching the stack frame inside a protected region is complex (handling exception tables and unwinding info). The JIT (as of recent versions) has limitations on where OSR can be applied safely without corrupting exception handling state."
  },
  {
    "id": 41137,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: LOH Compaction Mode",
    "content": "How do you force LOH compaction?",
    "explanation": "Set `GCSettings.LargeObjectHeapCompactionMode = GCLargeObjectHeapCompactionMode.CompactOnce` before calling `GC.Collect()`. This forces the GC to defragment the LOH during the next blocking collection."
  },
  {
    "id": 41138,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Vector128 vs Vector256",
    "content": "How does the JIT handle `Vector256<T>` on older hardware?",
    "explanation": "If the CPU (e.g., old Intel) doesn't support AVX2, using `Vector256` might throw `PlatformNotSupportedException` or fallback to slower emulation. You must guard usage with `Avx2.IsSupported`."
  },
  {
    "id": 41139,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Span: Safety",
    "content": "Why can't `Span<T>` be a field in a class?",
    "explanation": "`Span` can point to stack memory. If stored in a class on the Heap, the class might outlive the stack frame. This would create a **Dangling Pointer**. The compiler enforces 'Ref Structs cannot be on Heap' to prevent this."
  },
  {
    "id": 41140,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "String HashCode Randomization",
    "content": "Why does `GetHashCode` return different values for the same string across process restarts?",
    "explanation": "To prevent **Hash Flooding Attacks** (DoS). The CLR seeds the string hash algorithm with a random value at startup. Never persist `GetHashCode` to disk; it is not stable across sessions."
  },
  {
    "id": 41141,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "SafeHandle",
    "content": "How does `SafeHandle` prevent handle recycling attacks?",
    "explanation": "It uses reference counting internally. When you pass a SafeHandle to P/Invoke, the runtime increments a counter so the handle isn't closed *while* the unmanaged code is using it, even if the managed thread is aborted or the GC runs."
  },
  {
    "id": 41142,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Dynamic Method Dispatch Speed",
    "content": "Which is faster: `dynamic` or Reflection `Invoke`?",
    "explanation": "**dynamic** is faster (after warm-up). It uses CallSite caching. Reflection `Invoke` repeats the metadata lookup and permission checks every time (unless you use delegates). Dynamic approaches the speed of direct calls."
  },
  {
    "id": 41143,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Work Stealing",
    "content": "What is 'Work Stealing' in Server GC?",
    "explanation": "During the Mark phase, GC threads have local queues of objects to mark. If one thread finishes early, it **Steals** tasks (object references) from the queues of other busy threads to balance the load and finish the GC cycle faster."
  },
  {
    "id": 41144,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Execution Context vs Security Context",
    "content": "Does Execution Context flow Security Context?",
    "explanation": "Historically yes (in Framework). In .NET Core, Code Access Security (CAS) is removed, so the Security Context is largely gone. Execution Context primarily flows `AsyncLocal` values now."
  },
  {
    "id": 41145,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "System.Threading.Channels Performance",
    "content": "Why are Channels faster than BlockingCollection?",
    "explanation": "Channels are built for `async`. They use `ValueTask` to avoid allocation when data is ready (synchronous completion). `BlockingCollection` relies on heavy synchronization primitives (Semaphores) and blocking threads."
  },
  {
    "id": 41146,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Exception vs Result Pattern",
    "content": "Internal cost of Result Pattern.",
    "isGood": true,
    "explanation": "Result Pattern (`Result<T>`) avoids the Stack Walk overhead of Exceptions. For control flow (validation errors), Result is orders of magnitude faster. Only use Exceptions for actual system failures."
  },
  {
    "id": 41147,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Inline Array (.NET 8)",
    "content": "How does `[InlineArray]` differ from `fixed` buffer?",
    "explanation": "`fixed` buffer requires `unsafe` code. `[InlineArray]` tells the compiler to treat the struct as a contiguous block of memory safe for indexing. It provides safe, high-performance fixed-size buffers."
  },
  {
    "id": 41148,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Method Table Auxillary Data",
    "content": "Where are Generic Statics stored?",
    "explanation": "`MyClass<int>` and `MyClass<string>` have **Separate** MethodTables. Their static fields are stored in separate memory blocks associated with each specific generic instantiation."
  },
  {
    "id": 41149,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Tuning Latency",
    "content": "What does `GCLatencyMode.SustainedLowLatency` do?",
    "explanation": "It tries to avoid Gen 2 blocking collections for as long as possible. Used by interactive apps/games. Risk: Memory usage grows higher before a collection finally happens (and it will be a big one)."
  },
  {
    "id": 41150,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Runtime Helpers: InitializeArray",
    "content": "How does `RuntimeHelpers.InitializeArray` work?",
    "explanation": "It performs a raw `memcpy` from the Field Data section of the assembly (metadata) directly to the array memory on the heap. It is the fastest way to initialize an array with static constants."
  },
  {
    "id": 41151,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: LOH Compaction Trade-offs",
    "content": "Why is Large Object Heap (LOH) compaction disabled by default, and what is the specific cost of enabling it?",
    "explanation": "Compaction requires copying memory. Moving a 1GB array involves copying 1GB of data, which saturates the CPU and memory bus, causing a massive 'Stop-The-World' pause (potentially seconds). By default, the GC only sweeps the LOH (marking free space) to avoid this latency, leading to fragmentation over time."
  },
  {
    "id": 41152,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Guarded Devirtualization",
    "content": "How does Dynamic PGO use 'Guarded Devirtualization' to optimize interface calls?",
    "explanation": "The JIT instruments the code to see which concrete type implements the interface most often (e.g., `IEnumerable` is 99% `List<T>`). It emits code like: `if (obj is List<T>) call List.Method_Direct(); else call Interface.Method_Virtual();`. This enables inlining for the dominant case while maintaining correctness for others."
  },
  {
    "id": 41153,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Type Layout: Auto vs Sequential",
    "content": "Why does the CLR default to `LayoutKind.Auto` for classes but `LayoutKind.Sequential` for structs?",
    "explanation": "For **Classes** (Auto), the CLR reorders fields to minimize padding/gaps for memory efficiency (e.g., packing `bool`s together). For **Structs** (Sequential), it preserves field order to ensure predictable Interop behavior with unmanaged code (C++), sacrificing some padding efficiency for compatibility."
  },
  {
    "id": 41154,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread Static: Field Access Cost",
    "content": "Is accessing a `[ThreadStatic]` field as fast as a local variable?",
    "explanation": "No. A local variable is a register or stack offset. `[ThreadStatic]` requires fetching the TLS base pointer (via FS/GS segment register), calculating the module index, and offsetting to the field. It is fast (no locks) but significantly slower than a register access."
  },
  {
    "id": 41155,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "MethodTable: Virtual Slots",
    "content": "How does the runtime determine which method to call for `callvirt` on a derived class?",
    "explanation": "It inspects the object's **MethodTable**. The table contains a list of function pointers (slots). The compiler knows the slot index (e.g., `ToString` is Slot 0). The runtime dereferences `MethodTable[0]`. If the class overrides the method, Slot 0 points to the override; otherwise, it points to the base implementation."
  },
  {
    "id": 41156,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Card Table False Positives",
    "content": "Does the Card Table guarantee that a 'dirty' card contains a cross-generation reference?",
    "explanation": "No. It indicates that an object in that memory range *was modified*. It is a heuristic. The GC must scan the objects on that card to verify if they actually point to a younger generation. This trades scan precision for write barrier speed."
  },
  {
    "id": 41157,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Loop Unrolling Limit",
    "content": "Does the JIT unroll *all* loops?",
    "explanation": "No. It uses heuristics based on loop size and iteration count. Excessive unrolling bloats the code size (Instruction Cache pressure), which can degrade performance. The JIT balances the removal of branch overhead against the cost of code bloat."
  },
  {
    "id": 41158,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "String Literal Deduplication Scope",
    "content": "If two different assemblies define the literal \"Hello\", do they share the same String object in memory?",
    "explanation": "Yes. The JIT interns string literals globally across the AppDomain. When Assembly A and Assembly B are loaded, their metadata tokens for \"Hello\" are resolved to the **same** object instance in the intern pool to save memory."
  },
  {
    "id": 41159,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "ValueType: GetHashCode Performance",
    "content": "Why is the default `ValueType.GetHashCode` implementation dangerous for structs with padding?",
    "explanation": "The default implementation (in older runtimes) might hash the raw bytes of the struct. If the struct has padding bytes (garbage data between fields for alignment), two identical structs might have different hash codes if the padding bytes differ. Modern runtimes use reflection to hash fields individually, which is safe but slow."
  },
  {
    "id": 41160,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "SpinWait: Hyper-Threading",
    "content": "Why does `SpinWait` use the `PAUSE` instruction (via `YieldProcessor`)?",
    "explanation": "On Hyper-Threaded CPUs, a tight loop (spinning) consumes execution resources needed by the *other* logical thread on the same core. `PAUSE` hints the CPU to de-pipeline the loop, saving power and yielding resources to the sibling hyper-thread."
  },
  {
    "id": 41161,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Exception Dispatch: Stack Trace Loss",
    "content": "Why does `throw ex` reset the stack trace, while `throw` preserves it?",
    "explanation": "`throw ex` is treated as a **New Exception**. The runtime resets the `_stackTrace` field inside the exception object to the current line. `throw` (rethrow) instructs the runtime to preserve the existing state and continue the stack unwinding process."
  },
  {
    "id": 41162,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Finalizer Thread Priority",
    "content": "What happens if the Finalizer Thread gets blocked or runs too slowly?",
    "explanation": "The Finalization Queue grows indefinitely. This prevents the memory associated with those objects from being reclaimed (Memory Leak). Eventually, the process crashes with `OutOfMemoryException`. Never perform blocking I/O in a finalizer."
  },
  {
    "id": 41163,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Unsafe: Pointers to Generic Types",
    "content": "Can you declare a pointer `T*` where T is a generic type parameter?",
    "explanation": "Only if `T` is constrained to `unmanaged` (C# 7.3+). Before that, you could not, because the compiler couldn't guarantee `T` was a blittable value type safe for pointer arithmetic."
  },
  {
    "id": 41164,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Tiered Compilation Reversion",
    "content": "Can the JIT revert a method from Tier 1 (Optimized) back to Tier 0?",
    "explanation": "Generally No. Optimization is one-way. However, **De-optimization** can occur during debugging (switching to Edit-and-Continue friendly code) or if certain assumptions (like PGO guarded devirtualization) are invalidated by new types loading."
  },
  {
    "id": 41165,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "MemoryBarrier: Hardware Implementation",
    "content": "What CPU instruction does `Thread.MemoryBarrier()` map to on x64?",
    "explanation": "It maps to `MFENCE` (or a locked operation like `LOCK OR [RSP], 0`). It forces the CPU's Store Buffer to drain to the cache and invalidates the Load Queue, ensuring sequential consistency."
  },
  {
    "id": 41166,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "WeakReference: Target Resurrection",
    "content": "Can a `WeakReference` target return `null` and then later return the object again?",
    "explanation": "Yes, if it is a **Long WeakReference** and the object has a Finalizer. After the object is deemed dead, it is resurrected for finalization. During this window, the Long WeakReference points to it again. A Short WeakReference would remain null."
  },
  {
    "id": 41167,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "RuntimeHelpers.PrepareConstrainedRegions",
    "content": "What is the purpose of a Constrained Execution Region (CER)?",
    "explanation": "It ensures a block of code (usually `finally` or `catch`) executes atomically without being interrupted by out-of-band exceptions like `ThreadAbortException` or `OutOfMemoryException`. Used for critical state corruption prevention (e.g., releasing a native handle)."
  },
  {
    "id": 41168,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Array: Covariance Safety Check",
    "content": "Why is assigning to an `object[]` that really holds `string[]` slow?",
    "explanation": "Because of **Array Covariance**. The runtime must perform a type check on *every assignment* to ensure the object being added matches the actual array type (`string`). This `IsInstance` check adds overhead compared to assigning to a `sealed` type array."
  },
  {
    "id": 41169,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Monitor: SyncBlock Index",
    "content": "When does an object get a SyncBlock Index assigned?",
    "explanation": "Only when you call `lock(obj)` (or `Monitor.Enter`) and contention occurs or the Thin Lock is promoted. Most objects never have a SyncBlock Index. This lazy allocation saves memory."
  },
  {
    "id": 41170,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "SIMD: Data Alignment",
    "content": "Why does `Vector<T>` performance degrade on unaligned memory addresses?",
    "explanation": "Modern CPUs handle unaligned loads reasonably well, but they are still slower than aligned loads because they may cross cache-line boundaries (requiring two reads instead of one). Explicit alignment (pinning) ensures max throughput."
  },
  {
    "id": 41171,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Work Stealing Queues",
    "content": "How does Server GC balance load between threads?",
    "explanation": "Using **Work Stealing**. Each GC thread has a local mark stack. If a thread finishes marking its heap segment, it 'steals' a chunk of work (references to trace) from a neighbor thread's stack to ensure all cores stay busy."
  },
  {
    "id": 41172,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Delegate: Open vs Closed",
    "content": "What is the difference between an Open and Closed Delegate?",
    "explanation": "**Closed Delegate**: Binds to a specific target instance (`this`). The first argument is hidden. **Open Delegate**: Does not bind to an instance. The first argument of the delegate signature MUST be the instance type. Used for generic high-performance invocation."
  },
  {
    "id": 41173,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Cold vs Hot Splitting",
    "content": "What is Cold Block Splitting?",
    "explanation": "The JIT moves rarely executed code blocks (like `throw new Exception(...)` branches) to the end of the method's native code. This improves **Instruction Cache Locality** for the hot path, as the CPU doesn't load the error handling instructions into the cache."
  },
  {
    "id": 41174,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Object Pooling: Cache Thrashing",
    "content": "How can a shared `ObjectPool` cause Cache Thrashing?",
    "explanation": "If multiple threads rapidly rent/return objects to a single shared queue, they contend for the lock/interlocked variable. Additionally, an object freed by Core A and immediately rented by Core B causes the cache line containing that object to ping-pong between cores."
  },
  {
    "id": 41175,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Span: Stack-Only Constraint",
    "content": "How does the compiler enforce that `Span<T>` never ends up on the Heap?",
    "explanation": "It marks the struct as `ref struct`. The compiler forbids boxing it, using it as a field in a class, using it in async methods (state machine fields), or using it as a generic type argument. This ensures the 'Interior Pointer' it holds never outlives the stack frame."
  },
  {
    "id": 41176,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "ConditionalWeakTable Implementation",
    "content": "Does `ConditionalWeakTable` use a finalizer to clean up dead keys?",
    "explanation": "No. It relies on the **Dependent Handle** mechanism in the GC. The GC itself scans the table during collection. If a Key is unreachable, the GC atomically severs the link to the Value, allowing both to be collected. No finalizer needed."
  },
  {
    "id": 41177,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "P/Invoke: Marshal.Prelink",
    "content": "What is the purpose of `Marshal.Prelink`?",
    "explanation": "It performs the one-time setup cost (loading DLL, finding entry point) for a P/Invoke method immediately. Without this, the cost is paid on the *first call*. Used to remove jitter from performance-critical loops."
  },
  {
    "id": 41178,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Ephemeral Segments",
    "content": "What is an Ephemeral Segment?",
    "explanation": "The heap segment reserved for **Gen 0 and Gen 1** objects. Gen 2 objects live in older segments. The GC focuses most of its effort on the Ephemeral Segment because that is where most garbage is expected (Weak Generation Hypothesis)."
  },
  {
    "id": 41179,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread.Yield() vs SpinWait",
    "content": "Why does `Thread.Yield()` return a boolean?",
    "explanation": "It returns `true` if the OS successfully switched to another thread, or `false` if no other thread was ready to run. This informs the caller (e.g., a spin lock) whether the yield actually saved CPU time or if it should try sleeping instead."
  },
  {
    "id": 41180,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Unsafe.AsRef",
    "content": "What does `Unsafe.AsRef` allow you to do with a readonly reference (`in T`)?",
    "explanation": "It strips the `readonly` constraint, converting `in T` to `ref T`. This allows you to mutate a struct that was passed as read-only. This is dangerous and violates language guarantees but is used in high-performance serializers."
  },
  {
    "id": 41181,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "DynamicMethod: Restricted Skip Visibility",
    "content": "What is 'Restricted Skip Visibility' in DynamicMethod?",
    "explanation": "It allows the generated IL to access private members of any class, bypassing JIT visibility checks. This is how high-performance libraries (Dapper/Json.NET) access private fields without the slow security checks of standard Reflection."
  },
  {
    "id": 41182,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Alloc Context",
    "content": "What is an Allocation Context?",
    "explanation": "A small buffer of memory (e.g., 8KB) assigned exclusively to a single thread. The thread can allocate objects in this buffer by simply bumping a pointer, without taking a global heap lock. This makes allocations nearly free."
  },
  {
    "id": 41183,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Struct: ValueType.GetHashCode",
    "content": "How does the runtime optimize `GetHashCode` for simple structs?",
    "explanation": "If the struct contains only integers/primitives and no padding, the runtime can bitwise-XOR the memory. If it contains references or padding, it must iterate fields via Reflection. This is why auto-generated `GetHashCode` is slow for complex structs."
  },
  {
    "id": 41184,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Array: Upper Bound Checking",
    "content": "Does the CLR support non-zero lower bound arrays?",
    "explanation": "Yes (`Array.CreateInstance` allows it), but they are **Slower**. The JIT optimizes standard SZArrays (Single-Dimensional, Zero-Based). Non-zero bound arrays are treated as general Multidimensional arrays, losing optimization vectors."
  },
  {
    "id": 41185,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Delegate: Multicast Invocation",
    "content": "How does `MulticastDelegate` execute a chain of methods?",
    "explanation": "It maintains a linked list (invocation list) of delegates. When invoked, it iterates the list and calls them sequentially. If one throws, the iteration stops, and subsequent subscribers are NOT called (unless manually iterated)."
  },
  {
    "id": 41186,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Dead Store Elimination",
    "content": "What is Dead Store Elimination?",
    "explanation": "The JIT removes writes to variables that are never read again. E.g., if you assign `x = 5` and then `x = 10` without reading `x` in between, the first assignment is deleted."
  },
  {
    "id": 41187,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GCHandle: WeakTrackResurrection",
    "content": "What does `GCHandleType.WeakTrackResurrection` do?",
    "explanation": "It creates a weak reference that remains valid even if the object has been finalized (resurrected). Standard weak references are zeroed out before finalization."
  },
  {
    "id": 41188,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "AppDomain Unload",
    "content": "Does .NET Core support AppDomain Unload?",
    "explanation": "No. In .NET Framework, you could unload an AppDomain to free memory (assemblies). In .NET Core, AppDomains are not isolated. You must use `AssemblyLoadContext` with `isCollectible: true` to unload assemblies."
  },
  {
    "id": 41189,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Span: Memory Safety",
    "content": "How does `Span<T>` prevent buffer overruns?",
    "explanation": "It stores the pointer AND the length. Accessing `span[i]` performs a bounds check against the length (which the JIT can often eliminate). It prevents reading beyond the allocated memory, unlike raw pointers."
  },
  {
    "id": 41190,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Thread.MemoryBarrier: StoreBuffer",
    "content": "Why is a Memory Barrier needed after a Store (Write)?",
    "explanation": "CPUs buffer writes in a **Store Buffer** to avoid waiting for the cache. A subsequent Read might happen *before* the Write is flushed to the shared cache. The Barrier forces the Store Buffer to drain, ensuring Visibility."
  },
  {
    "id": 41191,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Reflection: TypedReference",
    "content": "What is `__makeref`?",
    "explanation": "A hidden C# keyword that creates a `TypedReference`. It allows passing a variable by reference *dynamically* without knowing its type at compile time. Used internally by `VarArgs` functions like `printf`."
  },
  {
    "id": 41192,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: Tuning Latency Mode",
    "content": "What is the risk of `GCLatencyMode.SustainedLowLatency`?",
    "explanation": "It forbids blocking Gen 2 collections. Memory usage will grow indefinitely until the mode is turned off or the system runs out of memory (triggering a forced full GC anyway). Use only for short critical durations."
  },
  {
    "id": 41193,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Vector: Hardware Acceleration Check",
    "content": "Does `Vector.IsHardwareAccelerated` check the JIT setting or the CPU capability?",
    "explanation": "Both. It returns true only if the CPU supports SIMD *and* the JIT is enabled to use it (Release mode). In Debug mode, it might return false because optimization is disabled."
  },
  {
    "id": 41194,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Stack Alloc: Zero Init",
    "content": "Why does `stackalloc` zero memory and how to skip it?",
    "explanation": "C# ensures variables are initialized. `stackalloc` emits a `localloc` instruction followed by a `initblk` (zero loop). Use `[SkipLocalsInit]` to bypass the zeroing loop for performance."
  },
  {
    "id": 41195,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "RuntimeHelpers.IsReferenceOrContainsReferences",
    "content": "What is `IsReferenceOrContainsReferences` used for?",
    "explanation": "It allows generic code to check if `T` needs GC tracking. If `false` (e.g., `int` or `struct { int x; }`), the GC can ignore arrays of this type (Pinned optimization). If `true`, the GC must scan it for roots."
  },
  {
    "id": 41196,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "MethodImplOptions.Synchronized",
    "content": "What does `[MethodImpl(MethodImplOptions.Synchronized)]` do?",
    "explanation": "It wraps the entire method body in `lock(this)` (for instance) or `lock(typeof(T))` (for static). **Anti-Pattern**: Locking on `this` or `typeof` is dangerous (public objects). Use a private lock object instead."
  },
  {
    "id": 41197,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Delegate: Target Property Leak",
    "content": "How does `Delegate.Target` cause memory leaks?",
    "explanation": "It keeps the instance alive. If you subscribe a short-lived object's method to a long-lived static event, the static event holds the Delegate, which holds the Target (object). The object cannot be collected."
  },
  {
    "id": 41198,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "JIT: Range Check Elimination",
    "content": "How does the JIT eliminate bounds checks in a loop `for(int i=0; i<arr.Length; i++)`?",
    "explanation": "It proves that `i` starts at 0 and never exceeds `Length`. Therefore, `arr[i]` is always safe. If you modify `Length` or `i` in complex ways inside the loop, the JIT fails to prove safety and keeps the checks."
  },
  {
    "id": 41199,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "GC: LOH Threshold Tuning",
    "content": "Can you change the 85KB LOH threshold?",
    "explanation": "No, it is hardcoded in the CLR. However, .NET 8 introduced configurations to adjust heap limits, but the 85KB definition of 'Large Object' remains constant for the allocator logic."
  },
  {
    "id": 41200,
    "category": ".NET Internals",
    "difficulty": "Principal",
    "title": "Inline Array: Performance",
    "content": "Why are `[InlineArray]` structs faster than fixed buffers?",
    "explanation": "They are type-safe and managed by the runtime's standard struct logic, avoiding the need for `unsafe` contexts. The JIT can optimize access to them just like local variables or fields, often enregistering small arrays completely."
  },
  {
    "id": 60001,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "OOPS Concepts",
    "content": "What are the main concepts of OOPS?",
    "explanation": "The main concepts of Object-Oriented Programming (OOPS) are:\n1. **Abstraction**: Showing only required things and hiding background details.\n2. **Encapsulation**: Wrapping data and methods into a single unit and restricting direct access to fields.\n3. **Polymorphism**: The ability of a variable, object, or function to take on multiple forms (Overloading/Overriding).\n4. **Inheritance**: Creating a parent-child relationship between classes where the child acquires properties of the parent.\n5. **Class**: A logical unit or blueprint containing fields, methods, and properties.\n6. **Object**: An instance of a class."
  },
  {
    "id": 60002,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Inheritance Importance",
    "content": "What is Inheritance and why is it important?",
    "explanation": "Inheritance creates a Parent-Child relationship between two classes where the child class automatically acquires the properties and methods of the parent class. It is important for **Code Reusability** and **Abstraction**. For example, a `ContractEmployee` class can inherit from an `Employee` base class to reuse common logic like `CalculateSalary()` without rewriting it."
  },
  {
    "id": 60003,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Types of Inheritance",
    "content": "What are the different types of inheritance supported in C#?",
    "explanation": "C# supports:\n1. **Single Inheritance**: One base class and one derived class.\n2. **Multi-Level Inheritance**: A chain where Child derives from Parent, which derives from Grandparent.\n3. **Hierarchical Inheritance**: Multiple child classes derive from a single base class.\n4. **Multiple Inheritance**: **Not directly supported** with classes (a class cannot inherit from two classes). It is achieved using **Interfaces**."
  },
  {
    "id": 60004,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Preventing Inheritance",
    "content": "How do you prevent a class from being inherited?",
    "explanation": "By using the `sealed` keyword. If you mark a class as `sealed class ABC`, any attempt to derive a class `XYZ : ABC` will result in a compiler error: 'cannot derive from sealed type'."
  },
  {
    "id": 60005,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Abstraction",
    "content": "Explain Abstraction with a real-world example.",
    "explanation": "Abstraction means showing only the necessary details and hiding the background complexity. For example, a car driver knows how to use the steering wheel, gears, and brakes (public interface), but the internal working of the engine and combustion (implementation details) is hidden from them."
  },
  {
    "id": 60006,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Encapsulation",
    "content": "What is Encapsulation and how is it implemented in C#?",
    "explanation": "Encapsulation is the wrapping of data (fields) and methods (behavior) into a single unit (class) and restricting access to the inner workings. In C#, this is implemented using **Properties**. Private fields (`private int experience`) are wrapped by public properties (`public int Experience { get; set; }`) to control access logic."
  },
  {
    "id": 60007,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Polymorphism Types",
    "content": "What is Polymorphism and what are its types?",
    "explanation": "Polymorphism is the ability of a method or object to take multiple forms. There are two types:\n1. **Compile Time (Static)**: Method Overloading (same name, different parameters).\n2. **Run Time (Dynamic)**: Method Overriding (same name/signature in parent and child, decided at runtime)."
  },
  {
    "id": 60008,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Method Overloading",
    "content": "What is Method Overloading and in how many ways can it be achieved?",
    "explanation": "Method Overloading is creating multiple methods with the same name in the same class but with different signatures. It can be achieved by:\n1. Changing the **number** of parameters.\n2. Changing the **type** of parameters.\n3. Changing the **order** of parameters."
  },
  {
    "id": 60009,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Overloading vs Overriding",
    "content": "What is the difference between Overloading and Overriding?",
    "explanation": "**Overloading** happens in the *same class* and requires different parameters (Compile-time). **Overriding** happens in *derived classes* (inheritance), requires the same signature, and uses `virtual`/`override` keywords (Run-time). Overriding allows a child class to provide a specific implementation of a method defined in the parent."
  },
  {
    "id": 60010,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Method Hiding",
    "content": "What is the difference between Method Overriding and Method Hiding?",
    "explanation": "**Overriding** uses `virtual` in the base and `override` in the child; the child method is called even when holding a reference to the base class. **Method Hiding** uses the `new` keyword in the child class; the child method is *hidden* when accessed via a base class reference, and the base method executes instead."
  },
  {
    "id": 60011,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Advantages and Limitations of OOPS",
    "content": "What are the main advantages and limitations of OOPS?",
    "explanation": "**Advantages**: Code reuse (Inheritance), Flexibility (Polymorphism), Data Security (Encapsulation), Modularity/Troubleshooting.\n**Limitations**: Not suitable for very small applications where the overhead of designing class hierarchies and planning relationships outweighs the benefits."
  },
  {
    "id": 60012,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Abstract Class vs Interface",
    "content": "What is the main difference between an Abstract Class and an Interface?",
    "explanation": "1. **Methods**: Abstract classes can have both defined (concrete) and declared (abstract) methods. Interfaces can only have declarations (until C# 8).\n2. **Inheritance**: A class can inherit only **one** Abstract Class but can implement **multiple** Interfaces.\n3. **Members**: Abstract classes can have fields, constants, and constructors; Interfaces cannot have fields or constructors."
  },
  {
    "id": 60013,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Choosing Abstract vs Interface",
    "content": "When should you use an Abstract Class versus an Interface?",
    "explanation": "Use an **Abstract Class** when you have common functionality to share across derived classes (e.g., `Employee` role logic) and need to enforce a specific hierarchy. Use an **Interface** when you need to define a contract/capability (e.g., `IDisposable`, `IFlyable`) that can be implemented by unrelated classes, or when you need multiple inheritance."
  },
  {
    "id": 60014,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Why Interface?",
    "content": "Why create Interfaces at all?",
    "explanation": "1. To achieve **Multiple Inheritance** (a class can implement multiple interfaces).\n2. To ensure **Consistency** and loose coupling; enforcing that different classes (e.g., `PermanentEmployee`, `ContractEmployee`) implement specific methods like `SetSalary()` and `SetProject()`."
  },
  {
    "id": 60015,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Interface Constructor",
    "content": "Can an Interface have a constructor?",
    "explanation": "**No.** Interfaces cannot be instantiated directly, so they do not have constructors. They are purely contracts defining what a class must implement."
  },
  {
    "id": 60016,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Instantiating Abstract Classes",
    "content": "Can you create an instance of an Abstract Class or Interface?",
    "explanation": "**No.** You cannot create an object (`new AbstractClass()`) of an abstract class or interface. They can only be derived from or implemented by other classes which can then be instantiated."
  },
  {
    "id": 60017,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Access Modifiers",
    "content": "What are the Access Specifiers in C# and what is the default for a class?",
    "explanation": "Specifiers: `Public`, `Private`, `Protected`, `Internal`, `Protected Internal`. \n**Default for Class**: `Internal` (accessible only within the same assembly).\n**Default for Class Member**: `Private`."
  },
  {
    "id": 60018,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Boxing and Unboxing",
    "content": "What is Boxing and Unboxing?",
    "explanation": "**Boxing** is the implicit conversion of a Value Type (e.g., `int`) to a Reference Type (`object`), storing it on the Heap. **Unboxing** is the explicit conversion of that reference type back to a value type. Unboxing requires an explicit cast: `int i = (int)obj;`."
  },
  {
    "id": 60019,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "String vs StringBuilder",
    "content": "What is the difference between String and StringBuilder?",
    "explanation": "**String** is **Immutable**; every modification (e.g., concatenation) creates a new object in memory, which is inefficient for loops. **StringBuilder** is **Mutable**; it modifies the string in place without creating new objects, making it much more performant for frequent string manipulations."
  },
  {
    "id": 60020,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Basic String Operations",
    "content": "Name some basic string operations in C#.",
    "explanation": "1. **Concatenate**: Using `+` or `String.Concat`.\n2. **Replace**: `str.Replace(\"a\", \"b\")`.\n3. **Trim**: `str.Trim()` removes whitespace.\n4. **Contains**: `str.Contains(\"text\")` checks for substrings."
  },
  {
    "id": 60021,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Nullable Types",
    "content": "What are Nullable Types?",
    "explanation": "Value types (like `int`, `bool`) cannot normally hold `null`. Nullable types allow them to hold a value or `null`. Syntax: `int? i = null;` or `Nullable<int> i = null;`. Useful for database fields that allow nulls."
  },
  {
    "id": 60022,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Generics",
    "content": "Explain Generics and why we use them.",
    "explanation": "Generics allow defining classes/methods with a placeholder for the type (`<T>`), making them type-safe and reusable. They prevent **Boxing/Unboxing** overhead (performance) and runtime type errors. Example: `List<T>` can be `List<int>` or `List<string>` without rewriting code."
  },
  {
    "id": 60023,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Exception Handling Keywords",
    "content": "How is exception handling implemented in C#?",
    "explanation": "Using keywords:\n1. **Try**: Block where exceptions might occur.\n2. **Catch**: Block that handles the exception.\n3. **Finally**: Block that executes regardless of success or failure (used for cleanup).\n4. **Throw**: Used to raise an exception manually."
  },
  {
    "id": 60024,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Multiple Catch Blocks",
    "content": "Can we execute multiple catch blocks?",
    "explanation": "**No.** You can write multiple catch blocks to handle different specific exception types (e.g., `ArithmeticException` vs `ArgumentNullException`), but **only one** (the first matching one) will be executed."
  },
  {
    "id": 60025,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Finally Block Usage",
    "content": "What is the purpose of the Finally block?",
    "explanation": "The `finally` block executes irrespective of whether an exception occurred or not. It is primarily used for **Resource Cleanup**, such as closing Database Connections (`con.Close()`) or disposing file streams."
  },
  {
    "id": 60026,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Try without Catch",
    "content": "Can we have a Try block without a Catch block?",
    "explanation": "**Yes**, but it must be followed by a **Finally** block. `try { ... } finally { ... }` is valid syntax, useful when you want to guarantee cleanup but let the exception bubble up to the caller."
  },
  {
    "id": 60027,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Throw vs Throw Ex",
    "content": "What is the difference between `throw` and `throw ex`?",
    "explanation": "`throw` (alone) **preserves** the original stack trace, allowing you to see the original source of the error. `throw ex` **resets** the stack trace to the current line, making debugging difficult as you lose the original error context."
  },
  {
    "id": 60028,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Loop Types",
    "content": "What are the loop types in C#?",
    "explanation": "1. **While**: Checks condition first, then executes.\n2. **Do-While**: Executes at least once, then checks condition.\n3. **For**: Loop with initialization, condition, and increment in one line.\n4. **Foreach**: Iterates over collections (`IEnumerable`)."
  },
  {
    "id": 60029,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Continue vs Break",
    "content": "What is the difference between Continue and Break?",
    "explanation": "**Continue**: Skips the current iteration and jumps to the *next iteration* of the loop.\n**Break**: Exits the loop entirely and transfers control to the statement *after* the loop."
  },
  {
    "id": 60030,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Array vs ArrayList",
    "content": "What is the difference between Array and ArrayList?",
    "explanation": "**Array**: Strongly typed, fixed size. `int[]` can only store integers.\n**ArrayList**: Non-generic (stores `object`), variable size. It can store mixed types but requires Boxing/Unboxing (slower). Modern C# prefers `List<T>` over `ArrayList`."
  },
  {
    "id": 60031,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "ArrayList vs Hashtable",
    "content": "What is the difference between ArrayList and Hashtable?",
    "explanation": "**ArrayList**: Stores a list of items accessed by an integer index.\n**Hashtable**: Stores **Key-Value pairs**. You access items using the Key (e.g., `table[\"Name\"]`). Both are non-generic collections."
  },
  {
    "id": 60032,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Collections",
    "content": "What are Collections in C#?",
    "explanation": "Classes designed to store and manipulate groups of objects. Types include:\n- **Generic** (`System.Collections.Generic`): `List<T>`, `Dictionary<TKey, TValue>` (Type-safe).\n- **Non-Generic** (`System.Collections`): `ArrayList`, `Hashtable` (Object-based).\n- **Concurrent**: Thread-safe versions."
  },
  {
    "id": 60033,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "IEnumerable",
    "content": "What is IEnumerable?",
    "explanation": "An interface that enables iteration over a collection using a `foreach` loop. It provides the `GetEnumerator()` method. It is the base interface for all non-generic collections."
  },
  {
    "id": 60034,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "IEnumerable vs IEnumerator",
    "content": "What is the difference between IEnumerable and IEnumerator?",
    "explanation": "**IEnumerable** is the collection (box) that *contains* the data and implements `GetEnumerator()`. **IEnumerator** is the cursor (pointer) that actually iterates the data (`MoveNext()`, `Current`)."
  },
  {
    "id": 60035,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "IEnumerable vs IQueryable",
    "content": "Why use IQueryable over IEnumerable for database queries?",
    "explanation": "**IEnumerable** fetches *all data* from the DB to memory and filters on the client-side (bad performance). **IQueryable** translates the filter logic into a SQL query and filters on the **Database Server**, returning only the needed rows (good performance)."
  },
  {
    "id": 60036,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Out vs Ref",
    "content": "What is the difference between `out` and `ref` parameters?",
    "explanation": "1. **Initialization**: `ref` variable must be initialized *before* passing. `out` variable does not need initialization.\n2. **Assignment**: `out` parameter *must* be assigned a value inside the method before returning. `ref` parameter doesn't enforce this."
  },
  {
    "id": 60037,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Params Keyword",
    "content": "What is the `params` keyword?",
    "explanation": "It allows a method to accept a variable number of arguments as a single array parameter. E.g., `Add(params int[] numbers)` can be called as `Add(1, 2, 3, 4)`."
  },
  {
    "id": 60038,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Constructor Types",
    "content": "What are the types of Constructors in C#?",
    "explanation": "1. **Default**: No parameters.\n2. **Parameterized**: Takes arguments to initialize fields.\n3. **Static**: Runs once per class to initialize static members.\n4. **Private**: Prevents instantiation (used in Singleton/Static classes).\n5. **Copy**: Creates a new object by copying another."
  },
  {
    "id": 60039,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Private Constructor",
    "content": "When would you use a Private Constructor?",
    "explanation": "When a class contains only static members (like a Utility class) or to implement the **Singleton Pattern**, ensuring that the class cannot be instantiated by external code."
  },
  {
    "id": 60040,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Extension Methods",
    "content": "What are Extension Methods and how do you create one?",
    "explanation": "They allow adding new methods to existing types without modifying the source code. Created as a `static` method in a `static` class, using the `this` keyword on the first parameter. Example: `public static void RightSubstring(this String s, int count)`."
  },
  {
    "id": 60041,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Delegates",
    "content": "What is a Delegate?",
    "explanation": "A type-safe function pointer. It holds a reference to a method. It allows methods to be passed as parameters to other methods, commonly used for callbacks and event handling."
  },
  {
    "id": 60042,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Multicast Delegate",
    "content": "What is a Multicast Delegate?",
    "explanation": "A delegate that holds references to **more than one** method. When invoked, it calls all the methods in its invocation list sequentially. You add methods using `+=`."
  },
  {
    "id": 60043,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Anonymous Delegates",
    "content": "What are Anonymous Delegates?",
    "explanation": "Delegates where the method logic is defined inline using the `delegate` keyword, without needing a separate named method. Precursor to Lambda Expressions."
  },
  {
    "id": 60044,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Event vs Delegate",
    "content": "What is the difference between an Event and a Delegate?",
    "explanation": "An **Event** is a wrapper around a Delegate to improve security. A Delegate can be invoked directly by anyone. An Event can only be invoked by the class that declared it; subscribers can only add/remove (`+=`, `-=`) themselves."
  },
  {
    "id": 60045,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "This Keyword",
    "content": "What is the `this` keyword?",
    "explanation": "It refers to the **Current Instance** of the class. It is commonly used to distinguish between class fields and constructor parameters with the same name (e.g., `this.name = name`)."
  },
  {
    "id": 60046,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Using Keyword Purpose",
    "content": "What are the two uses of the `using` keyword?",
    "explanation": "1. **Directive**: Importing namespaces (`using System.IO;`).\n2. **Statement**: Ensuring `Dispose()` is called on `IDisposable` objects automatically (e.g., `using(var conn = new SqlConnection()) { ... }`)."
  },
  {
    "id": 60047,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Is vs As Operators",
    "content": "What is the difference between `is` and `as`?",
    "explanation": "**`is`**: Checks if an object is compatible with a type and returns boolean `true/false`.\n**`as`**: Tries to cast the object to a type. Returns the object if successful, or `null` if the cast fails (does not throw exception)."
  },
  {
    "id": 60048,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Readonly vs Const",
    "content": "What is the difference between `readonly` and `const`?",
    "explanation": "**`const`**: Compile-time constant. Must be assigned at declaration. Value is embedded in the IL.\n**`readonly`**: Runtime constant. Can be assigned at declaration OR in the **Constructor**. Allows different values for different instances."
  },
  {
    "id": 60049,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Static Class",
    "content": "What is a Static Class?",
    "explanation": "A class that cannot be instantiated (`new`) and cannot be inherited. It can only contain static members. Used as a container for utility methods and extension methods."
  },
  {
    "id": 60050,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Var vs Dynamic",
    "content": "What is the difference between `var` and `dynamic`?",
    "explanation": "**`var`**: Compile-time type inference. The type is fixed at compile time. IntelliSense works.\n**`dynamic`**: Run-time type resolution. The type is checked at execution time. No IntelliSense, errors are caught at runtime."
  },
  {
    "id": 60051,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Managed vs Unmanaged Code",
    "content": "What is the fundamental difference between Managed and Unmanaged code in .NET?",
    "explanation": "**Managed Code** is executed by the CLR (Common Language Runtime). It benefits from services like Garbage Collection, Type Safety, and Exception Handling. The source code is compiled to IL (Intermediate Language). **Unmanaged Code** executes directly on the OS (e.g., C/C++ DLLs, COM components). It manages its own memory and security, often requiring explicit `Marshal` operations to interact with."
  },
  {
    "id": 60052,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "JIT Compilation Types",
    "content": "What is JIT and what are the different types of JIT compilers in .NET?",
    "explanation": "JIT (Just-In-Time) compiles IL code to Native Machine code at runtime. Types include:\n1. **Pre-JIT**: Compiles entire assemblies at install time (Ngen.exe).\n2. **Econo-JIT**: Compiles methods on demand but does not optimize them (obsolete in modern versions).\n3. **Normal JIT**: Compiles methods on demand and optimizes them for the specific hardware. Modern .NET uses **Tiered Compilation** (Quick JIT first, then Optimized JIT in background)."
  },
  {
    "id": 60053,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Garbage Collection Generations",
    "content": "Explain the concept of Generations in .NET Garbage Collection.",
    "explanation": "The Heap is divided into 3 generations to optimize performance:\n* **Gen 0**: Short-lived objects (e.g., local variables). Collected frequently (fast).\n* **Gen 1**: Buffer between Gen 0 and Gen 2. Objects that survive Gen 0 promotion.\n* **Gen 2**: Long-lived objects (e.g., static data, huge caches). Collected rarely (slow, full blocking). Optimizing code often means preventing Gen 0 objects from being promoted to Gen 2."
  },
  {
    "id": 60054,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Dispose vs Finalize",
    "content": "What is the specific difference between `Dispose()` and `Finalize()`?",
    "explanation": "**Dispose()** is deterministic. It is called explicitly by code (or `using` block) to release unmanaged resources immediately. **Finalize()** (Destructor) is non-deterministic. It is called by the GC when the object is collected. Implementing a Finalizer delays memory reclamation (promotes object to next generation). Always prefer `Dispose()`."
  },
  {
    "id": 60055,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Global Assembly Cache (GAC)",
    "content": "What is the GAC and is it relevant in .NET Core?",
    "explanation": "**GAC** (Global Assembly Cache) stores shared assemblies globally on a machine for .NET Framework applications. It solves DLL Hell by allowing side-by-side versioning. In **.NET Core/.NET 5+**, the GAC **does not exist**. Dependencies are local to the application folder (self-contained) to ensure isolation and portability."
  },
  {
    "id": 60056,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Application Domain",
    "content": "What is an AppDomain?",
    "explanation": "An **AppDomain** is a lightweight, logical process within a physical OS process. It provides isolation: if one AppDomain crashes, others remain stable. Static variables are scoped to the AppDomain. Note: .NET Core only supports a single AppDomain per process; isolation is achieved via Containers/Processes instead."
  },
  {
    "id": 60057,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "CTS and CLS",
    "content": "What are CTS (Common Type System) and CLS (Common Language Specification)?",
    "explanation": "**CTS**: Defines how types (int, string, class) are declared, used, and managed in the runtime, ensuring type safety across languages.\n**CLS**: A subset of CTS defining a set of rules that all .NET languages must support. If your code is CLS-compliant, it can be consumed by any .NET language (C#, VB.NET, F#)."
  },
  {
    "id": 60058,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Thread vs Task",
    "content": "Why choose Task over Thread?",
    "explanation": "**Thread**: A low-level OS resource. Creating one is expensive (~1MB stack + syscalls). Context switching is slow.\n**Task**: A high-level abstraction backed by the **ThreadPool**. It is lightweight and optimized for state-machine execution. Tasks allow better resource utilization via non-blocking Async/Await patterns."
  },
  {
    "id": 60059,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Code Access Security (CAS)",
    "content": "What is Code Access Security (CAS)?",
    "explanation": "A security mechanism in .NET Framework to restrict what code can do (e.g., preventing code downloaded from the internet from accessing the hard drive). **Note**: CAS is **deprecated/obsolete** in .NET Core and .NET 5+. Security is now enforced at the OS/Container level."
  },
  {
    "id": 60060,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Reflection Usage",
    "content": "What is Reflection and when should you use it?",
    "explanation": "Reflection allows inspecting and manipulating metadata (types, methods, properties) at runtime. It is used for late binding, serialization (JSON), and ORMs (EF Core). **Downside**: It is slow (no JIT optimization) and breaks compile-time safety. Use sparingly or use Source Generators instead."
  },
  {
    "id": 60061,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Serialization",
    "content": "What is Serialization?",
    "explanation": "The process of converting an object instance into a portable format (Byte stream, JSON, XML) for storage or transmission. Deserialization is the reverse. Common scenarios: Saving session state, caching objects in Redis, or sending data over a Web API."
  },
  {
    "id": 60062,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Difference between CONST and READONLY",
    "content": "Deep dive: const vs readonly.",
    "explanation": "**const**: Compile-time constant. Value is substituted directly into IL code at call sites. If Library A changes a const value, Client B must **recompile** to see the change.\n**readonly**: Runtime constant. Value is looked up at runtime. Can be initialized in the constructor. If Library A changes, Client B sees it immediately without recompilation."
  },
  {
    "id": 60063,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Using Statement Internals",
    "content": "What does the `using` statement compile to?",
    "explanation": "It compiles to a `try...finally` block. The resource is declared, and in the `finally` block, the compiler checks `if (resource != null) resource.Dispose();`. This ensures cleanup even if an exception occurs inside the block."
  },
  {
    "id": 60064,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Extension Methods Binding",
    "content": "How are Extension Methods resolved by the compiler?",
    "explanation": "They are syntactic sugar. `obj.Method()` is translated to `StaticClass.Method(obj)`. The compiler looks for static methods in static classes within the imported namespaces (`using`) that match the signature. Instance methods always take precedence over extension methods."
  },
  {
    "id": 60065,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Indexers",
    "content": "What is an Indexer in C#?",
    "explanation": "An indexer allows an object to be indexed like an array using `[]`. It is defined using the `this` keyword: `public T this[int index] { get { ... } set { ... } }`. Useful for creating custom collection wrappers."
  },
  {
    "id": 60066,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Delegates vs Events",
    "content": "Why wrap a Delegate in an Event?",
    "explanation": "An **Event** provides encapsulation around a Delegate. It restricts external access to only `+=` (subscribe) and `-=` (unsubscribe). Without `event`, external classes could invoke the delegate directly or wipe out other subscribers by setting it to `null`."
  },
  {
    "id": 60067,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "RDBMS vs DBMS",
    "content": "What is the key difference between RDBMS and DBMS?",
    "explanation": "**DBMS** stores data as files; **RDBMS** stores data in tables with defined relationships (Primary/Foreign Keys) and enforces data integrity constraints (Normalization). RDBMS (SQL Server) is standard for transactional apps."
  },
  {
    "id": 60068,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Normalization Forms",
    "content": "Explain 1NF, 2NF, and 3NF briefly.",
    "explanation": "**1NF**: Atomic values (no comma-separated lists), unique rows.\n**2NF**: 1NF + No Partial Dependency (all non-key columns depend on the *whole* primary key).\n**3NF**: 2NF + No Transitive Dependency (non-key columns depend *only* on the primary key, not on other non-key columns)."
  },
  {
    "id": 60069,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Denormalization",
    "content": "When should you Denormalize a database?",
    "explanation": "Denormalization introduces redundancy to improve **Read Performance**. It avoids expensive JOINS by duplicating data (e.g., storing `CustomerName` in the `Orders` table). Trade-off: Slower writes and risk of data inconsistency (update anomalies)."
  },
  {
    "id": 60070,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Clustered Index",
    "content": "What is a Clustered Index?",
    "explanation": "It determines the **Physical Order** of data on the disk. The leaf nodes of the B-Tree contain the actual data pages. A table can have only **one** Clustered Index (usually the Primary Key). Queries using this index are the fastest."
  },
  {
    "id": 60071,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Non-Clustered Index",
    "content": "What is a Non-Clustered Index?",
    "explanation": "A separate structure (B-Tree) that stores the index key and a pointer (Row Locator) to the actual data. A table can have multiple Non-Clustered indexes. If a query needs columns not in the index, it performs a **Key Lookup** (expensive)."
  },
  {
    "id": 60072,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "ACID Properties",
    "content": "What are ACID properties?",
    "explanation": "**Atomicity**: All or nothing transaction.\n**Consistency**: DB moves from one valid state to another (constraints respected).\n**Isolation**: Concurrent transactions do not affect each other.\n**Durability**: Committed data is saved permanently even if power fails."
  },
  {
    "id": 60073,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Triggers",
    "content": "What are Triggers and when should you avoid them?",
    "explanation": "Stored scripts that execute automatically on INSERT/UPDATE/DELETE. Avoid them for business logic because they are **hidden**, hard to debug, and execute in the same transaction context, slowing down the main operation."
  },
  {
    "id": 60074,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "View vs Materialized View",
    "content": "What is a View vs an Indexed (Materialized) View?",
    "explanation": "**View**: A saved query. It computes data dynamically every time it is accessed.\n**Indexed View**: The query result is physically stored and updated automatically when underlying data changes. Great for complex aggregations (SUM/COUNT) but slows down writes."
  },
  {
    "id": 60075,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Stored Procedure vs Function",
    "content": "Difference between Stored Procedure and Function in SQL.",
    "explanation": "**Procedure**: Can perform actions (INSERT/UPDATE), return multiple result sets, handle Transactions. Cannot be used in SELECT statements.\n**Function**: Must return a value. Cannot modify database state (DML). Can be used inline in SELECT statements (`SELECT dbo.GetTax(Price)...`)."
  },
  {
    "id": 60076,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Union vs Union All",
    "content": "Why is UNION ALL faster than UNION?",
    "explanation": "**UNION** performs a `DISTINCT` operation to remove duplicates, which requires sorting/hashing the result set (expensive). **UNION ALL** simply concatenates results. Always prefer `UNION ALL` unless you specifically need deduplication."
  },
  {
    "id": 60077,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Cross Join",
    "content": "What is a Cross Join?",
    "explanation": "A Cartesian Product. It combines every row from Table A with every row from Table B. If Table A has 100 rows and B has 100, result is 10,000 rows. Useful for generating combinations (e.g., Size x Color) but dangerous on large tables."
  },
  {
    "id": 60078,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Self Join",
    "content": "When would you use a Self Join?",
    "explanation": "When a table has a hierarchical relationship with itself. Example: `Employees` table with `ManagerID`. You join `Employees e` with `Employees m` on `e.ManagerID = m.EmployeeID` to get the Manager's name."
  },
  {
    "id": 60079,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Identity vs Sequence",
    "content": "What is the difference between Identity and Sequence in SQL?",
    "explanation": "**Identity**: A property of a single table column. Auto-increments automatically.\n**Sequence**: A global object in the database. Generates numbers independent of any table. Can be shared across multiple tables or used to generate IDs before insertion."
  },
  {
    "id": 60080,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Delete vs Truncate",
    "content": "Difference between DELETE and TRUNCATE.",
    "explanation": "**DELETE**: DML command. Deletes row-by-row, logs every deletion (slow). Can use WHERE clause. Triggers fire.\n**TRUNCATE**: DDL command. Deallocates data pages (fast). Resets Identity. Cannot use WHERE. Triggers do not fire."
  },
  {
    "id": 60081,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Having vs Where",
    "content": "Difference between WHERE and HAVING.",
    "explanation": "**WHERE**: Filters rows *before* aggregation (Grouping). Cannot use aggregate functions like `SUM()`.\n**HAVING**: Filters groups *after* aggregation. Used with `GROUP BY`. Example: `HAVING COUNT(*) > 5`."
  },
  {
    "id": 60082,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Temp Table vs Table Variable",
    "content": "When to use #TempTable vs @TableVariable?",
    "explanation": "**#TempTable**: Stored in TempDB. Supports Indexes and Statistics. Scope: Session. Better for large datasets (>100 rows).\n**@TableVariable**: In-memory (mostly). No Statistics (Optimizer assumes 1 row). Scope: Batch. Better for very small datasets."
  },
  {
    "id": 60083,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "CTE (Common Table Expression)",
    "content": "What is a CTE and why use it?",
    "explanation": "A temporary named result set (like a variable for a query). Increases readability over subqueries. Essential for **Recursive Queries** (e.g., traversing a tree hierarchy). Not physically stored like a Temp Table."
  },
  {
    "id": 60084,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Cursor Performance",
    "content": "Why are Cursors bad for performance?",
    "explanation": "Cursors process data **Row-by-Row** (RBAR - Row By Agonizing Row), defeating the set-based optimization of SQL Server. They hold locks longer and consume network overhead. Always prefer Set-based operations (`UPDATE ... WHERE`)."
  },
  {
    "id": 60085,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL Injection",
    "content": "How do you prevent SQL Injection?",
    "explanation": "Never concatenate user input into SQL strings. Use **Parameterized Queries** (e.g., `SqlCommand.Parameters.Add()`) or an ORM like Entity Framework. This ensures input is treated as data literal, not executable code."
  },
  {
    "id": 60086,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Isolation Levels",
    "content": "What is the default Isolation Level and what is Read Uncommitted?",
    "explanation": "Default: **Read Committed** (Readers block Writers, Writers block Readers). **Read Uncommitted** (`NOLOCK`): Reads dirty data (uncommitted changes). Fast but risky. **Snapshot**: Readers don't block Writers (uses versioning)."
  },
  {
    "id": 60087,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Index Fragmentation",
    "content": "What causes Index Fragmentation?",
    "explanation": "Inserting data randomly (e.g., UUID keys) causes **Page Splits**. The engine has to move half a page to a new location, leaving empty space. This wastes disk I/O and RAM. Fix with `REORGANIZE` or `REBUILD`."
  },
  {
    "id": 60088,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Execution Plan",
    "content": "How do you check why a query is slow?",
    "explanation": "Check the **Execution Plan**. Look for **Table Scans** (missing index), **Key Lookups** (non-covering index), or high cost operators like **Sort**. Use `SET STATISTICS IO ON` to check logical reads."
  },
  {
    "id": 60089,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Magic Tables",
    "content": "What are Magic Tables in SQL Triggers?",
    "explanation": "**Inserted** and **Deleted**. Virtual tables available inside a Trigger. `Inserted` holds the new rows (for INSERT/UPDATE). `Deleted` holds the old rows (for DELETE/UPDATE). Used for auditing or validation."
  },
  {
    "id": 60090,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Collation",
    "content": "What is Collation in SQL?",
    "explanation": "Rules for sorting and comparing text. Determines Case Sensitivity (`CS` vs `CI`) and Accent Sensitivity (`AS` vs `AI`). Mismatched collations in Joins cause errors."
  },
  {
    "id": 60091,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Row_Number vs Rank",
    "content": "Difference between ROW_NUMBER, RANK, and DENSE_RANK.",
    "explanation": "**ROW_NUMBER**: Unique sequential ID (1, 2, 3, 4).\n**RANK**: Skips numbers on ties (1, 2, 2, 4).\n**DENSE_RANK**: No skips on ties (1, 2, 2, 3)."
  },
  {
    "id": 60092,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Dynamic SQL",
    "content": "When to use `sp_executesql`?",
    "explanation": "When the query structure changes at runtime (e.g., dynamic search filters). Always use `sp_executesql` over `EXEC()` because it supports **Parameterization**, improving security (Injection) and performance (Plan Caching)."
  },
  {
    "id": 60093,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "NVARCHAR vs VARCHAR",
    "content": "Why use NVARCHAR?",
    "explanation": "**NVARCHAR** stores Unicode (2 bytes per char). Supports all languages. **VARCHAR** stores ASCII (1 byte). Use NVARCHAR for global apps. Using VARCHAR saves space but risks data corruption for non-Latin characters."
  },
  {
    "id": 60094,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Fill Factor",
    "content": "What is Index Fill Factor?",
    "explanation": "Percentage of space to fill on each leaf-level page. Leaving empty space (e.g., 80%) reduces Page Splits during future inserts but consumes more disk space/RAM. Tune based on read/write ratio."
  },
  {
    "id": 60095,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Lock Escalation",
    "content": "What is Lock Escalation?",
    "explanation": "SQL Server converts many fine-grained locks (Row Locks) into a single coarse-grained lock (Table Lock) to save memory overhead. This improves system efficiency but drastically reduces concurrency (blocks other users)."
  },
  {
    "id": 60096,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Filtered Index",
    "content": "What is a Filtered Index?",
    "explanation": "An index with a `WHERE` clause. E.g., `CREATE INDEX IX_ActiveUsers ON Users(Email) WHERE IsActive = 1`. It is smaller and faster than a full index, optimizing queries that filter by that condition."
  },
  {
    "id": 60097,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Subquery Types",
    "content": "Correlated vs Non-Correlated Subquery.",
    "explanation": "**Non-Correlated**: Independent. Executed once. Result passed to outer query.\n**Correlated**: Depends on outer query values. Executed **once for every row** processed by outer query. Performance killer."
  },
  {
    "id": 60098,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Soft Delete",
    "content": "What is Soft Delete?",
    "explanation": "Marking a row as deleted (`IsDeleted = 1`) instead of physically removing it (`DELETE`). Allows recovery and audit. Requires updating all queries to filter `WHERE IsDeleted = 0`."
  },
  {
    "id": 60099,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Composite Key",
    "content": "What is a Composite Primary Key?",
    "explanation": "A Primary Key made of multiple columns (e.g., `OrderID` + `ProductID`). Useful for many-to-many join tables. Disadvantage: Makes Foreign Keys in other tables complex."
  },
  {
    "id": 60100,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Data Types - Money",
    "content": "Why use `DECIMAL` instead of `FLOAT` for money?",
    "explanation": "**FLOAT** is approximate (IEEE 754). It creates rounding errors (`0.1 + 0.2 != 0.3`). **DECIMAL/MONEY** is fixed-precision. Always use Decimal for financial calculations."
  },
  {
    "id": 60101,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "MVC Architecture",
    "content": "What is the MVC pattern and explain its lifecycle briefly.",
    "explanation": "**MVC** stands for Model-View-Controller. \n1. **Request**: Hits the Routing engine (UrlRoutingModule).\n2. **Routing**: Parses the URL to identify the Controller and Action.\n3. **Controller**: The Controller factory creates the controller instance.\n4. **Action**: The Action method executes logic (talking to Model/DB).\n5. **View**: The Controller selects a View and passes data (Model). The View engine renders HTML to the response."
  },
  {
    "id": 60102,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "MVC vs Web Forms",
    "content": "What are the key advantages of MVC over ASP.NET Web Forms?",
    "explanation": "1. **Separation of Concerns (SoC)**: Clean separation between UI, Logic, and Data.\n2. **Control**: Full control over HTML/CSS/JS (no ViewState bloat).\n3. **Testability**: Controllers are classes that can be unit tested easily; Web Forms are tightly coupled to the HTTP context.\n4. **Lightweight**: No heavy page life-cycle events."
  },
  {
    "id": 60103,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "ViewData vs ViewBag",
    "content": "What is the difference between ViewData and ViewBag?",
    "explanation": "Both pass data from Controller to View.\n**ViewData**: A `Dictionary` of objects (`ViewData[\"Key\"]`). Requires type casting. \n**ViewBag**: A dynamic wrapper around ViewData (`ViewBag.Key`). Does NOT require type casting (resolved at runtime). Both last only for the current request."
  },
  {
    "id": 60104,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "TempData",
    "content": "What is TempData and how does it differ from ViewData?",
    "explanation": "**TempData** is used to pass data from **Controller to Controller** (e.g., during a Redirect). It survives for the current request and the *next* request. It is stored in the Session internally. `ViewData`/`ViewBag` are lost after a redirect."
  },
  {
    "id": 60105,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "TempData Keep vs Peek",
    "content": "What is the difference between `TempData.Keep()` and `TempData.Peek()`?",
    "explanation": "Reading TempData marks it for deletion.\n**Keep()**: Retains the data for the *next* request even after reading it.\n**Peek()**: Reads the data *without* marking it for deletion, so it persists automatically."
  },
  {
    "id": 60106,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Action Filters",
    "content": "What are Action Filters in MVC?",
    "explanation": "Attributes that inject logic before or after an action executes. \nTypes:\n1. **Authorization**: (`[Authorize]`)\n2. **Action**: (`IActionFilter` - before/after method)\n3. **Result**: (`IResultFilter` - before/after view render)\n4. **Exception**: (`[HandleError]`)"
  },
  {
    "id": 60107,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Routing in MVC",
    "content": "How is Routing defined in MVC (Pre-.NET Core)?",
    "explanation": "Defined in `RouteConfig.cs` inside `RegisterRoutes`. The default pattern is `{controller}/{action}/{id}`. It maps a URL (e.g., `/Home/Index/1`) to the `HomeController`, `Index` method, and passes `1` as the `id` parameter."
  },
  {
    "id": 60108,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Attribute Routing",
    "content": "What is Attribute Routing?",
    "explanation": "Defining routes directly on the Controller/Action using attributes (e.g., `[Route(\"users/{id}\")]`). It allows for more precise control over URLs and cleaner configuration compared to the centralized `RouteConfig` table."
  },
  {
    "id": 60109,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Partial View",
    "content": "What is a Partial View?",
    "explanation": "A reusable chunk of HTML (like a User Control) that can be embedded into multiple views. E.g., a Navigation Bar or Footer. It is rendered using `@Html.Partial()` or `@Html.RenderPartial()`."
  },
  {
    "id": 60110,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "RenderBody vs RenderSection",
    "content": "Difference between `@RenderBody` and `@RenderSection`.",
    "explanation": "**RenderBody**: In the Layout page, it indicates where the *main content* of the child view should be injected.\n**RenderSection**: Defines a specific area (like 'Scripts' or 'Sidebar') where child views can inject optional content (`@section Scripts { ... }`)."
  },
  {
    "id": 60111,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Scaffolding",
    "content": "What is Scaffolding in MVC?",
    "explanation": "A code generation framework. It automatically generates CRUD (Create, Read, Update, Delete) Controllers and Views based on your Model class and DB Context, speeding up initial development."
  },
  {
    "id": 60112,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Bundling and Minification",
    "content": "What is Bundling and Minification?",
    "explanation": "**Bundling**: Combining multiple CSS/JS files into a single file to reduce the number of HTTP requests.\n**Minification**: Removing whitespace and comments to reduce file size. Configured in `BundleConfig.cs`."
  },
  {
    "id": 60113,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Output Caching",
    "content": "How do you implement Output Caching in MVC?",
    "explanation": "Using the `[OutputCache]` attribute on a Controller or Action. Parameters like `Duration=60` (seconds) and `VaryByParam=\"id\"` control how long the HTML response is cached and for which variations."
  },
  {
    "id": 60114,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Areas",
    "content": "What are Areas in MVC?",
    "explanation": "A way to partition a large MVC application into smaller functional modules (e.g., `Admin`, `Support`, `Sales`). Each Area has its own folder structure for Models, Views, and Controllers."
  },
  {
    "id": 60115,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Validation in MVC",
    "content": "How does Server-Side Validation work in MVC?",
    "explanation": "Using **Data Annotations** (e.g., `[Required]`, `[StringLength]`) on the Model properties. In the Controller, you check `ModelState.IsValid`. If false, you return the View, and helper tags (`Html.ValidationMessageFor`) display the errors."
  },
  {
    "id": 60116,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Remote Validation",
    "content": "What is Remote Validation?",
    "explanation": "A technique to validate a field (like 'Email already taken') via an AJAX call without submitting the form. You use the `[Remote]` attribute on the model property, pointing to a Controller Action that returns true/false."
  },
  {
    "id": 60117,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "ViewStart",
    "content": "What is the `_ViewStart.cshtml` file?",
    "explanation": "A file executed before the rendering of every view. It is typically used to set the default Layout page (`Layout = \"~/Views/Shared/_Layout.cshtml\"`) so you don't have to repeat it in every file."
  },
  {
    "id": 60118,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Exception Handling",
    "content": "How do you handle exceptions globally in MVC?",
    "explanation": "1. **HandleError Attribute**: `[HandleError]` redirects to an Error view on crash.\n2. **Global.asax**: `Application_Error` event.\n3. **Custom Exception Filter**: Implementing `IExceptionFilter`.\n4. **Web.config**: `<customErrors>` section."
  },
  {
    "id": 60119,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Razor Engine",
    "content": "What is Razor?",
    "explanation": "The View Engine for ASP.NET MVC. It allows mixing HTML and C# code using the `@` symbol. It compiles Views into C# classes at runtime. It is lightweight and cleaner than the old ASPX engine."
  },
  {
    "id": 60120,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Web API vs WCF",
    "content": "Why choose Web API over WCF?",
    "explanation": "**Web API**: Designed for HTTP/REST. Lightweight, JSON-friendly, easy to consume by browsers/mobile. Good for public APIs.\n**WCF**: Protocol-agnostic (TCP, MSMQ, HTTP). Heavy configuration (SOAP/XML). Good for internal enterprise apps requiring transactions or special transports."
  },
  {
    "id": 60121,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "REST Principles",
    "content": "What are the core principles of REST?",
    "explanation": "1. **Stateless**: Server stores no session.\n2. **Client-Server**: Decoupled.\n3. **Cacheable**: Responses marked as cacheable.\n4. **Uniform Interface**: Resource identification (URI), standard verbs (GET/POST).\n5. **Layered System**: Client doesn't know if it's connected to end server or proxy."
  },
  {
    "id": 60122,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "HTTP Verbs",
    "content": "Explain the purpose of GET, POST, PUT, DELETE, PATCH.",
    "explanation": "**GET**: Retrieve data (Safe, Idempotent).\n**POST**: Create resource (Unsafe, Not Idempotent).\n**PUT**: Replace/Update resource completely (Idempotent).\n**DELETE**: Remove resource (Idempotent).\n**PATCH**: Partial update (Not necessarily Idempotent)."
  },
  {
    "id": 60123,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Content Negotiation",
    "content": "What is Content Negotiation in Web API?",
    "explanation": "The mechanism where the client specifies the format they want (via `Accept` header, e.g., `application/json` or `application/xml`). The server selects the appropriate **Formatter** to serialize the response object."
  },
  {
    "id": 60124,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Web API Routing",
    "content": "How does Routing work in Web API?",
    "explanation": "Similar to MVC, but maps to **HTTP Verbs** by default rather than Action names. `MapHttpRoute` configures `{controller}/{id}`. A GET request to `/api/products` looks for a method starting with `Get` inside `ProductsController`."
  },
  {
    "id": 60125,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "IHttpActionResult",
    "content": "What is `IHttpActionResult`?",
    "explanation": "A return type introduced in Web API 2. It simplifies controller logic by returning helper methods like `Ok()`, `NotFound()`, `BadRequest()`. It abstracts the creation of the `HttpResponseMessage`."
  },
  {
    "id": 60126,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "HttpResponseMessage",
    "content": "When would you return `HttpResponseMessage` directly?",
    "explanation": "When you need low-level control over the response, such as setting custom Headers, binary content streams, or specific Status Codes that aren't covered by helper methods."
  },
  {
    "id": 60127,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Web API Filter Types",
    "content": "What filters are available in Web API?",
    "explanation": "1. **Authorization Filter**: Runs first.\n2. **Action Filter**: Before/After action execution.\n3. **Exception Filter**: Handles errors.\n(Note: Result Filters exist in MVC but are less common/different in Web API)."
  },
  {
    "id": 60128,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "FromUri vs FromBody",
    "content": "What is the difference between `[FromUri]` and `[FromBody]`?",
    "explanation": "**[FromUri]**: Forces Web API to read the parameter from the Query String.\n**[FromBody]**: Forces Web API to read the parameter from the Request Body (e.g., JSON). Note: You can typically only have **one** `[FromBody]` parameter per method."
  },
  {
    "id": 60129,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Media Type Formatters",
    "content": "What is a Media Type Formatter?",
    "explanation": "A class responsible for serializing/deserializing data. `JsonMediaTypeFormatter` handles JSON; `XmlMediaTypeFormatter` handles XML. You can create custom formatters (e.g., for CSV or Protobuf)."
  },
  {
    "id": 60130,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "CORS in Web API",
    "content": "How do you handle Cross-Origin Resource Sharing (CORS) in Web API?",
    "explanation": "Browsers block AJAX calls across domains by default. To allow it, you must enable CORS in the Web API config (`config.EnableCors()`) or use the `[EnableCors]` attribute on the controller, specifying allowed origins, headers, and methods."
  },
  {
    "id": 60131,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Token Based Authentication",
    "content": "How does Token Based Authentication work?",
    "explanation": "1. User sends credentials (User/Pass). 2. Server validates and issues a signed Token (e.g., JWT). 3. Client stores token. 4. Client sends token in `Authorization` header for subsequent requests. 5. Server validates token signature. Stateless and scalable."
  },
  {
    "id": 60132,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "OAuth vs JWT",
    "content": "What is the relation between OAuth and JWT?",
    "explanation": "**OAuth** is a protocol/framework for Authorization (delegating access). **JWT** (JSON Web Token) is a token format often used *within* OAuth to represent the Access Token. You use OAuth to *get* a JWT."
  },
  {
    "id": 60133,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Model Binding",
    "content": "What is Model Binding?",
    "explanation": "The process of mapping HTTP request data (Query string, Form data, Route data, Body) to the parameters (objects/variables) of a Controller Action method automatically."
  },
  {
    "id": 60134,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "CSRF in Web API",
    "content": "Does Web API need CSRF protection?",
    "explanation": "If the client uses **Cookies** for authentication, YES. If the client uses **Bearer Tokens** (Headers), NO (because browsers don't automatically attach headers like they do cookies). For Cookie-auth, use Anti-Forgery Tokens."
  },
  {
    "id": 60135,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Hosting Web API",
    "content": "Where can you host a Web API application?",
    "explanation": "1. **IIS**: Standard web server.\n2. **Self-Hosting**: Inside a Windows Service or Console App (using OWIN/Katana or Kestrel in Core).\n3. **Cloud**: Azure App Service, Docker Container."
  },
  {
    "id": 60136,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "OWIN",
    "content": "What is OWIN?",
    "explanation": "**Open Web Interface for .NET**. It defines a standard interface between .NET web servers and web applications, decoupling them. It allows you to run ASP.NET Web API on any server (Self-host), not just IIS."
  },
  {
    "id": 60137,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Dependency Injection in Web API",
    "content": "How do you implement DI in Web API 2?",
    "explanation": "Web API 2 doesn't have built-in DI. You must implement `IDependencyResolver` and plug in a container like Unity, Ninject, or Autofac. (Note: .NET Core has native DI)."
  },
  {
    "id": 60138,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Delegating Handler",
    "content": "What is a Delegating Handler?",
    "explanation": "A message handler in the Web API pipeline (similar to Middleware). It sits before the Controller. It can intercept requests/responses globally for logging, authentication, or modifying headers."
  },
  {
    "id": 60139,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "OData",
    "content": "What is OData?",
    "explanation": "Open Data Protocol. It allows clients to define the query logic via URL (filtering, sorting, paging). e.g., `/products?$filter=price gt 20`. Web API supports OData via the `[EnableQuery]` attribute."
  },
  {
    "id": 60140,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SOAP",
    "content": "What is SOAP?",
    "explanation": "Simple Object Access Protocol. XML-based messaging protocol. Strict standards (WSDL). Supports stateful operations and WS-Security. heavier than REST."
  },
  {
    "id": 60141,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Exception Handling in Web API",
    "content": "How do you handle exceptions globally in Web API?",
    "explanation": "Use an **Exception Filter** (`IExceptionFilter`) or a global **ExceptionHandler** service. This allows you to catch unhandled errors, log them, and return a standardized JSON error response to the client."
  },
  {
    "id": 60142,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Idempotency",
    "content": "Which HTTP methods are Idempotent?",
    "explanation": "**Idempotent** means multiple identical requests have the same effect as a single request. \n**GET, PUT, DELETE, HEAD, OPTIONS** are Idempotent.\n**POST** is NOT Idempotent (multiple calls create multiple resources)."
  },
  {
    "id": 60143,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Safe Methods",
    "content": "Which HTTP methods are Safe?",
    "explanation": "**Safe** methods do not modify resources (Read-only).\n**GET, HEAD, OPTIONS** are Safe.\n**POST, PUT, DELETE** are Unsafe."
  },
  {
    "id": 60144,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Swagger",
    "content": "What is Swagger (OpenAPI)?",
    "explanation": "A tool to document and test RESTful APIs. It generates interactive documentation (UI) from your code/XML comments, allowing developers to see endpoints and try requests."
  },
  {
    "id": 60145,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "401 vs 403",
    "content": "Difference between 401 and 403 status codes?",
    "explanation": "**401 Unauthorized**: User is not logged in (Authentication missing/failed).\n**403 Forbidden**: User is logged in but doesn't have permission to access the resource (Authorization failed)."
  },
  {
    "id": 60146,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "500 vs 503",
    "content": "Difference between 500 and 503 status codes?",
    "explanation": "**500 Internal Server Error**: Bug in the code; something crashed.\n**503 Service Unavailable**: Server is overloaded or down for maintenance. The client can retry later."
  },
  {
    "id": 60147,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "201 Created",
    "content": "When should you return 201 Created?",
    "explanation": "After a successful **POST** request that created a new resource. The response should include a `Location` header pointing to the URI of the newly created resource."
  },
  {
    "id": 60148,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "ApiController Attribute",
    "content": "What does the `[ApiController]` attribute do in .NET Core?",
    "explanation": "1. Enforces Attribute Routing.\n2. Automatic HTTP 400 responses for validation errors.\n3. Automatic binding source inference (`[FromBody]` for complex types).\n4. Detailed error responses."
  },
  {
    "id": 60149,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "HSTS",
    "content": "What is HSTS?",
    "explanation": "**HTTP Strict Transport Security**. A header that tells the browser to **always** use HTTPS for the domain, preventing protocol downgrade attacks (SSL stripping)."
  },
  {
    "id": 60150,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Keep-Alive",
    "content": "What is the HTTP Keep-Alive header?",
    "explanation": "It tells the server to keep the TCP connection open for subsequent requests, reducing the overhead of opening a new connection (handshake) for every file/request."
  },
  {
    "id": 60151,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": ".NET Core Hosting Models",
    "content": "What is the difference between In-Process and Out-of-Process hosting in ASP.NET Core?",
    "explanation": "**In-Process**: The application runs inside the IIS worker process (`w3wp.exe`) using `IISHttpServer`. It offers better performance as there is no network penalty.\n**Out-of-Process**: The application runs in its own process (`dotnet.exe`) using the Kestrel server. IIS acts as a reverse proxy. It offers better isolation (app crash doesn't kill IIS process) but is slower due to proxy forwarding. [cite: 47]"
  },
  {
    "id": 60152,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Kestrel vs IIS",
    "content": "What is Kestrel and how does it differ from IIS?",
    "explanation": "**Kestrel** is a cross-platform, lightweight, event-driven web server used by ASP.NET Core. It is optimized for high throughput. **IIS** is a full-featured Windows web server with advanced management features (process management, authentication). [cite_start]In a typical setup, IIS acts as a reverse proxy handling security/management, forwarding requests to Kestrel which processes the logic. [cite: 47]"
  },
  {
    "id": 60153,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Middleware Pipeline",
    "content": "How do `Run()`, `Use()`, and `Map()` differ in the middleware pipeline?",
    "explanation": "1. **Use()**: Inserts a middleware component that can perform work and call the *next* component in the pipeline.\n2. **Run()**: Inserts a **Terminal Middleware** that does not call `next()`. It ends the pipeline.\n3. [cite_start]**Map()**: Branches the pipeline based on the request path (e.g., `/api` goes one way, `/images` goes another). [cite: 46]"
  },
  {
    "id": 60154,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "ConfigureServices vs Configure",
    "content": "What is the specific role of `ConfigureServices` vs `Configure` in Startup?",
    "explanation": "**ConfigureServices**: Optional method used to register services into the **Dependency Injection (DI)** container (e.g., `AddScoped`, `AddDbContext`).\n**Configure**: Mandatory method used to define the **HTTP Request Pipeline** (Middleware order), specifying how the app responds to requests (e.g., `UseRouting`, `UseEndpoints`). [cite: 46]"
  },
  {
    "id": 60155,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "LaunchSettings vs AppSettings",
    "content": "What is the difference between `appsettings.json` and `launchSettings.json`?",
    "explanation": "**appsettings.json**: Stores application runtime configuration (Connection Strings, Logging settings). Used in both Dev and Prod.\n**launchSettings.json**: Stores configuration for *launching* the app in Visual Studio (Profile name, Environment variables like `ASPNETCORE_ENVIRONMENT`, Ports). [cite_start]It is **never** used in Production. [cite: 47] [cite_start][cite: 48]"
  },
  {
    "id": 60156,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Dependency Injection Lifetimes",
    "content": "Explain the three DI service lifetimes in ASP.NET Core.",
    "explanation": "1. **Transient** (`AddTransient`): A new instance is created **every time** it is requested.\n2. **Scoped** (`AddScoped`): A new instance is created **once per HTTP Request**. It is shared within that single request.\n3. [cite_start]**Singleton** (`AddSingleton`): A single instance is created the **first time** it is requested and shared by all subsequent requests. [cite: 46]"
  },
  {
    "id": 60157,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Middleware vs HTTP Modules",
    "content": "How is Middleware different from legacy HTTP Modules?",
    "explanation": "Middleware is simpler and decoupled from System.Web. While HTTP Modules were event-driven (hooking into specific lifecycle events like `BeginRequest`), Middleware is a linear **Pipeline**. [cite_start]Each component explicitly calls the `next` delegate to pass control, offering more control over execution order. [cite: 46]"
  },
  {
    "id": 60158,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Static Files in Core",
    "content": "How are static files served in ASP.NET Core?",
    "explanation": "Static files (CSS, JS, Images) are not served by default. You must explicitly enable the **Static Files Middleware** by calling `app.UseStaticFiles()` in the `Configure` method. [cite_start]Files must be placed in the `wwwroot` folder (Web Root) to be accessible. [cite: 47]"
  },
  {
    "id": 60159,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Request Delegate",
    "content": "What is a Request Delegate?",
    "explanation": "A function that handles an HTTP request. It is the core building block of Middleware. It can process the request, generate a response, or pass the request to the next delegate in the pipeline. [cite_start]It is typically defined as `Func<HttpContext, Func<Task>, Task>`. [cite: 46]"
  },
  {
    "id": 60160,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Custom Middleware",
    "content": "How do you implement Custom Middleware?",
    "explanation": "1. Create a class with an `Invoke` (or `InvokeAsync`) method accepting `HttpContext`.\n2. Inject `RequestDelegate next` in the constructor.\n3. Perform logic, then call `await _next(context)`.\n4. [cite_start]Register it in `Startup.cs` using `app.UseMiddleware<MyMiddleware>()`. [cite: 46]"
  },
  {
    "id": 60161,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Global Exception Handling",
    "content": "How do you handle exceptions globally in ASP.NET Core?",
    "explanation": "Use the built-in Exception Handler Middleware. In `Startup.cs`, check the environment:\n- **Dev**: `app.UseDeveloperExceptionPage()` (shows stack trace).\n- **Prod**: `app.UseExceptionHandler(\"/Error\")` (shows generic error page). [cite_start]This middleware catches exceptions from later pipeline stages. [cite: 47]"
  },
  {
    "id": 60162,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "CORS handling",
    "content": "What is CORS and how do you enable it in .NET Core?",
    "explanation": "CORS (Cross-Origin Resource Sharing) is a browser security feature restricting web pages from making requests to a different domain. [cite_start]To enable it, register the CORS service (`AddCors`) and use the middleware `app.UseCors(policy => policy.AllowAnyOrigin()...)` in the pipeline. [cite: 48]"
  },
  {
    "id": 60163,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Metapackage",
    "content": "What is the `Microsoft.AspNetCore.App` metapackage?",
    "explanation": "It is a consolidated package that includes all the supported ASP.NET Core libraries (MVC, Entity Framework Core, Identity, etc.). [cite_start]It ensures version compatibility across all core components and reduces the `csproj` file size. [cite: 48]"
  },
  {
    "id": 60164,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Entity Framework Core",
    "content": "What is Entity Framework Core?",
    "explanation": "A lightweight, extensible, and cross-platform version of Entity Framework. [cite_start]It serves as an **ORM** (Object-Relational Mapper), allowing developers to work with a database using .NET objects, eliminating most data-access code. [cite: 43]"
  },
  {
    "id": 60165,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "DbContext vs DbSet",
    "content": "What is the difference between DbContext and DbSet?",
    "explanation": "**DbContext**: Represents a session with the database. It manages connections, transactions, and caching (Unit of Work).\n**DbSet**: Represents a specific table (Entity Set) in the database. [cite_start]You perform CRUD operations on the `DbSet` (e.g., `Students.Add(student)`). [cite: 44]"
  },
  {
    "id": 60166,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Code First vs Database First",
    "content": "Explain the Code First vs Database First approaches.",
    "explanation": "**Code First**: You define C# classes (Entities) first, and EF generates the database schema from them (Migrations).\n**Database First**: You have an existing database, and EF generates the C# context and entities from the schema (Scaffolding). [cite: 44]"
  },
  {
    "id": 60167,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "EF Core vs LINQ to SQL",
    "content": "How does EF Core differ from LINQ to SQL?",
    "explanation": "**LINQ to SQL**: Only supports SQL Server. Maps 1:1 with tables. Lightweight but obsolete.\n**EF Core**: Supports multiple providers (SQL Server, Oracle, MySQL, SQLite). Supports complex mapping (inheritance, many-to-many). [cite_start]It is the modern standard for .NET data access. [cite: 44]"
  },
  {
    "id": 60168,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Lazy Loading",
    "content": "What is Lazy Loading in EF and what is the risk?",
    "explanation": "Lazy Loading delays the loading of related data (e.g., `User.Address`) until the property is accessed. **Risk**: The **N+1 Problem**. [cite_start]If you loop through 100 users and access address, you trigger 100 extra database queries, killing performance. [cite: 43]"
  },
  {
    "id": 60169,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Web API Content Negotiation",
    "content": "What is Content Negotiation?",
    "explanation": "The process where the client specifies the preferred response format (JSON, XML) via the `Accept` header. [cite_start]The Web API framework selects the appropriate **Media Type Formatter** to serialize the data into that format. [cite: 46] [cite_start][cite: 47]"
  },
  {
    "id": 60170,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "IHttpActionResult",
    "content": "What is the benefit of `IHttpActionResult` in Web API?",
    "explanation": "It provides a cleaner, testable way to return responses. Instead of manually constructing an `HttpResponseMessage`, you use helper methods like `Ok()`, `NotFound()`, `BadRequest()`. [cite_start]It abstracts the HTTP details from the controller logic. [cite: 46]"
  },
  {
    "id": 60171,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "HTTP Verbs",
    "content": "When should you use PUT vs POST?",
    "explanation": "**POST**: Used to **Create** a new resource (usually server-generated ID). It is **Not Idempotent** (calling twice creates two objects).\n**PUT**: Used to **Update/Replace** a resource at a specific URI. [cite_start]It is **Idempotent** (calling twice has the same effect as calling once). [cite: 44]"
  },
  {
    "id": 60172,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Web API Routing",
    "content": "How does Web API Routing differ from MVC Routing?",
    "explanation": "MVC routes typically map to **Action Names** (`/Home/Index`). Web API routes typically map to **HTTP Verbs** (`GET /api/products`, `POST /api/products`). [cite_start]The action is selected based on the method (GET/POST/PUT) rather than the URL method name. [cite: 45]"
  },
  {
    "id": 60173,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Attribute Routing",
    "content": "What is Attribute Routing and when is it useful?",
    "explanation": "Defining routes directly on the Controller/Action using attributes (e.g., `[Route(\"customers/{id}/orders\")]`). [cite_start]It is useful for RESTful APIs with nested hierarchies or versioning, offering more control than the centralized Route Table. [cite: 47]"
  },
  {
    "id": 60174,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Action Filters Types",
    "content": "What are the main types of Filters in Web API?",
    "explanation": "1. **Authentication Filters**: Identify the user.\n2. **Authorization Filters**: Check permissions.\n3. **Action Filters**: Logic before/after action execution.\n4. **Exception Filters**: Handle errors globally.\n5. [cite_start]**Result Filters**: Logic before/after result execution. [cite: 42]"
  },
  {
    "id": 60175,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Authentication vs Authorization",
    "content": "What is the difference between Authentication and Authorization?",
    "explanation": "**Authentication (AuthN)**: Verifying **Who** the user is (Login, validating credentials).\n**Authorization (AuthZ)**: Verifying **What** the user can do (Access rights, Roles, Permissions). [cite_start]Authentication always happens before Authorization. [cite: 40]"
  },
  {
    "id": 60176,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "JWT Token",
    "content": "What is a JWT and what are its parts?",
    "explanation": "JSON Web Token (JWT) is a compact, URL-safe token used for stateless authentication. It consists of three parts separated by dots:\n1. **Header** (Algorithm & Type).\n2. **Payload** (Claims/Data).\n3. [cite_start]**Signature** (Validation). [cite: 45] [cite_start][cite: 46]"
  },
  {
    "id": 60177,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Rest vs SOAP",
    "content": "Why is REST preferred over SOAP for modern web services?",
    "explanation": "**REST**: Lightweight (JSON), uses standard HTTP verbs, stateless, easier to parse for mobile/web clients.\n**SOAP**: Heavyweight (XML), complex envelope structure, strict contract (WSDL). [cite_start]REST is generally faster and more flexible for internet-scale apps. [cite: 44]"
  },
  {
    "id": 60178,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Http status codes",
    "content": "Explain the categories of HTTP Status Codes.",
    "explanation": "**1xx**: Informational.\n**2xx**: Success (200 OK, 201 Created).\n**3xx**: Redirection (301 Permanent, 302 Temporary).\n**4xx**: Client Error (400 Bad Request, 401 Unauthorized, 404 Not Found).\n**5xx**: Server Error (500 Internal Error, 503 Unavailable). [cite: 47]"
  },
  {
    "id": 60179,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Web API Testing Tools",
    "content": "What tools are commonly used to test Web APIs?",
    "explanation": "1. **Postman**: For manual testing and automation.\n2. **Swagger (OpenAPI)**: For interactive documentation and testing.\n3. **Fiddler**: For inspecting network traffic.\n4. [cite_start]**HttpClient**: For integration testing in C#. [cite: 46]"
  },
  {
    "id": 60180,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "OData",
    "content": "What is OData?",
    "explanation": "Open Data Protocol. It allows creating queryable REST APIs. [cite_start]Clients can filter, sort, and page data using URL parameters (e.g., `$filter=Price gt 20`) without the server explicitly writing methods for every combination. [cite: 42]"
  },
  {
    "id": 60181,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SOLID Principles",
    "content": "What does SOLID stand for?",
    "explanation": "1. **S**ingle Responsibility Principle.\n2. **O**pen/Closed Principle.\n3. **L**iskov Substitution Principle.\n4. **I**nterface Segregation Principle.\n5. [cite_start]**D**ependency Inversion Principle. [cite: 42]"
  },
  {
    "id": 60182,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Single Responsibility Principle",
    "content": "Explain SRP with an example.",
    "explanation": "A class should have only **one reason to change**. Example: An `Invoice` class should handle invoice data. It should **not** handle `SendEmail()` or `LogToDb()`. [cite_start]Those responsibilities belong to separate classes (`EmailService`, `Logger`). [cite: 43]"
  },
  {
    "id": 60183,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Open/Closed Principle",
    "content": "Explain OCP.",
    "explanation": "Software entities should be **Open for Extension** but **Closed for Modification**. [cite_start]Example: Instead of modifying a `CalculateInterest` method with `if/else` for new account types, create an interface `IAccount` and extend it with new classes (`SavingsAccount`, `CurrentAccount`). [cite: 43]"
  },
  {
    "id": 60184,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Dependency Inversion Principle",
    "content": "What is DIP?",
    "explanation": "High-level modules should not depend on low-level modules. Both should depend on **Abstractions**. [cite_start]Example: A `CustomerService` should not depend on `SqlCustomerRepository` (Concrete), but on `ICustomerRepository` (Abstraction). [cite: 45]"
  },
  {
    "id": 60185,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Design Patterns Types",
    "content": "What are the three categories of Design Patterns?",
    "explanation": "1. **Creational**: Object creation mechanisms (Singleton, Factory, Builder).\n2. **Structural**: Class/Object composition (Adapter, Facade, Decorator).\n3. [cite_start]**Behavioral**: Communication between objects (Observer, Strategy, Command). [cite: 43]"
  },
  {
    "id": 60186,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Singleton Pattern",
    "content": "What is the Singleton Pattern and how to make it thread-safe?",
    "explanation": "Ensures a class has only **one instance** and provides a global access point. [cite_start]To make it thread-safe, use a `lock` object or `Lazy<T>` initialization to prevent multiple threads from creating separate instances during startup. [cite: 44] [cite_start][cite: 45]"
  },
  {
    "id": 60187,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Factory Pattern",
    "content": "Why use the Factory Pattern?",
    "explanation": "It creates objects without exposing the instantiation logic to the client. It decouples the client from specific classes (e.g., return `IVehicle` instead of `Car` or `Bike`). [cite_start]Good for managing complex object creation rules. [cite: 45]"
  },
  {
    "id": 60188,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Facade Pattern",
    "content": "What is the Facade Pattern?",
    "explanation": "It provides a simplified interface to a complex subsystem. [cite_start]Instead of calling 10 different library methods to perform a task, the client calls one method on the Facade, which orchestrates the complexity internally. [cite: 339]"
  },
  {
    "id": 60189,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Observer Pattern",
    "content": "What is the Observer Pattern?",
    "explanation": "A subscription mechanism where an object (Subject) maintains a list of dependents (Observers) and notifies them automatically of any state changes. [cite_start]Used in Event Handling and UI updates. [cite: 339]"
  },
  {
    "id": 60190,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Decorator Pattern",
    "content": "What is the Decorator Pattern?",
    "explanation": "Allows adding new functionality to an existing object dynamically without altering its structure. Example: Wrapping a `Stream` with `CryptoStream` or `GZipStream`. [cite_start]Each wrapper adds behavior while keeping the same interface. [cite: 338]"
  },
  {
    "id": 60191,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Caching Types",
    "content": "Difference between In-Memory and Distributed Caching.",
    "explanation": "**In-Memory**: Stored in the web server's RAM. Fast, but data is lost on restart and not shared across multiple servers (Web Farm).\n**Distributed**: Stored in an external service (Redis, SQL). [cite_start]Slower, but persistent and shared across all servers in the cluster. [cite: 48]"
  },
  {
    "id": 60192,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Clustered vs Non-Clustered",
    "content": "Difference between Clustered and Non-Clustered Indexes.",
    "explanation": "**Clustered**: Physically sorts the data on disk. Only one per table (usually PK). Leaf nodes contain actual data.\n**Non-Clustered**: Stored separately. Contains keys and pointers to the data. [cite_start]Multiple per table allowed. [cite: 36]"
  },
  {
    "id": 60193,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Triggers",
    "content": "What are SQL Triggers?",
    "explanation": "Stored procedures that automatically execute in response to events (INSERT, UPDATE, DELETE). Used for auditing, validation, or enforcing referential integrity. [cite_start]Can be `AFTER` or `INSTEAD OF`. [cite: 33]"
  },
  {
    "id": 60194,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Stored Procedures Benefits",
    "content": "Benefits of Stored Procedures.",
    "explanation": "1. **Performance**: Pre-compiled execution plans.\n2. **Security**: Prevents SQL Injection (parameterization) and hides table structure.\n3. [cite_start]**Maintenance**: Logic resides in DB, can be updated without redeploying app. [cite: 36]"
  },
  {
    "id": 60195,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Inner vs Outer Join",
    "content": "Difference between Inner and Outer Join.",
    "explanation": "**Inner Join**: Returns rows only when there is a match in *both* tables.\n**Outer Join (Left/Right/Full)**: Returns all rows from one (or both) tables, even if there is no match in the other (filling with NULLs). [cite: 35]"
  },
  {
    "id": 60196,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Union vs Union All",
    "content": "Difference between UNION and UNION ALL.",
    "explanation": "**UNION**: Combines result sets and **removes duplicates** (performs distinct sort).\n**UNION ALL**: Combines result sets **including duplicates**. [cite_start]It is faster because it skips the sorting step. [cite: 38]"
  },
  {
    "id": 60197,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Delete vs Truncate",
    "content": "Difference between DELETE and TRUNCATE.",
    "explanation": "**DELETE**: DML command. Deletes row-by-row, logs each deletion, fires triggers. Slower.\n**TRUNCATE**: DDL command. Deallocates data pages. [cite_start]Faster, resets identity, cannot be rolled back (in some contexts), and does not fire triggers. [cite: 37]"
  },
  {
    "id": 60198,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Normalization",
    "content": "What is Normalization?",
    "explanation": "The process of organizing data to reduce redundancy and improve integrity.\n1NF: Atomic values.\n2NF: No partial dependencies.\n3NF: No transitive dependencies. [cite: 32]"
  },
  {
    "id": 60199,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - ACID Properties",
    "content": "What are ACID properties?",
    "explanation": "**Atomicity**: All or nothing.\n**Consistency**: DB remains in valid state.\n**Isolation**: Transactions don't interfere.\n**Durability**: Committed data is saved permanently. [cite: 37]"
  },
  {
    "id": 60200,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SQL - Having vs Where",
    "content": "Difference between HAVING and WHERE.",
    "explanation": "**WHERE**: Filters rows *before* aggregation (Grouping). Cannot use aggregate functions.\n**HAVING**: Filters groups *after* aggregation. [cite_start]Can use `COUNT`, `SUM` (e.g., `HAVING COUNT(*) > 5`). [cite: 33]"
  },
  {
    "id": 60201,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "SOLID Principles Overview",
    "content": "What are the SOLID principles?",
    "explanation": "SOLID is an acronym for 5 design principles intended to make software designs more understandable, flexible, and maintainable:\n1. **S**ingle Responsibility Principle\n2. **O**pen/Closed Principle\n3. **L**iskov Substitution Principle\n4. **I**nterface Segregation Principle\n5. **D**ependency Inversion Principle"
  },
  {
    "id": 60202,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Single Responsibility Principle (SRP)",
    "content": "Explain the Single Responsibility Principle.",
    "explanation": "A class should have only **one reason to change**. It implies that a class should have only one job or responsibility. For example, an `Invoice` class should handle invoice calculations, but not emailing the invoice (which belongs in a `NotificationService`) or saving it (which belongs in a `Repository`)."
  },
  {
    "id": 60203,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Open/Closed Principle",
    "content": "What is the Open/Closed Principle?",
    "explanation": "Software entities (classes, modules, functions) should be **Open for Extension** but **Closed for Modification**. This means you should be able to add new functionality (e.g., a new Tax Calculation strategy) by adding a new class/code, rather than changing existing, tested code."
  },
  {
    "id": 60204,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Liskov Substitution Principle",
    "content": "Explain the Liskov Substitution Principle (LSP).",
    "explanation": "Objects of a superclass should be replaceable with objects of its subclasses without breaking the application. If a `Bird` class has a `Fly()` method, and `Ostrich` inherits from `Bird` but throws an exception in `Fly()`, it violates LSP. The inheritance hierarchy is wrong."
  },
  {
    "id": 60205,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Interface Segregation Principle",
    "content": "What is the Interface Segregation Principle?",
    "explanation": "Clients should not be forced to depend on interfaces they do not use. It is better to have many small, specific interfaces (`IReadable`, `IWritable`) than one general-purpose interface (`IFile`). This prevents implementing classes from having dummy methods."
  },
  {
    "id": 60206,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Dependency Inversion Principle",
    "content": "What is the Dependency Inversion Principle?",
    "explanation": "High-level modules should not depend on low-level modules. Both should depend on **Abstractions** (Interfaces). For example, `CustomerService` should not depend on `SqlCustomerRepository` (Concrete), but on `ICustomerRepository` (Abstraction)."
  },
  {
    "id": 60207,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "DRY Principle",
    "content": "What is the DRY Principle?",
    "explanation": "**Don't Repeat Yourself**. Every piece of knowledge/logic must have a single, unambiguous representation within a system. Duplicating code leads to maintenance nightmares where a bug fixed in one place remains in another."
  },
  {
    "id": 60208,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Design Patterns vs Algorithms",
    "content": "What is the difference between a Design Pattern and an Algorithm?",
    "explanation": "An **Algorithm** is a specific set of steps to solve a computational problem (e.g., Sorting a list). A **Design Pattern** is a high-level architectural solution or template for common software design problems (e.g., How to instantiate objects loosely coupled)."
  },
  {
    "id": 60209,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Singleton Pattern",
    "content": "What is the Singleton Pattern and when should you use it?",
    "explanation": "Ensures a class has only **one instance** and provides a global point of access to it. Use it for shared resources like Logging services, Configuration managers, or Database connection pools where multiple instances would be incorrect or wasteful."
  },
  {
    "id": 60210,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Thread-Safe Singleton",
    "content": "How do you implement a Thread-Safe Singleton?",
    "explanation": "Use a `lock` object to prevent race conditions during initialization, or better yet, use the .NET `Lazy<T>` type which guarantees thread-safe, lazy initialization automatically."
  },
  {
    "id": 60211,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Factory Pattern",
    "content": "What problem does the Factory Pattern solve?",
    "explanation": "It solves the problem of creating objects without specifying the exact class of object that will be created. It delegates the instantiation logic to a separate Factory class or method, promoting loose coupling."
  },
  {
    "id": 60212,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Abstract Factory Pattern",
    "content": "How does Abstract Factory differ from Factory Method?",
    "explanation": "**Factory Method** creates one product (e.g., `CreateButton()`). **Abstract Factory** creates families of related products (e.g., `CreateUITheme()` which creates Buttons, TextBoxes, and Windows that all match). It is a factory of factories."
  },
  {
    "id": 60213,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Builder Pattern",
    "content": "When is the Builder Pattern useful?",
    "explanation": "When constructing a complex object with many parts or configuration options (e.g., `new CarBuilder().SetEngine().AddSunroof().Build()`). It separates the construction of a complex object from its representation."
  },
  {
    "id": 60214,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Prototype Pattern",
    "content": "What is the Prototype Pattern?",
    "explanation": "It creates new objects by **cloning** an existing object (prototype) rather than creating new instances from scratch. Useful when object creation is expensive (e.g., database calls) but copying memory is cheap."
  },
  {
    "id": 60215,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Adapter Pattern",
    "content": "What is the Adapter Pattern?",
    "explanation": "It acts as a bridge between two incompatible interfaces. It wraps an existing class with a new interface so that it can be used by a client expecting a different interface (e.g., `XMLToJsonAdapter`)."
  },
  {
    "id": 60216,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Facade Pattern",
    "content": "What is the purpose of the Facade Pattern?",
    "explanation": "To provide a simplified interface to a complex subsystem. Instead of making the client call 10 different internal library methods, the Facade provides one method `StartSystem()` that handles the complexity internally."
  },
  {
    "id": 60217,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Decorator Pattern",
    "content": "How does the Decorator Pattern work?",
    "explanation": "It attaches additional responsibilities to an object dynamically. Decorators provide a flexible alternative to subclassing for extending functionality (e.g., wrapping a `Stream` with `GZipStream` or `CryptoStream`)."
  },
  {
    "id": 60218,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Observer Pattern",
    "content": "What is the Observer Pattern?",
    "explanation": "A subscription model where an object (Subject) maintains a list of its dependents (Observers) and notifies them automatically of any state changes. This is the basis for C# **Events** and the `INotifyPropertyChanged` interface."
  },
  {
    "id": 60219,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Strategy Pattern",
    "content": "When should you use the Strategy Pattern?",
    "explanation": "When you have multiple algorithms for a specific task and want to switch between them at runtime. Example: A `PaymentProcessor` can use a `CreditCardStrategy` or `PayPalStrategy` interchangeably without changing the core code."
  },
  {
    "id": 60220,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Command Pattern",
    "content": "What is the Command Pattern?",
    "explanation": "It encapsulates a request as an object (`ICommand`). This allows you to parameterize clients with different requests, queue or log requests, and support **Undo/Redo** operations."
  },
  {
    "id": 60221,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Proxy Pattern",
    "content": "What is the Proxy Pattern?",
    "explanation": "A placeholder for another object to control access to it. Types include **Remote Proxy** (accessing object on another server), **Virtual Proxy** (Lazy Loading large objects), and **Protection Proxy** (Access control)."
  },
  {
    "id": 60222,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Entity Framework ORM",
    "content": "What is an ORM (Object-Relational Mapper)?",
    "explanation": "A tool that maps incompatible type systems (Object-Oriented C# vs Relational SQL). It allows developers to query and manipulate data from a database using object-oriented code (LINQ) instead of raw SQL."
  },
  {
    "id": 60223,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "DbContext",
    "content": "What is the role of DbContext in Entity Framework?",
    "explanation": "It represents a session with the database and acts as a **Unit of Work**. It manages entity objects during runtime, tracks changes, and persists data to the database via `SaveChanges()`."
  },
  {
    "id": 60224,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "DbSet",
    "content": "What is a DbSet?",
    "explanation": "It represents a collection of entities of a specific type (e.g., `DbSet<Student>`) in the context. It roughly corresponds to a **Table** in the database. You perform CRUD operations against the DbSet."
  },
  {
    "id": 60225,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Change Tracking",
    "content": "How does EF Core Change Tracking work?",
    "explanation": "When you retrieve entities, the DbContext takes a snapshot. When `SaveChanges()` is called, it compares the current entity state against the snapshot to detect changes and generates the appropriate INSERT/UPDATE/DELETE SQL."
  },
  {
    "id": 60226,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "LINQ to Entities vs LINQ to Objects",
    "content": "What is the difference between LINQ to Entities and LINQ to Objects?",
    "explanation": "**LINQ to Entities**: Converts C# Expression Trees into **SQL** executed on the database server.\n**LINQ to Objects**: Executes delegates directly on in-memory collections (IEnumerable). Using the wrong one can lead to massive performance issues (Client Evaluation)."
  },
  {
    "id": 60227,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "AsNoTracking",
    "content": "Why use AsNoTracking()?",
    "explanation": "It tells EF Core **not** to track changes for the returned entities. This improves performance (less memory, less CPU) and is ideal for **Read-Only** scenarios where you don't intend to update the data."
  },
  {
    "id": 60228,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Eager vs Lazy Loading",
    "content": "Explain Eager Loading vs Lazy Loading.",
    "explanation": "**Eager Loading**: Loading related data in the initial query using `.Include()` (e.g., JOINs).\n**Lazy Loading**: Loading related data on-the-fly when the navigation property is accessed. Can lead to the **N+1 Problem** if not careful."
  },
  {
    "id": 60229,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Code First Migrations",
    "content": "What are Migrations in EF Core?",
    "explanation": "A way to keep the database schema in sync with the C# model classes. You create a migration (snapshot of changes), and apply it to the DB. It allows evolving the DB schema alongside the code."
  },
  {
    "id": 60230,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Repository Pattern with EF",
    "content": "Should you implement the Repository Pattern on top of Entity Framework?",
    "explanation": "**Debatable.** EF Core's `DbContext` implements Unit of Work and `DbSet` implements Repository. Adding another layer is often redundant unless you need strict decoupling for unit testing or swapping ORMs."
  },
  {
    "id": 60231,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Circular Reference",
    "content": "What is a Circular Reference and how does it affect serialization?",
    "explanation": "When Object A references Object B, and Object B references Object A. Serializers (like JSON.NET) will enter an infinite loop and crash. Fix: Use `ReferenceLoopHandling.Ignore` or Data Transfer Objects (DTOs) that break the cycle."
  },
  {
    "id": 60232,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Garbage Collection Roots",
    "content": "What are GC Roots?",
    "explanation": "Objects that are always considered 'alive' (reachable) by the Garbage Collector. Examples: **Static variables**, **Local variables** on the active stack, **CPU registers**. Any object not reachable from a GC Root is garbage."
  },
  {
    "id": 60233,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Large Object Heap (LOH)",
    "content": "What is the LOH and why is it special?",
    "explanation": "A heap segment for objects larger than **85,000 bytes**. The GC does **not** compact the LOH by default (too expensive to move large memory), leading to heap fragmentation. Only Full GCs (Gen 2) collect the LOH."
  },
  {
    "id": 60234,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Memory Leaks in Managed Code",
    "content": "Can you have memory leaks in C#?",
    "explanation": "Yes. Even with a GC, if you hold a reference to an object (e.g., via a **Static Event** or a singleton list), the GC cannot collect it. This is a managed memory leak."
  },
  {
    "id": 60235,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Deadlock",
    "content": "What is a Deadlock?",
    "explanation": "A situation where two threads are each waiting for the other to release a resource (e.g., Thread A holds Lock 1 wants Lock 2; Thread B holds Lock 2 wants Lock 1). Neither can proceed. Fix: Acquire locks in a consistent order."
  },
  {
    "id": 60236,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Race Condition",
    "content": "What is a Race Condition?",
    "explanation": "When the output of a program depends on the sequence or timing of uncontrollable events (threads). Example: Two threads incrementing `i++` at the same time might result in `i` increasing by only 1 instead of 2."
  },
  {
    "id": 60237,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Task.Run vs Thread.Start",
    "content": "Why use `Task.Run` instead of `new Thread().Start()`?",
    "explanation": "**Threads** are expensive OS resources (~1MB stack). **Tasks** run on the **ThreadPool**, which reuses a small number of threads for many tasks. Tasks are lighter, faster to start, and scale better."
  },
  {
    "id": 60238,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Async/Await Best Practices",
    "content": "Why should you avoid `async void`?",
    "explanation": "`async void` methods cannot be awaited and exceptions thrown inside them **crash the process**. Use `async Task` everywhere, except for top-level Event Handlers (like button clicks) where `void` is required signature."
  },
  {
    "id": 60239,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "HttpContext in Async",
    "content": "Why is `HttpContext.Current` dangerous in async code?",
    "explanation": "In older ASP.NET, `HttpContext.Current` was thread-bound. Async methods switch threads, so `Current` could become null. In .NET Core, use `IHttpContextAccessor` (dependency injection) which handles async context flow correctly."
  },
  {
    "id": 60240,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Middleware Execution Order",
    "content": "Why does the order of Middleware matter?",
    "explanation": "Middleware executes as a pipeline. Component A calls Component B. If **Authentication** comes *after* **Static Files**, then static files are public. If **Exception Handling** is not first, it cannot catch errors from subsequent middleware."
  },
  {
    "id": 60241,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Kestrel Server",
    "content": "What is Kestrel?",
    "explanation": "The cross-platform, high-performance web server included in ASP.NET Core. It is event-driven and optimized for throughput. It can run standalone or behind a reverse proxy like IIS/Nginx."
  },
  {
    "id": 60242,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Reverse Proxy",
    "content": "Why put Nginx/IIS in front of Kestrel?",
    "explanation": "Kestrel is great at raw application performance but lacks advanced features like process management, port sharing, or specialized security hardening. A reverse proxy handles the public-facing concerns while Kestrel handles the app logic."
  },
  {
    "id": 60243,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "appsettings.json Hierarchy",
    "content": "How does configuration hierarchy work in .NET Core?",
    "explanation": "Settings are loaded in order: `appsettings.json` -> `appsettings.{Environment}.json` -> **Environment Variables** -> **Command Line Args**. Each step overrides the previous one. This allows specific configs for Dev/Prod."
  },
  {
    "id": 60244,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Options Pattern",
    "content": "What is the Options Pattern?",
    "explanation": "A way to bind a configuration section (e.g., `\"EmailSettings\"`) to a strongly-typed C# class (`EmailOptions`). It supports validation, reloading, and dependency injection (`IOptions<T>`), removing magic strings from code."
  },
  {
    "id": 60245,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Logging Abstractions",
    "content": "Why use `ILogger` instead of `Console.WriteLine`?",
    "explanation": "`ILogger` is an abstraction. It allows you to plug in different providers (Console, File, Application Insights, Splunk) without changing your code. It also supports **Structured Logging** (logging objects, not just text)."
  },
  {
    "id": 60246,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Environment Tag Helper",
    "content": "What is the `<environment>` tag helper in Razor used for?",
    "explanation": "It conditionally renders content based on the hosting environment. Example: `<environment include=\"Development\">` renders debug scripts only in Dev, while `<environment include=\"Production\">` renders minified CDN links in Prod."
  },
  {
    "id": 60247,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Model Binding vs Model Validation",
    "content": "Difference between Model Binding and Model Validation?",
    "explanation": "**Binding**: Mapping HTTP request data (form, query string) to C# objects.\n**Validation**: Checking if those objects satisfy business rules (e.g., `[Required]`, `[EmailAddress]`). Binding happens first; Validation happens second."
  },
  {
    "id": 60248,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Area in MVC",
    "content": "What is an Area in ASP.NET MVC?",
    "explanation": "A feature to partition a large application into smaller functional groupings (e.g., Admin, Checkout, Blog). Each Area has its own folder structure for Models, Views, and Controllers, helping organize massive projects."
  },
  {
    "id": 60249,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Action Result Types",
    "content": "Name common Action Results in MVC.",
    "explanation": "1. `ViewResult`: Renders HTML.\n2. `JsonResult`: Returns JSON data.\n3. `ContentResult`: Returns raw text.\n4. `FileResult`: Returns binary file.\n5. `RedirectResult`: Redirects to another URL."
  },
  {
    "id": 60250,
    "category": "User Added Questions",
    "difficulty": "Senior",
    "title": "Razor View Engine",
    "content": "What is the file extension for Razor views and what symbol starts code blocks?",
    "explanation": "Extension: **.cshtml** (for C#) or **.vbhtml** (for VB).\nSymbol: **@**. Example: `@Model.Name` or `@{ var x = 1; }`. It allows seamless mixing of HTML and server-side logic."
  }
];

